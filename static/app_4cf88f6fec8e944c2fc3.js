webpackJsonp([1],{1080:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){if(null===E)if("undefined"!=typeof window&&window.document&&window.document.createElement){var e=document.createElement("div");e.classList.add("table-view-scrollbar-size-helper-div"),e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),E=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else E=0;return E}var d,c;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,a,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0};t.overscanIndicesGetter=function(e){var t=e.cellCount,a=e.overscanCellsCount,n=(e.scrollDirection,e.startIndex),r=e.stopIndex;return{overscanStartIndex:Math.max(0,n-a),overscanStopIndex:Math.min(t-1,r+a)}};var h=a(0),g=n(h),b=n(a(1)),v=a(91),y=n(a(3)),E=null,w=function(e){function t(e,a){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n._onScrollbarPresenceChange=function(e){var t=e.horizontal,a=e.size,r=e.vertical,o=n.state,i=o.showHorizontalScrollbar,l=o.showVerticalScrollbar;if("footer"!==n.props.selfwareGrid&&(t!==i||r!==l)){n.setState({scrollbarSize:a,_actualShowHorizontalScrollbar:t,_actualShowVerticalScrollbar:r,showHorizontalScrollbar:t&&r,showVerticalScrollbar:t&&r});var s=n.props.onScrollbarPresenceChange;"function"==typeof s&&s({horizontal:t,size:a,vertical:r})}},n._bottomRightOnScroll=n._bottomRightOnScroll.bind(n),n.original_onScroll=n._onScroll,"footer"===e.selfwareGrid&&(n.state.scrollbarSize=u(),n.state.showHorizontalScrollbar=e._showHorizontalScrollbar,n.state.showVerticalScrollbar=e._showVerticalScrollbar),n}return s(t,v.MultiGrid),p(t,[{key:"_bottomRightOnScroll",value:function(e){var t=this.props,a=t.fixedRowCount,n=t.rowCount;0!==Math.max(0,n-a)&&this.original_onScroll(e)}},{key:"_renderBottomRightGrid",value:function(e){this._onScroll=this._bottomRightOnScroll;var a=m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_renderBottomRightGrid",this).call(this,e);return this._onScroll=this.original_onScroll,a}},{key:"componentWillReceiveProps",value:function(e,a){"footer"===this.props.selfwareGrid&&(this.props._showHorizontalScrollbar===e._showHorizontalScrollbar&&this.props._showVerticalScrollbar===e._showVerticalScrollbar||this.setState({scrollbarSize:u(),showHorizontalScrollbar:e._showHorizontalScrollbar,showVerticalScrollbar:e._showVerticalScrollbar})),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e,a)}},{key:"render",value:function(){var e=this.props,t=e.onScroll,a=e.onSectionRendered,n=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),r=(e.scrollTop,e.scrollToRow),i=o(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var l=this.state,s=l.scrollLeft,d=l.scrollTop;if("footer"===this.props.selfwareGrid){var c=f({},this._containerTopStyle,{height:this._containerTopStyle.height+(this.props._actualShowHorizontalScrollbar?u():0)});return g.default.createElement("div",{style:c},this._renderTopLeftGrid(i),this._renderTopRightGrid(f({},i,{onScroll:t,scrollLeft:s})))}return g.default.createElement("div",{style:this._containerOuterStyle,className:(0,y.default)(this.state.showHorizontalScrollbar&&"table-view-multigrid-show-horizontal-scrollbar",this.state.showVerticalScrollbar&&"table-view-multigrid-show-vertical-scrollbar")},g.default.createElement("div",{className:"table-view-scroll-smoother"}),g.default.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(i),this._renderTopRightGrid(f({},i,{onScroll:t,scrollLeft:s}))),g.default.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(f({},i,{onScroll:t,scrollTop:d})),this._renderBottomRightGrid(f({},i,{onScroll:t,onSectionRendered:a,scrollLeft:s,scrollToColumn:n,scrollToRow:r,scrollTop:d}))),this.props.footer&&this.props.footer(this.state._actualShowHorizontalScrollbar,this.state._actualShowVerticalScrollbar,this.state.showHorizontalScrollbar,this.state.showVerticalScrollbar))}}]),t}(),C=(c=d=function(e){function t(e,a){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n._footerGridHeight=null,n._mainGridRef=n._mainGridRef.bind(n),n._footerGridRef=n._footerGridRef.bind(n),n._originalMainGridRowHeight=n.mainGridRowHeight,n.mainGridRowHeight=n._originalMainGridRowHeight.bind(n),n._originalFooterGridRowHeight=n.footerGridRowHeight,n.footerGridRowHeight=n._originalFooterGridRowHeight.bind(n),n}return s(t,h.Component),p(t,[{key:"componentWillReceiveProps",value:function(e,t){this.props.footerRowCount===e.footerRowCount&&this.props.footerRowHeight===e.footerRowHeight||(this._footerGridHeight=null),this.props.rowHeight===e.rowHeight&&this.props.headerRowHeight===e.headerRowHeight&&this.props.footerRowCount===e.footerRowCount&&this.props.footerRowHeight===e.footerRowHeight&&this.props.fixedColumnCount===e.fixedColumnCount&&this.props.fixedRowCount===e.fixedRowCount&&this.props.rowCount===e.rowCount&&this.props.columnCount===e.columnCount||(this.footerGridRowHeight=this._originalFooterGridRowHeight.bind(this),this.mainGridRowHeight=this._originalMainGridRowHeight.bind(this),this.recomputeGridSize())}},{key:"_mainGridRef",value:function(e){this._mainGrid=e}},{key:"_footerGridRef",value:function(e){this._footerGrid=e}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,a=void 0===t?0:t,n=e.rowIndex,r=void 0===n?0:n;this._footerGridHeight=null,this._mainGrid&&this._mainGrid.recomputeGridSize({columnIndex:a,rowIndex:r}),this._footerGrid&&this._footerGrid.recomputeGridSize({columnIndex:a,rowIndex:0})}},{key:"mainGridRowHeight",value:function(e){var t=e.index,a=this.props,n=a.rowHeight,r=a.headerRowHeight;return 0===t?"function"==typeof r?r({index:t}):r:"function"==typeof n?n({index:t}):n}},{key:"footerGridRowHeight",value:function(e){var t=e.index,a=this.props,n=(a.footerRowCount,a.footerRowHeight);return"function"==typeof n?n({index:t}):n}},{key:"_getFooterGridHeight",value:function(e){var t=e.footerRowCount,a=e.footerRowHeight;if(null==this._footerGridHeight)if("function"==typeof a){for(var n=0,r=0;r<t;r++)n+=a({index:r});this._footerGridHeight=n}else this._footerGridHeight=a*t;return this._footerGridHeight}},{key:"render",value:function(){var e=this,t=this.props,a=t.classNameBottomLeftGrid,n=t.classNameBottomRightGrid,i=t.classNameTopLeftGrid,l=t.classNameTopRightGrid,s=t.styleBottomLeftGrid,d=t.styleBottomRightGrid,c=t.styleTopLeftGrid,p=t.styleTopRightGrid,m=t.fixedRowCount,h=t.rowCount,b=(t.rowHeight,t.cellRenderer),y=t.height,E=t.classNameFooterLeftGrid,C=t.classNameFooterRightGrid,k=t.footerRowCount,S=t.footerRowHeight,_=t.footerCellRenderer,x=o(t,["classNameBottomLeftGrid","classNameBottomRightGrid","classNameTopLeftGrid","classNameTopRightGrid","styleBottomLeftGrid","styleBottomRightGrid","styleTopLeftGrid","styleTopRightGrid","fixedRowCount","rowCount","rowHeight","cellRenderer","height","classNameFooterLeftGrid","classNameFooterRightGrid","footerRowCount","footerRowHeight","footerCellRenderer"]);return g.default.createElement(v.ScrollSync,null,function(t){t.clientHeight,t.clientWidth;var o=t.onScroll,v=(t.scrollHeight,t.scrollLeft),T=(t.scrollTop,t.scrollWidth,null),M=0;return k>0&&(M=e._getFooterGridHeight(e.props),T=function(t,a,n,i){var l;return g.default.createElement(w,f({ref:e._footerGridRef},x,(r(l={selfwareGrid:"footer",rowCount:k,rowHeight:S,classNameTopLeftGrid:E,classNameTopRightGrid:C},"rowHeight",e.footerGridRowHeight),r(l,"cellRenderer",_),r(l,"height",M),r(l,"fixedRowCount",k),r(l,"onScroll",o),r(l,"scrollLeft",v),r(l,"getScrollbarSize",u),r(l,"_showHorizontalScrollbar",n),r(l,"_showVerticalScrollbar",i),r(l,"_actualShowHorizontalScrollbar",t),r(l,"_actualShowVerticalScrollbar",a),l)))}),g.default.createElement(w,f({ref:e._mainGridRef},x,{selfwareGrid:"main",classNameBottomLeftGrid:a,classNameBottomRightGrid:n,classNameTopLeftGrid:i,classNameTopRightGrid:l,styleBottomLeftGrid:s,styleBottomRightGrid:d,styleTopLeftGrid:c,styleTopRightGrid:p,fixedRowCount:m,rowCount:h,rowHeight:e.mainGridRowHeight,cellRenderer:b,height:y-(M?M+u():0),footer:T,onScroll:o,scrollLeft:v,getScrollbarSize:u}))})}}]),t}(),d.propTypes=f({},v.MultiGrid.propTypes,{classNameFooterLeftGrid:b.default.string.isRequired,classNameFooterRightGrid:b.default.string.isRequired,footerRowCount:b.default.number.isRequired,footerRowHeight:b.default.oneOfType([b.default.number,b.default.func]).isRequired,footerCellRenderer:b.default.func.isRequired,headerRowHeight:b.default.number.isRequired}),d.defaultProps=f({},v.MultiGrid.defaultProps,{classNameFooterLeftGrid:"",classNameFooterRightGrid:"",footerRowCount:0,footerRowHeight:0}),c);t.default=C},110:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=t.CALL_API="CALL_API";t.default=function(e){return function(t){return function(a){var o=a[r];if(void 0===o)return t(a);var i=o.endpoint,l=o.method,s=o.body,u=o.types;if("function"==typeof i&&(i=i(e.getState())),l=l||"GET","string"!=typeof i)throw new Error("Specify a string endpoint URL.");if(!Array.isArray(u)||3!==u.length)throw new Error("Expected an array of three action types.");if(!u.every(function(e){return"string"==typeof e}))throw new Error("Expected action types to be strings.");var d=function(e){var t=Object.assign({},a,e);return delete t[r],t},c=n(u,3),f=c[0],p=c[1],m=c[2];return t(d({type:f})),function(e,t,a,n){a&&(a=JSON.stringify(a));var r={Accept:"application/json","Content-Type":"application/json"};return n&&!n.admin&&n._originalAdmin&&(r["x-ignore-admin"]="true"),fetch(e,{method:t,body:a,headers:r,credentials:"same-origin"}).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})}(i,l,s,e.getState().auth.user).then(function(e){return t(d({type:p,response:e}))},function(e){return t(d({type:m,response:e instanceof Error&&"Failed to fetch"===e.message?{message:"Connection error. Try again later."}:e}))})}}}},1127:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=(0,s.datetimeParse)(e,t);if(!a)return"";var n="DATE"===t?"L":"TIME"===t?"LTS":"L LTS";return(0,d.default)(a).format(n)}function o(e,t,a,n){if("pivot_col_rows"===t.key){var o=n.rowDepth;t=t.actualColumns[o]}var i=t.field;if(!i||void 0===e||null===e)return t.defaultText||"";var s=i.type1,d=void 0;switch(s){case"TEXT":case"ENUM":d=e||"";break;case"INTEGER":case"DOUBLE":case"DECIMAL":var c=void 0;"INTEGER"===s?c=0:"DECIMAL"===s&&(c=i.decimalDigits||0),d=function(e,t){if("string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e||isNaN(e))return"";var a=(0,l.numberFormat)(t);return(0,u.default)(e).format(a)}(e,c);break;case"BOOLEAN":if(t.options&&t.options.boolean){if(e&&t.options.boolean.true){d=t.options.boolean.true;break}if(!e&&t.options.boolean.false){d=t.options.boolean.false;break}}d=e?"true":"false";break;case"DATE":case"TIME":case"DATETIME":d=r(e,s);break;case"TEXT_ARRAY":d=Array.isArray(e)?e.join(", "):"";break;default:console.error("Export: Unknown type "+s),d=""}return d}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.exportValues=function(t,a,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"copy";switch(l){case"copy":!function(e,t,a,n){var r=(a=i({},b[n],a)).fieldBoundary,l=a.fieldSeparator,s=a.escapeChar,u=r&&new RegExp(r,"g"),d=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"}(a),c="";if(a.header)for(var f=a.numberOfHeaderRows||1,p=0;p<f;p++)!function(e){t.forEach(function(t,a){a>0&&(c+=l);var n=Array.isArray(t.name)?t.name[e]:t.name,o=n||"";c+=r?r+o.replace(u,s+r)+r:o}),c+=d}(p);e&&!Array.isArray(e)&&(e=[e]);var h=e?e.map(function(e){var n="";return t.forEach(function(t,i){i>0&&(n+=l);var d=o(e[t.key],t,a,e);n+=r?r+d.replace(u,s+r)+r:d}),n}):"",g=c+h.join(d)+"";(0,m.copy)(g,a.message)}(t,a,n,l);break;case"excel":case"csv":!function(e,t,a,n){var o=(a=i({},b[n],a)).numberOfHeaderRows||1,l=new c.default.Workbook;l.creator=window.appName,l.lastModifiedBy=window.appName,l.created=new Date,l.modified=new Date,l.lastPrinted=null;var u=l.addWorksheet("Sheet1",{views:[{state:"frozen",ySplit:o}]});u.autoFilter={from:{row:o,column:1},to:{row:o,column:t.length}},u.columns=t.map(function(e,t){var n={header:e.name||"",key:e.key,style:{}};a.columnWidths&&a.columnWidths[t]&&(n.width=function(e){var t=void 0;return e<12?t=Math.round(100*e/12):(e>1790&&(e=1790),t=Math.round(100*(1+(e-12)/7))),t/100}(a.columnWidths[t]));var r=e.field;if(r){var o=r.type1;switch(o){case"INTEGER":case"DECIMAL":var i=void 0;"INTEGER"===o?i=0:"DECIMAL"===o&&(i=r.decimalDigits||0),n.style.numFmt="#,##0"+(i?"."+v.substring(0,i):"");break;case"DOUBLE":n.style.numFmt="#,##0.####################";break;case"DATE":case"TIME":case"DATETIME":n.style.numFmt=y[o]}}return n});for(var d=0;d<o;d++){var m=u.getRow(d+1);m.font={bold:!0},m.commit()}var h=[];if(e&&e.forEach(function(e){var a=t.map(function(t){return function(e,t,a,n,o){if("pivot_col_rows"===t.key){var i=o.rowDepth;t=t.actualColumns[i]}var l=t.field;if(!l||void 0===e||null===e)return t.defaultText||"";var u=l.type1;switch(u){case"TEXT":return{value:e||""};case"ENUM":return{value:e||"",dataValidation:{type:"list",allowBlank:!0,formulae:['"'+function(e){return(e.enumList||[]).map(function(e){return e.replace(/"/g,'""')}).join(",")}(l)+'"']}};case"INTEGER":case"DOUBLE":case"DECIMAL":return{value:function(e,t){return"string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e||isNaN(e)?null:e}(e)};case"BOOLEAN":if(t.options&&t.options.boolean){if(e&&t.options.boolean.true){text=t.options.boolean.true;break}if(!e&&t.options.boolean.false){text=t.options.boolean.false;break}}return{value:!!e};case"DATE":case"TIME":case"DATETIME":return function(e,t,a){if(!e)return{value:null};if("csv"===a)return{value:r(e,t)};if("TIME"===t){var n=e.split(":");return{value:e=((e=((e=parseInt(n[2],10)/60)+parseInt(n[1],10))/60)+parseInt(n[0],10))/24}}if("DATE"===t){var o=(0,s.datetimeParse)(e,t);return{value:(o.getTime()-60*o.getTimezoneOffset()*1e3)/864e5+25569}}var i=(0,s.datetimeParse)(e,t);return{value:i&&new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)||null}}(e,u,n);case"TEXT_ARRAY":return{value:Array.isArray(e)?e.join(", "):""};default:return console.error("Export: Unknown type "+u),{value:""}}}(e[t.key],t,0,n,e)});h.push(a)}),h.forEach(function(e){var t=u.addRow(e.map(function(e){return e.value}));e.map(function(e,a){var n=t.getCell(a+1);e.dataValidation&&(n.dataValidation=e.dataValidation),e.type&&(n.type=e.type)}),t.commit()}),t.length&&"pivot_col_rows"===t[0].key&&"excel"===n&&e.forEach(function(e,t){var a=e.rowDepth;u.getRow(t+o+1).outlineLevel=a}),"excel"===n){var g=(a.filename||window.appName)+".xlsx";l.xlsx.writeBuffer().then(function(e){var t=new Blob([e],{type:"application/octet-stream"});(0,p.saveAs)(t,g)})}else if("csv"===n){var E=(a.filename||window.appName)+".csv",w=new f.default;l.csv.write(w).then(function(){return w.read()}).then(function(e){var t=new Blob([e],{type:"application/octet-stream"});(0,p.saveAs)(t,E)})}}(t,a,n,l);break;case"pdf":case"print":!function(t,a,n,r){var i=n.numberOfHeaderRows||1,l=[],s=a.map(function(e){return e.name&&(Array.isArray(e.name)?e.name[0]:e.name)||""});if(i>1)for(var u=1;u<i;u++){var d;!function(e){d=a.map(function(t){return t.name&&(Array.isArray(t.name)?t.name[e]:t.name)||""}),l.push(d)}(u)}t&&!Array.isArray(t)&&(t=[t]),t&&t.forEach(function(e){var t=a.map(function(t){return o(e[t.key],t,n,e)});l.push(t)});var c=(n&&n.filename||window.appName)+".pdf",f=new h.default("p","pt");if(f.autoTable(s,l,{styles:{overflow:"linebreak"},drawCell:function(e,t){if(t.row.index<i-1){var a=t.table.headerRow.cells[t.column.index];n=t.table,r=a.styles,o=n.doc,l={fillColor:o.setFillColor,textColor:o.setTextColor,fontStyle:o.setFontStyle,lineColor:o.setDrawColor,lineWidth:o.setLineWidth,font:o.setFont,fontSize:o.setFontSize},Object.keys(l).forEach(function(e){var t=r[e],a=l[e];void 0!==t&&(Array.isArray(t)?a.apply(o,t):a(t))})}var n,r,o,l}}),"pdf"===r)f.save(c);else if("print"===r){var p=document.body.classList.contains("app-electron");if(p)return void(window.electronPrintPDF&&(f.autoPrint(),window.electronPrintPDF(f.output("dataurlstring"))));f.autoPrint();var m=f.output("bloburl"),g=document.getElementById("print-helper-iframe");if(g){var b=g.dataset.blobUrl;b&&e.URL.revokeObjectURL(b),g.remove()}var v=document.createElement("iframe");v.id="print-helper-iframe",v.style.visibility="hidden",v.src=m||f.output("dataurlstring"),m&&(v.dataset.blobUrl=m),document.body.appendChild(v)}}(t,a,n,l)}if(n&&n.message)switch(l){case"excel":case"csv":case"pdf":g.toast.info(n.message)}};var l=a(98),s=a(99),u=n(a(49)),d=n(a(2)),c=n(a(554)),f=n(a(273)),p=a(1273),m=a(1274),h=n(a(585));a(1276);var g=a(47),b={copy:{fieldBoundary:null,escapeChar:null,fieldSeparator:"\t",footer:null,header:!0},csv:{footer:null,header:!0},excel:{footer:null,header:!0}},v="00000000000000000000000000000000000000000000000000",y={DATE:"dd/mm/yyyy",DATETIME:"dd/mm/yyyy hh:mm:ss",TIME:"hh:mm:ss"}}).call(t,a(9))},1131:function(e,t){},114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.filterVisibleModels=function(e){return(0,r.filter)(e,function(e){return"NOW_MODEL"!==e.specialModel})},t.isAncestor=function(e,t,a){return!("object"!==(void 0===t?"undefined":n(t))&&!(t=e.models[t]))&&("object"==(void 0===a?"undefined":n(a))&&(a=a.id),!!a&&function e(t,a,n){var o=a.mappedModels;return o&&(0,r.some)(o,function(e){return e===n})||(0,r.some)(o,function(a){var r=t.models[a];return e(t,r,n)})}(e,t,a))},t.clone=function(e,t){var a=(t=(0,r.clone)(t)).fields.map(function(t){var a=(0,r.clone)(e.fields[t]);return delete a.id,delete a.created_at,delete a.updated_at,delete a.data_model_id,delete a.function_id,a}),n=t.relations.map(function(a){var n=(0,r.clone)(e.relations[a]);return delete n.id,delete n.created_at,delete n.updated_at,delete n.function_id,n.model_from_id===t.id&&delete n.model_from_id,n.model_to_id===t.id&&delete n.model_to_id,n});if(t.externalSource&&(t.externalSource=(0,r.cloneDeep)(t.externalSource),delete t.externalSource.id,delete t.externalSource.created_at,delete t.externalSource.updated_at,delete t.externalSource.currentCheckPing,delete t.externalSource.data_model_id,delete t.externalSource.lastCheckEnd,delete t.externalSource.lastCheckStart,delete t.externalSource.lastCreatedAt,delete t.externalSource.nextCheck,delete t.externalSource.nextCheckQueryInfo,delete t.externalSource.resetDuringNextCheck,t.externalSource.info&&t.externalSource.info.columns)){var o=0;t.externalSource.info.columns.forEach(function(n){var i=(0,r.find)(t.fields,function(t,r){if(e.fields[t].id===n.fieldId)return a[r]});i&&(n._externalSourceFieldId="cloned-"+ ++o,i._externalSourceFieldId=n._externalSourceFieldId),delete n.fieldId})}return delete t.id,delete t.created_at,delete t.updated_at,delete t.inverseMappedModels,delete t.fields,delete t.relations,delete t.externalSource,{model:t,fields:a,relations:n}},t.getModelDataQuery=function(e){return"object"===(void 0===e?"undefined":n(e))&&(e=e.id),{endpoint:"/model/"+e+"/data",method:"POST",body:{}}};var r=a(5)},1150:function(e,t){},120:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultHoldToDisplayValue=function(){return document.body.classList.contains("app-mobile")?1e3:-1}},121:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=e.size,a=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["size"]);return o.default.createElement("div",r({className:(0,i.default)("loading-spinner",t&&"loading-spinner-"+t)},a),o.default.createElement("div",{className:"bounce1"}),o.default.createElement("div",{className:"bounce2"}),o.default.createElement("div",{className:"bounce3"}))};var o=n(a(0)),i=n(a(3));e.exports=t.default},1274:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.copy=function(e,t){!function(e,t){var a,n,r=!1;try{a=(0,o.default)(),(n=document.createElement("div")).style.height="1px",n.style.width="1px",n.style.position="fixed",n.style.top="0px",n.style.left="0px",n.style.overflow="hidden";var i=document.createElement("textarea");i.textContent=e,n.appendChild(i),document.body.appendChild(n),i.select();if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");r=!0}catch(t){s&&console.error("unable to copy using execCommand: ",t),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),r=!0}catch(e){s&&console.error("unable to copy using clipboardData: ",e),s&&console.error("falling back to prompt")}}finally{n&&document.body.removeChild(n),a()}return r}(e)?i.toast.warn(r.default.createElement(l.FormattedMessage,{id:"Toast.copy.error.browserNotSupported",defaultMessage:"Error trying to copy. Your browser is not supported."})):t&&i.toast.info(t)};var r=n(a(0)),o=n(a(1275)),i=a(47),l=a(6),s=!0},1277:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(6),c=n(a(3)),f=a(5),p=a(8),m=n(a(278)),h=n(a(121)),g=a(74),b=a(47),v=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeInputValue=a.changeInputValue.bind(a),a.state=a.initState(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){e.rowData!==this.props.rowData&&this.setState(this.initState(e))}},{key:"initState",value:function(e){var t=this.props,a=t.rowData,n=t.columns,r=t.columnKey,o={},i=[],l=!1;o.id=a.id,o.model_id=a.model_id;var s=(0,f.find)(n,function(e){return e.key===r}),u=s.field,d=_.find(u.dataValidation,function(e){return e.source_group}),c=d&&d.source_group;c?(l=!0,n.forEach(function(e){var t=e.field;if(t){var n=_.find(t.dataValidation,function(e){return e.source_group});(n&&n.source_group)===c&&(o[e.key]=a[e.key],i.push(e))}})):(o[r]=a[r],i.push(s));var p=[{type:"row",children:[{type:"column",children:i.map(function(e){return{type:"input",inputType:"field",name:e.name,viewColumnId:e.viewColumnId}})}]}];return{loading:!1,rowData:o,originalRowData:o,hasDataValidation:l,editedColumnKeys:i.map(function(e){return e.key}),form:p}}},{key:"changeInputValue",value:function(e,t){var a=(0,g.changeDataValue)(this.props.context,this.state.rowData,this.state.originalRowData,e,t);this.setState({rowData:a})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.context,t.view),n=t.columns,r=(t.rowId,t.columnKey),o=t.save,i=t.cancel,l=this.state,u=l.rowData,g=l.form,v=l.hasDataValidation,y=l.loading,E=(0,f.find)(n,function(e){return e.key===r}).field;return s.default.createElement("div",{className:(0,c.default)("table-inline-editing-container",v?"table-inline-editing-container-data-validation":"table-inline-editing-container-"+E.type1)},s.default.createElement("div",{className:"table-inline-editing-input-container form form-horizontal"},s.default.createElement(m.default,{content:g,type:"INLINE_EDIT_FORM",view:a,formValues:u,changeInputValue:this.changeInputValue}),y&&s.default.createElement("div",null,s.default.createElement(h.default,{size:"sm"}))),s.default.createElement("div",{className:"table-inline-editing-buttons"},s.default.createElement(p.Button,{outline:!0,size:"sm",onClick:function(){var t=o(u);t&&(e.setState({loading:!0}),t.then(function(t){t||(b.toast.warn(s.default.createElement(d.FormattedMessage,{id:"TableView.inlineEditing.save.error",defaultMessage:"Error while saving."})),e.setState({loading:!1}))}))},disabled:y},s.default.createElement(d.FormattedMessage,{id:"TableView.inlineEditing.buttons.save",defaultMessage:"Save"})),s.default.createElement(p.Button,{outline:!0,size:"sm",onClick:i,disabled:y},s.default.createElement(d.FormattedMessage,{id:"TableView.inlineEditing.buttons.cancel",defaultMessage:"Cancel"}))))}}]),t}(),r.propTypes={context:u.default.object.isRequired,view:u.default.object.isRequired,columns:u.default.array.isRequired,rowId:u.default.any.isRequired,columnKey:u.default.any.isRequired,rowData:u.default.object.isRequired,save:u.default.func.isRequired,cancel:u.default.func.isRequired},o);t.default=v,e.exports=t.default},131:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),draggingItem:t.getItem()}}function o(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAvailableElements=function(e){return f.filter(function(t){return-1!==t.allowdIn.indexOf(e)})},t.getElement=function(e){return m[e]};var i=a(279),l=n(a(600)),s=n(a(1319)),u=n(a(1320)),d=n(a(1321)),c=n(a(1322)),f=[s.default,u.default,d.default,c.default],p=f.map(function(e){return e.type}),m={};f.forEach(function(e){return m[e.type]=e});var h={drop:function(e,t,a){t.didDrop()||e.onDroppedItem(t.getItem())},hover:function(e,t,a){e.setDraggingClientOffset(t.getClientOffset())}},g={beginDrag:function(e){var t={content:e.content};return e.setDraggingItem&&e.setDraggingItem(t),t}};f.forEach(function(e){if(!e.type||!e.Element)throw new Error("LayoutEditor: elements needs to specify the type and Element");if("container"!==e.type&&!l.default[e.type])throw new Error('LayoutEditor: no locale message found for type "'+e.type+'"');if(e.DragElement=(0,i.DragSource)(e.type,g,o)(e.Element),e.isContainer){var t=!0===e.canContain?p:e.canContain;e.cannotContain&&e.cannotContain.length&&(t=t.filter(function(t){return-1===e.cannotContain.indexOf(t)})),e.DragElement=(0,i.DropTarget)(t,h,r)(e.DragElement)}})},1319:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=n(a(0)),l=a(186),s=n(l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"renderElement",value:function(){return this.props.isEditor,i.default.createElement("div",{className:this.applyClassName("container-fluid")},this.renderChildren())}}]),t}();t.default=r({},l.defaultInfo,{type:"container",allowdIn:[],isContainer:!0,containerDirection:"y",canContain:["row"],Element:u}),e.exports=t.default},132:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.generateFakeData=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(!e)return[];for(var o=[],i=0;i<r;i++)!function(r){var i={};e.forEach(function(e,r){var o=null;if(e.relation_id){var l=(0,m.find)(n,function(t){return t.id===e.relation_id})||t.relations[e.relation_id];o=l?l[e.relation_is_back?"nameBackward":"nameForward"]:"-"}var s,u=e.field_id;if("id"!==u){var d=(0,m.find)(a,function(e){return e.id===u})||t.fields[u];u=d?d.name:"-"}if(s=o?o+"."+u:u,e.relation_id){var c=(e.relation_is_back?"obj_back_":"obj_")+e.relation_id;i[c]=i[c]||{},i[c]["col_"+e.field_id]="<<"+s+">>"}else{var f="col_"+e.field_id;i[f]="<<"+s+">>"}}),o.push(i)}();return o};var s=a(0),u=n(s),d=n(a(1)),c=n(a(3)),f=a(6),p=n(a(230)),m=a(5),h=n(a(19)),g=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"getTextForData",value:function(e,t){var a=t;if(!a)return"-";if(e.relation_id&&!(a=a[(e.relation_is_back?"obj_back_":"obj_")+e.relation_id]))return"-";var n=e.field_id;if("id"===n)return a.id;var r="col_"+n;return"number"==typeof a[r]?""+a[r]:a[r]||"-"}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.searchTemplate,r=t.warningMessage,o=t.searchWords,l=t.className,s=t.otherProps,d=n&&n.map(function(t,n){var r=!!t.bold,i=!!t.italic,l=!!t.underline,s={};r&&(s.fontWeight="bold"),i&&(s.fontStyle="italic"),l&&(s.textDecoration="underline");var d=e.getTextForData(t,a);return o&&o.length&&(d=u.default.createElement(p.default,{searchWords:o,textToHighlight:d,autoEscape:!0,highlightClassName:"model-search-template-highlight"})),u.default.createElement("span",{key:n,style:s},d)});return u.default.createElement("div",i({className:(0,c.default)("model-search-template",l)},s),d&&0!==d.length?d:u.default.createElement("div",null,u.default.createElement(h.default.Warning,null),u.default.createElement("strong",null,u.default.createElement("em",null,r||u.default.createElement(f.FormattedMessage,{id:"SearchTemplate.warningMessage",defaultMessage:"Select the details in the view's settings"})))))}}]),t}(),r.propTypes={searchTemplate:d.default.array,data:d.default.any,warningMessage:d.default.oneOfType([d.default.string,d.default.object]),searchWords:d.default.array},o);t.default=g},1320:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=n(a(0)),l=a(186),s=n(l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"renderElement",value:function(){return i.default.createElement("div",{className:this.applyClassName("row")},this.renderEditorControlsIfNeeded(),this.renderChildren())}}]),t}();t.default=r({},l.defaultInfo,{type:"row",isContainer:!0,containerDirection:"x",canContain:["column"],Element:u}),e.exports=t.default},1321:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=n(a(0)),l=a(186),s=n(l),u=(n(a(3)),a(8)),d=(a(6),n(a(19))),c={sm:12,md:0,lg:0},f=[0,3,4,6,8,9,12],p=["Auto","1/4","1/3","1/2","3/4","2/3","100%"],m={sm:d.default.Mobile,md:d.default.Tablet,lg:d.default.Desktop},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"getWidthClass",value:function(e){var t=this.getWidthNumber(e);return t?"col-"+e+"-"+t:"col-"+e}},{key:"getWidthNumber",value:function(e){var t=this.props.content[e];return-1===f.indexOf(t)&&(t=c[e]),t}},{key:"changeWidth",value:function(e,t){var a=this.props.content,n=r({},a,function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},e,t));this.updateContent(n)}},{key:"renderElement",value:function(){return i.default.createElement("div",{className:this.applyClassName("col",this.getWidthClass("sm"),this.getWidthClass("md"),this.getWidthClass("lg"))},this.renderEditorControlsIfNeeded(),this.renderChildren())}},{key:"renderWidthSetting",value:function(e){for(var t=this,a=m[e],n=this.getWidthNumber(e),r=[],o=0;o<f.length;o++){var l=f[o],s=p[o];r.push(i.default.createElement("option",{key:l,value:l},s))}return i.default.createElement(u.FormGroup,{row:!0,key:e},i.default.createElement(u.Label,{sm:2},i.default.createElement(a,{fixedWidth:!0,size:"2x"})),i.default.createElement(u.Col,{sm:10},i.default.createElement(u.Input,{type:"select",value:n,onChange:function(a){return t.changeWidth(e,parseInt(a.target.value,10))}},r)))}},{key:"renderSettings",value:function(){return i.default.createElement("div",{style:{width:"100%"}},this.renderWidthSetting("lg"),this.renderWidthSetting("md"),this.renderWidthSetting("sm"))}}]),t}();t.default=r({},l.defaultInfo,{type:"column",isContainer:!0,containerDirection:"y",canContain:!0,cannotContain:["row","column"],Element:h}),e.exports=t.default},1322:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=n(a(0)),u=n(a(1)),d=a(186),c=n(d),f=(n(a(3)),a(8)),p=a(6),m=n(a(45)),h=a(99),g=n(h),b=n(a(601)),v=n(a(285)),y=a(132),E=n(y),w=a(5),C=a(133),k=a(54),S=(0,p.defineMessages)({readOnlyLabel:{id:"LayoutEditor.element.input.readOnlyLabel",defaultMessage:"read only"}}),_=1,x=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onFieldValueChange=a.onFieldValueChange.bind(a),a.onRelationValueChange=a.onRelationValueChange.bind(a),a.onModelIdValueChange=a.onModelIdValueChange.bind(a),a.onFieldSelected=a.onFieldSelected.bind(a),a.onRelationSelected=a.onRelationSelected.bind(a),a.onSearchTemplateChange=a.onSearchTemplateChange.bind(a),a.editMultipleValues=a.editMultipleValues.bind(a),a.undoMultipleValuesChanges=a.undoMultipleValuesChanges.bind(a),a.uniqueIdPrefix="InputElement-unique-id-"+_++,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),l(t,[{key:"getInputType",value:function(){return this.props.content.inputType||"field"}},{key:"getFieldId",value:function(){var e=this.props,t=e.content;return e.isEditor?t.field_id:this.getViewColumn().field_id}},{key:"getRelationInfo",value:function(){var e=this.props,t=e.content;if(e.isEditor)return t.relation_id&&{relationId:t.relation_id,relationIsBack:t.relation_is_back};var a=this.getViewColumn();return a.relation_id&&{relationId:a.relation_id,relationIsBack:a.relation_is_back}}},{key:"onInputTypeChange",value:function(e){this.updateContent(i({},this.props.content,{inputType:e,field_id:null,relation_id:null,relation_is_back:null,name:null,searchTemplate:null}))}},{key:"multipleDifferentValues",value:function(e,t){var a=this.context.formValues;if(Array.isArray(a)&&a.length>1){var n=a[0][e];return t&&(n=n?n.id:null),(0,w.some)(a,function(a){return t?(a[e]?a[e].id:null)!==n:a[e]!==n})}return!1}},{key:"keyForField",value:function(){var e=this.getViewColumn();return e?"vcol_"+e.id:null}},{key:"keyForRelation",value:function(){var e=this.getViewColumn();return e?(e.relation_is_back?"obj_back_":"obj_")+e.relation_id:null}},{key:"getViewColumn",value:function(){var e=this.props.content,t=this.context.globalContext,a=e&&e.viewColumnId;return a&&t.viewColumns[a]}},{key:"getFieldValue",value:function(e){var t=this.context.formValues;if(Array.isArray(t)){if(0===t.length)return null;t=t[0]}return t[e]||null}},{key:"getAllFieldValues",value:function(e){var t=this.context.formValues;return Array.isArray(t)?(0,w.uniq)(t.map(function(t){return t[e]||null})):[t[e]||null]}},{key:"onFieldValueChange",value:function(e){if(!this.props.isEditor){var t=this.keyForField();this.context.changeInputValue&&this.context.changeInputValue(t,e)}}},{key:"onModelIdValueChange",value:function(e){this.props.isEditor||this.context.changeInputValue&&this.context.changeInputValue("model_id",e&&parseInt(e,10))}},{key:"canChangeModelId",value:function(){var e=this.context.formValues;if(Array.isArray(e)){if(1!==e.length)return!1;e=e[0]}return!e.id}},{key:"getRelationValue",value:function(e){var t=this.context.formValues;if(Array.isArray(t)){if(0===t.length)return null;t=t[0]}return t[e]?Array.isArray(t[e])?t[e].map(function(e){return e.id}):t[e].id:null}},{key:"onRelationValueChange",value:function(e){var t=this.props;if(t.content,!t.isEditor){var a=this.keyForRelation();e&&(e=Array.isArray(e)?e.map(function(e){return{id:e}}):{id:e}),this.context.changeInputValue&&this.context.changeInputValue(a,e)}}},{key:"editMultipleValues",value:function(){var e=void 0,t=this.getInputType();"field"===t?e=this.keyForField():"relation"===t&&(e=this.keyForRelation()),e&&(this.context.changeInputValue(e,null),this.setState({inputMultipleValuesChanged:!0}))}},{key:"undoMultipleValuesChanges",value:function(){var e=void 0,t=this.getInputType();"field"===t?e=this.keyForField():"relation"===t&&(e=this.keyForRelation()),e&&(this.context.changeInputValue(e,void 0),this.setState({inputMultipleValuesChanged:!1}))}},{key:"renderUndoMultipleValuesChanges",value:function(){var e="INLINE_EDIT_FORM"===this.context.layoutType?"vertical":"horizontal",t=s.default.createElement(f.Alert,{color:"secondary",style:{padding:"0.375rem 0.75rem",cursor:"default",marginTop:-12},onClick:this.undoMultipleValuesChanges},s.default.createElement("small",{style:{}},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.multipleValues.undoChanges",defaultMessage:"Click to undo changes"})));return(0,h.inputForm)(t,"",e)}},{key:"renderMultipleValuesAlert",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a="INLINE_EDIT_FORM"===this.context.layoutType?"vertical":"horizontal",n=s.default.createElement(f.Alert,{color:"secondary",style:{padding:"0.375rem 0.75rem",cursor:"default"},onClick:this.editMultipleValues},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.multipleValues",defaultMessage:"Multiple values"}),t&&s.default.createElement("small",{className:"pull-right",style:{marginTop:2}},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.multipleValues.help",defaultMessage:"Click to edit"})));return(0,h.inputForm)(n,e,a)}},{key:"renderElement",value:function(){var e=this,t=this.props,a=t.content,n=t.isEditor,r=this.getInputType(),o="INLINE_EDIT_FORM"===this.context.layoutType?"vertical":"horizontal",l=void 0,u="field"===r&&this.getFieldId(),d="relation"===r&&this.getRelationInfo();if("modelId"===r){var c=this.context,m=c.getInputAdditionalProps,v=c.view,y=this.context.globalContext,E=y.models[v.data_model_id],w=s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.render.modelId.label",defaultMessage:"Model"}),C=null,k=!1;if(n||(this.multipleDifferentValues("model_id")?l=this.renderMultipleValuesAlert(w,!1):(C=this.getFieldValue("model_id"),k=!this.canChangeModelId())),!l){var S=null;m&&(S=m("modelId"));var _=(E&&E.mappedModels||[]).map(function(e){var t=y.models[e];return{value:t.id,label:t.name}}),x=s.default.createElement(f.Input,i({type:"select",value:C||"",onChange:function(t){return e.onModelIdValueChange(t.target.value)},disabled:k},S),s.default.createElement("option",{key:-1,value:""}),(_||[]).map(function(e){return s.default.createElement("option",{key:e.value,value:e.value},e.label)}));l=s.default.createElement("div",{className:"form form-horizontal"},(0,h.inputForm)(x,w,o))}}else if(u){var T=this.context,M=T.getInputAdditionalProps,R=T.filter,I=T.view,O=this.context.globalContext,F=O.fields[u],N=null,A=!1,P=void 0;if(!n){var V=this.keyForField();if(this.multipleDifferentValues(V))l=this.renderMultipleValuesAlert(a.name);else{N=this.getFieldValue(V),A=!(!R||!R[V]);var L=O.models[I.data_model_id];L&&L.virtual&&(P=this.multipleDifferentValues("model_id")?this.getAllFieldValues("model_id"):this.getFieldValue("model_id"))}}l||(S=null,M&&(S=M("field",u)),l=s.default.createElement("div",{className:"form form-horizontal"},s.default.createElement(g.default,i({value:N,onChange:this.onFieldValueChange,inForm:!0,formLayout:o,formLabel:a.name,field:F,context:O,selectedModelId:P,disabled:A},S))))}else if(d){var D=this.context,B=D.view,U=D.getInputAdditionalProps,j=D.filter,q=this.context.globalContext,G=null,z=void 0,H=!1;if(!n){var W=this.keyForRelation();this.multipleDifferentValues(W,!0)?l=this.renderMultipleValuesAlert(a.name):(G=this.getRelationValue(W),H=!(!j||!j[W]),(z=this.getViewColumn())||(l=s.default.createElement("div",null,"Error: unknown column for relation ",d.relationId)))}l||(S=null,U&&(S=U("relation",d.relationId,d.relationIsBack)),l=s.default.createElement("div",{className:"form form-horizontal"},s.default.createElement(b.default,i({value:G,onChange:this.onRelationValueChange,inForm:!0,formLayout:o,formLabel:a.name,searchTemplate:a.searchTemplate,useFakeData:n,context:q,view:B,viewColumn:z,disabled:H},S))))}else l=s.default.createElement("div",{className:"text-muted",style:{textAlign:"center",padding:20}},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.render.checkSettings",defaultMessage:"Please check the settings"}));return s.default.createElement("div",{className:this.applyClassName("layout-element-input")},this.renderEditorControlsIfNeeded(),l,this.state.inputMultipleValuesChanged&&this.renderUndoMultipleValuesChanges())}},{key:"additionalPopoverClasses",value:function(){return"editor-element-settings-popover-big"}},{key:"shouldRenderSettings",value:function(){return"modelId"!==this.getInputType()}},{key:"canDeleteInput",value:function(){return"modelId"!==this.getInputType()}},{key:"renderSettings",value:function(){var e=this,t=(this.props.content,this.getInputType()),a=this.uniqueIdPrefix+"-input-type";return s.default.createElement("div",null,s.default.createElement("div",{className:"row"},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.selectInputType",defaultMessage:"Input type"}))),s.default.createElement(f.Col,{md:"9"},s.default.createElement(f.FormGroup,{check:!0,className:"radio"},s.default.createElement(f.Input,{className:"form-check-input",type:"radio",name:a,id:this.uniqueIdPrefix+"-input-type-field",value:"field",checked:"field"===t,onChange:function(t){return e.onInputTypeChange(t.currentTarget.value)}}),s.default.createElement(f.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-input-type-field"},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.inputType.field",defaultMessage:"Model's attribute"}))),s.default.createElement(f.FormGroup,{check:!0,className:"radio"},s.default.createElement(f.Input,{className:"form-check-input",type:"radio",name:a,id:this.uniqueIdPrefix+"-input-type-relation",value:"relation",checked:"relation"===t,onChange:function(t){return e.onInputTypeChange(t.currentTarget.value)}}),s.default.createElement(f.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-input-type-relation"},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.inputType.relation",defaultMessage:"Model's relation"}))))),s.default.createElement("div",{style:{paddingTop:20}},"field"===t&&this.renderSettingsForTypeField(),"relation"===t&&this.renderSettingsForTypeRelation()))}},{key:"readOnlyLabel",value:function(e){return e+" ("+this.props.intl.formatMessage(S.readOnlyLabel)+")"}},{key:"generateOptionsForFields",value:function(){var e=this,t=this.context.globalContext,a=this.context,n=a.view,r=a.mainContent,o=t.models[n.data_model_id].fields.map(function(e){return t.fields[e]}),i=(0,C.getAllByType)(r,"input"),l=[];return o.forEach(function(t){var a,n=!(!t.function_id&&!t.readOnly),r=t.name;n&&(r=e.readOnlyLabel(r)),l.push({value:""+t.id,label:r,disabled:n||(a=t.id,(0,w.some)(i,function(t){return t!==e.props.content&&(!t.inputType||"field"===t.inputType)&&t.field_id===a}))})}),l}},{key:"getSelectedFieldValue",value:function(){var e=this.props.content;return e.field_id?""+e.field_id:null}},{key:"onFieldSelected",value:function(e){this.updateContent(i({},this.props.content,{field_id:e?parseInt(e,10):null}))}},{key:"onFieldNameChanged",value:function(e){this.updateContent(i({},this.props.content,{name:e||null}))}},{key:"renderSettingsForTypeField",value:function(){var e=this,t=this.props.content,a=this.generateOptionsForFields();return s.default.createElement("div",null,s.default.createElement(f.FormGroup,{row:!0},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.modelFieldName.label",defaultMessage:"Name"}))),s.default.createElement(f.Col,{xs:"12",md:"9"},s.default.createElement(f.Input,{type:"text",value:t.name||"",onChange:function(t){return e.onFieldNameChanged(t.target.value)}}))),s.default.createElement(f.FormGroup,{row:!0},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.modelFieldSelector.label",defaultMessage:"Attribute"}))),s.default.createElement(f.Col,{xs:"12",md:"9"},s.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:a,simpleValue:!0,clearable:!1,value:this.getSelectedFieldValue(),searchable:!0,onChange:this.onFieldSelected}))))}},{key:"generateOptionsForRelations",value:function(){var e=this,t=this.context.globalContext,a=this.context,n=a.view,r=a.mainContent,o=t.models[n.data_model_id],i=o.relations.map(function(e){return t.relations[e]}),l=(0,C.getAllByType)(r,"input"),s=function(t,a){return(0,w.some)(l,function(n){return n!==e.props.content&&"relation"===n.inputType&&n.relation_id===t&&n.relation_is_back===a})},u=[];return i.forEach(function(t){var a=(0,k.isAdvanced)(t);if(t.model_from_id===o.id){var n=t.nameForward;a&&(n=e.readOnlyLabel(n)),u.push({value:t.id+"-f",label:n,disabled:a||s(t.id,!1)})}if(t.model_to_id===o.id){var r=t.nameBackward;a&&(r=e.readOnlyLabel(r)),u.push({value:t.id+"-b",label:r,disabled:a||s(t.id,!0)})}}),u}},{key:"getSelectedRelationValue",value:function(){var e=this.props.content;return e.relation_id?e.relation_id+(e.relation_is_back?"-b":"-f"):null}},{key:"onRelationSelected",value:function(e){var t=null,a=null,n=e&&e.split("-");n&&(t=parseInt(n[0],10),a="b"===n[1]),this.updateContent(i({},this.props.content,{relation_id:t,relation_is_back:a}))}},{key:"getSelectedRelationModel",value:function(){var e=this.props.content,t=this.context.globalContext,a=t.relations[e.relation_id],n=a&&a[e.relation_is_back?"model_from_id":"model_to_id"];return t.models[n]}},{key:"onRelationNameChanged",value:function(e){this.updateContent(i({},this.props.content,{name:e||null}))}},{key:"onSearchTemplateChange",value:function(e){this.updateContent(i({},this.props.content,{searchTemplate:e||null}))}},{key:"renderSettingsForTypeRelation",value:function(){var e=this,t=this.props.content,a=this.context.globalContext,n=this.context.view,r=a.models[n.data_model_id],o=r.fields.map(function(e){return a.fields[e]}),i=r.relations.map(function(e){return a.relations[e]}),l=this.generateOptionsForRelations(),u=t.relation_id&&this.getSelectedRelationModel(),d=u&&(0,y.generateFakeData)(t.searchTemplate,a,o,i,1)[0];return s.default.createElement("div",null,s.default.createElement(f.FormGroup,{row:!0},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationName.label",defaultMessage:"Name"}))),s.default.createElement(f.Col,{xs:"12",md:"9"},s.default.createElement(f.Input,{type:"text",value:t.name||"",onChange:function(t){return e.onRelationNameChanged(t.target.value)}}))),s.default.createElement(f.FormGroup,{row:!0},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationSelector.label",defaultMessage:"Relation"}))),s.default.createElement(f.Col,{xs:"12",md:"9"},s.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:l,simpleValue:!0,clearable:!1,value:this.getSelectedRelationValue(),searchable:!0,onChange:this.onRelationSelected}))),u&&s.default.createElement("div",null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationSearchTemplate.title",defaultMessage:'Select the details of the model "{modelName}" you want to see when you are searching for the entry you want to select',values:{modelName:u.name}}),s.default.createElement(v.default,{context:a,model:u,searchTemplate:t.searchTemplate,onChange:this.onSearchTemplateChange}),s.default.createElement(f.Card,{style:{marginTop:20}},s.default.createElement(f.CardHeader,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationSearchTemplate.previewTitle",defaultMessage:"Preview"})),s.default.createElement(f.CardBody,null,s.default.createElement(E.default,{className:"model-search-template-preview",context:a,model:u,searchTemplate:t.searchTemplate,data:d,warningMessage:s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationSearchTemplate.previewWarningMessage",defaultMessage:"Please select at least one detail"})}))))||null)}}]),t}(),r.contextTypes={view:u.default.object,globalContext:u.default.object,formValues:u.default.oneOfType([u.default.object,u.default.arrayOf(u.default.object)]),filter:u.default.object,changeInputValue:u.default.func,getInputAdditionalProps:u.default.func,mainContent:u.default.any,layoutType:u.default.string},o);t.default=i({},d.defaultInfo,{type:"input",isContainer:!1,Element:x}),e.exports=t.default},1323:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=n(a(3)),f=n(a(19)),p=n(a(586)),m=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"openClosePivotRow",value:function(e,t,a){e.preventDefault(),e.stopPropagation();var n=this.props,r=n.openPivotRow,o=n.closePivotRow;a?o(t):r(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.column,n=t.rowData,r=t.cellData,o=(t.pivotColumns,t.pivotRows),l=t.isRowOpen,s=(t.openPivotRow,t.closePivotRow,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["column","rowData","cellData","pivotColumns","pivotRows","isRowOpen","openPivotRow","closePivotRow"])),d=null;if("pivot_col_rows"===a.key){var m=n.rowDepth;a=a.actualColumns[m];var h=m===o.length-1,g=l(n),b=g?u.default.createElement(f.default.PivotRowOpen,null):u.default.createElement(f.default.PivotRowClosed,null),v=h?null:function(t){return e.openClosePivotRow(t,n,g)};d=function(e){var t=e.children;return u.default.createElement("div",{onClick:v},u.default.createElement("span",{style:{paddingLeft:10*m},className:(0,c.default)("pivot-row-icon",h&&"pivot-row-icon-hidden")},b),t)}}return u.default.createElement(p.default,i({column:a,rowData:n,cellData:r,ValueWrapper:d},s))}}]),t}(),r.propTypes=i({},p.default.propTypes,{pivotColumns:d.default.array.isRequired,pivotRows:d.default.array.isRequired,isRowOpen:d.default.func.isRequired,openPivotRow:d.default.func.isRequired,closePivotRow:d.default.func.isRequired}),o);t.default=m,e.exports=t.default},1324:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=a(91),f=n(a(3)),p=n(a(132)),m=a(5),h=a(6),g=a(171),b=40,v=1,y=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.uniqueIdPrefix="List-unique-id-"+v++,a._cache=new c.CellMeasurerCache({fixedWidth:!0,minHeight:b}),a.noRowsRenderer=a.noRowsRenderer.bind(a),a.rowRenderer=a.rowRenderer.bind(a),a.setSelection=a.setSelection.bind(a),a.resetSelection=a.resetSelection.bind(a),a.onClickOutsideTable=a.onClickOutsideTable.bind(a),a.state={orderedRows:a.createOrderedRows(e),searchWords:a.createSearchWords(e)},a.state.rows=a.filterRows(a.state.orderedRows,e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"createOrderedRows",value:function(e){var t=e.rows;if(!t)return[];var a=this.props,n=a.view,r=a.context,o=n.info&&n.info.list&&n.info.list.searchTemplate||[],i={};(0,m.each)(r.viewColumns,function(e){e.data_view_id===n.id&&e.field_id&&!e.relation_id&&(i[e.field_id]=e)}),t=t.map(function(e){var t={id:e.id,model_id:e.model_id};return o.forEach(function(a){if(a.relation_id){var n=(a.relation_is_back?"obj_back_":"obj_")+a.relation_id,r="col_"+a.field_id;e[n]?(t[n]=t[n]||{id:e[n].id,model_id:e[n].model_id},t[n][r]=e[n][r]):t[n]=null}else{var o=i[a.field_id];if(o){var l=e["vcol_"+o.id];t["col_"+a.field_id]=l}}}),t});var l=e.order||this.defaultOrder(e),s=l.map(function(e){return function(t){var a;return null===(a=(0,m.get)(t,e.columnKey))||void 0===a?null:"string"==typeof a?a?a.toLowerCase():null:a}}),u=l.map(function(e){return e.order}),d=(0,m.orderBy)(t,s,u);return this._filterOptions=null,d}},{key:"filterRows",value:function(e,t){var a=e;if(t.textFilter){if(!this._filterOptions){var n=t.view,r=n.info&&n.info.list&&n.info.list.searchTemplate||[];this._filterOptions=(0,g.createFilterOptionsForSearchTemplate)(r,a)}a=this._filterOptions(a,t.textFilter)}return a}},{key:"createSearchWords",value:function(e){var t=e.textFilter;return t?t.match(g.wordsRegexp):[]}},{key:"defaultOrder",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).view;return(e.info&&e.info.list&&e.info.list.searchTemplate||[]).map(function(e){var t="";return e.relation_id&&(t=(e.relation_is_back?"obj_back_":"obj_")+e.relation_id+"."),{columnKey:t+="col_"+e.field_id,order:"ASC"}})}},{key:"componentWillReceiveProps",value:function(e){var t={};this.props.rows===e.rows&&this.props.order===e.order||(t.orderedRows=this.createOrderedRows(e),t.lastSelectedRowIndex=-1,t.lastSelectedColumnIndex=-1),(t.orderedRows||this.props.textFilter!==e.textFilter)&&(t.rows=this.filterRows(t.orderedRows||this.state.orderedRows,e)),this.props.textFilter!==e.textFilter&&(t.searchWords=this.createSearchWords(e)),(0,m.size)(t)>0&&(this.setState(t),this.recomputeSize()),this.props.selectedRows!==e.selectedRows&&this.List&&this.List.forceUpdateGrid()}},{key:"recomputeSize",value:function(){this._cache.clearAll(),this.List&&this.List.recomputeRowHeights()}},{key:"getNumberOfRows",value:function(){var e=this.state.rows;return e?e.length:0}},{key:"getRow",value:function(e){var t=this.state.rows;return t&&t[e]}},{key:"_getNewSelectedRowsOrColumns",value:function(e,t,a,n){var o=this.props.selectedRows||{},i="single"===this.props.canSelectRow,l=this.state.lastSelectedRowIndex;if(-1===l&&(n=!1),i)return o[t]?{}:r({},t,!0);if(a)return(d=Object.assign({},o))[t]?delete d[t]:d[t]=!0,d;if(n){var s=void 0,u=void 0;e<l?(s=e,u=l):(s=l,u=e);for(var d=Object.assign({},o),c=s;c<=u;c++){var f=-1!==c&&this.getRow(c),p=f&&f.id;p&&(d[p]=!0)}return d}return r({},t,!0)}},{key:"setSelection",value:function(e,t,a){var n={},r=-1!==e&&this.getRow(e),o=r&&r.id;this.props.canSelectRow&&o&&(n.selectedRows=this._getNewSelectedRowsOrColumns(e,o,t,a),n.lastSelectedRowIndex=e),n.selectedRows&&this._setSelectionAndNotify(n)}},{key:"resetSelection",value:function(){this._setSelectionAndNotify({selectedRows:{},lastSelectedRowIndex:-1})}},{key:"_setSelectionAndNotify",value:function(e){var t={selectedRows:e.selectedRows||this.props.selectedRows||{}};this.props.onSelectionChange&&this.props.onSelectionChange(t),this.setState({lastSelectedRowIndex:e.lastSelectedRowIndex})}},{key:"isSelectedRowIndex",value:function(e){var t=this.getRow(e);return t&&this.props.selectedRows&&this.props.selectedRows[t.id]}},{key:"onCellSelection",value:function(e){var t=e.event,a=e.rowIndex,n=t.ctrlKey||t.metaKey,r=t.shiftKey;this.setSelection(a,n,r)}},{key:"onClickOutsideTable",value:function(e){this.props.notCancelSelectionOnClickOutside||this.resetSelection()}},{key:"noRowsRenderer",value:function(){var e=this.props,t=e.loading,a=e.loadingError;return t?u.default.createElement("div",{className:"view-list-cell view-list-loading"},u.default.createElement(h.FormattedMessage,{id:"List.empty.loading",defaultMessage:"Loading..."})):a?u.default.createElement("div",{className:"view-list-cell view-list-loading-error"},a):u.default.createElement("div",{className:"view-list-cell view-list-no-rows"},u.default.createElement(h.FormattedMessage,{id:"List.empty.noRows",defaultMessage:"No rows"}))}},{key:"rowRenderer",value:function(e){var t=this,a=e.index,n=(e.isScrolling,e.key),r=e.parent,o=e.style,i=this.getRow(a),l=this.isSelectedRowIndex(a),s=this.props,d=s.context,m=s.view,h=d.models[m.data_model_id],g=m.info&&m.info.list&&m.info.list.searchTemplate||[];return u.default.createElement(c.CellMeasurer,{cache:this._cache,columnIndex:0,key:n,parent:r,rowIndex:a},u.default.createElement("div",{className:(0,f.default)("view-list-cell","view-list-cell-with-data",(a+1)%2==1&&"view-list-row-odd",l&&"view-list-row-selected"),style:o,onClick:function(e){return t.onCellSelection({event:e,rowIndex:a})}},u.default.createElement(p.default,{className:"view-list-cell-search-template",context:d,model:h,searchTemplate:g,searchWords:this.state.searchWords,data:i})))}},{key:"render",value:function(){var e=this,t=this.props.className,a=this.getNumberOfRows();return u.default.createElement("div",{className:(0,f.default)("view-list-container",this.uniqueIdPrefix+"-view-list-container",this.props.privacy&&"view-list-container-privacy",t)},u.default.createElement(c.AutoSizer,null,function(t){var n=t.width,r=t.height;return u.default.createElement(c.List,{ref:function(t){return e.List=t},width:n,height:r,noRowsRenderer:e.noRowsRenderer,rowCount:a,rowHeight:e._cache.rowHeight,rowRenderer:e.rowRenderer,scrollToIndex:void 0})}))}}]),t}(),o.propTypes={context:d.default.object,loading:d.default.bool,loadingError:d.default.string,view:d.default.object,rows:d.default.array,canSelectRow:d.default.oneOf([!0,!1,"single","multiple"]),notCancelSelectionOnClickOutside:d.default.bool,onSelectionChange:d.default.func,selectedRows:d.default.objectOf(d.default.bool),order:d.default.arrayOf(d.default.shape({columnKey:d.default.string,order:d.default.oneOf(["asc","desc"])})),textFilter:d.default.string},i);t.default=y,e.exports=t.default},1325:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=a(14),d=n(a(1)),c=n(a(3)),f=a(6),p=a(8),m=a(5),h=n(a(278)),g=n(a(156)),b=a(74),v=n(a(19)),y=a(47),E=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeInputValue=a.changeInputValue.bind(a),a.getInputAdditionalProps=a.getInputAdditionalProps.bind(a),a.save=a.save.bind(a),a.cancel=a.cancel.bind(a),a.state={data:(0,m.cloneDeep)(a.props.data)||{},bodyMinHeight:null,changed:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){this.props.type===e.type&&(0,m.isEqual)(this.props.data,e.data)||this.setState({data:(0,m.cloneDeep)(e.data)||{},bodyMinHeight:null,changed:!1}),this.props.error!==e.error&&e.error&&y.toast.warn(e.error)}},{key:"cancel",value:function(){this.setState({data:(0,m.cloneDeep)(this.props.data)||{},bodyMinHeight:null,changed:!1}),this.props.onCancel()}},{key:"save",value:function(){var e=this.state.data;this.props.onSave(e)}},{key:"changeInputValue",value:function(e,t){var a=(0,b.changeDataValue)(this.props.context,this.state.data,this.props.data,e,t);this.setState({data:a,changed:!0})}},{key:"isChanged",value:function(){return this.state.changed}},{key:"resizeBodyAndScrollIfNeeded",value:function(e,t){var a=(0,u.findDOMNode)(e),n=this.bodyContainer.parentElement,r=a.offsetTop+a.clientHeight+t+20;if(n.scrollHeight<r&&(this.bodyContainer.style.minHeight=r+"px",this.setState({bodyMinHeight:r})),n.scrollTop+n.clientHeight<r){var o=r-n.clientHeight;o=o<0?0:o,g.default.top(n,o,{duration:200})}}},{key:"getInputAdditionalProps",value:function(e,t,a){var n=this,r=t;if("relation"===e)return{ref:function(e){return i=e},onOpen:function(){n.resizeBodyAndScrollIfNeeded(i,210)}};if("field"===e){var o=this.props.context.fields[r];if(o&&"DATE"===o.type1||"DATETIME"===o.type1||"TIME"===o.type1){var i,l="DATE"===o.type1?260:"TIME"===o.type1?100:350;return{ref:function(e){return i=e},onPickerShow:function(){n.resizeBodyAndScrollIfNeeded(i,l)}}}if(o&&"TEXT"===o.type1&&o.dataValidationSourceModelId&&o.dataValidationSourceFieldId)return{ref:function(e){return i=e},onOpen:function(){n.resizeBodyAndScrollIfNeeded(i,210)}}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.form,r=t.context,o=t.view,i=t.filter,l=t.loading,u=this.state,d=u.data,g=u.changed,b=u.bodyMinHeight;if(!d||"edit"===a&&0===(0,m.size)(d))return s.default.createElement("div",{className:(0,c.default)("view-form","view-form-no-data",this.props.className)},s.default.createElement("div",{className:"view-form-no-data-help-message"},s.default.createElement(f.FormattedMessage,{id:"Form.selectData.helpMessage",defaultMessage:"Select a row from the list"})));var y,E=s.default.createElement(f.FormattedMessage,{id:"Form.general.cancelButton",defaultMessage:"Cancel"}),w=void 0,C=null,k=!1,S=!0,_=!0;"create"===a?w=s.default.createElement(f.FormattedMessage,{id:"Form.create.saveButton",defaultMessage:"Create"}):"edit"===a?(k=d&&Array.isArray(d)&&d.length>1,w=s.default.createElement(f.FormattedMessage,{id:"Form.edit.saveButton",defaultMessage:"Update"}),k&&(C=s.default.createElement(p.Alert,{color:"secondary"},s.default.createElement(f.FormattedMessage,{id:"Form.edit.multipleEntriesAlert",defaultMessage:"The selected items may contain different values for some input. If you edit an attribute's value, all entries will be updated with the new value. Otherwise they will retain their initial values."})))):"duplicate"===a&&(w=s.default.createElement(f.FormattedMessage,{id:"Form.duplicate.saveButton",defaultMessage:"Duplicate"}));var x=r.models[o.data_model_id];return x&&x.virtual&&(S=Array.isArray(d)?d.length>0&&!!d[0].model_id:!!d.model_id),"edit"!==a||g||(S=!1,_=!1),y=s.default.createElement("div",{className:"modal-body-container",style:{minHeight:b},ref:function(t){return e.bodyContainer=t}},s.default.createElement(h.default,{content:n,type:"EDIT_FORM",view:o,formValues:d,filter:i,changeInputValue:this.changeInputValue,getInputAdditionalProps:this.getInputAdditionalProps})),l&&(S=!1,w=s.default.createElement("span",null,s.default.createElement(v.default.LoadingCircle,{fixedWidth:!0})," ",w)),s.default.createElement("div",{className:(0,c.default)("view-form","view-form-with-data",this.props.className)},s.default.createElement("div",{className:"view-form-body"},C,y),s.default.createElement("div",{className:"view-form-buttons"},s.default.createElement(p.Button,{color:"primary",onClick:this.save,disabled:!S},w)," ",s.default.createElement(p.Button,{color:"secondary",onClick:this.cancel,disabled:!_},E)))}}]),t}(),r.propTypes={context:d.default.object.isRequired,view:d.default.object.isRequired,type:d.default.oneOf(["create","edit","duplicate"]),form:d.default.any.isRequired,filter:d.default.object,data:d.default.oneOfType([d.default.object,d.default.arrayOf(d.default.object)]),onCancel:d.default.func.isRequired,onSave:d.default.func.isRequired,loading:d.default.bool,error:d.default.any},o);t.default=E,e.exports=t.default},1326:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=a(14),d=n(a(1)),c=n(a(3)),f=a(6),p=a(8),m=a(5),h=n(a(158)),g=n(a(278)),b=n(a(156)),v=a(74),y=n(a(19)),E=a(47),w=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeInputValue=a.changeInputValue.bind(a),a.getInputAdditionalProps=a.getInputAdditionalProps.bind(a),a.save=a.save.bind(a),a.cancel=a.cancel.bind(a),a.state={data:(0,m.cloneDeep)(a.props.data)||{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){this.props.type!==e.type&&this.setState({data:(0,m.cloneDeep)(e.data)||{}}),this.props.error!==e.error&&e.error&&E.toast.warn(e.error)}},{key:"cancel",value:function(){this.props.onCancel()}},{key:"save",value:function(){var e=this.state.data;this.props.onSave(e)}},{key:"changeInputValue",value:function(e,t){var a=(0,v.changeDataValue)(this.props.context,this.state.data,this.props.data,e,t);this.setState({data:a})}},{key:"resizeModalBodyAndScrollIfNeeded",value:function(e,t){var a=(0,u.findDOMNode)(e),n=this.modalBodyContainer.parentElement,r=a.offsetTop+a.clientHeight+t+20;if(n.scrollHeight<r&&(this.modalBodyContainer.style.minHeight=r+"px"),n.scrollTop+n.clientHeight<r){var o=r-n.clientHeight;o=o<0?0:o,b.default.top(n,o,{duration:200})}}},{key:"getInputAdditionalProps",value:function(e,t,a){var n=this,r=t;if("relation"===e)return{ref:function(e){return i=e},onOpen:function(){n.resizeModalBodyAndScrollIfNeeded(i,210)}};if("field"===e){var o=this.props.context.fields[r];if(o&&"DATE"===o.type1||"DATETIME"===o.type1||"TIME"===o.type1){var i,l="DATE"===o.type1?260:"TIME"===o.type1?100:350;return{ref:function(e){return i=e},onPickerShow:function(){n.resizeModalBodyAndScrollIfNeeded(i,l)}}}if(o&&"TEXT"===o.type1&&o.dataValidationSourceModelId&&o.dataValidationSourceFieldId)return{ref:function(e){return i=e},onOpen:function(){n.resizeModalBodyAndScrollIfNeeded(i,210)}}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.type,r=t.editForm,o=t.context,i=t.view,l=t.filter,u=t.loading,d=this.state.data,m=s.default.createElement(f.FormattedMessage,{id:"ModalEditForm.general.cancelButton",defaultMessage:"Cancel"}),b=void 0,v=void 0,E=null,w=null,C=!1,k=!0;if(a){"create"===n?(v=s.default.createElement(f.FormattedMessage,{id:"ModalEditForm.create.title",defaultMessage:"Create new entry"}),b=s.default.createElement(f.FormattedMessage,{id:"ModalEditForm.create.saveButton",defaultMessage:"Create"})):"edit"===n?(C=d&&Array.isArray(d)&&d.length>1,v=s.default.createElement(f.FormattedMessage,{id:"ModalEditForm.edit.title",defaultMessage:"Edit {numberOfEntries, plural, one {entry} other {# entries}}",values:{numberOfEntries:C?d.length:1}}),b=s.default.createElement(f.FormattedMessage,{id:"ModalEditForm.edit.saveButton",defaultMessage:"Update"}),C&&(w=s.default.createElement(p.Alert,{color:"secondary"},s.default.createElement(f.FormattedMessage,{id:"ModalEditForm.edit.multipleEntriesAlert",defaultMessage:"The selected items may contain different values for some input. If you edit an attribute's value, all entries will be updated with the new value. Otherwise they will retain their initial values."})))):"duplicate"===n&&(v=s.default.createElement(f.FormattedMessage,{id:"ModalEditForm.duplicate.title",defaultMessage:"Duplicate entry"}),b=s.default.createElement(f.FormattedMessage,{id:"ModalEditForm.duplicate.saveButton",defaultMessage:"Duplicate"}));var S=o.models[i.data_model_id];S&&S.virtual&&(k=Array.isArray(d)?d.length>0&&!!d[0].model_id:!!d.model_id),E=s.default.createElement("div",{className:"modal-body-container",ref:function(t){return e.modalBodyContainer=t}},s.default.createElement(g.default,{content:r,type:"EDIT_FORM",view:i,formValues:d,filter:l,changeInputValue:this.changeInputValue,getInputAdditionalProps:this.getInputAdditionalProps}))}return u&&(k=!1,b=s.default.createElement("span",null,s.default.createElement(y.default.LoadingCircle,{fixedWidth:!0})," ",b)),s.default.createElement(h.default,{className:(0,c.default)("modal-edit-form","modal-lg",this.props.className),isOpen:a,draggable:!0,toggle:function(){return null}},s.default.createElement(p.ModalHeader,{toggle:this.cancel},v),s.default.createElement(p.ModalBody,null,w,E),s.default.createElement(p.ModalFooter,null,s.default.createElement(p.Button,{color:"primary",onClick:this.save,disabled:!k},b)," ",s.default.createElement(p.Button,{color:"secondary",onClick:this.cancel},m)))}}]),t}(),r.propTypes={context:d.default.object.isRequired,view:d.default.object.isRequired,open:d.default.bool.isRequired,type:d.default.oneOf(["create","edit","duplicate",!1]),editForm:d.default.any.isRequired,filter:d.default.object,data:d.default.oneOfType([d.default.object,d.default.arrayOf(d.default.object)]),onCancel:d.default.func.isRequired,onSave:d.default.func.isRequired,loading:d.default.bool,error:d.default.any},o);t.default=(0,f.injectIntl)(w),e.exports=t.default},1327:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(18),c=a(6),f=(n(a(3)),a(8)),p=n(a(43)),m=a(231),h=a(22),g=a(120),b=a(116),v=a(498),y=a(65),E=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderTab=a.renderTab.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"wrapWithContextMenu",value:function(e,t){var a=this.props.groupTabs;return s.default.createElement(b.ContextMenuTrigger,{id:v.tabControllerContextMenuId,tab:e,isBreadcrumbItem:!0,groupTabs:a,collect:function(e){return e},holdToDisplay:(0,g.getDefaultHoldToDisplayValue)()},t)}},{key:"renderTab",value:function(e,t){var a=this.props,n=a.intl,r=a.context,o=a.selectTab,i=this.props.tab,l=(0,m.getTitleForTab)(r,e,n);return i.id===e.id?s.default.createElement(f.BreadcrumbItem,{key:t,active:!0},this.wrapWithContextMenu(e,s.default.createElement("span",{className:"tab-name"},l))):s.default.createElement(f.BreadcrumbItem,{key:t},this.wrapWithContextMenu(e,s.default.createElement(p.default,{onClick:function(){return o(e.id)}},l)))}},{key:"render",value:function(){var e=this.props.groupTabs;return s.default.createElement(f.Breadcrumb,{className:"tab-breadcrumbs"},e.map(this.renderTab))}}]),t}(),r.propTypes={tabId:u.default.number.isRequired},o),w={selectTab:h.selectTab};t.default=(0,d.connect)(function(e,t){var a=t.tabId,n=(0,y.getTab)(e,a),r=(0,y.getTabIndexInGroup)(e,a),o=(0,y.getGroupTabs)(e,n.groupId).filter(function(e,t){return t<=r});return{context:e.context,tab:n,groupTabs:o}},w)((0,c.injectIntl)(E)),e.exports=t.default},1328:function(e,t,a){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"',n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'"';return new d({raw:!1,separator:t,quote:a,escape:n,newline:"\n"}).parseData(e)};var r=a(1329),o=a(1330),i=r('"')[0],l=r(",")[0],s=r("\r")[0],u=r("\n")[0],d=function(e){e||(e={}),this.separator=e.separator?r(e.separator)[0]:l,this.quote=e.quote?r(e.quote)[0]:i,this.escape=e.escape?r(e.escape)[0]:this.quote,e.newline?(this.newline=r(e.newline)[0],this.customNewline=!0):(this.newline=u,this.customNewline=!1),this._raw=!!e.raw,this._prev=null,this._prevEnd=0,this._first=!0,this._quoted=!1,this._escaped=!1,this._empty=this._raw?o(0):""};d.prototype.parseData=function(e){"string"==typeof e&&(e=r(e));var t=0,a=e;this._parserResult=[],this._prev&&(t=this._prev.length,a=n.concat([this._prev,e]),this._prev=null);for(var o=a.length,i=t;i<o;i++){var l=a[i],d=i+1<o?a[i+1]:null;this._escaped||l!==this.escape||d!==this.quote||i===t?l!==this.quote?this._quoted||(this._first&&!this.customNewline&&(l===u?this.newline=u:l===s&&d!==u&&(this.newline=s)),l===this.newline&&(this._online(a,this._prevEnd,i+1),this._prevEnd=i+1)):this._escaped?this._escaped=!1:this._quoted=!this._quoted:this._escaped=!0}return this._prevEnd===o?this._prevEnd=0:o-this._prevEnd<e.length?(this._prev=e,this._prevEnd-=o-e.length):this._prev=a,!this._escaped&&this._prev&&this._online(this._prev,this._prevEnd,this._prev.length+1),this._parserResult},d.prototype._online=function(e,t,a){a--,!this.customNewline&&e.length&&e[a-1]===s&&a--;for(var n=this.separator,r=[],o=!1,i=t,l=t;l<a;l++){var u=!o&&e[l]===this.quote,d=o&&e[l]===this.quote&&l+1<=a&&e[l+1]===n,c=o&&e[l]===this.escape&&l+1<a&&e[l+1]===this.quote;u||d?o=!o:c?l++:e[l]!==n||o||(r.push(this._oncell(e,i,l)),i=l+1)}i<a&&r.push(this._oncell(e,i,a)),e[a-1]===n&&r.push(this._empty),this._first&&(this._first=!1),this._parserResult.push(r)},d.prototype._oncell=function(e,t,a){e[t]===this.quote&&e[a-1]===this.quote&&(t++,a--);for(var n=t,r=t;n<a;n++)e[n]===this.escape&&n+1<a&&e[n+1]===this.quote&&n++,r!==n&&(e[r]=e[n]),r++;return this._onvalue(e,t,r)},d.prototype._onvalue=function(e,t,a){return this._raw?e.slice(t,a):e.toString("utf-8",t,a)},e.exports=t.default}).call(t,a(10).Buffer)},133:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllByType=function(e,t){var a=[];return e&&function e(t,a,n){Array.isArray(t)?t.forEach(function(t){return e(t,a,n)}):(t.type===a&&n.push(t),t.children&&e(t.children,a,n))}(e,t,a),a}},1333:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t=l.default.defer(),a=new o.default.Workbook,n=(0,i.createReadStream)(e),s=a.xlsx.createInputStream();return s.on("done",function(){t.resolve()}).on("error",function(e){t.reject(e)}),n.pipe(s),t.promise.then(function(){var e=[];return a.eachSheet(function(t,a){var n=[];t.eachRow(function(e,t){var a=[];e.eachCell({includeEmpty:!0},function(e,t){var n=e.value;if(void 0===n)n=null;else if("object"===(void 0===n?"undefined":r(n)))if(n instanceof Date){var o=n.getTimezoneOffset();n=new Date(n.getTime()+60*o*1e3)}else n=n.richText?n.richText.map(function(e){return e.text}).join(""):n.result||n.text||n.error;a.push(n)}),n.push(a)}),e.push({name:t.name,data:n})}),e})};var o=n(a(554)),i=a(1334),l=n(a(122));e.exports=t.default},1335:function(e,t,a){function n(e){return r.createElement("svg",e,r.createElement("g",null,r.createElement("g",null,[r.createElement("path",{strokeWidth:"3",stroke:"#000",fill:"none",d:"M0,0 L35,0 L35,23 L0,23 Z",key:0}),r.createElement("path",{strokeWidth:"2",stroke:"#000",fill:"none",d:"M0,11 L35,11",key:1}),r.createElement("path",{strokeWidth:"2",stroke:"#000",fill:"none",d:"M12,0 L12,23",key:2}),r.createElement("path",{strokeWidth:"2",stroke:"#000",fill:"none",d:"M23,0 L23,23",key:3}),r.createElement("path",{strokeWidth:"2",stroke:"#000",fill:"#000",d:"M0,28 L35,28 L35,35 L0,35 Z",key:4})])))}var r=a(0);n.displayName="FooterIcon",n.defaultProps={version:"1.1",id:"Capa_1",x:"0px",y:"0px",width:"35px",height:"35px",viewBox:"0 0 35 35",style:{enableBackground:"new 0 0 35 35"},xmlSpace:"preserve"},e.exports=n,n.default=n},1336:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n){if(!e)return!!t;if(!t)return!0;if(e.id!=t.id||e.updated_at!==t.updated_at)return!0;if(a.length!==n.length)return!0;for(var r=0;r<a.length;r++){var o=a[r],i=n[r];if(o.id!=i.id||o.updated_at!==i.updated_at)return!0}if(e.permissions.length!==t.permissions.length)return!0;for(r=0;r<e.permissions.length;r++){var l=e.permissions[r],s=t.permissions[r];if(l.id!=s.id||l.updated_at!==s.updated_at)return!0}return!1}function o(){return L++}function i(e,t,a){return e&&e.id?"vcol_"+e.id:"temp_col_"+t.tempId}Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),f=n(c),p=n(a(1)),m=a(18),h=a(5),g=a(6),b=a(8),v=a(77),y=a(90),E=a(22),w=n(a(232)),C=n(a(603)),k=a(502),S=a(114),_=n(a(1426)),x=n(a(1428)),T=n(a(1429)),M=n(a(1430)),R=n(a(1432)),I=a(133),O=a(187),F=n(a(19)),N=n(a(285)),A=a(132),P=n(A),V=(0,g.defineMessages)({newViewBaseName:{id:"EditView.newViewBaseName",defaultMessage:"New View"},cloneViewBaseName:{id:"EditView.cloneViewBaseName",defaultMessage:"Copy"},deleteTitle:{id:"EditView.delete.confirmTitle",defaultMessage:"Confirm deletion"},deleteMessage:{id:"EditView.delete.confirmMessage",defaultMessage:"Are you sure to delete the view?"},deleteButton:{id:"EditView.delete.confirmButton",defaultMessage:"Delete the view"},errorTitle:{id:"EditView.error.title",defaultMessage:"Error"},createErrorMessage:{id:"EditView.error.createErrorMessage",defaultMessage:"Error trying to create the view."},deleteErrorMessage:{id:"EditView.error.deleteErrorMessage",defaultMessage:"Error trying to delete the view"},serverUpdateReceivedTitle:{id:"EditView.serverUpdateReceivedTitle",defaultMessage:"Changes detected"},serverUpdateReceivedMessage:{id:"EditView.serverUpdateReceivedMessage",defaultMessage:"The view has been reloaded because the server sent some changes."}}),L=1,D=["id","database_id","data_view_id","field_id","relation_id","relation_is_back"],B=(s=l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.save=a.save.bind(a),a.cancel=a.cancel.bind(a),a.askDelete=a.askDelete.bind(a),a.deleteView=a.deleteView.bind(a),a.changeName=a.changeName.bind(a),a.validateName=a.validateName.bind(a),a.changeIcon=a.changeIcon.bind(a),a.onColumnSortEnd=a.onColumnSortEnd.bind(a),a.onColumnUpdate=a.onColumnUpdate.bind(a),a.onColumnDelete=a.onColumnDelete.bind(a),a.onColumnNameChanged=a.onColumnNameChanged.bind(a),a.setSelectedColumn=a.setSelectedColumn.bind(a),a.addColumn=a.addColumn.bind(a),a.setPermissions=a.setPermissions.bind(a),a.setFilters=a.setFilters.bind(a),a.startEditForm=a.startEditForm.bind(a),a.saveEditForm=a.saveEditForm.bind(a),a.stopEditForm=a.stopEditForm.bind(a),a.updatePivotInfo=a.updatePivotInfo.bind(a),a.onListSearchTemplateChange=a.onListSearchTemplateChange.bind(a),a.nextTempViewColumnId=1,a.state=a.initialState(e),a.isNew()&&(a.state.changed=!0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),d(t,[{key:"initialState",value:function(e){var t=void 0,a=void 0,n=void 0;e.view||this.state&&this.state.view?(t={},a=e.view||this.state&&this.state.view,n=e.viewColumns||this.state&&this.state.viewColumns||[]):(a=(t=this.createNewView(e)).view,n=t.viewColumns);var r=null;"TABLE"!==a.type&&a.type||(r=[],a.info&&a.info.table&&a.info.table.columns&&a.info.table.columns.forEach(function(e){var t=u({},e,{tempId:o()});if(e.viewColumnId){var a=(0,h.find)(n,function(t){return t.id===e.viewColumnId});D.forEach(function(e){t[e]=a&&a[e]}),delete t.viewColumnId}r.push(t)}));var i=a.info&&a.info.editForm||null;if(i){i=(0,h.cloneDeep)(i);var l=(0,I.getAllByType)(i,"input");(0,h.each)(l,function(e){var t=(0,h.find)(n,function(t){return t.id===e.viewColumnId});D.forEach(function(a){e[a]=t&&t[a]}),delete e.viewColumnId})}var s=a.info&&a.info.form||null;if(s){s=(0,h.cloneDeep)(s);var d=(0,I.getAllByType)(s,"input");(0,h.each)(d,function(e){var t=(0,h.find)(n,function(t){return t.id===e.viewColumnId});D.forEach(function(a){e[a]=t&&t[a]}),delete e.viewColumnId})}var c=a.info&&a.info.list||null;c&&(c=(0,h.cloneDeep)(c));var f=null;return"PIVOT_TABLE"===a.type&&((f=a.info&&a.info.pivotInfo||{}).valueAggrationType||(f=u({},f,{valueAggrationType:"COUNT"}))),t.cloned&&(n=[],t.viewColumns=[]),u({view:a,viewColumns:n,tableColumns:r,editForm:i,form:s,list:c,pivotInfo:f,changed:!1,askDelete:!1,saving:!1,error:null,editingForm:!1,selectedColumn:null},t)}},{key:"createNewView",value:function(e){var t=e.model,a=e.newView,n=e.context,r=e.intl.formatMessage,o=void 0,i=void 0,l=void 0,s=void 0;if(a.cloneViewId){var u=n.views[a.cloneViewId];i=!0,o=(l=(0,O.clone)(n,u)).name+" "+r(V.cloneViewBaseName),s=(0,h.filter)(n.viewColumns,function(e){return e.data_view_id===u.id})||[],s=(0,h.sortBy)(s,function(e){return e.id})}else l={data_model_id:t.id,type:a.type||"TABLE",info:{}},o=r(V.newViewBaseName);var d=new RegExp("^"+o+" ([0-9]+)$"),c=0;return(0,h.each)(n.views,function(e){var t=e.name.match(d);if(t){var a=t[1];c=Math.max(c,a)}}),l.name=o+" "+(c+1),{view:l,viewColumns:s||[],cloned:i}}},{key:"componentDidMount",value:function(){this.downloadData()}},{key:"downloadData",value:function(){var e=this;if("PIVOT_TABLE"===this.state.view.type){var t=(0,S.getModelDataQuery)(this.props.model);this.setState({downloadingModelData:!0,downloadingModelDataError:null,modelData:null}),this.props.simpleFetch(t).then(function(t){t.type===E.UI_TAB_SIMPLE_FETCH_SUCCESS?e.setState({downloadingModelData:!1,modelData:t.response.data}):e.setState({downloadingModelData:!1,downloadingModelDataError:t.response||"Error downloading model data"})})}}},{key:"checkNameExists",value:function(e){var t=this.props.context,a=this.state.view.id;return(0,h.some)(t.views,function(t){return t.id!==a&&t.name===e})}},{key:"isNew",value:function(){return!this.state.view.id}},{key:"createViewObject",value:function(){var e=this,t=this.state.view,a=[],n={},r={},o=function(e,t,a){var n=""+(e||0);return t&&(n+="-"+t+"-"+(a?"b":"f")),n},i=function(t,i,l){if(t||i){var s=o(t,i,l);if(!n[s]){var u={_tempViewColumnId:e.nextTempViewColumnId++,field_id:t};i&&(u.relation_id=i,u.relation_is_back=l),n[s]=u}var d=n[s],c=d.id?d.id:"t-"+d._tempViewColumnId;return r[c]||(a.push(d),r[c]=d),d}};this.state.viewColumn&&this.state.viewColumns.forEach(function(e){var t=o(e.field_id,e.relation_id,e.relation_is_back);e=(0,h.clone)(e),n[t]=e});var l=void 0;this.state.tableColumns&&(l=this.state.tableColumns.map(function(t){var a=i(t.field_id,t.relation_id,t.relation_is_back);if(delete(t=(0,h.clone)(t)).tempId,D.forEach(function(e){delete t[e]}),t.viewColumnId=a&&a.id,t._tempViewColumnId=a&&a._tempViewColumnId,a){var n=a.field_id&&e.props.context.fields[a.field_id],r=a.field_id&&!a.relation_id&&n&&!n.function_id&&!n.readOnly;t.edit=r&&t.edit||!1,a.edit=a.edit||t.edit}else t.edit=!1;return t}));var s=this.state.editForm||void 0;if(s){s=(0,h.cloneDeep)(s);var d=(0,I.getAllByType)(s,"input");(0,h.each)(d,function(e){var t=i(e.field_id,e.relation_id,e.relation_is_back);D.forEach(function(t){delete e[t]}),e.viewColumnId=t&&t.id,e._tempViewColumnId=t&&t._tempViewColumnId,t&&(t.edit=!0)})}var c=this.state.form||void 0;if(c){c=(0,h.cloneDeep)(c);var f=(0,I.getAllByType)(c,"input");(0,h.each)(f,function(e){var t=i(e.field_id,e.relation_id,e.relation_is_back);D.forEach(function(t){delete e[t]}),e.viewColumnId=t&&t.id,e._tempViewColumnId=t&&t._tempViewColumnId,t&&(t.edit=!0)})}var p=this.state.list||void 0;p&&((p=(0,h.cloneDeep)(p)).searchTemplate||[]).forEach(function(e){i(e.field_id,e.relation_id,e.relation_is_back)});var m=this.state.pivotInfo||void 0;if(m){(m=(0,h.cloneDeep)(m)).rows=m.rows||[],m.columns=m.columns||[];var g=function(e){var t=i(e.fieldId,e.relationId,e.relationIsBack);e.viewColumnId=t&&t.id,e._tempViewColumnId=t&&t._tempViewColumnId};m.rows.forEach(function(e){return g(e)}),m.columns.forEach(function(e){return g(e)}),m.value&&g(m.value)}return u({},t,{columns:a,info:{table:"TABLE"!==t.type&&t.type?void 0:{columns:l},editForm:s,form:c,list:p,pivotInfo:m}})}},{key:"componentWillReceiveProps",value:function(e){var t,a;t=this.props,a=e,r(t.view,a.view,t.viewColumns||[],a.viewColumns||[])&&(this.state.saving?this.setState(this.initialState(e)):(this.setState(u({},this.initialState(e),{error:{during:"serverUpdate",error:null}})),this.TableView&&this.TableView.recomputeGridSize()))}},{key:"save",value:function(){var e=this,t=this.isNew();this.setState({saving:!0,error:null}),this.props.saveView(this.createViewObject()).then(function(a){if(a.response&&a.response.id){var n=a.response;if(t)return void e.props.updateTabOptions(e.props.tabId,{viewId:n.id});i=e.state,l=n,r(i.view,l,i.viewColumns||[],l.viewColumns||[])||e.setState(u({},e.initialState(e.props)))}else{var o=a.response;console.log(o),e.setState({saving:!1,error:{during:"create",error:o}})}var i,l})}},{key:"cancel",value:function(){var e=this;this.isNew()?this.setState({changed:!1},function(){e.props.closeTab(e.props.tabId)}):(this.setState(this.initialState(this.props)),this.TableView&&this.TableView.recomputeGridSize())}},{key:"askDelete",value:function(){this.setState({askDelete:!0,error:null})}},{key:"deleteView",value:function(){var e=this;this.props.deleteView(this.state.view.id).then(function(t){if(t.response&&1===t.response.count)e.props.closeTab(e.props.tabId);else{var a=t.response;console.log(a),e.setState({askDelete:!1,error:{during:"delete",error:a}})}})}},{key:"changeName",value:function(e){this.setState({view:u({},this.state.view,{name:e}),changed:!0})}},{key:"validateName",value:function(e){return!this.checkNameExists(e)}},{key:"changeIcon",value:function(e){this.setState({view:u({},this.state.view,{icon:e}),changed:!0})}},{key:"onColumnSortEnd",value:function(e,t){var a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(this.state.tableColumns)),n=this.state.tableColumns[e];a.splice(e,1),a.splice(t,0,n);var r=this.state.selectedColumn;r>=0&&(r===e?r=t:e<t&&r>e&&r<=t?r--:e>t&&r<e&&r>=t&&r++),this.setState({tableColumns:a,changed:!0,selectedColumn:r})}},{key:"renderViewDetails",value:function(){var e=this.props,t=e.model,a=e.openEditModel,n=this.state.view;return f.default.createElement(b.Row,null,f.default.createElement(b.Col,null,f.default.createElement("div",{className:"view-detail-container"},f.default.createElement("span",{className:"text-muted"},f.default.createElement(g.FormattedMessage,{id:"EditView.viewName",defaultMessage:"View name"}),":"," "),f.default.createElement(v.EditableText,{value:n.name,onChange:this.changeName,validate:this.validateName,className:"view-name-editable"})),f.default.createElement("div",{className:"view-detail-container"},f.default.createElement("span",{className:"text-muted"},f.default.createElement(g.FormattedMessage,{id:"EditView.icon",defaultMessage:"Icon"}),":"," "),f.default.createElement(v.IconWithPicker,{icon:n.icon||y.defaultViewIcon,button:!0,onChange:this.changeIcon,className:"view-icon-editable"})),f.default.createElement("div",{className:"view-detail-container"},f.default.createElement("span",{className:"text-muted"},f.default.createElement(g.FormattedMessage,{id:"EditView.modelName",defaultMessage:"Model"}),":"," "),f.default.createElement(v.Link,{onClick:function(e){return a(t.id,e)},className:"view-model-name"},t.name))))}},{key:"setSelectedColumn",value:function(e){var t=e.selectedColumns,a=Object.keys(t),n=a[0]?parseInt(a[0],10):null;this.setState({selectedColumn:n})}},{key:"onColumnUpdate",value:function(e,t){var a=(0,h.clone)(this.state.tableColumns);a[e]=t,this.setState({tableColumns:a,changed:!0})}},{key:"onColumnDelete",value:function(e){var t=(0,h.clone)(this.state.tableColumns);t.splice(e,1);var a=this.state.selectedColumn,n=a===e?null:a>e?a-1:a;this.setState({tableColumns:t,selectedColumn:n,changed:!0})}},{key:"onColumnNameChanged",value:function(e,t){this.TableView&&this.TableView.recomputeGridSize()}},{key:"addColumn",value:function(){var e=(0,h.clone)(this.state.tableColumns);e.push({tempId:o()});var t=e.length-1;this.setState({tableColumns:e,selectedColumn:t,changed:!0})}},{key:"setPermissions",value:function(e){this.setState({view:u({},this.state.view,{permissions:e}),changed:!0})}},{key:"setFilters",value:function(e){this.setState({view:u({},this.state.view,e),changed:!0})}},{key:"onListSearchTemplateChange",value:function(e){this.setState({list:u({},this.state.list,{searchTemplate:e}),changed:!0})}},{key:"renderColumns",value:function(){var e,t,a,n=this,r=this.props.context,o=this.state,l=o.view,s=o.tableColumns,u=o.selectedColumn,d=o.editForm,c=function(e,t,a){return t.map(function(t,n){return(0,k.mapViewColumnToTableColumn)(e,t,t,n,a,i)})}(l,s,r),p=(0,k.generateTestRows)(l,c,4,r);return f.default.createElement("div",null,f.default.createElement(b.Row,null,f.default.createElement(b.Col,null,f.default.createElement("div",{className:"edit-view-columns-table"},c.length>0&&f.default.createElement(w.default,{ref:function(e){return n.TableView=e},columns:c,rows:p,sortColumns:!0,onColumnSortEnd:this.onColumnSortEnd,canSelectColumn:"single",onSelectionChange:this.setSelectedColumn,selectedColumns:"number"==typeof u?(e={},t=u,a=!0,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e):null,scrollToColumn:"number"==typeof u?u:null,notCancelSelectionOnClickOutside:!0}),0===c.length&&f.default.createElement("div",{className:"edit-view-empty-container"},f.default.createElement(g.FormattedMessage,{id:"EditView.emptyView",defaultMessage:"Empty view"}),f.default.createElement("div",{className:"edit-view-empty-container-helper"},f.default.createElement(g.FormattedMessage,{id:"EditView.emptyView.helper",defaultMessage:"Start by adding a column..."})))))),f.default.createElement(b.Row,{style:{marginTop:20}},f.default.createElement(b.Col,null,null===u?f.default.createElement(b.Alert,{color:"secondary"},f.default.createElement(g.FormattedMessage,{id:"EditView.column.selectColumnToEditMessage",defaultMessage:"Select a column to edit"})):f.default.createElement("div",{className:"column-edit-container"},f.default.createElement(_.default,{view:l,columns:s,columnIndex:u,context:r,onUpdate:this.onColumnUpdate,onDelete:this.onColumnDelete,onColumnNameChanged:this.onColumnNameChanged,editForm:d})))))}},{key:"renderEditingForm",value:function(){var e=(0,I.getAllByType)(this.state.editForm||[],"input"),t=e.filter(function(e){return e.field_id}).length,a=e.filter(function(e){return e.relation_id}).length;return f.default.createElement("div",null,f.default.createElement(b.Button,{outline:!0,onClick:this.startEditForm},f.default.createElement(g.FormattedMessage,{id:"EditView.editingFormSection.button",defaultMessage:"Open layout editor"})),f.default.createElement(b.Alert,{color:"secondary",style:{marginTop:20}},t+a===0?f.default.createElement(g.FormattedMessage,{id:"EditView.editingFormSection.noEditingForm.help",defaultMessage:"You haven't specified an editing form yet. Users will not be able to create/edit rows."}):f.default.createElement(g.FormattedMessage,{id:"EditView.editingFormSection.help",defaultMessage:"The form contains {fields, plural, one {1 attribute} other {# attributes}} and {relations, plural, one {1 relation} other {# relations}}.",values:{fields:t,relations:a}})))}},{key:"renderList",value:function(){var e=this.props,t=e.model,a=e.context,n=this.state.list,r=n&&n.searchTemplate||[],o=t.fields.map(function(e){return a.fields[e]}),i=t.relations.map(function(e){return a.relations[e]}),l=(0,A.generateFakeData)(r,a,o,i,1)[0];return f.default.createElement("div",null,f.default.createElement(g.FormattedMessage,{id:"EditView.editingListSection.title",defaultMessage:'Select the details of the model "{modelName}" you want to see in the list',values:{modelName:t.name}}),f.default.createElement(N.default,{context:a,model:t,searchTemplate:r,onChange:this.onListSearchTemplateChange}),f.default.createElement(b.Card,{style:{marginTop:20}},f.default.createElement(b.CardHeader,null,f.default.createElement(g.FormattedMessage,{id:"EditView.editingListSection.searchTemplate.previewTitle",defaultMessage:"Preview"})),f.default.createElement(b.CardBody,null,f.default.createElement(P.default,{className:"model-search-template-preview",context:a,model:t,searchTemplate:r,data:l,warningMessage:f.default.createElement(g.FormattedMessage,{id:"EditView.editingListSection.searchTemplate.previewWarningMessage",defaultMessage:"Please select at least one detail"})}))))}},{key:"renderForm",value:function(){var e=(0,I.getAllByType)(this.state.form||[],"input"),t=e.filter(function(e){return e.field_id}).length,a=e.filter(function(e){return e.relation_id}).length;return f.default.createElement("div",null,f.default.createElement(b.Button,{outline:!0,onClick:this.startEditForm},f.default.createElement(g.FormattedMessage,{id:"EditView.formSection.button",defaultMessage:"Open layout editor"})),f.default.createElement(b.Alert,{color:"secondary",style:{marginTop:20}},t+a===0?f.default.createElement(g.FormattedMessage,{id:"EditView.formSection.noEditingForm.help",defaultMessage:"You haven't specified a form yet. Users will see an empty form."}):f.default.createElement(g.FormattedMessage,{id:"EditView.editingFormSection.help",defaultMessage:"The form contains {fields, plural, one {1 attribute} other {# attributes}} and {relations, plural, one {1 relation} other {# relations}}.",values:{fields:t,relations:a}})))}},{key:"renderPivotTable",value:function(){var e=this,t=this.props,a=t.model,n=t.context,r=this.state,o=r.pivotInfo,i=r.downloadingModelData,l=r.downloadingModelDataError,s=r.modelData,u=void 0;if(o&&o.rows&&0!==o.rows.length&&(o.columns&&0!==o.columns.length||o.showTotalColumn)&&o.value){if(i)u=f.default.createElement("div",{className:"edit-view-pivot-table"},f.default.createElement(F.default.LoadingCircle,null)," ",f.default.createElement(g.FormattedMessage,{id:"EditView.pivotInfo.downloadingModelData",defaultMessage:"Downloading model data..."}));else if(l)u=f.default.createElement("div",{className:"edit-view-pivot-table"},f.default.createElement(b.Alert,{color:"danger"},f.default.createElement(g.FormattedMessage,{id:"EditView.pivotInfo.downloadingModelDataError",defaultMessage:"There was an error downloading the model data. Please retry"}),f.default.createElement("br",null),f.default.createElement(v.Link,{onClick:function(){return e.downloadData()}},f.default.createElement(g.FormattedMessage,{id:"EditView.pivotInfo.downloadingModelDataError.retry",defaultMessage:"Retry"}))));else if(s)if(0===s.length)u=f.default.createElement("div",{className:"edit-view-pivot-table"},f.default.createElement(b.Alert,{color:"warning"},f.default.createElement(g.FormattedMessage,{id:"EditView.pivotInfo.noDataForPreview",defaultMessage:"There is no data in the model to build a preview. Please populate the model to see a preview of the Pivot Table."})));else{var d=function(e){var t="col_"+e.fieldId,a=n.fields[e.fieldId];return e.relationId&&(t=(e.relationIsBack?"obj_back_":"obj_")+e.relationId+"."+t),{key:t,field:a}},c=o.columns?o.columns.map(function(e){return d(e)}):[],p=o.rows?o.rows.map(function(e){return d(e)}):[],m=o.value?d(o.value):null;m&&(m.aggregationType=o.valueAggrationType);var h=s;u=f.default.createElement("div",{className:"edit-view-pivot-table"},f.default.createElement(C.default,{pivotColumns:c,pivotRows:p,pivotValue:m,rows:h,showTotalColumn:o.showTotalColumn,totalColumnName:o.totalColumnName}))}}else u=f.default.createElement("div",{className:"edit-view-pivot-table"},f.default.createElement(b.Alert,{color:"info"},f.default.createElement(g.FormattedMessage,{id:"EditView.pivotInfo.setPivotSettings",defaultMessage:"Please select at least one row attribute, the value attribute, and either choose at least one column attribute or to show the total value for each row."})));return f.default.createElement("div",null,f.default.createElement(b.Row,null,f.default.createElement(b.Col,null,u)),f.default.createElement(b.Row,{style:{paddingTop:20}},f.default.createElement(b.Col,null,f.default.createElement(M.default,{model:a,context:n,pivotInfo:o,updatePivotInfo:this.updatePivotInfo}))))}},{key:"updatePivotInfo",value:function(e){this.setState({pivotInfo:e,changed:!0})}},{key:"getEditForm",value:function(){var e=this.state,t=e.view,a=e.form,n=e.editForm;return"TABLE"===t.type&&(a=n),a||(a=function(e,t){var a=[];return t&&t.virtual&&a.push({type:"input",inputType:"modelId"}),[{type:"row",children:[{type:"column",children:a}]}]}(0,this.props.model)),a}},{key:"startEditForm",value:function(){this.setState({editingForm:!0})}},{key:"saveEditForm",value:function(e){var t=this.state.view;"TABLE"===t.type?this.setState({editForm:e,editingForm:!1,changed:!0}):"FORM"===t.type&&this.setState({form:e,editingForm:!1,changed:!0})}},{key:"stopEditForm",value:function(){this.setState({editingForm:!1})}},{key:"tabCanBeClosed",value:function(e){this.state.changed?e(!1,!0):e(!0)}},{key:"render",value:function(){var e=this,t=this.props,a=(t.user,t.model,t.context),n=t.intl,r=this.state,o=r.view,i=r.changed,l=r.askDelete,s=r.saving,d=r.error,c=r.editingForm,p=n.formatMessage,m=null;"TABLE"===o.type?m="EDIT_FORM":"FORM"===o.type&&(m="FORM");var h=this.isNew(),y=!h,E=i,w=i||h,C=s,k=null;if(d){switch(d.during){case"create":k={title:p(V.errorTitle),message:p(V.createErrorMessage)};break;case"delete":k={title:p(V.errorTitle),message:p(V.deleteErrorMessage)};break;case"serverUpdate":k={title:p(V.serverUpdateReceivedTitle),message:p(V.serverUpdateReceivedMessage)}}k||(k={}),d.error&&(k.message=f.default.createElement("div",null,k.message||"",f.default.createElement("pre",null,JSON.stringify(d.error,null,2))))}var S=void 0;return S="PIVOT_TABLE"===o.type?f.default.createElement(g.FormattedMessage,{id:"EditView.title.pivotTable",defaultMessage:"Pivot View"}):"FORM"===o.type?f.default.createElement(g.FormattedMessage,{id:"EditView.title.formView",defaultMessage:"Form View"}):f.default.createElement(g.FormattedMessage,{id:"EditView.title.tableView",defaultMessage:"Table view"}),f.default.createElement(v.Container,{className:"edit-view"},f.default.createElement(b.Card,null,f.default.createElement(b.CardHeader,null,S,f.default.createElement("div",{className:"pull-right",style:{marginBottom:-5}},y&&f.default.createElement(b.Button,{color:"danger",onClick:this.askDelete},f.default.createElement(g.FormattedMessage,{id:"EditView.deleteView",defaultMessage:"Delete view"}))," ",E&&f.default.createElement(b.Button,{color:"success",onClick:this.save},f.default.createElement(g.FormattedMessage,{id:"EditView.save",defaultMessage:"Save"}))," ",w&&f.default.createElement(b.Button,{color:"warning",onClick:this.cancel},f.default.createElement(g.FormattedMessage,{id:"EditView.cancel",defaultMessage:"Cancel"}))," ")),f.default.createElement(b.CardBody,null,this.renderViewDetails())),("TABLE"===o.type||!o.type)&&f.default.createElement(b.Card,null,f.default.createElement(b.CardHeader,null,f.default.createElement(g.FormattedMessage,{id:"EditView.columnsSectionTitle",defaultMessage:"Columns"}),f.default.createElement("div",{className:"pull-right",style:{marginBottom:-5}},f.default.createElement(b.Button,{outline:!0,onClick:this.addColumn},f.default.createElement(g.FormattedMessage,{id:"EditView.addColumn",defaultMessage:"Add column"})))),f.default.createElement(b.CardBody,null,this.renderColumns())),("TABLE"===o.type||!o.type)&&f.default.createElement(b.Card,null,f.default.createElement(b.CardHeader,null,f.default.createElement(g.FormattedMessage,{id:"EditView.editingFormSectionTitle",defaultMessage:"Editing form"})),f.default.createElement(b.CardBody,null,this.renderEditingForm())),"FORM"===o.type&&f.default.createElement(b.Card,null,f.default.createElement(b.CardHeader,null,f.default.createElement(g.FormattedMessage,{id:"EditView.listSectionTitle",defaultMessage:"List"})),f.default.createElement(b.CardBody,null,this.renderList())),"FORM"===o.type&&f.default.createElement(b.Card,null,f.default.createElement(b.CardHeader,null,f.default.createElement(g.FormattedMessage,{id:"EditView.formSectionTitle",defaultMessage:"Form"})),f.default.createElement(b.CardBody,null,this.renderForm())),"PIVOT_TABLE"===o.type&&f.default.createElement(b.Card,null,f.default.createElement(b.CardHeader,null,f.default.createElement(g.FormattedMessage,{id:"EditView.pivotTableSectionTitle",defaultMessage:"Pivot table settings"})),f.default.createElement(b.CardBody,null,this.renderPivotTable())),f.default.createElement(b.Card,null,f.default.createElement(b.CardHeader,null,f.default.createElement(g.FormattedMessage,{id:"EditView.filtersSectionTitle",defaultMessage:"Filters"})),f.default.createElement(b.CardBody,null,f.default.createElement(T.default,{context:a,view:o,onFiltersChange:this.setFilters}))),f.default.createElement(b.Card,null,f.default.createElement(b.CardHeader,null,f.default.createElement(g.FormattedMessage,{id:"EditView.permissionsSectionTitle",defaultMessage:"Permissions"})),f.default.createElement(b.CardBody,null,f.default.createElement(x.default,{context:a,view:o,setPermissions:this.setPermissions}))),f.default.createElement(v.Dialog,{open:l,dialogType:"confirm",title:p(V.deleteTitle),message:p(V.deleteMessage),successButton:p(V.deleteButton),successColor:"danger",onSuccess:this.deleteView,onCancel:function(){return e.setState({askDelete:!1})}}),f.default.createElement(v.Dialog,u({open:!!k,dialogType:"alert"},k,{onCancel:function(){return e.setState({error:null})}})),f.default.createElement(v.Dialog,{open:C,dialogType:"loading"}),c&&f.default.createElement(R.default,{content:this.getEditForm(),save:this.saveEditForm,cancel:this.stopEditForm,view:o,type:m}))}}]),t}(),l.propTypes={tabId:p.default.any.isRequired,model:p.default.object.isRequired,viewId:p.default.number},s),U={closeTab:E.closeTab,saveView:E.saveView,deleteView:E.deleteView,updateTabOptions:E.updateTabOptions,openEditModel:E.openEditModel,simpleFetch:E.simpleFetch};t.default=(0,m.connect)(function(e,t){var a=t.viewId,n=t.newView,r=e.context.views,o=a&&r&&r[a],i=a&&(0,h.filter)(e.context.viewColumns,function(e){return e.data_view_id===a})||[];i=i&&(0,h.sortBy)(i,function(e){return e.id});var l=n&&n.modelId||o&&o.data_model_id;l=n&&n.modelId?n.modelId:n&&n.cloneViewId?r[n.cloneViewId].data_model_id:o&&o.data_model_id;var s=e.context.models[l];return{user:e.auth.user,context:e.context,view:o,newView:n,viewColumns:i,model:s}},U,null,{withRef:!0})((0,g.injectIntl)(B,{withRef:!0})),e.exports=t.default},1340:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),o=n(a(286)),i=n(a(1341));o.default.require=o.default.acequire;var l={generator:function(e,t){var a="start";t&&t.boolean&&(a="boolean_expression");var n=[],l=[];(0,r.each)(e,function(e,t){Array.isArray(e)?(l.push(t),e.forEach(function(e){n.push(t+"."+e)})):n.push(t)});var s={RegExpID:"RE::",Extra:{fold:"brace"},Style:{if_name:"keyword",sum_name:"keyword",sumif_name:"keyword",min_name:"keyword",max_name:"keyword",concat_name:"keyword",dateadddays_name:"keyword",count_name:"keyword",countif_name:"keyword",empty_name:"keyword",exists_name:"keyword",boolean_operator:"keyword",not_operator:"keyword",boolean_expression_operator:"keyword",expression_operator:"keyword",integer:"constant.numeric",double:"constant.numeric",boolean:"constant.language",constant:"constant.language",string:"string",object_property:"identifier",property:"identifier"},Lex:{if_name:{autocomplete:["IF"],tokens:["IF","If"],msg:"IF",autocompleteMeta:"Function"},sum_name:{autocomplete:["SUM"],tokens:["SUM","Sum"],autocompleteMeta:"Function"},sumif_name:{autocomplete:["SUMIF"],tokens:["SUMIF","SumIf"],autocompleteMeta:"Function"},min_name:{autocomplete:["MIN"],tokens:["MIN","Min"],autocompleteMeta:"Function"},max_name:{autocomplete:["MAX"],tokens:["MAX","Max"],autocompleteMeta:"Function"},concat_name:{autocomplete:["CONCAT"],tokens:["CONCAT","Concat"],autocompleteMeta:"Function"},dateadddays_name:{autocomplete:["DATE_ADD_DAYS"],tokens:["DATE_ADD_DAYS","DateAddDays"],autocompleteMeta:"Function"},count_name:{autocomplete:["COUNT"],tokens:["COUNT","Count"],autocompleteMeta:"Function"},countif_name:{autocomplete:["COUNTIF"],tokens:["COUNTIF","CountIf"],autocompleteMeta:"Function"},exists_name:{autocomplete:["EXISTS"],tokens:["EXISTS","Exists"],autocompleteMeta:"Function"},empty_name:{autocomplete:["EMPTY"],tokens:["EMPTY","Empty"],autocompleteMeta:"Function"},boolean_operator:{autocomplete:["AND","OR"],tokens:["AND","And","&","&&","OR","Or","|","||"],autocompleteMeta:""},not_operator:{autocomplete:["NOT"],tokens:["NOT","Not"],autocompleteMeta:""},boolean_expression_operator:{tokens:"RE::/==|=|>=|<=|>|<|!=|<>/"},expression_operator:{tokens:"RE::/[+\\-\\*\\/\\^\\%]/"},plus_minus_op:{tokens:"RE::/[+\\-]/"},integer:"RE::/[0-9]\\d*/",double:"RE::/\\d+\\.\\d+/",boolean:{autocomplete:["TRUE","FALSE"],tokens:["TRUE","True","true","FALSE","False","false"],autocompleteMeta:""},constant:{autocomplete:!0,tokens:["PI","CURRENT_DATETIME","CURRENT_DATE","CURRENT_TIME"],autocompleteMeta:""},variable:{autocomplete:!0,tokens:n,autocompleteMeta:"Variable"},object:{autocomplete:!0,tokens:l,autocompleteMeta:"Object"},string:{type:"escaped-block",escape:"\\",tokens:["RE::/(['\"])/",1]}},Syntax:{start:"expression{1}",function:"if|sum|sumif|min|max|concat|dateadddays|count|countif|empty|exists",boolean_function:"empty|exists",if:"if_name '(' boolean_expression ';' expression (';' expression)? ')'",sum:"sum_name '(' variable ')'",sumif:"sumif_name'(' boolean_expression ';' variable ')'",min:"min_name '(' variable ')'",max:"max_name '(' variable ')'",concat:"concat_name '(' expression (';' expression)* ')'",dateadddays:"dateadddays_name '(' expression ';' expression ')'",count:"count_name '(' object ')'",countif:"countif_name '(' boolean_expression ';' object ')'",empty:"empty_name '(' expression ')'",exists:"exists_name '(' object ')'",boolean_expression:"boolean_expression_term (boolean_operator boolean_expression_term)*",boolean_expression_term:"'(' boolean_expression ')'|not_operator '(' boolean_expression ')'|boolean_function|boolean|not_boolean_expression boolean_expression_operator not_boolean_expression",minus_expression_term:"'(' expression ')'|function|variable|double|integer",minus_expression:"plus_minus_op minus_expression_term",expression:"expression_term (boolean_operator expression_term)*",expression_term:"'(' boolean_expression ')'|not_operator '(' boolean_expression ')'|boolean_function|not_boolean_expression (boolean_expression_operator not_boolean_expression)?",not_boolean_expression:"term (expression_operator term)*",term:"'(' expression ')'|double|integer|function|variable|string|boolean|constant|minus_expression"},Parser:[a]},u=i.default.getMode(s,null,o.default);return u.supportCodeFolding=!0,u.supportAutoCompletion=!0,u.autocompleter.options={prefixMatch:!0,caseInsesitiveMatch:!0,caseInsensitiveMatch:!0,inContext:!0},u}};t.default=l,e.exports=t.default},1341:function(e,t){!function(t,a,n){"use strict";var r;"object"==typeof e&&e.exports?e.exports=n.call(t,{}):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System.import?System.register(a,[],function(e){e(a,n.call(t,{}))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(a)?define(a,["require","exports","module"],function(){return n.call(t,{})}):a in t||(t[a]=r=n.call(t,{}))&&"function"==typeof define&&define.amd&&define(function(){return r})}(this,"AceGrammar",function(e){"use strict";function t(e){var t=0;return null===e?t=Je:!0===e||!1===e||e instanceof Boolean?t=nt:Ue===e?t=Ze:(t=gt[ze.call(e)]||Ye,t=et===t||e instanceof Number?isNaN(e)?at:isFinite(e)?et:tt:rt===t||e instanceof String?1===e.length?ot:rt:lt===t||e instanceof Array?lt:dt===t||e instanceof RegExp?dt:ct===t||e instanceof Date?ct:ut===t||e instanceof Function?ut:st===t?st:Ye),t}function a(e,t,a,n){var r,o,i,l,s,u,d=e.length;if(arguments.length<4&&(n=d-1),0>n&&(n+=d),arguments.length<3&&(a=0),a>n)return[];if(a===n)return[t(e[a],a,a,n)];for(s=1&(l=15&(i=n-a+1)),u=new Array(i),s&&(u[0]=t(e[a],a,a,n)),r=s;r<l;r+=2)o=a+r,u[r]=t(e[o],o,a,n),u[r+1]=t(e[o+1],o+1,a,n);for(r=l;r<i;r+=16)o=a+r,u[r]=t(e[o],o,a,n),u[r+1]=t(e[o+1],o+1,a,n),u[r+2]=t(e[o+2],o+2,a,n),u[r+3]=t(e[o+3],o+3,a,n),u[r+4]=t(e[o+4],o+4,a,n),u[r+5]=t(e[o+5],o+5,a,n),u[r+6]=t(e[o+6],o+6,a,n),u[r+7]=t(e[o+7],o+7,a,n),u[r+8]=t(e[o+8],o+8,a,n),u[r+9]=t(e[o+9],o+9,a,n),u[r+10]=t(e[o+10],o+10,a,n),u[r+11]=t(e[o+11],o+11,a,n),u[r+12]=t(e[o+12],o+12,a,n),u[r+13]=t(e[o+13],o+13,a,n),u[r+14]=t(e[o+14],o+14,a,n),u[r+15]=t(e[o+15],o+15,a,n);return u}function n(e,t,a,n,r){var o,i,l,s,u,d=e.length,c=a;if(arguments.length<5&&(r=d-1),0>r&&(r+=d),arguments.length<4&&(n=0),n>r)return c;if(n===r)return t(c,e[n],n);for((u=1&(s=15&(l=r-n+1)))&&(c=t(c,e[n],n)),o=u;o<s;o+=2)c=t(t(c,e[i=n+o],i),e[i+1],i+1);for(o=s;o<l;o+=16)c=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(c,e[i=n+o],i),e[i+1],i+1),e[i+2],i+2),e[i+3],i+3),e[i+4],i+4),e[i+5],i+5),e[i+6],i+6),e[i+7],i+7),e[i+8],i+8),e[i+9],i+9),e[i+10],i+10),e[i+11],i+11),e[i+12],i+12),e[i+13],i+13),e[i+14],i+14),e[i+15],i+15);return c}function r(e,t,a,n){if(t>a)return n;if(t===a)return e(t,n,t,a),n;var r,o,i=a-t+1,l=15&i,s=1&l;for(s&&e(t,n,t,a),r=s;r<l;r+=2)e(o=t+r,n,t,a),e(++o,n,t,a);for(r=l;r<i;r+=16)e(o=t+r,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a),e(++o,n,t,a);return n}function o(e,a){var n,r,i,l,s=t(e),u=0;if(et===t(a)?0<a?(u=a,a=!0):a=!1:a=!1!==a,st===s)for(i in r={},e)e[qe](i)&&e[Ge](i)&&(n=t(e[i]),r[i]=st===n?a?o(e[i],u>0?u-1:a):e[i]:lt===n?a?o(e[i],u>0?u-1:a):e[i].slice():ct===n?new Date(e[i]):rt&n?e[i].slice():et&n?0+e[i]:e[i]);else if(lt===s)for(l=e.length,r=new Array(l),i=0;i<l;i++)n=t(e[i]),r[i]=st===n?a?o(e[i],u>0?u-1:a):e[i]:lt===n?a?o(e[i],u>0?u-1:a):e[i].slice():ct===n?new Date(e[i]):rt&n?e[i].slice():et&n?0+e[i]:e[i];else r=ct===s?new Date(e):rt&s?e.slice():et&s?0+e:e;return r}function i(){var e,a,n,r,l,s,u,d,c,f,p=arguments,m=p.length;if(m<1)return null;for(a=o(p[0]),n=1;n<m;n++)if(e=p[n])for(r in e)if(e[qe](r)&&e[Ge](r))if(a[qe](r)&&a[Ge](r)){if(c=t(a[r]),f=t(e[r]),st===c&&st===f)a[r]=i(a[r],e[r]);else if(lt===c&&lt===f){if(u=a[r],!(s=(d=e[r]).length))continue;if(u.length)for(l=0;l<s;l++)0>u.indexOf(d[l])&&u.push(d[l]);else a[r]=d.slice()}}else a[r]=o(e[r]);return a}function l(){return!0}function s(e,a){return a||lt!==t(e)?[e]:e}function u(e,a){return e=s(e),(a||lt!==t(e[0]))&&(e=[e]),e}function d(e,a){return rt&t(a)&&rt&t(e)&&a.length&&a.length<=e.length&&a===e.substr(0,a.length)}function c(e,t,a){return t<e.length?e.splice(t,0,a):e.push(a),e}function f(e,t){var a=0,n=e.length;if(!0===t)e.length=0;else if(t){for(;a<n&&e[n-a-1].$id===t;)a++;a&&(e.length=n-a)}return e}function p(e,t,a){return a?e[t]=Ue:delete e[t],e}function m(e){return(e||"uuid")+"_"+ ++Ct+"_"+(new Date).getTime()}function h(e,a){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,a={}):1===r?(a=e||{},e=Object):(e=e||Object,a=a||{}),a[qe](o)||(a[o]=function(){}),n=a[o],delete a[o],n[je]=function(){var e,a,n,r,o,i,l=arguments,s=l.length;for(e=l[0]||{},o=1;o<s;o++)if(a=l[o],st===t(a))for(r in a)a[qe](r)&&a[Ge](r)&&(i=t(n=a[r]),e[r]=et&i?0+n:ct&i?new Date(n):pt&i?n.slice():n);return e}(He(e[je]),a),n[je][o]=n,n}function g(e){return e.replace(kt,"\\$1")}function b(e,t){return new RegExp(e,t||"")}function v(e,t,a,n){var r,o,i,l,s=e.pos,u=e.length,d="";if(a){for(n=!!n,o=!1,l=0;s<u&&(t!==(r=e[Qe](s++))||o);)i=a===r,o=!o&&i,n?(i&&l++,(!i||2&l)&&(d+=r,l=0)):d+=r;2&l&&(d+=a)}else for(;s<u&&t!==(r=e[Qe](s++));)d+=r;return e.pos=s,d}function y(e,a,n){var r,o,i,l,s,u=!0===n?0:1;for(rt&t(a)&&(a=[a,a,a],u=0),o=e.length,s="",r=0;r<o;)i=e[Qe](r),r+1<o&&"$"===i?36===(l=e.charCodeAt(r+1))?(s+="$",r+=2):48<=l&&l<=57?(s+=a[u+l-48]||"",r+=2):(s+=i,r+=1):(s+=i,r+=1);return s}function E(e,a,n,r){if(!e||(et|dt)&t(e))return e;var o=a&&a.length||0,i="";if(rt&t(r)?i=r:r&&(i=_t),o&&a===e.substr(0,o)){var l,s,u,d,c=e.substr(o),f=c[Qe](0),p="";for(u=c.length;u--&&f!==(d=c[Qe](u));)"i"===d.toLowerCase()&&(p="i");return n[l="^("+c.substring(1,u)+")"]||(s=b(l,p),n[l]=s),n[l]}return i?(n[l="^("+g(e)+")"+i]||(s=b(l,p),n[l]=s),n[l]):e}function w(e,a,n,r){var o=t(a);if(et===o)return a;if(r[e])return r[e];n=n||0;var i,l=0;return a&&a.isCharList&&(l=1,p(a,"isCharList")),i=Je===o?new R(se,e,a,Je,n):ot===o?new R(se,e,a,ot,n):mt&o?new R(se,e,a,dt,n):rt&o?new R(se,e,a,l?it:rt,n):a,r[e]=i}function C(e,n,r,o,i,l,u){if(u[e])return u[e];var c,f,p,m,h,v,y,k=0,S=0,_=1,x=!!(rt&t(o))||!!o;if(1===(p=(c=s(n)).length))y=w(e,E(c[0],r,l,o),0,u);else if(1<p){for(m=1+(p>>>1),f=0;f<=m;f++)h=t(c[f]),v=t(c[p-1-f]),ot===h&&ot===v||(_=0),lt&h||lt&v?k=1:(dt&h||dt&v||d(c[f],r)||d(c[p-1-f],r))&&(S=1);if(_&&!x)(c=c.slice().join("")).isCharList=1,y=w(e,c,0,u);else if(!x||k||S)if(k||S){for(f=0;f<p;f++)lt&t(c[f])?c[f]=C(e+"_"+f,c[f],r,o,i,l,u):c[f]=w(e+"_"+f,E(c[f],r,l),f,u);y=p>1?new R(ue,e,c):c[0]}else{for(c=c.sort(yt),f=0;f<p;f++)c[f]=w(e+"_"+f,E(c[f],r,l),f,u);y=p>1?new R(ue,e,c):c[0]}else y=w(e,function(e,n,r){var o="";return rt&t(n)?o=n:n&&(o=_t),[b("^("+a(e.sort(yt),g).join("|")+")"+o,r?"i":""),1]}(c,o,i),0,u)}return u[e]=y}function k(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var a,n,r,o,l,s,u,d,c,f,m,h=e.Lex,g=e.Syntax,b=[h,g],v=b.length;for(m=0;m<v;)for(r in f=b[m++])f[qe](r)&&(n=(a=r.split(":"))[1]&&vt(a[1]).length?vt(a[1]):null,(a=vt(a[0])).length||(a=r,n=null),a!==r&&(f[a]=f[r],p(f,r),n&&(n=n[Ke](),l=t(o=f[a]),st===l?f[a].type||(f[a].type=n):(f[a]={type:n},"error"===n?(f[a].type="action",f[a].error=o):"nop"===n?(f[a].type="action",f[a].nop=!0):"group"===n?(f[a].type="sequence",f[a].tokens=o):"action"===n&&rt===l?f[a][o]=!0:f[a].tokens=o))),h===f&&(ht&t(f[a])&&(f[a]={type:"simple",tokens:f[a]}),(o=f[a]).type&&("line-block"===(d=o.type=o.type[Ke]())?(o.type="block",o.multiline=!1,o.escape=!1):"escaped-line-block"===d?(o.type="block",o.multiline=!1,o.escape="\\"):"escaped-block"===d&&(o.type="block",o.multiline=!0,o.escape="\\"))));for(a in f=h)if(f[qe](a))for(o=f[a];o.extend;)s=o.extend,p(o,"extend"),(u=h[s])&&(ht&t(u)&&(u=h[s]={type:"simple",tokens:u}),o=i(u,o));for(a in f=h)f[qe](a)&&((o=f[a]).type?"line-block"===(d=o.type=o.type[Ke]())?(o.type="block",o.multiline=!1,o.escape=!1):"escaped-line-block"===d?(o.type="block",o.multiline=!1,o.escape="\\"):"escaped-block"===d&&(o.type="block",o.multiline=!0,o.escape="\\"):o["escaped-line-block"]?(o.type="block",o.multiline=!1,o.escape||(o.escape="\\"),o.tokens=o["escaped-line-block"],p(o,"escaped-line-block")):o["escaped-block"]?(o.type="block",o.multiline=!0,o.escape||(o.escape="\\"),o.tokens=o["escaped-block"],p(o,"escaped-block")):o["line-block"]?(o.type="block",o.multiline=!1,o.escape=!1,o.tokens=o["line-block"],p(o,"line-block")):o.comment?(o.type="comment",o.escape=!1,o.tokens=o.comment,p(o,"comment")):o.block?(o.type="block",o.tokens=o.block,p(o,"block")):o.simple?(o.type="simple",o.tokens=o.simple,p(o,"simple")):o.nop?(o.type="action",o.action=["nop",o.nop,!1],o.nop=!0):o.error?(o.type="action",o.action=["error",o.error,!!o["in-context"]],p(o,"error")):o[qe]("context")?(o.type="action",o.action=[o.context?"context-start":"context-end",o.context,!!o["in-context"]],p(o,"context")):o.indent?(o.type="action",o.action=["indent",o.indent,!!o["in-context"]],p(o,"indent")):o.outdent?(o.type="action",o.action=["outdent",o.outdent,!!o["in-context"]],p(o,"outdent")):o.unique?(o.type="action",o.action=["unique",rt&t(o.unique)?["_DEFAULT_",o.unique]:o.unique,!!o["in-context"]],p(o,"unique")):o.push?(o.type="action",o.action=["push",o.push,!!o["in-context"]],p(o,"push")):o[qe]("pop")?(o.type="action",o.action=["pop",o.pop,!!o["in-context"]],p(o,"pop")):o.type="simple","action"===o.type?o.ci=!(!o.caseInsesitive&&!o.ci):"block"===o.type||"comment"===o.type?(o.multiline=!o[qe]("multiline")||!!o.multiline,rt&t(o.escape)||(o.escape=!1)):"simple"===o.type&&(o.meta=o.autocomplete&&rt&t(o.meta)?o.meta:null,o.ci=!(!o.caseInsesitive&&!o.ci)));for(a in f=g)f[qe](a)&&(o=f[a],st!==t(o)||o.type?o.type&&("group"===(d=o.type=o.type[Ke]())&&o.match?(l=t(o.match),rt&l?"alternation"===(c=o.match[Ke]())||"either"===c?(o.type="alternation",p(o,"match")):"sequence"===c||"all"===c?(o.type="sequence",p(o,"match")):"zeroorone"===c?(o.type="zeroOrOne",p(o,"match")):"zeroormore"===c?(o.type="zeroOrMore",p(o,"match")):"oneormore"===c?(o.type="oneOrMore",p(o,"match")):(o.type="sequence",p(o,"match")):lt&l&&(o.type="repeat",o.repeat=o.match,p(o,"match"))):"either"===d?o.type="alternation":"all"===d?o.type="sequence":"lookahead"===d&&(o.type="positiveLookahead")):o.ngram||o["n-gram"]?(o.type="ngram",o.tokens=o.ngram||o["n-gram"],o["n-gram"]?p(o,"n-gram"):p(o,"ngram")):o.sequence||o.all?(o.type="sequence",o.tokens=o.sequence||o.all,o.all?p(o,"all"):p(o,"sequence")):o.alternation||o.either?(o.type="alternation",o.tokens=o.alternation||o.either,o.either?p(o,"either"):p(o,"alternation")):o.zeroOrOne?(o.type="zeroOrOne",o.tokens=o.zeroOrOne,p(o,"zeroOrOne")):o.zeroOrMore?(o.type="zeroOrMore",o.tokens=o.zeroOrMore,p(o,"zeroOrMore")):o.oneOrMore?(o.type="oneOrMore",o.tokens=o.oneOrMore,p(o,"oneOrMore")):o.positiveLookahead||o.lookahead?(o.type="positiveLookahead",o.tokens=o.positiveLookahead||o.lookahead,o.lookahead?p(o,"lookahead"):p(o,"positiveLookahead")):o.negativeLookahead&&(o.type="negativeLookahead",o.tokens=o.negativeLookahead,p(o,"negativeLookahead")));return e}function S(e,a,n,r){for(var o;rt&t(o=a[e]||n[e]);)e=o;return r?e:a[e]||n[e]||e}function _(e,t){return e.length>1?r(t?function(t,a){var n=a[a.length-1],r=e[t];n===r||a.push(r)}:function(t,a){var n=a[a.length-1],r=e[t];xt.test(r)&&xt.test(n)&&n===r||a.push(r)},1,e.length-1,[e[0]]):e}function x(e,n,r){var i,l,s,u,d,c,f,p,m,h,y,E,w,C,k=!1;if(C=e.modifier?e.modifier:null,(f=new String(vt(e))).pos=0,1===f.length)n[y=""+e]||r[y]||(n[y]={type:"simple",tokens:e}),e=y;else{for(i=[],l=[],s="",E=[];f.pos<f.length;)if(p=f[Qe](f.pos++),St.test(p))if(s.length&&(k?(l.length&&(n[y=(h=l[l.length-1])+"."+s]||r[y]||(c=S(h,n,r),r[y]=rt&t(c)?new String(c):o(c),r[y].modifier=s),l[l.length-1]=y),k=!1):"0"===s?(n[De]||(n[De]={type:"simple",tokens:0}),l.push(De)):"^^"===s?(n[Ne]||(n[Ne]={type:"simple",tokens:fe}),l.push(Ne)):"^^1"===s?(n[Ae]||(n[Ae]={type:"simple",tokens:pe}),l.push(Ae)):"^"===s?(n[Pe]||(n[Pe]={type:"simple",tokens:he}),l.push(Pe)):"$"===s?(n[Ve]||(n[Ve]={type:"simple",tokens:me}),l.push(Ve)):(n[s]||r[s]||(n[s]={type:"simple",tokens:s}),l.push(s)),s=""),"."===p)l.length&&f.pos<f.length&&!St.test(f[Qe](f.pos))?k=!0:s+=p;else if('"'===p||"'"===p)(u=v(f,p,"\\",!0)).length?(n[y=""+u]||(n[y]={type:"simple",tokens:u}),l.push(y)):(n[Be]||(n[Be]={type:"simple",tokens:""}),l.push(Be));else if("["===p)n[y="["+(u=v(f,"]","\\",!0))+"]"]||(n[y]={type:"simple",tokens:b("^(["+("^"===u[Qe](0)?"^"+g(u.slice(1)):g(u))+"])")}),l.push(y);else{if("]"===p){s+=p;continue}if("/"===p)m="",(u=v(f,p,"\\",!1)).length&&(f.pos<f.length&&"i"===f[Qe](f.pos)&&(f.pos++,m="i"),n[y="/"+u+"/"+m]||(n[y]={type:"simple",tokens:b("^("+u+")",m)}),l.push(y));else if("*"===p||"+"===p||"?"===p)l.length?(r[y=""+(h=l[l.length-1])+p]||(r[y]={type:"*"===p?"zeroOrMore":"+"===p?"oneOrMore":"zeroOrOne",tokens:[h]}),l[l.length-1]=y):s+=p;else if("{"===p)l.length?((d=a((d=v(f,"}",!1)).split(","),vt))[0].length?d[0]=parseInt(d[0],10)||0:d[0]=0,0>d[0]&&(d[0]=0),2>d.length?d.push(d[0]):d[1].length?d[1]=parseInt(d[1],10)||Xe:d[1]=Xe,0>d[1]&&(d[1]=0),r[y=""+(h=l[l.length-1])+["{",d[0],",",isFinite(d[1])?d[1]:"","}"].join("")]||(r[y]={type:"repeat",repeat:[d[0],d[1]],tokens:[h]}),l[l.length-1]=y):s+=p;else{if("}"===p){s+=p;continue}"&"===p||"!"===p?s+=p:"|"===p?(k=!1,(l=_(l)).length>1?(r[y=""+l.join(" ")]||(r[y]={type:"sequence",tokens:l}),i.push(y)):l.length?i.push(l[0]):s+=p,l=[]):"("===p?(E.push([l,i,s]),l=[],i=[],s=""):")"===p&&((l=_(l)).length>1?(r[y=""+l.join(" ")]||(r[y]={type:"sequence",tokens:l}),i.push(y)):l.length&&i.push(l[0]),l=[],(i=_(i,1)).length>1?r[y=""+i.join(" | ")]||(r[y]={type:"alternation",tokens:i}):i.length&&(y=i[0]),i=[],l=(w=E.pop())[0],i=w[1],s=w[2],r[y="("+(h=y)+")"]||(r[y]=o(S(h,n,r))),l.push(y))}}else s+=p;s.length&&(k?(l.length&&(n[y=(h=l[l.length-1])+"."+s]||r[y]||(c=S(h,n,r),r[y]=rt&t(c)?new String(c):o(c),r[y].modifier=s),l[l.length-1]=y),k=!1):"0"===s?(n[De]||(n[De]={type:"simple",tokens:0}),l.push(De)):"^^"===s?(n[Ne]||(n[Ne]={type:"simple",tokens:fe}),l.push(Ne)):"^^1"===s?(n[Ae]||(n[Ae]={type:"simple",tokens:pe}),l.push(Ae)):"^"===s?(n[Pe]||(n[Pe]={type:"simple",tokens:he}),l.push(Pe)):"$"===s?(n[Ve]||(n[Ve]={type:"simple",tokens:me}),l.push(Ve)):(n[s]||r[s]||(n[s]={type:"simple",tokens:s}),l.push(s))),s="",(l=_(l)).length>1?(r[y=""+l.join(" ")]||(r[y]={type:"sequence",tokens:l}),i.push(y)):l.length&&i.push(l[0]),l=[],(i=_(i,1)).length>1?(r[y=""+i.join(" | ")]||(r[y]={type:"alternation",tokens:i}),e=y):i.length&&(e=i[0]),i=[]}return C&&(n[e]||r[e])&&((n[e]||r[e]).modifier=C),e}function T(e,o,i,l,c,f,p,m,h,g,b){var v,y,k,_,M,I,N,A=null,P=null,V=null;if(fe===e||pe===e||he===e||me===e)return new O(e,fe===e?Ne:pe===e?$T_FBNL$:he===e?Pe:Ve,e,P);if(!1===e||0===e)return new O(ge,De,0,P);if(""===e)return new O(be,Be,"",P);if(null===e)return new O(ve,Le,Je,P,V);if(lt&t(e)&&(e="NGRAM_"+(k=e).join("_"),l[e]||(l[e]={type:"ngram",tokens:k})),m[e=""+e])return m[e];if(M=S(e,i,l),rt&t(M)&&(M=x(M,i,l),M=i[M]||l[M]||null),!M)return null;if(v=M.type&&Fe[M.type[Ke]().replace(wt,"")]||ve,P=M.msg||null,V=M.modifier||null,y=M.tokens,ve&v){if(fe===y||pe===y||he===y||me===y||!1===y||0===y)return A=new O(y||ge,e,y||0,P),m[e]=A,A;if(""===y)return A=new O(be,e,"",P),m[e]=A,A;if(null===y)return A=new O(ve,e,Je,P,V),m[e]=A,A;if(!y)return null}if(ce&v)M[qe]("action")?"nop"===M.action[0]?M.action[0]=J:"error"===M.action[0]?M.action[0]=ee:"context-start"===M.action[0]?M.action[0]=ae:"context-end"===M.action[0]?M.action[0]=ne:"push"===M.action[0]?M.action[0]=re:"pop"===M.action[0]?M.action[0]=oe:"unique"===M.action[0]?M.action[0]=te:"indent"===M.action[0]?M.action[0]=ie:"outdent"===M.action[0]&&(M.action[0]=le):M[qe]("nop")?M.action=[J,M.nop,!!M["in-context"]]:M[qe]("error")?M.action=[ee,M.error,!!M["in-context"]]:M[qe]("context")?M.action=[M.context?ae:ne,M.context,!!M["in-context"]]:M[qe]("context-start")?M.action=[ae,M["context-start"],!!M["in-context"]]:M[qe]("context-end")?M.action=[ne,M["context-end"],!!M["in-context"]]:M[qe]("push")?M.action=[re,M.push,!!M["in-context"]]:M[qe]("pop")?M.action=[oe,M.pop,!!M["in-context"]]:M[qe]("unique")?M.action=[te,rt&t(M.unique)?["_DEFAULT_",M.unique]:M.unique,!!M["in-context"]]:M[qe]("indent")?M.action=[ie,M.indent,!!M["in-context"]]:M[qe]("outdent")&&(M.action=[le,M.outdent,!!M["in-context"]]),M.nop&&(M.action[0]=J),(A=new O(ce,e,M.action.slice(),P,V)).ci=!!M.caseInsensitive||M.ci,m[e]=A;else if(y=s(y),ve&v){if(N=M.autocomplete?function(e,t,n,r){var o=e.meta||n,i=!(!e.caseInsesitive&&!e.ci),l=a(t,function(e){return{word:e,meta:o,ci:i}});return r.autocomplete=(r.autocomplete||[]).concat(l),l}(M,s(pt&t(M.autocomplete)?M.autocomplete:M.tokens),e,b):null,I=void 0!==M.combine?M.combine:!!(lt&t(M.tokens)),A=new O(ve,e,C(e,y.slice(),o,I,!(!M.caseInsensitive&&!M.ci),f,p),P,V,null,N),m[e]=A,null!=M.except){var L,D,B=s(M.except),U=B.length,j=[];for(L=0;L<U;L++)B[L]&&(D=T(B[L],o,i,l,c,f,p,m,h,g,b))&&j.push(D);j.length&&(A.except=j)}}else ye&v?(Ee===v&&function(e,t){var a=u(e.tokens.slice());r(function(e){var n=a[e][0],r=a[e].length>1?a[e][1]:a[e][0],o=a[e].length>2?a[e][2]:"";null===r?(t.line=t.line||[],t.line.push(n)):(t.block=t.block||[],t.block.push([n,r,o]))},0,a.length-1)}(M,g),(A=new O(v,e,function(e,a,n,o,i){if(i[e])return i[e];var l=u(a),s=[],c=[];return r(function(a){var r,u;r=w(e+"_0_"+a,E(l[a][0],n,o),a,i),u=l[a].length>1?dt!==r.ptype||rt!==t(l[a][1])||d(l[a][1],n)?w(e+"_1_"+a,E(l[a][1],n,o),a,i):l[a][1]:r,s.push(r),c.push(u)},0,l.length-1),i[e]=new R(de,e,[s,c])}(e,y.slice(),o,f,p),P)).mline=!M[qe]("multiline")||!!M.multiline,A.esc=!!M[qe]("escape")&&M.escape,A.inter=!!c[e+".inside"],Ee===v&&M.interleave&&h.push(F(A)),V&&(A.modifier=V),m[e]=A):Oe&v&&(Re===v?(_=u(y),A=a(_,function(t,a){return new O(Re,e+"_NGRAM_"+a,null,P,V)}),m[e]=A,r(function(e){A[e].token=s(n(_[e],function(e,t){return e.concat(T(t,o,i,l,c,f,p,m,h,g,b))},[]))},0,_.length-1)):(Te===v||Me===v?A=new O(v,e,null,P,V):ke&v&&lt&t(M.repeat)?((A=new O(ke,e,null,P,V)).min=M.repeat[0],A.max=M.repeat[1]):Se===v?((A=new O(Se,e,null,P,V)).min=0,A.max=1):_e===v?((A=new O(_e,e,null,P,V)).min=0,A.max=Xe):xe===v?((A=new O(xe,e,null,P,V)).min=1,A.max=Xe):A=new O(we===v?we:Ce,e,null,P,V),m[e]=A,A.token=s(n(y,function(e,t){return e.concat(T(t,o,i,l,c,f,p,m,h,g,b))},[]))));return m[e]}function M(e){var a,r,i,l,s,u,d,c,f,p,m,h;return e.__parsed?e:(a=e.RegExpID||null,i=e.Extra?o(e.Extra):{},l=e.Style?o(e.Style):{},s=e.Lex?o(e.Lex):{},u=e.Syntax?o(e.Syntax):{},d={},c={},f={},m={},h={},p=[],r=e.Parser?o(e.Parser):[],(e=k({Style:l,Fold:null,Lex:s,Syntax:u,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:i,__parsed:0})).$parser=n(r,function(e,n){var r=T(n,a,s,u,l,d,c,f,p,m,h)||null;return r&&(lt&t(r)?e=e.concat(r):e.push(r)),e},[]),e.$interleaved=p&&p.length?p:null,e.$comments=m,e.$autocomplete=h&&h.autocomplete&&h.autocomplete.length?h.autocomplete:null,e.__parsed=1,e)}function R(e,a,n,r,o){var i,l;i=this.type=e,this.name=a,this.pattern=n,l=this.ptype=r||rt,this.key=o||0,ue===i?this.key=!1!==o:de===i?this.pattern[0]=new R(ue,a+"_Start",n[0],null,!1):Je===l?this.pattern=null:dt===l&&(this.pattern=dt&t(n)?[n,0]:[n[0],n[1]||0])}function I(e,a,n,r){var o,i,l,s,u,d,c,f,p,m,h,g=e,b=g.type,v=g.pattern,E=g.key;if(de===b){if(o=g.name,l=v[0],s=v[1],d=I(l,a,n,r))return f=t(u=s[d[0]]),p=l.pattern[d[0]].ptype,dt===p&&ft&f&&(c=et&f?d[1][u+1]:y(u,d[1]),u=new R(se,o+"_End",c,c.length>1?rt:ot)),u}else if(ue===b){for(m=0,h=v.length;m<h;m++)if(c=I(v[m],a,n,r))return E?[m,c[1]]:c}else{if(i=g.ptype,Je===i)return!1!==n&&a.end(),[E,""];if(dt===i){if((c=a.slice(a.pos).match(v[0]))&&0===c.index)return!1!==n&&a.mov(c[v[1]||0].length),[E,v[1]>0?c[v[1]]:c]}else if(it===i){if(!0===r){var w,C;for(c=-1,h=v.length-1;h>=0;h--)-1<(w=a.indexOf(v[Qe](h),a.pos))&&(-1===c||w<c)&&(c=w,C=v[Qe](h));if(-1<c)return!1!==n&&(a.pos=c+1),[E,C]}else if((c=a[Qe](a.pos)||null)&&-1<v.indexOf(c))return!1!==n&&a.mov(1),[E,c]}else if(ot===i){if(!0===r){if(-1<(c=a.indexOf(v,a.pos)))return!1!==n&&(a.pos=c+1),[E,v]}else if(v===(c=a[Qe](a.pos)||null))return!1!==n&&a.mov(1),[E,c]}else if(rt===i)if(h=v.length,!0===r){if(-1<(c=a.indexOf(v,a.pos)))return!1!==n&&(a.pos=c+h),[E,v]}else if(v===a.substr(a.pos,h))return!1!==n&&a.mov(h),[E,v]}return!1}function O(e,t,a,n,r,o,i){this.type=e,this.name=t,this.token=a,this.modifier=r||null,this.except=o||null,this.autocompletions=i||null,this.pos=null,this.msg=n||null,this.$msg=null,this.status=0,this.ci=!1,this.mline=!0,this.esc=!1,this.inter=!1,this.found=0,this.min=0,this.max=1,this.$id=null}function F(e,t,a,n){var r=new O(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions);return r.ci=e.ci,r.mline=e.mline,r.esc=e.esc,r.inter=e.inter,r.found=e.found,r.min=e.min,r.max=e.max,t&&(r.status|=K),a&&(r.modifier=a),n&&(r.$id=n),r}function N(e){var t=e.name;return e.$msg?e.$msg:e.status&K?'Token "'+t+'" Expected':'Syntax Error: "'+t+'"'}function A(e,t,a,n,r,o,i){e.err[t+"_"+a+"_"+n+"_"+r+"_"+(o?o.name:"ERROR")]=[t,a,n,r,i||N(o)]}function P(e,t,a,n){if(!e)return!1;var r=e.type;return(Oe&r?B:ye&r?D:ce&r?V:L)(e,t,a,n)}function V(e,a,n,r){var o,i,l,s,u,d,c,f,p,m,h,g,b,v,E,w,C=e,k=C.token||null,S=C.ci,_=C.name,x=!(n.status&$);if(C.status=0,C.$msg=null,x||!k||!r||!r.pos)return!0;if(w=!!(ye&r.T),J===k[0]||w&&!r.block)return!0;if(o=k[0],i=k[1],b=k[2],u=C.msg,d=n.queu,c=n.symb,f=n.ctx,w?(E=r.block.match||r.block.str,p=r.block.pos[0][0],m=r.block.pos[0][1],h=r.block.pos[0][2],g=r.block.pos[0][3]):(E=r.match||r.str,p=r.pos[0],m=r.pos[1],h=r.pos[2],g=r.pos[3]),ee===o)return!u&&rt&t(i)&&(u=i),C.$msg=u?y(u,E,!0):'Error "'+_+'"',A(n,p,m,h,g,C,N(C)),C.status|=Q,!1;if(ne===o)f.length&&f.shift();else if(ae===o)f.unshift({symb:{},queu:[]});else if(oe===o){if(b){if(!f.length)return!0;d=f[0].queu}if(i){if(i=y(i,E),S&&(i=i[Ke]()),!d.length||i!==d[0][0])return d.length?(C.$msg=u?y(u,[d[0][0],i],!0):'Tokens do not match "'+d[0][0]+'","'+i+'"',v=N(C),A(n,d[0][1],d[0][2],d[0][3],d[0][4],C,v),A(n,p,m,h,g,C,v),d.shift()):(C.$msg=u?y(u,["",i],!0):'Token does not match "'+i+'"',A(n,p,m,h,g,C,v=N(C))),C.status|=Q,!1;d.shift()}else d.shift()}else if(re===o&&i){if(b){if(!f.length)return!0;d=f[0].queu}i=y(i,E),S&&(i=i[Ke]()),C.$msg=u?y(u,i,!0):'Token does not match "'+i+'"',d.unshift([i,p,m,h,g,N(C)])}else if(te===o){if(b){if(!f.length)return!0;c=f[0].symb}if(l=i[1],s=i[0],l=y(l,E,!0),S&&(l=l[Ke]()),c[qe](s)||(c[s]={}),c[s][qe](l))return C.$msg=u?y(u,l,!0):'Duplicate "'+l+'"',v=N(C),A(n,c[s][l][0],c[s][l][1],c[s][l][2],c[s][l][3],C,v),A(n,p,m,h,g,C,v),C.status|=Q,!1;c[s][l]=[p,m,h,g]}return!0}function L(e,t,a,n,r){var o,i=e,l=i.token,s=i.modifier,u=i.type,d=i.name,c=i.except,f=a.line,p=t.pos,m=null,h=!1;if(i.status&=Y,i.$msg=r?null:i.msg||null,c)for(var g=0,b=c.length;g<b;g++)if(i!==(o=c[g])&&ve===o.type&&L(o,t,a,n,1))return t.bck(p),!1;return fe===u?h=0===a.line:pe===u?h=a.bline+1===a.line:he===u?h=t.sol():me===u?(t.spc(),t.eol()?h=d:t.bck(p)):ge===u?(i.status=0,h=!0):be===u?(i.status&K&&t.spc()&&!t.eol()?(t.bck(p),i.status|=Q):h=!0,i.status&=X):Je===l?(t.end(),h=s||d):(m=I(l,t))&&(m=m[1],h=s||d),r?h:(!1!==h&&(n.T=u,n.id=d,n.type=h,n.str=t.sel(p,t.pos),n.match=m,n.pos=[f,p,f,t.pos]),!h&&i.status&&i.$msg&&(i.$msg=y(i.$msg,d,!0)),h)}function D(e,t,a,n){var r,o,i,l,s,u,d,f,p,m,h,g,b,v,E,w,C,k,S,_,x,T=e,M=T.name,R=T.type,O=T.modifier,N=T.token,A=T.mline,P=T.inter,V=P?M+".inside":M,L=T.esc,D=!!L,B="",U="",j="",q="",G=T.$id||M,z=a.stack;if(T.status&=Y,T.$msg=T.msg||null,S=a.line,_=t.pos,Ee===R&&(T.status&=X),E=T.status&K,i=0,l=0,a.block&&a.block.name===M?(l=1,i=1,v=V,r=a.block.end,f=a.block.sp,m=a.block.ip,p=a.block.ep,B=a.block.s,U=a.block.i):!a.block&&(r=I(N,t))&&(l=1,v=M,f=[S,_],m=[[S,w=t.pos],[S,w]],p=[S,w],B=t.sel(_,w),U="",q="",a.block={name:M,end:r,sp:f,ip:m,ep:p,s:B,i:U,e:q}),l){if(k=z.length,o=Je===r.type,P){if(o&&i&&t.sol())return T.status&=X,a.block=null,!1;if(!i)return w=t.pos,n.T=R,n.id=M,n.type=O||v,n.str=t.sel(_,w),n.match=null,n.pos=[S,_,S,w],c(z,k,F(T,E,0,G)),O||v}if(w=t.pos,d=A,u=0,s=I(r,t))v=o?V:M,q=t.sel(w,t.pos);else if(C=t.pos,g=!1,D||it!==r.ptype&&ot!==r.ptype&&rt!==r.ptype)for(;!t.eol();){if(w=t.pos,!g&&I(r,t)){P&&t.pos>w&&w>C?(v=V,t.bck(w),u=1):(v=M,s=1),q=t.sel(w,t.pos);break}j+=b=t.nxt(1),g=D&&!g&&L===b,w=t.pos}else(x=I(r,t,!0,!0))?(P&&t.pos>w+x[1].length?(v=V,t.mov(-x[1].length),u=1):(v=M,s=1),q=t.sel(w,t.pos)):(t.end(),v=V,u=1,j=t.sel(w,t.pos));return d=A||D&&g,U+=j,m[1]=[S,w],p=[S,t.pos],s||!d&&!u?a.block=null:(a.block.ip=m,a.block.ep=p,a.block.i=U,a.block.e=q,c(z,k,F(T,E,0,G))),n.T=R,n.id=M,n.type=O||v,n.str=t.sel(_,t.pos),n.match=null,n.pos=[S,_,p[0],p[1]],a.block||(h=B+U+q,n.block={str:h,match:[h,U,B,q],part:[h,B,U,q],pos:[[f[0],f[1],p[0],p[1]],[f[0],f[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],p[0],p[1]]]}),O||v}return T.status&&T.$msg&&(T.$msg=y(T.$msg,M,!0)),!1}function B(e,t,a,n){var r,o,i,l,s,u,d,f,p,m,h,g,b,v,y,E=e,w=E.type,C=(E.name,E.token),k=C.length,S=E.modifier;if(E.status&=Y,E.$msg=E.msg||null,g=a.stack,f=t.pos,p=g.length,u=0,d=0,v=E.$id||"id_"+ ++Ct,we===w){for(E.status|=K,b=[],m=0;m<k;m++){if(o=P(r=F(C[m],1,S,v),t,a,n),r.status&K&&(u++,b.push(N(r))),!1!==o)return o;r.status&Q&&(d++,t.pos>f&&t.bck(f),g.length>p&&(g.length=p))}return u>0?E.status|=K:E.status&=X,k===d&&u>0?E.status|=Q:E.status&=Y,E.status&&!E.$msg&&b.length&&(E.$msg=b.join(" | ")),!1}if(Ie&w){(y=!!(w&Ce))?E.status|=K:E.status&=X,h=0;do{o=P(r=F(C[h++],y,S,v),t,a,n)}while(h<k&&!1===o&&!(r.status&K));if(!1!==o){if(!0!==o||ge!==r.type)for(m=k-1;m>=h;m--)c(g,p+k-m-1,F(C[m],1,S,v));return o}return r.status&Q?(y?E.status|=Q:E.status&=Y,t.pos>f&&t.bck(f),g.length>p&&(g.length=p)):y&&r.status&K&&(E.status|=Q),E.status&&!E.$msg&&(E.$msg=N(r)),!1}if(Te===w)return E.status=0,!1;if(Me===w)return E.status=0,!1;for(i=E.found,l=E.min,s=E.max,E.status=0,b=[],m=0;m<k;m++){if(!1!==(o=P(r=F(C[m],1,S,v),t,a,n))){if(++i<=s)return E.found=i,c(g,p,F(E,0,0,v)),E.found=0,o;break}r.status&K&&(u++,b.push(N(r))),r.status&Q&&(t.pos>f&&t.bck(f),g.length>p&&(g.length=p))}return i<l&&(E.status|=K),(i>s||i<l&&0<u)&&(E.status|=Q),E.status&&!E.$msg&&b.length&&(E.$msg=b.join(" | ")),!1}function U(e,t){var a=this;a.id=e?m("state"):"state",t instanceof U?(a.line=t.line,a.bline=t.bline,a.status=t.status,a.stack=t.stack.slice(),a.block=t.block,a.token=t.token,a.status&$?(a.queu=t.queu,a.symb=t.symb,a.ctx=t.ctx,a.err=t.err):(a.queu=null,a.symb=null,a.ctx=null,a.err=null),a.$eol$=t.$eol$,a.$blank$=t.$blank$):(a.line=-1,a.bline=-1,a.status=t||0,a.stack=[],a.block=null,a.token=null,a.status&$?(a.queu=[],a.symb={},a.ctx=[],a.err={}):(a.queu=null,a.symb=null,a.ctx=null,a.err=null),a.$eol$=!0,a.$blank$=!0),a.toString=function(){return a.id+"_"+a.line+"_"+a.bline+"_"+(a.block?a.block.name:"0")}}function j(e,t,a){var n=new String(e);return n.start=t||0,n.pos=a||0,n.sol=function(){return 0===n.pos},n.eol=function(){return n.pos>=n.length},n.end=function(){return n.pos=n.length,n},n.mov=function(e){return n.pos=0>e?We(0,n.pos+e):$e(n.length,n.pos+e),n},n.bck=function(e){return n.pos=We(0,e),n},n.sft=function(){return n.start=n.pos,n},n.nxt=function(e,t){var a,r,o="";if(!0===e){for(t=t||j.$NONSPC$;n.pos<n.length&&t.test(a=n[Qe](n.pos++));)o+=a;return o.length?o:null}for(e=e||1,r=0;r++<e&&n.pos<n.length;)o+=n[Qe](n.pos++);return o},n.cur=function(e){var t=n.slice(n.start,n.pos);return e&&(n.start=n.pos),t},n.sel=function(e,t){return n.slice(e,t)},n.spc=function(e,t){var a;if(a=n.slice(n.pos).match(t||j.$SPC$))return!1!==e&&n.mov(a[0].length),a[0]},n}function q(e,t,a,n,r,o){for(;;){a.lastIndex=e.col;var i=a.exec(e.text);if(!i){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,i.index+1)))return e.col=i.index+i[0].length,i;e.col=i.index+1}}function G(e,t,a,n,r,o){for(var i,l,s;;){if(-1===(i=e.text.indexOf(r,e.col))){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,i+1)))return s=(l=e.text.lastIndexOf(o,i))>-1&&!j.$NOTEMPTY$.test(e.text.slice(l+1,i)),e.col=i+1,s?"autoclosed":"regular";e.col=i+1}}function z(e,t){e[t]||(e[t]=[]);var a,n=e[t];if(n&&n.length)for(a=0;a<n.length;a++)e.removeMarker(n[a]);n.length=0}function H(e,t){z(e,t),e.clearAnnotations()}function W(e,t,a,n){!function(e,t,a,n){var r,o,i,l=t.length;for(z(e,a),i=e[a],r=0;r<l;r++)(o=t[r]).range&&(i.push(e.addMarker(new n(o.range[0],o.range[1],o.range[2],o.range[3]),"ace_error-marker","text",0)),p(o,"range"))}(e,t,a,n),e.setAnnotations(t)}var $=2,K=4,Q=8,X=~K,Y=~Q,Z=K|Q,J=0,ee=4,te=8,ae=16,ne=17,re=32,oe=33,ie=128,le=129,se=2,ue=4,de=8,ce=4,fe=8,pe=9,me=16,he=32,ge=128,be=256,ve=512,ye=1024,Ee=1025,we=2048,Ce=4096,ke=8192,Se=8193,_e=8194,xe=8195,Te=16384,Me=16385,Re=32768,Ie=Ce|Re,Oe=we|Ce|ke|16384|Re,Fe={action:ce,simple:ve,block:ye,comment:Ee,alternation:we,sequence:Ce,repeat:ke,zeroorone:Se,zeroormore:_e,oneormore:xe,positivelookahead:Te,negativelookahead:Me,ngram:Re},Ne="$|SOF|$",Ae="$|NONBLANK|$",Pe="$|SOL|$",Ve="$|EOL|$",Le="$|ENDLINE|$",De="$|EMPTY|$",Be="$|NONSPACE|$",Ue=void 0,je="prototype",qe="hasOwnProperty",Ge="propertyIsEnumerable",ze=Object[je].toString,He=Object.create,We=Math.max,$e=Math.min,Ke="toLowerCase",Qe="charAt",Xe=1/0,Ye=4,Ze=8,Je=16,et=32,tt=33,at=34,nt=64,rt=128,ot=129,it=130,lt=256,st=512,ut=1024,dt=2048,ct=4096,ft=rt|et,pt=rt|lt,mt=dt|lt,ht=rt|lt|dt,gt={"[object Number]":et,"[object String]":rt,"[object Array]":lt,"[object RegExp]":dt,"[object Date]":ct,"[object Function]":ut,"[object Object]":st},bt=/^\s+|\s+$/g,vt=String[je].trim?function(e){return e.trim()}:function(e){return e.replace(bt,"")},yt=function(e,t){return t.length-e.length},Et=/\r\n|\r|\n/g,wt=/[\-_]/g,Ct=0,kt=/([.*+?^${}()|[\]\/\\\-])/g,St=/^([.!&\[\]{}()*+?\/|'"]|\s)/,_t="(\\s|\\W|$)",xt=/[*+]$/;j.$SPC$=/^[\s\u00a0]+/,j.$NONSPC$=/[^\s\u00a0]/,j.$NOTEMPTY$=/\S/,j.$SPACE$=/^\s*/;var Tt=h({constructor:function(e,t,a){this.$grammar=e,this.$DEF=t||null,this.$ERR=a||null,this.DEF=this.$DEF,this.ERR=this.$ERR,this.$folders=[]},$grammar:null,$folders:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){return this.$grammar=null,this.$folders=null,this.$n$=this.$t$=this.$v$=null,this.$DEF=this.$ERR=this.DEF=this.ERR=null,this},token:function(e,t){var a,n,r,o,i,l,s,u,d,c,p,m,h,g=this.$grammar,b=g.Style,v=this.DEF,y=this.ERR,E={},w=this.$n$,C=this.$t$,k=this.$v$,S=g.$interleaved,_=g.$parser,x=_.length,T=S?S.length:0;if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,o=t.stack,i=t.line,l=e.pos,d=!1,p=!0,c=!1,m=!1,h=t.block?t.block.name:Ue,o.length&&me===o[o.length-1].type&&e.sol()&&o.pop(),(!o.length||be!==o[o.length-1].type&&h!==o[o.length-1].name)&&e.spc()&&(p=!1,m=!0),E[w]=null,E[C]=v,E[k]=null,p)for(r=new function(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null},s=0;p&&(o.length||s<x)&&!e.eol();){if(e.pos,o.length,T&&!t.block){for(u=0;u<T;u++)if(!1!==(d=P(a=S[u],e,t,r))){p=!1,t.token=a;break}if(!p)break}if(!o.length&&s>=x)break;if(!1===(d=P(a=o.length?o.pop():_[s++],e,t,r))){if(a.status&Z){f(o,a.$id),e.nxt(!0)||(e.spc(),m=!0),c=!0,p=!1,t.token=a;break}}else{if(o.length&&ce===o[o.length-1].type)for(;o.length&&ce===o[o.length-1].type;)V(n=o.pop(),0,t,r),n.status&Q&&(t.$actionerr$=!0);else if(o.length>1&&e.eol()&&ye&o[o.length-1].type&&t.block&&t.block.name===o[o.length-1].name)for(u=o.length-2;u>=0&&ce===o[u].type;)V(n=o[u--],0,t,r),n.status&Q&&(t.$actionerr$=!0);if(!0!==d){p=!1,t.token=a;break}}}return p&&e.nxt(1),E[k]=e.cur(1),!1!==d?(d=b[d]||v,E[w]=a.name):c?(d=y,t.status&$&&A(t,i,l,i,e.pos,a)):d=v,E[C]=d,t.$eol$=e.eol(),t.$blank$=t.$blank$&&(m||t.$eol$),E},autocompletion:function(e,a){return function e(a,n){if(n=n||[],!a||!a.length)return n;var r,o,i,l,s,u;for(r=0,o=a.length;r<o;r++)if(s=a[r])if(ve===s.type)s.autocompletions?n.push.apply(n,s.autocompletions):rt===s.token.ptype&&rt&t(s.token.pattern)&&s.token.pattern.length>1&&n.push({word:""+s.token.pattern,meta:s.name,ci:!!s.ci});else if(we===s.type)e(s.token,n);else if(Ie&s.type){i=0,l=s.token.length;do{e([u=s.token[i++]],n)}while(i<l&&(ke&u.type&&0===u.min||ce===u.type))}else ke&s.type&&e([s.token[0]],n);return n}(e,a||[])},tokenize:function(e,t,a){var n=[];if(e.eol())t.line++,t.$blank$&&t.bline++;else for(;!e.eol();)n.push(this.token(e,t));return n},parse:function(e,t){var a,n,o,i,l,s=this,u=(e||"").split(Et),d=u.length,c=null;if(n=!!((t=t||1)&$),o=!!(1&t),(a=new U(0,t)).$full_parse$=!0,r(function(e){u[e]+="\n"},0,d-2),o?c=r(32&t?function(e,t){t._=t._.concat(s.tokenize(j(u[e]),a,e))}:function(e,t){t._.push(s.tokenize(j(u[e]),a,e))},0,d-1,{_:[]})._:r(function(e){var t=j(u[e]);if(t.eol())a.line++,a.$blank$&&a.bline++;else for(;!t.eol();)s.token(t,a)},0,d-1),n&&a.queu&&a.queu.length)for(;a.queu.length;)i=a.queu.shift(),A(a,i[1],i[2],i[3],i[4],null,i[5]);return l=o&&n?{tokens:c,errors:a.err}:o?c:a.err,function(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.block=null,e.token=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}(a),l},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){}}),Mt={Pattern:function(e,t,a){return function(){}},Indented:function(e){return e=e||j.$NOTEMPTY$,function(t){var a,n,r,o,i,l,s,u,d=t.row;if(a=t.line(d),e.test(a)){for(n=t.indentation(a),i=null,o=a.length,s=d+1,u=t.last();s<=u;++s)if(r=t.line(s),t.indentation(r)>n)i=s,l=r.length;else if(e.test(r))break;return i?[d,o,i,l]:void 0}}},Delimited:function(e,t,a){return e&&t?(a=a||l,function(n){var r,o,i,l,s,u,d,c,f,p,m,h,g,b,v=n.row,y=n.col;for(r=n.line(v),i=y,l=0;;){var E;if(-1!==(E=i<=0?-1:r.lastIndexOf(e,i-1))){if(1===l&&E<y)return;if(a(s=n.token(v,E+1))){o=E+e.length;break}i=E-1}else{if(1===l)return;l=1,i=r.length}}u=1,d=n.last();e:for(p=v;p<=d;++p)for(m=n.line(p),h=p===v?o:0;g=m.indexOf(e,h),b=m.indexOf(t,h),g<0&&(g=m.length),b<0&&(b=m.length),!((h=$e(g,b))>=m.length);){if(n.token(p,h+1)==s)if(h===g)++u;else if(!--u){c=p,f=h;break e}++h}if(null!=c&&(v!==c||f!==o))return[v,o,c,f]}):function(){}},MarkedUp:function(e,t,a,n,r){return e=e||l,t=t||"<",a=a||">",n=n||"/",r=r||b(g(t)+"("+g(n)+"?)([a-zA-Z_\\-][a-zA-Z0-9_\\-:]*)","g"),function(t){t.col=0,t.min=t.first(),t.max=t.last(),t.text=t.line(t.row);for(var o,i,l,s,u,d,c,f,p=t.row;;){if(!(o=q(t,e,r))||t.row!==p||!(i=G(t,e,0,0,a,n)))return;if(!o[1]&&"autoclosed"!==i)for(l=[t.row,t.col],s=o[2],u=[];;){if(d=q(t,e,r),p=t.row,c=t.col-(d?d[0].length:0),!d||!(i=G(t,e,0,0,a,n)))return;if("autoclosed"!==i)if(d[1]){for(f=u.length-1;f>=0;--f)if(u[f]===d[2]){u.length=f;break}if(f<0&&(!s||s===d[2]))return[l[0],l[1],p,c]}else u.push(d[2])}}}}},Rt=!("undefined"==typeof navigator),It=!!(Rt&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),Ot=function(e,t,a){var n,r=null,o=null,i=null;return a?o=(r=self.location.href).split("/").slice(0,-1).join("/"):t&&(i=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(n=document.getElementsByTagName("script"))&&n.length&&(o=(r=n[n.length-1].src).split("/").slice(0,-1).join("/"))),{path:o,file:r,base:i}}(0,Rt,It),Ft="?nocache="+m("nonce")+"_"+~~(1e3*Math.random()),Nt="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},At=h(Tt,{constructor:function e(a,n,o){var i,s=this,u=null;if(Tt.call(s,a,"text","invalid"),s.$v$="value",s.DEF=n||s.$DEF,s.ERR=a.Style.error||s.$ERR,s.LC=a.$comments.line||null,s.BC=a.$comments.block?{start:a.$comments.block[0][0],end:a.$comments.block[0][1]}:null,!1!==o){if(a.$comments.block&&a.$comments.block.length){i=e.Type("comment");for(var d=0,c=a.$comments.block.length;d<c;d++)s.$folders.push(e.Fold.Delimited(a.$comments.block[d][0],a.$comments.block[d][1],i))}a.Fold&&rt&t(a.Fold)?u=a.Fold[Ke]():a.$extra.fold&&(u=a.$extra.fold[Ke]()),u&&r(function(t,n){var r=vt(n[t]);if("brace"===r||"cstyle"===r){var o=function(e,t){var a,n,r=e.Style,o=e.Lex,i=e.Syntax,l=[],s={};for(a in r)r[qe](a)&&(!(n=o[a]||i[a])||"block"!=n.type&&"comment"!==n.type||(r[a+".inside"]||r[a])&&(a=r[a+".inside"]||r[a],s[qe](a)||(l.push(a),s[a]=1)));return l}(a);i=o.length?e.Type(o,!1):l,s.$folders.push(e.Fold.Delimited("{","}",i)),s.$folders.push(e.Fold.Delimited("[","]",i))}else"indent"===r||"indentation"===r?s.$folders.push(e.Fold.Indented()):"markup"!==r&&"html"!==r&&"xml"!==r||(s.$folders.push(e.Fold.Delimited("<![CDATA[","]]>",e.Type(["comment","tag"],!1))),s.$folders.push(e.Fold.MarkedUp(e.Type("tag"),"<",">","/")))},0,(u=u.split("+")).length-1,u)}},LC:null,BC:null,dispose:function(){return this.LC=this.BC=null,Tt[je].dispose.call(this)},getLineTokens:function(e,t,a){return t=new U(1,t),{tokens:this.tokenize(j(e),t,a),state:t}},autocomplete:function(e,t,a,r,o,i){if(this.$grammar.$autocomplete){var l,s=!!(o=o||{})[qe]("caseInsesitiveMatch")&&!!o.caseInsesitiveMatch,u=!o[qe]("prefixMatch")||!!o.prefixMatch,d=!!o[qe]("inContext")&&!!o.inContext,c=r,f=c[Ke](),p=c.length;return(l=d?this.autocompletion(e.stack.length?[e.token,e.stack[e.stack.length-1]]:[e.token]):this.$grammar.$autocomplete).length||(l=this.$grammar.$autocomplete),n(l,function(e,t){var a,n,r,o,i,l,d,m=t.word,h=m.length;return p?h>=p&&(a=t.meta,n=!!m.ci,(d=s||n)?(i=m[Ke](),l=f):(i=m,l=c),(o=i.indexOf(l))>=0&&(!u||0===o)&&(r=d?m.indexOf(c):o,e.push({name:m,value:m,meta:a,score:1e3-10*(h-p)-5*(r<0?o+3:r)}))):e.push({name:m,value:m,meta:t.meta,score:1e3-10*h}),e},[])}return[]},iterator:function(e,t){var a=e.getTabSize();return{row:0,col:0,min:0,max:0,line:function(t){return e.getLine(t)},first:function(){return 0},last:function(){return e.getLength()-1},next:function(){if(!(this.row>=this.max))return this.col=0,this.row++,!0},prev:function(){if(!(this.row<=this.min))return this.col=0,this.row--,!0},indentation:function(e){return function(e,t,a,n,r){var o,i,l;for(null==t&&-1==(t=e.search(j.$NONSPC$))&&(t=e.length),o=0,i=0;;){if((l=e.indexOf("\t",o))<0||l>=t)return i+(t-o);i+=l-o,i+=a-i%a,o=l+1}}(e,null,a)},token:function(t,a){return e.getTokenAt(t,a).type}}},fold:function(e,t,a){var n,r,o,i=this.$folders,l=i.length;if(l)for((r=this.iterator(e,a)).row=t,r.col=0,n=0;n<l;n++)if(o=i[n](r))return o}});At.Type=function(e,n){return pt&t(e)&&(e=b("\\b("+a(s(e).sort(yt),g).join("|")+")\\b")),!1===n?function(t){return!t||!e.test(t)}:function(t){return!!t&&e.test(t)}},At.Fold=Mt,It&&(onmessage=function(e){var t=e?e.data:null;t&&t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t,a){var n=e("./worker/mirror").Mirror;t.AceGrammarWorker=h(n,{constructor:function(e){n.call(this,e),this.setTimeout(300)},$parser:null,init_parser:function(e,t){this.$parser=new At(M(e),null,!1),this.sender.callback(1,t)},onUpdate:function(){var e,t,a,n,r,o=this.sender,i=this.$parser;if(i)if((e=this.doc.getValue())&&e.length)if(t=i.parse(e,$)){for(a in r=[],t)t[qe](a)&&(n=t[a],r.push({row:n[0],column:n[1],text:n[4]||"Syntax Error",type:"error",raw:n[4]||"Syntax Error",range:[n[0],n[1],n[2],n[3]]}));r.length?o.emit("ace_grammar_worker_error",r):o.emit("ace_grammar_worker_ok",null)}else o.emit("ace_grammar_worker_ok",null);else o.emit("ace_grammar_worker_ok",null);else o.emit("ace_grammar_worker_ok",null)}})}))});var Pt=e.AceGrammar={VERSION:"3.0.0",clone:o,extend:i,pre_process:function(e){var a={};return e.Lex=e.Lex||{},e.Syntax=e.Syntax||{},(e=k(e)).Parser&&e.Parser.length&&r(function n(o,i){var l,s,u,d=i[o];a[d]||(lt&t(d)&&(d="NGRAM_"+(l=d).join("_"),e.Syntax[d]||(e.Syntax[d]={type:"ngram",tokens:l})),s=S(d,e.Lex,e.Syntax),rt&t(s)&&(s=x(s,e.Lex,e.Syntax),s=e.Lex[s]||e.Syntax[s]||null),s&&(a[d]=s,u=s.type&&Fe[s.type[Ke]().replace(wt,"")]||ve,Oe&u&&r(n,0,s.tokens.length-1,s.tokens)))},0,e.Parser.length-1,e.Parser),e},parse:M,getMode:function(e,t,a){a=a||Nt;var n=o(e),r=a.require("ace/range").Range,i=h(a.require("ace/worker/worker_client").WorkerClient,{constructor:function(e,t,n,r){var o=a.require,i=a.config;if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl),!r)if(i.get("packaged")||!o.toUrl)r=r||i.moduleUrl(t,"worker");else{var l=this.$normalizePath;r=r||l(o.toUrl("ace/worker/worker.js",null,"_"));var s={};e.forEach(function(e){s[e]=l(o.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(r)}catch(e){if(!(e instanceof window.DOMException))throw e;var u=this.$workerBlob(r),d=window.URL||window.webkitURL,c=d.createObjectURL(u);this.$worker=new Worker(c),d.revokeObjectURL(c)}this.$worker.postMessage({load:!0,ace_worker_base:Ot.base+"/"+i.moduleUrl("ace/worker/json")+Ft}),this.$worker.postMessage({init:!0,tlns:s,module:t,classname:n}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage}}),l=a.require("ace/mode/folding/fold_mode").FoldMode,s=h(l,{constructor:function(e){l.call(this),this.$findFold=e,this.$lastFold=null},getFoldWidget:function(e,t,a){var n=this.$lastFold=this.$findFold(e,t,a);return n?"markbeginend"===t&&n.end?"end":"start":""},getFoldWidgetRange:function(e,t,a,n){var o=this.$lastFold;if(o)return new r(o[0],o[1],o[2],o[3])}}),u=a.require("ace/mode/text").Mode,d=h(u,{constructor:function e(){u.call(this),this.$id=e.$id,this.$tokenizer=e.$parser,this.lineCommentStart=e.$parser.LC,this.blockComment=e.$parser.BC,this.foldingRules=new s(this.folder.bind(this))},supportGrammarAnnotations:!1,createWorker:function(e){if(!this.supportGrammarAnnotations)return H(e,d.$markers),null;var t=new i(["ace"],"ace/grammar_worker","AceGrammarWorker",Ot.file+Ft);return t.attachToDocument(e.getDocument()),t.call("init_parser",[n],function(){t.on("ace_grammar_worker_error",function(t){var a=t.data;W(e,a,d.$markers,r)}),t.on("ace_grammar_worker_ok",function(){H(e,d.$markers)})}),t.on("terminate",function(){H(e,d.$markers)}),t},supportCodeFolding:!0,folder:function e(t,a,n){return this.supportCodeFolding?d.$folder(t,a,n,e.options||{}):null},supportAutoCompletion:!0,autocompleter:function e(t,a,n,r){return this.supportAutoCompletion?d.$autocompleter(t,a,n,r,e.options||{}):[]},getKeywords:function(e){return[]},getCompletions:function(e,t,a,n){return this.autocompleter(e,t,a,n)},dispose:function(){this.$tokenizer=this.foldingRules=this.autocompleter=null,d.dispose()}});return d.$id=m("ace_grammar_mode"),d.$markers=d.$id+"$markers",d.$parser=new Pt.Parser(M(e),t),d.$folder=function(e,t,n,r){var o,i,l=d.$parser,s=l.fold(e,n,a);if("markbeginend"===t){if(s)return s.start=!0,s.end=!1,s;for(i=n,o=We(0,n-200);n>o&&(!s||i!==s[2]);)s=l.fold(e,--n,a);if(s&&i===s[2])return s.start=!1,s.end=!0,s}else if(s)return s.start=!0,s.end=!1,s},d.$autocompleter=function(e,t,n,r,o){return d.$parser.autocomplete(e,t,n,r,o,a)},d.dispose=function(){d.$parser&&d.$parser.dispose(),d.$parser=d.$folder=d.$autocompleter=d.autocompleter=null},new d},Parser:At};return e.AceGrammar})},1342:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.default.createElement(i.Container,e,o.default.createElement("div",{className:"animated fadeIn",style:{paddingTop:20}},e.children))};var n,r=a(0),o=(n=r)&&n.__esModule?n:{default:n},i=a(8);e.exports=t.default},1343:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=a(1344),f=n(a(11)),p=(0,n(a(256)).default)(c.SketchPicker),m=["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff","#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],h=(0,f.default)({default:{color:{width:"36px",height:"14px",borderRadius:"2px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}),g=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a.handleClose=a.handleClose.bind(a),a.handleChange=a.handleChange.bind(a),a.state={show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"handleClick",value:function(){this.setState({show:!this.state.show})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleChange",value:function(e){var t=this.props.onChange;t&&t(e.hex)}},{key:"render",value:function(){var e=this.props,t=e.value,a=(e.onChange,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["value","onChange"])),n=this.state.show;return u.default.createElement("div",a,u.default.createElement("div",{style:h.swatch,onClick:this.handleClick},u.default.createElement("div",{style:i({},h.color,{backgroundColor:t})})),n&&u.default.createElement("div",{style:h.popover},u.default.createElement(p,{disableAlpha:!0,presetColors:m,color:t,onChange:this.handleChange,onClickOutside:this.handleClose})))}}]),t}(),r.propTypes={value:d.default.string,onChange:d.default.func},o);t.default=g,e.exports=t.default},1426:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=n(a(1)),f=a(6),p=a(8),m=n(a(45)),h=a(5),g=n(a(1427)),b=a(133),v=n(a(19)),y=(0,f.defineMessages)({staticTextOptionName:{id:"EditColumn.staticTextOption",defaultMessage:"Static text"},noLink:{id:"EditColumn.noLinkOption",defaultMessage:"No link"},sameEntryInDifferentView:{id:"EditColumn.link.sameEntryInDifferentView",defaultMessage:"Same entry in a different view"}}),E=1,w=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onNameChanged=a.onNameChanged.bind(a),a.onFieldSelected=a.onFieldSelected.bind(a),a.onStaticTextChanged=a.onStaticTextChanged.bind(a),a.toggleInlineEditing=a.toggleInlineEditing.bind(a),a.toggleConditionalFormatting=a.toggleConditionalFormatting.bind(a),a.onLinkRelationSelected=a.onLinkRelationSelected.bind(a),a.onLinkViewSelected=a.onLinkViewSelected.bind(a),a.onConditionalFormattingChange=a.onConditionalFormattingChange.bind(a),a.onLinkViewBasedOnRealModelCheckboxChange=a.onLinkViewBasedOnRealModelCheckboxChange.bind(a),a.uniqueIdPrefix="EditColumn-unique-id-"+E++,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"generateOptionsForFields",value:function(){var e=this.props,t=e.view,a=e.context,n=e.columns,r=e.columnIndex,o=e.intl.formatMessage,i=t.data_model_id,l=a.models[i],s=l.fields.map(function(e){return a.fields[e]}),u=function(e,t,a){return(0,h.some)(n,function(n,o){return r!==o&&e==n.field_id&&t==n.relation_id&&(!t||a===n.relation_is_back)})},d=[];d.push({value:"no",label:o(y.staticTextOptionName)}),s.forEach(function(e){d.push({value:""+e.id,label:e.name,disabled:u(e.id,null,null)})});var c=function(e,t){var n=e[t?"nameBackward":"nameForward"];a.models[e[t?"model_from_id":"model_to_id"]].fields.map(function(e){return a.fields[e]}).map(function(a){d.push({value:a.id+"-"+e.id+"-"+(t?"b":"f"),label:n+"."+a.name,disabled:u(a.id,e.id,t)})})};return l.relations.forEach(function(e){var t=a.relations[e];t.model_from_id===i&&("ONE_TO_ONE"!==t.type&&"MANY_TO_ONE"!==t.type||c(t,!1)),t.model_to_id===i&&("ONE_TO_ONE"!==t.type&&"ONE_TO_MANY"!==t.type||c(t,!0))}),d}},{key:"onFieldSelected",value:function(e){var t=e&&e.split("-")||[],a=void 0,n=void 0,r=void 0;t.length>=1&&"no"!==e&&(t.length>1&&(n=parseInt(t[1],10),r="b"===t[2]),a=parseInt(t[0],10));var o={field_id:a||null,relation_id:n||null,relation_is_back:r||null};a&&(o.customText=null),this.update(o)}},{key:"getSelectedFieldValue",value:function(){var e=this.props,t=e.columns[e.columnIndex];if(t.field_id){var a=""+t.field_id;return t.relation_id&&(a+="-"+t.relation_id+"-"+(t.relation_is_back?"b":"f")),a}return"no"}},{key:"generateOptionsForLink",value:function(){var e=this.props,t=e.view,a=e.context,n=(e.columnIndex,e.intl.formatMessage),r=t.data_model_id,o=a.models[r],i=[];i.push({value:"no",label:n(y.noLink)}),i.push({value:"same",label:n(y.sameEntryInDifferentView)});var l=function(e,t){var a=e[t?"nameBackward":"nameForward"];i.push({value:e.id+"-"+(t?"b":"f"),label:a})};return o.relations.forEach(function(e){var t=a.relations[e];t.model_from_id===r&&l(t,!1),t.model_to_id===r&&l(t,!0)}),i}},{key:"onLinkRelationSelected",value:function(e){var t=e&&e.split("-")||[],a=void 0,n=null;"same"===e?a=-1:t.length>1&&(a=parseInt(t[0],10),n="b"===t[1]),this.update({link_relation_id:a||null,link_relation_is_back:n,link_relation_view_id:null})}},{key:"getSelectedLinkRelationValue",value:function(){var e=this.props,t=e.columns[e.columnIndex];return-1===t.link_relation_id?"same":t.link_relation_id?t.link_relation_id+"-"+(t.link_relation_is_back?"b":"f"):"no"}},{key:"generateOptionsForLinkViews",value:function(){var e=this.props,t=e.view,a=e.context,n=e.columns,r=e.columnIndex,o=e.intl,i=n[r];if(o.formatMessage,!i.link_relation_id)return[];var l=void 0;if(-1===i.link_relation_id)l=t.data_model_id;else{var s=a.relations[i.link_relation_id];if(!s)return[];l=i.link_relation_is_back?s.model_from_id:s.model_to_id}var u=Object.values(a.views).filter(function(e){return l===e.data_model_id&&e.id}),d=[];return d.push({value:"no",label:"-"}),u.forEach(function(e){d.push({value:""+e.id,label:e.name})}),d}},{key:"onLinkViewSelected",value:function(e){var t=void 0;e&&"no"!==e&&(t=parseInt(e,10)),this.update({link_relation_view_id:t||null})}},{key:"getSelectedLinkViewValue",value:function(){var e=this.props,t=e.columns[e.columnIndex];return t.link_relation_view_id&&"object"===l(t.link_relation_view_id)?"basedOnRealModel":t.link_relation_view_id?t.link_relation_view_id:"no"}},{key:"onLinkViewBasedOnRealModelCheckboxChange",value:function(e){e.target.checked?this.update({link_relation_view_id:{}}):this.update({link_relation_view_id:null})}},{key:"generateOptionsForLinkViewsBasedOnRealModel",value:function(e){var t=this.props.context,a=Object.values(t.views).filter(function(t){return e===t.data_model_id&&t.id}),n=[];return n.push({value:"no",label:"-"}),a.forEach(function(e){n.push({value:""+e.id,label:e.name})}),n}},{key:"onLinkViewBasedOnRealModelSelected",value:function(e,t){var a=this.props,n=a.columns[a.columnIndex],r=void 0;t&&"no"!==t&&(r=parseInt(t,10));var o=i({},n.link_relation_view_id);r?o[e]=r:delete o[e],this.update({link_relation_view_id:o})}},{key:"getSelectedLinkViewBasedOnRealModelValue",value:function(e){var t=this.props,a=t.columns[t.columnIndex];return a.link_relation_view_id&&"object"===l(a.link_relation_view_id)&&a.link_relation_view_id[e]||"no"}},{key:"renderLinkViewsBasedOnRealModel",value:function(e){var t=this,a=this.props,n=a.view,r=a.columns,o=a.columnIndex,i=a.context,l=a.editForm,s=r[o];return e.mappedModels.map(function(e){return i.models[e]}).map(function(e){var a=e.id,r=e.name,o=t.generateOptionsForLinkViewsBasedOnRealModel(a),u=t.getSelectedLinkViewBasedOnRealModelValue(a),c=void 0,f=void 0,g=void 0,v=void 0;if("no"!==u)if((c=n.id===u?n:i.views[u])&&-1!==s.link_relation_id){f=s.link_relation_id;var y=!(g=s.link_relation_is_back),E=f;if(c===n){var w=(0,b.getAllByType)(l||[],"input");v=!(0,h.find)(w,function(e){return e.relation_id===E&&e.relation_is_back===y})}else{var C=(0,h.find)(i.viewColumns,function(e){return e.data_view_id===u&&!e.field_id&&e.relation_id===E&&e.relation_is_back===y});v=!C||!C.edit}}else c||(u="no");return v&&(v=t.renderWarningRelationNotEditableInLinkedView(f,g,c)),d.default.createElement(p.FormGroup,{row:!0,key:e.id},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,r)),d.default.createElement(p.Col,{xs:"12",md:"9"},d.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:o,simpleValue:!0,clearable:!1,value:u,searchable:!0,onChange:function(e){return t.onLinkViewBasedOnRealModelSelected(a,e)}})),v&&d.default.createElement(p.Col,{md:"12",style:{marginTop:5}},v))})}},{key:"update",value:function(e){var t=this.props,a=t.columns,n=t.columnIndex,r=a[n],o=Object.assign({},r,e);this.props.onUpdate(n,o)}},{key:"onNameChanged",value:function(e){var t=e.target.value||"";this.update({name:t}),this.props.onColumnNameChanged&&this.props.onColumnNameChanged(this.props.columnIndex,t)}},{key:"onStaticTextChanged",value:function(e){this.update({customText:e.target.value||null})}},{key:"onBooleanValueChanged",value:function(e,t){var a=this.props,n=a.columns,r=a.columnIndex,o=n[r],l=t.target.value||"",s={options:i({},o.options,{boolean:i({},o.options&&o.options.boolean,function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},e,l))})},u=Object.assign({},o,s);this.props.onUpdate(r,u)}},{key:"toggleInlineEditing",value:function(e){var t=e.target.checked;this.update({edit:t})}},{key:"toggleConditionalFormatting",value:function(e){var t=this.props,a=t.columns[t.columnIndex];if(e.target.checked){var n=a._originalConditionalFormatting||[];n.length||n.push({}),this.update({_originalConditionalFormatting:null,conditionalFormatting:n})}else this.update({_originalConditionalFormatting:a.conditionalFormatting,conditionalFormatting:null})}},{key:"onConditionalFormattingChange",value:function(e){this.update({conditionalFormatting:e})}},{key:"renderWarningRelationNotEditableInLinkedView",value:function(e,t,a){var n=this.props.context,r=n.models[a.data_model_id].name,o=n.relations[e],i=o[t?"nameBackward":"nameForward"],l=o[t?"nameForward":"nameBackward"],s=a.name;return d.default.createElement(p.Alert,{color:"warning"},d.default.createElement("p",null,d.default.createElement(v.default.Warning,null),d.default.createElement(f.FormattedMessage,{id:"EditColumn.addLinkToOtherView.warnRelationNotEditableInLinkedView",defaultMessage:"The relation {linkedModelName}.{inverseRelationName} is not editable in the selected view. This means that you will not be able to create a new row in the {relationName} relation once the view is open.",values:{linkedModelName:d.default.createElement("i",null,r),relationName:d.default.createElement("i",null,i),inverseRelationName:d.default.createElement("i",null,l)}})),d.default.createElement("p",null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.addLinkToOtherView.warnRelationNotEditableInLinkedView.help",defaultMessage:"If you want to be able to create new rows, add the relation {inverseRelationName} as an input in the edit form of the view {viewName} ",values:{viewName:d.default.createElement("b",null,s),inverseRelationName:d.default.createElement("b",null,l)}})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.view,n=t.columns,r=t.columnIndex,o=t.context,i=t.onDelete,l=t.editForm,s=n[r],u=this.generateOptionsForFields(),c=!s.field_id&&!s.relation_id,v=s.field_id&&o.fields[s.field_id],y=v&&v.type1,E=s.conditionalFormatting,w=this.generateOptionsForLink(),C=this.generateOptionsForLinkViews(),k=s.field_id&&!s.relation_id&&v&&!v.function_id&&!v.readOnly,S=this.getSelectedLinkViewValue(),_=void 0,x=void 0,T=void 0,M=void 0;if("no"!==S&&"basedOnRealModel"!==S)if((_=a.id===S?a:o.views[S])&&-1!==s.link_relation_id){x=s.link_relation_id;var R=!(T=s.link_relation_is_back),I=x;if(_===a){var O=(0,b.getAllByType)(l||[],"input");M=!(0,h.find)(O,function(e){return e.relation_id===I&&e.relation_is_back===R})}else{var F=(0,h.find)(o.viewColumns,function(e){return e.data_view_id===S&&!e.field_id&&e.relation_id===I&&e.relation_is_back===R});M=!F||!F.edit}}else _||(S="no");M&&(M=this.renderWarningRelationNotEditableInLinkedView(x,T,_));var N="basedOnRealModel"===S,A=!1,P=null;if(s.link_relation_id){var V=void 0,L=!1;if(-1===s.link_relation_id)V=a.data_model_id,L=!0;else{var D=o.relations[s.link_relation_id];D&&(V=s.link_relation_is_back?D.model_from_id:D.model_to_id),L=!1}V&&(A=(P=o.models[V])&&P.virtual&&L)}return d.default.createElement(p.Form,{className:"form-horizontal"},d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.columnNameLabel",defaultMessage:"Column name"}))),d.default.createElement(p.Col,{xs:"12",md:"9"},d.default.createElement(p.Input,{type:"text",value:s.name||"",onChange:this.onNameChanged}))),d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.modelFieldSelectorLabel",defaultMessage:"Attribute/Value"}))),d.default.createElement(p.Col,{xs:"12",md:"9"},d.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:u,simpleValue:!0,clearable:!1,value:this.getSelectedFieldValue(),searchable:!0,onChange:this.onFieldSelected}))),c&&d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.staticTextLabel",defaultMessage:"Static text"}))),d.default.createElement(p.Col,{xs:"12",md:"9"},d.default.createElement(p.Input,{type:"text",value:s.customText||"",onChange:this.onStaticTextChanged}))),k&&d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.inlineEditing.label",defaultMessage:"Cell editing"}))),d.default.createElement(p.Col,{md:"9"},d.default.createElement(p.FormGroup,{check:!0,inline:!0},d.default.createElement(p.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-inlineEditingCheckbox",checked:s.edit||!1,onChange:this.toggleInlineEditing}),d.default.createElement(p.Label,{className:"form-check-label",check:!0,htmlFor:this.uniqueIdPrefix+"-inlineEditingCheckbox"},d.default.createElement(f.FormattedMessage,{id:"EditColumn.inlineEditing.checkboxLabel",defaultMessage:"Allow cell editing"}))))),d.default.createElement(p.Button,{color:"danger",outline:!0,onClick:function(){return i(r)}},d.default.createElement(f.FormattedMessage,{id:"EditColumn.deleteColumn",defaultMessage:"Delete column"})),"BOOLEAN"===y&&d.default.createElement("div",null,d.default.createElement("hr",null),d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.booleanValue.trueValue",defaultMessage:'Display value for "true"'}))),d.default.createElement(p.Col,{xs:"12",md:"9"},d.default.createElement(p.Input,{type:"text",value:s.options&&s.options.boolean&&s.options.boolean.true||"",onChange:function(t){return e.onBooleanValueChanged("true",t)}}))),d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.booleanValue.falseValue",defaultMessage:'Display value for "false"'}))),d.default.createElement(p.Col,{xs:"12",md:"9"},d.default.createElement(p.Input,{type:"text",value:s.options&&s.options.boolean&&s.options.boolean.false||"",onChange:function(t){return e.onBooleanValueChanged("false",t)}})))),d.default.createElement("hr",null),d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.conditionalFormatting.label",defaultMessage:"Cell formatting"}))),d.default.createElement(p.Col,{md:"9"},d.default.createElement(p.FormGroup,{check:!0,inline:!0},d.default.createElement(p.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-conditionalFormattingCheckbox",checked:!!E&&E.length>0,onChange:this.toggleConditionalFormatting}),d.default.createElement(p.Label,{className:"form-check-label",check:!0,htmlFor:this.uniqueIdPrefix+"-conditionalFormattingCheckbox"},d.default.createElement(f.FormattedMessage,{id:"EditColumn.conditionalFormatting.checkboxLabel",defaultMessage:"Apply cell formatting"}))))),E&&E.length&&d.default.createElement(g.default,{type:y,conditionalFormatting:E,onConditionalFormattingChange:this.onConditionalFormattingChange}),d.default.createElement("hr",null),d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.addLinkToOtherViewLabel",defaultMessage:"Add link to other view"}))),d.default.createElement(p.Col,{xs:"12",md:"9"},d.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:w,simpleValue:!0,clearable:!1,value:this.getSelectedLinkRelationValue(),searchable:!0,onChange:this.onLinkRelationSelected}))),s.link_relation_id&&A&&d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.addLinkToOtherView.basedOnRealModel",defaultMessage:"Different view based on real model"}))),d.default.createElement(p.Col,{md:"9"},d.default.createElement(p.FormGroup,{check:!0,inline:!0},d.default.createElement(p.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-addLinkToOtherViewBasedOnRealModelCheckbox",checked:N,onChange:this.onLinkViewBasedOnRealModelCheckboxChange}),d.default.createElement(p.Label,{className:"form-check-label",check:!0,htmlFor:this.uniqueIdPrefix+"-addLinkToOtherViewBasedOnRealModelCheckbox"},d.default.createElement(f.FormattedMessage,{id:"EditColumn.addLinkToOtherView.basedOnRealModel.checkboxLabel",defaultMessage:"Select a different view for each child model"}))))),s.link_relation_id&&!N&&d.default.createElement(p.FormGroup,{row:!0},d.default.createElement(p.Col,{md:"3"},d.default.createElement(p.Label,null,d.default.createElement(f.FormattedMessage,{id:"EditColumn.addLinkToOtherViewSelectViewLabel",defaultMessage:"Open view"}))),d.default.createElement(p.Col,{xs:"12",md:"9"},d.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:C,simpleValue:!0,clearable:!1,value:S,searchable:!0,onChange:this.onLinkViewSelected}))),s.link_relation_id&&N&&P&&this.renderLinkViewsBasedOnRealModel(P),M)}}]),t}(),r.propTypes={view:c.default.object.isRequired,columns:c.default.array.isRequired,context:c.default.object.isRequired,columnIndex:c.default.number.isRequired,onUpdate:c.default.func.isRequired,onDelete:c.default.func.isRequired,onColumnNameChanged:c.default.func,editForm:c.default.any},o);t.default=(0,f.injectIntl)(w),e.exports=t.default},1427:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=a(6),f=a(8),p=n(a(45)),m=a(172),h=a(77),g=a(5),b=n(a(19)),v=(0,c.defineMessages)({min:{id:"EditConditionalFormatting.general.min",defaultMessage:"Min"},middle:{id:"EditConditionalFormatting.general.middle",defaultMessage:"Middle"},max:{id:"EditConditionalFormatting.general.max",defaultMessage:"Max"},positiveNumbers:{id:"EditConditionalFormatting.general.positiveNumbers",defaultMessage:"Positive numbers"},negativeNumbers:{id:"EditConditionalFormatting.general.negativeNumbers",defaultMessage:"Negative numbers"},valueAuto:{id:"EditConditionalFormatting.general.valueType.auto",defaultMessage:"Auto"},valueManual:{id:"EditConditionalFormatting.general.valueType.manual",defaultMessage:"Manual"}}),y=1,E=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderConditionalFormatting=a.renderConditionalFormatting.bind(a),a.uniqueIdPrefix="EditConditionalFormatting-unique-id-"+y++,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"getValue",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce(function(e,t){return e?e[t]:e},this.props.conditionalFormatting)}},{key:"updateValue",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=function e(t,a,n,r){if(n==a.length)return r;var o=a[n];return(t=(0,g.clone)(t))[o]||(t[o]=isNaN(a[n+1])?{}:[]),t[o]=e(t[o],a,n+1,r),t}(this.props.conditionalFormatting,a,0,e);r=r.map(function(e){return(0,m.setDefaultOptionsIfNeeded)(e)}),this.props.onConditionalFormattingChange(r)}},{key:"renderSelectNumber",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return this._renderSelectNumber.apply(this,[!1].concat(t))}},{key:"renderSelectNumberWithoutAuto",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return this._renderSelectNumber.apply(this,[!0].concat(t))}},{key:"_renderSelectNumber",value:function(e){for(var t=this,a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];var o=this.props.intl.formatMessage,i=this.getValue.apply(this,n.concat(["type"]));return u.default.createElement(f.FormGroup,{inline:!0,style:{display:"inline-flex"}},!e&&u.default.createElement(f.Input,{type:"select",style:{width:120,display:"inline-block"},value:i,onChange:function(e){t.updateValue.apply(t,[e.target.value].concat(n,["type"]))}},u.default.createElement("option",{value:"auto"},o(v.valueAuto)),u.default.createElement("option",{value:"value"},o(v.valueManual))),"auto"!==i&&u.default.createElement(h.NumberInput,{value:this.getValue.apply(this,n.concat(["value"])),style:{marginLeft:e?0:15},onChange:function(e){t.updateValue.apply(t,[e].concat(n,["value"]))}}))}},{key:"renderSelectText",value:function(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return u.default.createElement(f.FormGroup,{inline:!0,style:{display:"inline-flex"}},u.default.createElement(f.Input,{type:"text",value:this.getValue.apply(this,a.concat(["value"])),onChange:function(t){e.updateValue.apply(e,[t.target.value].concat(a,["value"]))}}))}},{key:"renderSelectFormat",value:function(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];var r=!!this.getValue.apply(this,a.concat(["format","bold"])),o=!!this.getValue.apply(this,a.concat(["format","italic"])),l=!!this.getValue.apply(this,a.concat(["format","underline"])),s={color:"primary",active:!0},d={color:"secondary",active:!1},p=r?s:d,m=o?s:d,g=l?s:d;return u.default.createElement(f.FormGroup,{inline:!0},u.default.createElement("div",{style:{marginBottom:10}},u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.background",defaultMessage:"Background color"})),u.default.createElement(h.ColorInput,{style:{display:"inline-flex"},value:this.getValue.apply(this,a.concat(["format","background"])),onChange:function(t){e.updateValue.apply(e,[t].concat(a,["format","background"]))}})),u.default.createElement("div",{style:{marginBottom:10}},u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.color",defaultMessage:"Text color"})),u.default.createElement(h.ColorInput,{style:{display:"inline-flex"},value:this.getValue.apply(this,a.concat(["format","color"])),onChange:function(t){e.updateValue.apply(e,[t].concat(a,["format","color"]))}})),u.default.createElement("div",null,u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.textStyle",defaultMessage:"Text style"})),u.default.createElement(f.ButtonGroup,{size:"sm"},u.default.createElement(f.Button,i({outline:!0,style:{fontWeight:"bold"}},p,{onClick:function(t){e.updateValue.apply(e,[!r].concat(a,["format","bold"])),t.currentTarget.blur()}}),u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.bold",defaultMessage:"Bold"})),u.default.createElement(f.Button,i({outline:!0,style:{fontStyle:"italic"}},m,{onClick:function(t){e.updateValue.apply(e,[!o].concat(a,["format","italic"])),t.currentTarget.blur()}}),u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.italic",defaultMessage:"Italic"})),u.default.createElement(f.Button,i({outline:!0,style:{textDecoration:"underline"}},g,{onClick:function(t){e.updateValue.apply(e,[!l].concat(a,["format","underline"])),t.currentTarget.blur()}}),u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.underline",defaultMessage:"Underline"})))))}},{key:"renderScaleOption",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return u.default.createElement("div",{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"2"},u.default.createElement(f.Label,null,e)),u.default.createElement(f.Col,{xs:"12",md:"10"},this.renderSelectNumber.apply(this,a),this.renderSelectFormat.apply(this,a))))}},{key:"renderBarOptionValue",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return u.default.createElement("div",{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"2"},u.default.createElement(f.Label,null,e)),u.default.createElement(f.Col,{xs:"12",md:"10"},this.renderSelectNumber.apply(this,a))))}},{key:"renderBarOptionColor",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return u.default.createElement("div",{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"2"},u.default.createElement(f.Label,null,e)),u.default.createElement(f.Col,{xs:"12",md:"10"},this.renderSelectFormat.apply(this,a))))}},{key:"renderBarOptionHideValue",value:function(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];var r=this.uniqueIdPrefix+"-renderBarOptionHideValueCheckbox-"+a.join("-");return u.default.createElement("div",{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{xs:"12",md:{size:10,offset:2}},u.default.createElement(f.Input,{className:"form-check-input",type:"checkbox",id:r,checked:this.getValue.apply(this,a.concat(["barOnly"]))||!1,onChange:function(t){e.updateValue.apply(e,[t.target.checked].concat(a,["barOnly"]))}}),u.default.createElement(f.Label,{check:!0,className:"form-check-label",htmlFor:r},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.bar.hideValue",defaultMessage:"Hide value (only show the bar)"})))))}},{key:"renderRangesTable",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=this.getValue.apply(this,t.concat(["ranges"])),r=n?n.length:0,o=[],i=0;i<=r;i++)o.push(this.renderRangesRow.apply(this,[i,r].concat(t)));return u.default.createElement(f.Table,null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{style:{minWidth:220}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.ranges.columnTitleRanges",defaultMessage:"Ranges"})),u.default.createElement("th",{style:{width:30}}))),u.default.createElement("tbody",null,o))}},{key:"renderRangesRow",value:function(e,t){for(var a=arguments.length,n=Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];var o=this,i=void 0;return 0===e?i="-∞":"number"!=typeof(i=this.getValue.apply(this,n.concat(["ranges",e-1,"value"])))&&(i="--"),u.default.createElement("tr",{key:e},u.default.createElement("td",null,u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.ranges.fromValue",defaultMessage:"From"})),i,u.default.createElement("div",{style:{height:10,display:"block"}}),u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.ranges.toValue",defaultMessage:"To"})),e===t?"+∞":this.renderSelectNumberWithoutAuto.apply(this,n.concat(["ranges",e])),u.default.createElement("br",null),e===t?this.renderSelectFormat.apply(this,n.concat(["otherValues"])):this.renderSelectFormat.apply(this,n.concat(["ranges",e]))),u.default.createElement("td",{style:{textAlign:"center",verticalAlign:"middle"}},0!==e&&u.default.createElement(h.Link,{onClick:function(){return o.removeRangeAtIndex.apply(o,[e].concat(n))}},u.default.createElement(b.default.Trash,null)),e<t&&u.default.createElement(h.Link,{onClick:function(){return o.addRangeAtIndex.apply(o,[e+1].concat(n))}},u.default.createElement(b.default.Plus,null))))}},{key:"removeRangeAtIndex",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=this.getValue.apply(this,a.concat(["ranges"]))||[],o=(0,g.clone)(r);o.splice(e,1),this.updateValue.apply(this,[o].concat(a,["ranges"]))}},{key:"addRangeAtIndex",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=this.getValue.apply(this,a.concat(["ranges"]))||[],o=(0,g.clone)(r);o.splice(e,0,{}),this.updateValue.apply(this,[o].concat(a,["ranges"]))}},{key:"renderValuesTable",value:function(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=this.getValue.apply(this,a.concat(["values"])),o=r?r.length:0,i=[],l=0;l<=o;l++)i.push(this.renderValuesRow.apply(this,[l,o].concat(a)));return u.default.createElement("div",null,u.default.createElement(f.Table,null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{style:{minWidth:200}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.columnTitleValue",defaultMessage:"Value"})),u.default.createElement("th",{style:{minWidth:220}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.columnTitleFormat",defaultMessage:"Format"})),u.default.createElement("th",{style:{width:30}}))),u.default.createElement("tbody",null,i)),u.default.createElement(f.Button,{outline:!0,onClick:function(){return e.addValue.apply(e,a)}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.addValue",defaultMessage:"Add value"})))}},{key:"renderValuesRow",value:function(e,t){for(var a=arguments.length,n=Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];var o=this;return u.default.createElement("tr",{key:e},u.default.createElement("td",null,e<t?u.default.createElement("div",null,u.default.createElement("div",{style:{marginRight:10,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.ifValue",defaultMessage:"If"})),this.renderSelectText.apply(this,n.concat(["values",e]))):u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.noneOfTheAbove",defaultMessage:"None of the above"})),u.default.createElement("td",null,e===t?this.renderSelectFormat.apply(this,n.concat(["otherValues"])):this.renderSelectFormat.apply(this,n.concat(["values",e]))),u.default.createElement("td",{style:{textAlign:"center",verticalAlign:"middle"}},e<t&&u.default.createElement(h.Link,{onClick:function(){return o.removeValueAtIndex.apply(o,[e].concat(n))}},u.default.createElement(b.default.Trash,null))))}},{key:"removeValueAtIndex",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=this.getValue.apply(this,a.concat(["values"]))||[],o=(0,g.clone)(r);o.splice(e,1),this.updateValue.apply(this,[o].concat(a,["values"]))}},{key:"addValue",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=this.getValue.apply(this,t.concat(["values"]))||[],r=(0,g.clone)(n);r.push({}),this.updateValue.apply(this,[r].concat(t,["values"]))}},{key:"renderConditionalFormatting",value:function(e,t){var a=this,n=this.props.intl.formatMessage,r=(0,m.getConditionalFormattingsForValueType)(this.props.type).map(function(e){return{value:e,label:(0,m.getConditionalFormattingName)(e)}}),o=e.type;return u.default.createElement("tr",{key:t},u.default.createElement("td",null,u.default.createElement(p.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:r,simpleValue:!0,clearable:!1,value:o,onChange:function(e){a.updateValue(e,t,"type")}})),u.default.createElement("td",null,("2-color-scale"===o||"3-color-scale"===o)&&u.default.createElement("div",null,this.renderScaleOption(n(v.min),t,"min"),"3-color-scale"===o&&this.renderScaleOption(n(v.middle),t,"middle"),this.renderScaleOption(n(v.max),t,"max")),"bar"===o&&u.default.createElement("div",null,this.renderBarOptionValue(n(v.min),t,"min"),this.renderBarOptionValue(n(v.max),t,"max"),this.renderBarOptionColor(n(v.positiveNumbers),t,"positive"),this.renderBarOptionColor(n(v.negativeNumbers),t,"negative"),this.renderBarOptionHideValue(t)),"ranges"===o&&u.default.createElement("div",null,this.renderRangesTable(t)),"values"===o&&u.default.createElement("div",null,this.renderValuesTable(t))))}},{key:"render",value:function(){var e=this.props,t=(e.type,e.conditionalFormatting);return u.default.createElement(f.Table,{bordered:!0},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{style:{minWidth:200,maxWidth:250}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.table.header.rule",defaultMessage:"Rule"})),u.default.createElement("th",{style:{minWidth:300}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.table.header.options",defaultMessage:"Options"})))),u.default.createElement("tbody",null,t.map(this.renderConditionalFormatting)))}}]),t}(),r.propTypes={type:d.default.string.isRequired,conditionalFormatting:d.default.array.isRequired,onConditionalFormattingChange:d.default.func.isRequired},o);t.default=(0,c.injectIntl)(E),e.exports=t.default},1428:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=n(a(1)),f=a(18),p=a(6),m=a(8),h=a(5),g=n(a(157)),b=a(22),v=(0,p.defineMessages)({askNewRoleNameTitle:{id:"EditPermissions.newRole.prompt.title",defaultMessage:"Create a new role"},askNewRoleNameButton:{id:"EditPermissions.newRole.prompt.button",defaultMessage:"Create"},askNewRoleNameLabel:{id:"EditPermissions.newRole.prompt.label",defaultMessage:"Name of the role"},askNewRoleNameErrorTitle:{id:"EditPermissions.newRole.prompt.errorTitle",defaultMessage:"Error"},askNewRoleNameErrorMessage:{id:"EditPermissions.newRole.prompt.errorMessage",defaultMessage:"Error creating the new role."}}),y=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.addRole=a.addRole.bind(a),a.state={askNewRoleName:!1,askNewRoleNameError:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"hasPermission",value:function(e,t){var a=(0,h.find)(this.props.view.permissions,function(t){return t.role_id===e.id});return a&&a[t]||!1}},{key:"setPermission",value:function(e,t,a){var n=(0,h.clone)(this.props.view.permissions),o=(0,h.findIndex)(this.props.view.permissions,function(t){return t.role_id===e.id});if(-1===o){var i=r({role_id:e.id},t,a);n.push(i)}else n[o]=l({},n[o],r({},t,a));this.props.setPermissions(n)}},{key:"addRole",value:function(e){var t=this;this.props.createRole(e).then(function(e){e.type===b.SERVER_CREATE_ROLE_FAILURE?t.setState({askNewRoleName:!1,askNewRoleNameError:e.response}):t.setState({askNewRoleName:!1})})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.view,t.context,t.roles),n=t.intl,r=this.state,o=r.askNewRoleName,i=r.askNewRoleNameError,l=n.formatMessage,s=a&&a.map(function(t,a){return d.default.createElement("tr",{key:a},d.default.createElement("td",null,t.name),d.default.createElement("td",{style:{textAlign:"center"}},d.default.createElement("input",{type:"checkbox",checked:e.hasPermission(t,"read"),onChange:function(a){e.setPermission(t,"read",a.target.checked)}})),d.default.createElement("td",{style:{textAlign:"center"}},d.default.createElement("input",{type:"checkbox",checked:e.hasPermission(t,"write"),onChange:function(a){e.setPermission(t,"write",a.target.checked)}})),d.default.createElement("td",{style:{textAlign:"center"}},d.default.createElement("input",{type:"checkbox",checked:e.hasPermission(t,"delete"),onChange:function(a){e.setPermission(t,"delete",a.target.checked)}})))});return d.default.createElement("div",null,d.default.createElement(m.Table,{bordered:!0,hover:!0},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{style:{minWidth:280}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.tableHeader.role",defaultMessage:"Role"})),d.default.createElement("th",{style:{width:170,textAlign:"center"}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.tableHeader.permission.read",defaultMessage:"Read"})),d.default.createElement("th",{style:{width:170,textAlign:"center"}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.tableHeader.permission.write",defaultMessage:"Write"})),d.default.createElement("th",{style:{width:170,textAlign:"center"}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.tableHeader.permission.delete",defaultMessage:"Delete"})))),d.default.createElement("tbody",null,s)),d.default.createElement(m.Button,{outline:!0,onClick:function(){return e.setState({askNewRoleName:!0})}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.addRoleButton",defaultMessage:"Add role"})),d.default.createElement(g.default,{open:o,dialogType:"prompt",inputs:[{label:l(v.askNewRoleNameLabel),type:"text"}],title:l(v.askNewRoleNameTitle),successButton:l(v.askNewRoleNameButton),onSuccess:function(t){return e.addRole(t)},onCancel:function(){return e.setState({askNewRoleName:!1})}}),d.default.createElement(g.default,{open:i||!1,dialogType:"alert",title:l(v.askNewRoleNameErrorTitle),message:d.default.createElement("div",null,l(v.askNewRoleNameErrorMessage),d.default.createElement("pre",null,JSON.stringify(i,null,2))),onCancel:function(){return e.setState({askNewRoleNameError:null})}}))}}]),t}(),o.propTypes={view:c.default.object.isRequired,context:c.default.object.isRequired,roles:c.default.array.isRequired,setPermissions:c.default.func.isRequired},i),E={createRole:b.createRole};t.default=(0,f.connect)(function(e,t){return{roles:e.server.roles||[]}},E)((0,p.injectIntl)(y)),e.exports=t.default},1429:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(18),c=a(6),f=a(8),p=a(5),m=n(a(45)),h=a(74),g=n(a(189)),b=1,v=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onUserModelValueSelected=a.onUserModelValueSelected.bind(a),a.onThisModelValueSelected=a.onThisModelValueSelected.bind(a),a.onFilterFunctionChange=a.onFilterFunctionChange.bind(a),a.uniqueIdPrefix="EditFilters-unique-id-"+b++,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"onUserFilterEnableCheckbox",value:function(e){e?this.props.onFiltersChange({userFilter:[{}]}):this.props.onFiltersChange({userFilter:null})}},{key:"getUserModelSelectionOptions",value:function(){var e=this.props,t=e.context,a=e.userModel,n=[];return a&&(a.relations.forEach(function(e){var r=t.relations[e];r.model_from_id!==a.id||"MANY_TO_ONE"!==r.type&&"ONE_TO_ONE"!==r.type||n.push({value:"relation-"+r.id+"-f",label:r.nameForward}),r.model_to_id!==a.id||"ONE_TO_MANY"!==r.type&&"ONE_TO_ONE"!==r.type||n.push({value:"relation-"+r.id+"-b",label:r.nameBackward})}),a.fields.forEach(function(e){var a=t.fields[e];n.push({value:"field-"+a.id,label:a.name})})),n}},{key:"getSelectedUserModelValue",value:function(){var e=this.props.view.userFilter&&this.props.view.userFilter[0],t=e&&e.userModel||{},a=t.type,n=t.id,r=t.relationIsBack;return"field"===a?a+"-"+n:"relation"===a?a+"-"+n+"-"+(r?"b":"f"):null}},{key:"onUserModelValueSelected",value:function(e){if(e){var t=e.split("-");this.props.onFiltersChange({userFilter:[{userModel:{type:t[0],id:parseInt(t[1],10),relationIsBack:t[2]?"b"===t[2]:null},viewModel:null}]})}}},{key:"getThisModelSelectionOptions",value:function(){var e=this.props,t=e.context,a=(e.userModel,e.view),n=this.props.view.userFilter&&this.props.view.userFilter[0],r=n&&n.userModel||{},o=r.type,i=r.id,l=r.relationIsBack,s=t.models[a.data_model_id],u=[];if("field"===o){var d=t.fields[i];d&&s.fields.forEach(function(e){var a=t.fields[e];(0,h.canChangeToType)(a.type1,d.type1)&&u.push({value:"field-"+a.id,label:a.name})})}if("relation"===o){var c=t.relations[i];if(c){var f=l?c.model_from_id:c.model_to_id;s.relations.forEach(function(e){var a=t.relations[e];a.model_from_id!==s.id||a.model_to_id!==f||"MANY_TO_ONE"!==a.type&&"ONE_TO_ONE"!==a.type||u.push({value:"relation-"+a.id+"-f",label:a.nameForward}),a.model_to_id!==s.id||a.model_from_id!==f||"ONE_TO_MANY"!==a.type&&"ONE_TO_ONE"!==a.type||u.push({value:"relation-"+a.id+"-b",label:a.nameBackward})})}}return u}},{key:"getSelectedThisModelValue",value:function(){var e=this.props.view.userFilter&&this.props.view.userFilter[0],t=e&&e.viewModel||{},a=t.type,n=t.id,r=t.relationIsBack;return"field"===a?a+"-"+n:"relation"===a?a+"-"+n+"-"+(r?"b":"f"):null}},{key:"onThisModelValueSelected",value:function(e){if(e){var t=e.split("-"),a=this.props.view.userFilter&&this.props.view.userFilter[0];this.props.onFiltersChange({userFilter:[{userModel:a&&a.userModel,viewModel:{type:t[0],id:parseInt(t[1],10),relationIsBack:t[2]?"b"===t[2]:null}}]})}}},{key:"onFilterFunctionChange",value:function(e){this.props.onFiltersChange({filterFunc:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.view,n=t.context,r=(t.intl,t.userModel),o=n.models[a.data_model_id],i=this.getUserModelSelectionOptions(),l=this.getThisModelSelectionOptions(),u=r&&i.length,d=u&&a.userFilter&&a.userFilter.length;return s.default.createElement("div",null,s.default.createElement(f.Row,null,s.default.createElement(f.Col,null,s.default.createElement(f.FormGroup,{check:!0,className:"checkbox"},s.default.createElement(f.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-userFilterEnableLabel",checked:!!d,disabled:!u,onChange:function(t){return e.onUserFilterEnableCheckbox(t.target.checked)}}),s.default.createElement(f.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-userFilterEnableLabel"},s.default.createElement(c.FormattedMessage,{id:"EditFilters.userFilterEnableLabel",defaultMessage:"Filter based on user"})),!u&&s.default.createElement(f.FormText,{color:"muted"},s.default.createElement(c.FormattedMessage,{id:"EditFilters.userFilterEnableCantBeEnabled",defaultMessage:"Can't enable filter based on user because there is no user's model."}))))),d&&s.default.createElement(f.Row,{style:{marginTop:10}},s.default.createElement(f.Col,null,s.default.createElement(f.Table,{bordered:!0,hover:!0},s.default.createElement("thead",null,s.default.createElement("tr",null,s.default.createElement("th",{style:{minWidth:200}},s.default.createElement(c.FormattedMessage,{id:"EditFilters.userFiltertable.header.userAttribute",defaultMessage:"User's attribute"})),s.default.createElement("th",{style:{width:40,textAlign:"center"}}),s.default.createElement("th",{style:{minWidth:200}},s.default.createElement(c.FormattedMessage,{id:"EditFilters.userFiltertable.header.valuerAttribute",defaultMessage:"Value"})))),s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,s.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:i,simpleValue:!0,clearable:!1,value:this.getSelectedUserModelValue(),searchable:!0,onChange:this.onUserModelValueSelected})),s.default.createElement("td",{style:{textAlign:"center"}},"="),s.default.createElement("td",null,s.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:l,simpleValue:!0,clearable:!1,value:this.getSelectedThisModelValue(),searchable:!0,onChange:this.onThisModelValueSelected}))))))),s.default.createElement("hr",null),s.default.createElement(f.Row,null,s.default.createElement(f.Col,null,s.default.createElement(c.FormattedMessage,{id:"EditFilters.permanentFilter.title",defaultMessage:"Permanent filter"}))),s.default.createElement(f.Row,null,s.default.createElement(f.Col,{style:{marginTop:10}},s.default.createElement(g.default,{width:"100%",context:n,model:o,minLines:3,functionString:a.filterFunc||"",returnValue:"boolean",onChange:this.onFilterFunctionChange}))))}}]),t}(),r.propTypes={view:u.default.object.isRequired,context:u.default.object.isRequired,onFiltersChange:u.default.func.isRequired},o);t.default=(0,d.connect)(function(e,t){var a=e.context.models||[];return{userModel:(0,p.find)(a,function(e){return"USER_MODEL"===e.specialModel})}},{})((0,c.injectIntl)(v)),e.exports=t.default},1430:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){return(e.relationId?e.relationId+"_"+(e.relationIsBack?"b":"f")+"_":"")+e.fieldId}function i(e,t){Array.isArray(t)||(t=[t]),t.forEach(function(t){var a=o(t);e[a]=!0})}Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=a(0),p=n(f),m=n(a(1)),h=a(6),g=a(8),b=a(607),v=n(b),y=n(a(3)),E=n(a(19)),w=a(187),C=a(1431),k=a(54),S=(0,h.defineMessages)({availableFieldsSearchPlaceholder:{id:"EditPivotInfo.pivotInfo.availableFields.search.placeholder",defaultMessage:"Search..."}}),_=1,x=(s=l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.dragAndDropListMap={availableFields:"availableFields",rowFields:"rowFields",columnFields:"columnFields",valueFields:"valueFields"},a.uniqueIdPrefix="EditPivotInfo-unique-id-"+_++,a.onDragEnd=a.onDragEnd.bind(a),a.onValueAggrationTypeChange=a.onValueAggrationTypeChange.bind(a),a.state=a.generateState(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),d(t,[{key:"generateState",value:function(e,t){var a=e.model,n=e.context,r=e.pivotInfo,l=a.fields.map(function(e){return n.fields[e]}),s=a.relations.map(function(e){return n.relations[e]}),u=r.rows||[],d=r.columns||[],c=r.value?[r.value]:[],f={};i(f,u),i(f,d),i(f,c);var p=void 0;if(t)p=t;else{var m=function(e,t,a){var n=function(e,t,a){var n={fieldId:e.id};return t&&(n.relationId=t,n.relationIsBack=a),n}(e,t,a);(function(e,t){return e[o(t)]})(f,n)||p.push(n)};p=[],l.forEach(function(e){return m(e)}),s.forEach(function(e){e.model_from_id!==a.id||(0,k.isRelationMulti)(e.type,!1)||n.models[e.model_to_id].fields.map(function(e){return n.fields[e]}).forEach(function(t){return m(t,e.id,!1)}),e.model_to_id!==a.id||(0,k.isRelationMulti)(e.type,!0)||n.models[e.model_from_id].fields.map(function(e){return n.fields[e]}).forEach(function(t){return m(t,e.id,!0)})})}return{availableFields:p,rowFields:u,columnFields:d,valueFields:c}}},{key:"recreatePivotInfoFromState",value:function(e,t){var a=t.rowFields,n=t.columnFields,r=0===t.valueFields.length?null:t.valueFields[0];return u({},e.pivotInfo,{rows:a,columns:n,value:r})}},{key:"componentWillReceiveProps",value:function(e){var t=e.context!==this.props.context||e.model!==this.props.model;(e.pivotInfo!==this.props.pivotInfo||t)&&this.setState(this.generateState(e,!t&&this.state.availableFields))}},{key:"getDragAndDropList",value:function(e,t){var a=this.state[this.dragAndDropListMap[e]];if(t){var n=this.props.context;return t=t.toLowerCase(),a.filter(function(e){var a=n.fields[e.fieldId].name;if(e.relationId){var r=n.relations[e.relationId];a=(e.relationIsBack?r.nameBackward:r.nameForward)+"."+a}return a&&-1!==a.toLowerCase().indexOf(t)})}return a}},{key:"getDragAndDropListStateName",value:function(e){return this.dragAndDropListMap[e]}},{key:"onDragEnd",value:function(e){var t=this,a=e.source,n=e.destination;if(n){var o;if(a.droppableId===n.droppableId){var i=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),o=c(r,1)[0];return n.splice(a,0,o),n}(this.getDragAndDropList(a.droppableId),a.index,n.index);o=r({},this.getDragAndDropListStateName(n.droppableId),i)}else{var l,s=function(e,t,a,n){var r=Array.from(e),o=Array.from(t),i=r.splice(a.index,1),l=c(i,1)[0];o.splice(n.index,0,l);var s={};return s[a.droppableId]=r,s[n.droppableId]=o,s}(this.getDragAndDropList(a.droppableId),this.getDragAndDropList(n.droppableId),a,n);r(l={},this.getDragAndDropListStateName(a.droppableId),s[a.droppableId]),r(l,this.getDragAndDropListStateName(n.droppableId),s[n.droppableId]),o=l}this.setState(o,function(){var e=t.recreatePivotInfoFromState(t.props,t.state);t.props.updatePivotInfo(e)})}}},{key:"onValueAggrationTypeChange",value:function(e){var t=e.target.value,a=u({},this.props.pivotInfo,{valueAggrationType:t});this.props.updatePivotInfo(a)}},{key:"changeShowTotalValueForEachRow",value:function(e){var t=u({},this.props.pivotInfo,{showTotalColumn:e});this.props.updatePivotInfo(t)}},{key:"changeTotalColumnName",value:function(e){var t=u({},this.props.pivotInfo,{totalColumnName:e});this.props.updatePivotInfo(t)}},{key:"renderDragAndDropList",value:function(e,t,a){var n=this.props.context;return p.default.createElement(v.default,u({id:e,items:this.getDragAndDropList(e,t),className:(0,y.default)("pivot-field-list")},a),function(e){var t=e.item,a=n.fields[t.fieldId].name;if(t.relationId){var r=n.relations[t.relationId];a=(t.relationIsBack?r.nameBackward:r.nameForward)+"."+a}return p.default.createElement("div",{className:"pivot-field-item",title:a},a)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.pivotInfo,n=t.intl.formatMessage,r=this.state.availableFieldsSearch;return p.default.createElement("div",null,p.default.createElement(g.Row,null,p.default.createElement(g.Col,{md:"12"},p.default.createElement("h5",null,p.default.createElement(h.FormattedMessage,{id:"EditPivotInfo.pivotInfo.title",defaultMessage:"Pivot fields"})),p.default.createElement(h.FormattedMessage,{id:"EditPivotInfo.pivotInfo.subtitle",defaultMessage:"Choose the fields to show in the pivot table by dragging them into the areas below."}))),p.default.createElement(g.Row,null,p.default.createElement(b.DragAndDropContext,{onDragEnd:this.onDragEnd},p.default.createElement("div",{className:"pivot-fields-container availableFields-container col-md-12"},p.default.createElement("div",{className:"pivot-fields-container-search"},p.default.createElement(g.Input,{type:"text",value:r||"",onChange:function(t){return e.setState({availableFieldsSearch:t.target.value})},placeholder:n(S.availableFieldsSearchPlaceholder)})),p.default.createElement("div",{className:"pivot-fields-container-inner"},this.renderDragAndDropList("availableFields",r))),p.default.createElement("div",{className:"pivot-fields-container rowFields-container col-md-6"},p.default.createElement("div",{className:"pivot-fields-container-title"},p.default.createElement(E.default.PivotFieldsRows,null)," ",p.default.createElement(h.FormattedMessage,{id:"EditPivotInfo.pivotInfo.rowFields.title",defaultMessage:"Rows"})),p.default.createElement("div",{className:"pivot-fields-container-inner"},this.renderDragAndDropList("rowFields"))),p.default.createElement("div",{className:"pivot-fields-container columnFields-container col-md-6"},p.default.createElement("div",{className:"pivot-fields-container-title"},p.default.createElement(E.default.PivotFieldsColumns,null)," ",p.default.createElement(h.FormattedMessage,{id:"EditPivotInfo.pivotInfo.columnFields.title",defaultMessage:"Columns"})),p.default.createElement("div",{className:"pivot-fields-container-inner"},this.renderDragAndDropList("columnFields"))),p.default.createElement("div",{className:"pivot-fields-container valueField-container col-md-6"},p.default.createElement("div",{className:"pivot-fields-container-title"},p.default.createElement(E.default.PivotFieldsValue,null)," ",p.default.createElement(h.FormattedMessage,{id:"EditPivotInfo.pivotInfo.valueField.title",defaultMessage:"Value (aggregated)"})),p.default.createElement("div",{className:"pivot-fields-container-inner"},this.renderDragAndDropList("valueFields",null,{maxItems:1}))),p.default.createElement("div",{className:"valueField-aggregation-type-container col-md-6"},p.default.createElement(E.default.PivotFieldsValue,{style:{visibility:"hidden",maxWidth:0}}),p.default.createElement(h.FormattedMessage,{id:"EditPivotInfo.pivotInfo.valueField.aggregationType",defaultMessage:"Aggregation type"}),p.default.createElement("br",null),p.default.createElement(g.Input,{type:"select",value:a.valueAggrationType,onChange:this.onValueAggrationTypeChange},w.pivotValueAggregationTypes.map(function(e){var t=C.pivotValueAggregationTypesMessages[e]&&n(C.pivotValueAggregationTypesMessages[e])||e;return p.default.createElement("option",{key:e,value:e},t)}))),p.default.createElement("div",{className:"col-md-12",style:{marginTop:15}},p.default.createElement(g.FormGroup,{check:!0,className:"checkbox"},p.default.createElement(g.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-valueTotalColumnCheckbox",checked:a.showTotalColumn||!1,onChange:function(t){return e.changeShowTotalValueForEachRow(t.target.checked)}}),p.default.createElement(g.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-valueTotalColumnCheckbox"},p.default.createElement(h.FormattedMessage,{id:"EditPivotInfo.pivotInfo.valueTotalColumn.checkbox",defaultMessage:"Show total value for each row"})))),a.showTotalColumn&&p.default.createElement("div",{className:"col-md-12",style:{marginTop:10}},p.default.createElement("div",{className:"form-horizontal"},p.default.createElement(g.FormGroup,{row:!0},p.default.createElement(g.Col,{md:"4"},p.default.createElement(g.Label,null,p.default.createElement(h.FormattedMessage,{id:"EditPivotInfo.pivotInfo.valueTotalColumn.columnName",defaultMessage:"Total column name:"}))),p.default.createElement(g.Col,{xs:"12",md:"8"},p.default.createElement(g.Input,{type:"text",value:a.totalColumnName||"",onChange:function(t){return e.changeTotalColumnName(t.target.value)}}))))))))}}]),t}(),l.propTypes={model:m.default.object.isRequired,pivotInfo:m.default.object.isRequired,context:m.default.object.isRequired,updatePivotInfo:m.default.func.isRequired},s);t.default=(0,h.injectIntl)(x),e.exports=t.default},1431:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pivotValueAggregationTypesMessages=void 0;var n=a(6);t.pivotValueAggregationTypesMessages=(0,n.defineMessages)({COUNT:{id:"View.pivot.valueAggregationType.COUNT",defaultMessage:"Count"},SUM:{id:"View.pivot.valueAggregationType.SUM",defaultMessage:"Sum"},AVG:{id:"View.pivot.valueAggregationType.AVG",defaultMessage:"Average"},MIN:{id:"View.pivot.valueAggregationType.MIN",defaultMessage:"Min"},MAX:{id:"View.pivot.valueAggregationType.MAX",defaultMessage:"Max"}})},1432:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(1433),o=(n=r)&&n.__esModule?n:{default:n};t.default=o.default,e.exports=t.default},1433:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return v=(v+1)%9007199254740991}function o(e){return Array.isArray(e)?e.map(function(e){return o(e)}):((e=(0,m.clone)(e)).__reactKey=r(),e.children&&(e.children=o(e.children)),e)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=a(18),f=n(a(1)),p=n(a(181)),m=a(5),h=a(499),g=n(a(1434)),b=n(a(1436)),v=0,y=(l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a.onSave=a.onSave.bind(a),a.onCancel=a.onCancel.bind(a),a.setDraggingItem=a.setDraggingItem.bind(a),a.removeDraggingItemBeforeDrop=a.removeDraggingItemBeforeDrop.bind(a),a.state={draggingItem:null,content:o(e.content)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"getChildContext",value:function(){return{setDraggingItem:this.setDraggingItem,removeDraggingItemBeforeDrop:this.removeDraggingItemBeforeDrop,globalContext:this.props.context,layoutType:this.props.type,mainContent:this.state.content,view:this.props.view}}},{key:"componentWillReceiveProps",value:function(e){(0,m.isEqual)(e.content,this.props.content)||this.setState({content:o(e.content)})}},{key:"setDraggingItem",value:function(e){this.setState({draggingItem:e})}},{key:"removeDraggingItemBeforeDrop",value:function(){this.setState({content:function e(t,a){if(Array.isArray(t)){var n=(0,m.findIndex)(t,function(e){return e.__reactKey===a});return-1!==n?((t=(0,m.clone)(t)).splice(n,1),t):t.map(function(t){return e(t,a)})}return(t=(0,m.clone)(t)).children&&(t.children=e(t.children,a)),t}(this.state.content,this.state.draggingItem.content.__reactKey)})}},{key:"onChange",value:function(e,t){t||function e(t){Array.isArray(t)?t.forEach(function(t){return e(t)}):(t.__reactKey=r(),delete t.fromTool,delete t.isPlaceholder,t.children&&e(t.children))}(e),this.setState({content:e})}},{key:"onSave",value:function(){var e=this.state.content;!function e(t){Array.isArray(t)?t.forEach(function(t){return e(t)}):(delete t.__reactKey,t.children&&e(t.children))}(e),this.props.save(e)}},{key:"onCancel",value:function(){this.props.cancel()}},{key:"render",value:function(){var e=this.props,t=(e.save,e.cancel,e.type),a=this.state,n=a.content,r=a.draggingItem;return d.default.createElement(h.TransitionGroup,null,d.default.createElement(h.CSSTransition,{appear:!0,in:!0,timeout:1e3,classNames:"editor-container-animation"},d.default.createElement("div",{className:"editor-container"},d.default.createElement("div",{className:"editor-tools-container"},d.default.createElement(b.default,{type:t,onSave:this.onSave,onCancel:this.onCancel})),d.default.createElement("div",{className:"editor-canvas-container"},d.default.createElement(g.default,{content:n,onChange:this.onChange,draggingItem:r})))))}}]),t}(),i.propTypes={context:f.default.object.isRequired,type:f.default.oneOf(p.default),content:f.default.any.isRequired,view:f.default.object.isRequired,save:f.default.func.isRequired,cancel:f.default.func.isRequired},i.childContextTypes={setDraggingItem:f.default.func,removeDraggingItemBeforeDrop:f.default.func,globalContext:f.default.object,layoutType:f.default.oneOf(p.default),mainContent:f.default.any,view:f.default.object},l);t.default=(0,c.connect)(function(e,t){return{context:e.context}})(y),e.exports=t.default},1434:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=(a(131),n(a(1435))),c=(a(5),a(6)),f=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"onChange",value:function(e,t){this.props.onChange(e.children,t)}},{key:"render",value:function(){var e=this.props,t=e.content,a=(e.onChange,e.draggingItem),n=e.intl,r={type:"container",children:t};return s.default.createElement("div",{className:"editor-canvas"},s.default.createElement(d.default,{content:r,onChange:this.onChange,draggingItem:a,intl:n}))}}]),t}(),r.propTypes={content:u.default.any.isRequired,onChange:u.default.func.isRequired,draggingItem:u.default.object},o);t.default=(0,c.injectIntl)(f),e.exports=t.default},1435:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(14),c=a(131),f=a(5),p=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.generateChildren=a.generateChildren.bind(a),a.deleteChild=a.deleteChild.bind(a),a.onDroppedItem=a.onDroppedItem.bind(a),a.setDraggingClientOffset=a.setDraggingClientOffset.bind(a),a.state={},a.childrenRefs=[],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"setChildrenRefs",value:function(e,t){t&&this.childrenRefs&&(this.childrenRefs[e]=t)}},{key:"setDraggingClientOffset",value:function(e){var t=this.props.content,a=(0,c.getElement)(t.type);if(!this.state.draggingClientOffset||e.x!==this.state.draggingClientOffset.x&&e.y!==this.state.draggingClientOffset.y){var n=function(e,t,a){var n;for(n=0;n<t.length;n++){var r=t[n];if(!r)break;var o=(0,d.findDOMNode)(r).getBoundingClientRect();if("x"===e){if(a.y>o.bottom+10)continue;if(a.y<o.top-10)return n}var i="x"===e?(o.right+o.left)/2:(o.bottom+o.top)/2;if(("x"===e?a.x:a.y)<i)return n}return n}(a.containerDirection,this.childrenRefs,e);this.setState({draggingClientOffset:e,dropPosition:"number"==typeof n?n:null})}}},{key:"onChildChange",value:function(e,t,a){var n=this.props.content,r=(0,f.clone)(n);r.children=(0,f.clone)(r.children);var o=(0,f.findIndex)(r.children,function(t){return t.__reactKey===e});r.children[o]=t,this.childrenRefs=[],this.props.onChange(r,a)}},{key:"deleteChild",value:function(e){var t=this.props.content,a=(0,f.clone)(t);a.children=a.children.filter(function(t){return t!==e}),this.childrenRefs=[],this.props.onChange(a)}},{key:"onDroppedItem",value:function(e){var t=this.props.content,a=e.content,n=this.state.dropPosition,r=(0,f.clone)(t);if(r.children=(0,f.clone)(r.children)||[],!a.fromTool){var o=(0,f.findIndex)(r.children,function(e){return e.__reactKey===a.__reactKey});-1!==o?(o<n&&n--,r.children.splice(o,1)):this.context.removeDraggingItemBeforeDrop(a)}"number"==typeof n?r.children.splice(n,0,a):r.children.push(a),this.childrenRefs=[],this.props.onChange(r)}},{key:"generateChildren",value:function(e){var a=this;if(!e)return null;Array.isArray(e)||(e=[e]);var n=this.props,r=n.draggingItem,o=n.intl,i=0;return e.map(function(e){return(0,c.getElement)(e.type),s.default.createElement(t,{ref:function(t){return"placeholder"!==e.__reactKey&&a.setChildrenRefs(i++,t)},key:e.__reactKey,content:e,onChange:function(t,n){return a.onChildChange(e.__reactKey,t,n)},onDelete:function(){return a.deleteChild(e)},draggingItem:r,intl:o})})}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.onDelete,n=e.draggingItem,r=e.onChange,o=e.intl,i=this.context.setDraggingItem,l=this.state.dropPosition,u=(0,c.getElement)(t.type);return this.childrenRefs=[],s.default.createElement(u.DragElement,{content:t,isEditor:!0,generateChildren:this.generateChildren,onChange:r,onDelete:a,onDroppedItem:this.onDroppedItem,setDraggingClientOffset:this.setDraggingClientOffset,dropPosition:l,setDraggingItem:i,draggingItem:n,intl:o})}}]),t}(),r.propTypes={content:u.default.object.isRequired,draggingItem:u.default.object,onChange:u.default.func.isRequired,onDelete:u.default.func,intl:u.default.object.isRequired},r.contextTypes={setDraggingItem:u.default.func,removeDraggingItemBeforeDrop:u.default.func},o);t.default=p,e.exports=t.default},1436:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(131),c=a(6),f=n(a(181)),p=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"render",value:function(){var e=(0,d.getAvailableElements)(this.props.type),t=this.props,a=t.onSave,n=t.onCancel,r=t.intl;return s.default.createElement("div",{className:"editor-tools"},s.default.createElement("h3",null,s.default.createElement(c.FormattedMessage,{id:"LayoutEditor.tools.title",defaultMessage:"UI Elements"})),s.default.createElement("div",{className:"editor-tools-list"},e.map(function(e,t){var a={type:e.type,fromTool:!0};return s.default.createElement(e.DragElement,{key:t,content:a,depth:0,isEditor:!0,isTool:!0,intl:r})})),s.default.createElement("div",{className:"editor-tools-helper text-muted"},s.default.createElement(c.FormattedMessage,{id:"LayoutEditor.tools.help",defaultMessage:"Drag and drop elements in the layout area"})),s.default.createElement("div",{className:"editor-tools-helper2 text-muted"},s.default.createElement(c.FormattedMessage,{id:"LayoutEditor.tools.help2",defaultMessage:"Start creating the layout by adding rows, then add column in them. You can change the width of the columns and insert components in them to create the layout you prefer."})),s.default.createElement("div",{className:"bottom-buttons-container"},s.default.createElement("button",{className:"btn btn-danger btn-sm layout-editing-cancel",type:"button",onClick:n},s.default.createElement(c.FormattedMessage,{id:"EditorTools.cancelChanges",defaultMessage:"Cancel"})),s.default.createElement("button",{className:"btn btn-success btn-sm layout-editing-save",type:"button",onClick:a},s.default.createElement(c.FormattedMessage,{id:"EditorTools.saveChanges",defaultMessage:"Save"}))))}}]),t}(),r.propTypes={type:u.default.oneOf(f.default).isRequired,onSave:u.default.func.isRequired,onCancel:u.default.func.isRequired},o);t.default=(0,c.injectIntl)(p),e.exports=t.default},1437:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n,r,o){if(!e)return!!t;if(!t)return!0;if(e.id!=t.id||e.updated_at!==t.updated_at)return!0;if(a.length!==n.length)return!0;for(var i=0;i<a.length;i++){var l=a[i],s=n[i];if(l.id!=s.id||l.updated_at!==s.updated_at)return!0}if(r.length!==o.length)return!0;for(i=0;i<r.length;i++){var u=r[i],d=o[i];if(u.id!=d.id||u.updated_at!==d.updated_at)return!0}return!(!e.externalSource||!t.externalSource||e.externalSource.updated_at===t.externalSource.updated_at)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=n(a(1)),f=a(18),p=a(5),m=a(6),h=a(8),g=a(77),b=a(22),v=a(90),y=a(212),E=a(114),w=n(a(1438)),C=n(a(1439)),k=n(a(1443)),S=n(a(1444)),_=(0,m.defineMessages)({newModelBaseName:{id:"EditModel.newModelBaseName",defaultMessage:"NewModel"},newVirtualModelBaseName:{id:"EditModel.newVirtualModelBaseName",defaultMessage:"NewVirtualModel"},newExternalSourceBaseName:{id:"EditModel.newExternalSourceBaseName",defaultMessage:"NewExternalSource"},cloneModelBaseName:{id:"EditModel.cloneModelBaseName",defaultMessage:"Copy"},deleteTitle:{id:"EditModel.delete.confirmTitle",defaultMessage:"Confirm deletion"},deleteMessage:{id:"EditModel.delete.confirmMessage",defaultMessage:"Are you sure to delete this model?"},deleteButton:{id:"EditModel.delete.confirmButton",defaultMessage:"Delete this model"},removeExternalSourceTitle:{id:"EditModel.removeExternalSource.confirmTitle",defaultMessage:"Confirm to remove the external source"},removeExternalSourceMessage:{id:"EditModel.removeExternalSource.confirmMessage",defaultMessage:"Are you sure to remove the external source from this model?"},removeExternalSourceMessage2:{id:"EditModel.removeExternalSource.confirmMessage.moreInfo",defaultMessage:"The model's data will not be deleted but it will not be synced with the external source anymore."},removeExternalSourceButton:{id:"EditModel.removeExternalSource.confirmButton",defaultMessage:"Remove the external source"},errorTitle:{id:"EditModel.error.title",defaultMessage:"Error"},createErrorMessage:{id:"EditModel.error.createErrorMessage",defaultMessage:"Error trying to create the model."},deleteErrorMessage:{id:"EditModel.error.deleteErrorMessage",defaultMessage:"Error trying to delete the model"},serverUpdateReceivedTitle:{id:"EditModel.serverUpdateReceivedTitle",defaultMessage:"Changes detected"},serverUpdateReceivedMessage:{id:"EditModel.serverUpdateReceivedMessage",defaultMessage:"The model has been reloaded because the server sent some changes."}}),x=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.save=a.save.bind(a),a.cancel=a.cancel.bind(a),a.askDelete=a.askDelete.bind(a),a.deleteModel=a.deleteModel.bind(a),a.askRemoveExternalSource=a.askRemoveExternalSource.bind(a),a.removeExternalSource=a.removeExternalSource.bind(a),a.changeName=a.changeName.bind(a),a.validateName=a.validateName.bind(a),a.setFields=a.setFields.bind(a),a.setRelations=a.setRelations.bind(a),a.onExternalSourceChange=a.onExternalSourceChange.bind(a),a.setChildModels=a.setChildModels.bind(a),a.state=a.initialState(e),a.isNew()&&(a.state.changed=!0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"initialState",value:function(e){var t=void 0;return t=e.model||this.state&&this.state.model?{model:e.model||this.state&&this.state.model,fields:e.fields||this.state&&this.state.fields,relations:e.relations||this.state&&this.state.relations}:this.createNewModel(e),l({changed:!1,askDelete:!1,askRemoveExternalSource:!1,saving:!1,error:null},t)}},{key:"createNewModel",value:function(e){var t=e.context,a=e.intl,n=e.newModel,r={},o=void 0,i=void 0,l=void 0,s=a.formatMessage,u=void 0,d="";if(n.cloneModelId){var c=t.models[n.cloneModelId],f=(0,E.clone)(t,c);r=f.model,o=f.fields,i=f.relations,d=r.name,l=!0,u=_.cloneModelBaseName}else n.virtual?(u=_.newVirtualModelBaseName,r.virtual=!0):n.externalSource?(u=_.newExternalSourceBaseName,r.externalSource={info:{sourceType:y.ExternalSourceTypes[0].type}}):u=_.newModelBaseName;var m=d+s(u),h=new RegExp("^"+m+"([0-9]+)$"),g=0;return(0,p.each)(t.models,function(e){var t=e.name.match(h);if(t){var a=t[1];g=Math.max(g,a)}}),r.name=m+(g+1),{model:r,fields:o||[],relations:i||[],changed:l}}},{key:"checkNameExists",value:function(e){var t=this.props.context,a=this.state.model.id;return(0,p.some)(t.models,function(t){return t.id!==a&&t.name===e})}},{key:"isNew",value:function(){return!this.state.model.id}},{key:"createModelObject",value:function(){var e=(0,p.clone)(this.state.model);return e.fields=(0,p.clone)(this.state.fields),e.relations=(0,p.clone)(this.state.relations),e.externalSource=(0,p.cloneDeep)(e.externalSource),e.relations=e.relations.map(function(e){return delete(e=(0,p.clone)(e)).selectFunction,(e._modelFromAutoField||e._modelToAutoField)&&(e._modelFromAutoField&&(e._modelFromAutoField.id?e.model_from_auto_field_id=e._modelFromAutoField.id:(e.model_from_auto_field_name=e._modelFromAutoField.name,delete e.model_from_auto_field_id)),e._modelToAutoField&&(e._modelToAutoField.id?e.model_to_auto_field_id=e._modelToAutoField.id:(e.model_to_auto_field_name=e._modelToAutoField.name,delete e.model_to_auto_field_id)),delete e._modelFromAutoField,delete e._modelToAutoField),e}),e.externalSource&&e.externalSource.info&&e.externalSource.info.columns&&(e.externalSource.info.columns=e.externalSource.info.columns.filter(function(t){if(!t.fieldId){var a=(0,p.find)(e.fields,function(e){return e._externalSourceFieldId===t._externalSourceFieldId});if(!a)return!1;a.id?t.fieldId=a.id:t.fieldName=a.name}return!0})),(0,p.each)(e.fields,function(e){return delete e._externalSourceFieldId}),e}},{key:"componentWillReceiveProps",value:function(e){var t,a;t=this.props,a=e,r(t.model,a.model,t.fields||[],a.fields||[],t.relations||[],a.relations||[])&&(this.state.saving?this.setState(this.initialState(e)):this.setState(l({},this.initialState(e),{error:{during:"serverUpdate",error:null}})))}},{key:"save",value:function(){var e=this,t=this.isNew();this.setState({saving:!0,error:null}),this.props.saveModel(this.createModelObject()).then(function(a){if(a.response&&a.response.id){var n=a.response;if(t)return void e.props.updateTabOptions(e.props.tabId,{modelId:n.id});i=e.state,s=n,r(i.model,s,i.fields||[],s.fields||[],i.relations||[],s.relations||[])||e.setState(l({},e.initialState(e.props)))}else{var o=a.response;console.log(o),e.setState({saving:!1,error:{during:"create",error:o}})}var i,s})}},{key:"cancel",value:function(){var e=this;this.isNew()?this.setState({changed:!1},function(){e.props.closeTab(e.props.tabId)}):this.setState(this.initialState(this.props))}},{key:"askDelete",value:function(){this.setState({askDelete:!0,error:null})}},{key:"deleteModel",value:function(){var e=this;this.props.deleteModel(this.state.model.id).then(function(t){if(t.response&&1===t.response.count)e.props.closeTab(e.props.tabId);else{var a=t.response;console.log(a),e.setState({askDelete:!1,error:{during:"delete",error:a}})}})}},{key:"askRemoveExternalSource",value:function(){this.setState({askRemoveExternalSource:!0})}},{key:"removeExternalSource",value:function(){var e=this.state,t=e.model,a=e.fields,n=l({},t,{readOnly:!1,externalSource:null}),r=a.map(function(e){return l({},e,{readOnly:!1})});this.setState({model:n,fields:r,changed:!0,askRemoveExternalSource:!1})}},{key:"changeName",value:function(e){this.setState({model:l({},this.state.model,{name:e}),changed:!0})}},{key:"validateName",value:function(e){return e&&v.modelNameRegexp.test(e)&&!this.checkNameExists(e)}},{key:"setFields",value:function(e){var t={fields:e,changed:!0},a=this.state.model;if(a.externalSource&&a.externalSource.info&&a.externalSource.info.columns){var n=l({},a.externalSource,{info:l({},a.externalSource.info,{columns:a.externalSource.info.columns.filter(function(t){return(0,p.find)(e,function(e){return e.id?e.id===t.fieldId:e._externalSourceFieldId===t._externalSourceFieldId})})})});t.model=l({},a,{externalSource:n})}this.setState(t)}},{key:"setRelations",value:function(e){this.setState({relations:e,changed:!0})}},{key:"onExternalSourceChange",value:function(e){this.setState({model:l({},this.state.model,{externalSource:e}),changed:!0})}},{key:"setChildModels",value:function(e){this.setState({model:l({},this.state.model,{mappedModels:e}),changed:!0})}},{key:"tabCanBeClosed",value:function(e){this.state.changed?e(!1,!0):e(!0)}},{key:"renderModelDetails",value:function(){var e=this,t=this.state.model;return d.default.createElement("div",null,d.default.createElement(h.Row,null,d.default.createElement(h.Col,null,d.default.createElement("div",{className:"model-detail-container"},d.default.createElement("span",{className:"text-muted"},d.default.createElement(m.FormattedMessage,{id:"EditModel.modelName",defaultMessage:"Model name"}),":"," "),d.default.createElement(g.EditableText,{value:t.name,onChange:this.changeName,validate:this.validateName,className:"model-name-editable"})))),"USER_MODEL"===t.specialModel&&d.default.createElement(h.Row,null,d.default.createElement(h.Col,null,d.default.createElement(h.Alert,{color:"info",style:{marginTop:20,marginBottom:0}},d.default.createElement("p",null,d.default.createElement(m.FormattedMessage,{id:"EditModel.specialModel.USER_MODEL.help",defaultMessage:"This model represents all users that can login to {appName} and allows you to add attributes or relations to other models to better describe the users of your company.",values:{appName:window.appName}})),d.default.createElement("p",null,d.default.createElement(m.FormattedMessage,{id:"EditModel.specialModel.USER_MODEL.help2",defaultMessage:"To add users, edit the user's roles, or change password, go to {link}.",values:{link:d.default.createElement(g.Link,{onClick:function(t){return e.props.openUsersAndRoles(t)}},d.default.createElement(m.FormattedMessage,{id:"EditModel.specialModel.USER_MODEL.help2.linkUserAndRoles",defaultMessage:"Settings → Users and roles"}))}}))))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.context,r=t.intl,o=this.state,i=o.model,s=o.fields,u=o.relations,c=o.changed,f=o.askDelete,p=o.askRemoveExternalSource,b=o.saving,v=o.error,y=r.formatMessage;if(!(i&&s&&u&&a))return console.error("Mostrare finestra di errore"),d.default.createElement("div",null,"...");var E=this.isNew(),x=!E&&"USER_MODEL"!==i.specialModel,T=c,M=c||E,R=b,I=null;if(v){switch(v.during){case"create":I={title:y(_.errorTitle),message:y(_.createErrorMessage)};break;case"delete":I={title:y(_.errorTitle),message:y(_.deleteErrorMessage)};break;case"serverUpdate":I={title:y(_.serverUpdateReceivedTitle),message:y(_.serverUpdateReceivedMessage)}}I||(I={}),v.error&&(I.message=d.default.createElement("div",null,I.message||"",d.default.createElement("pre",null,JSON.stringify(v.error,null,2))))}var O=void 0;return O=i.virtual?d.default.createElement(m.FormattedMessage,{id:"EditModel.title.virtualModel",defaultMessage:"Virtual model"}):i.externalSource?d.default.createElement(m.FormattedMessage,{id:"EditModel.title.externalSourceModel",defaultMessage:"Model from an external data source"}):d.default.createElement(m.FormattedMessage,{id:"EditModel.title.model",defaultMessage:"Model"}),d.default.createElement(g.Container,{className:"edit-model"},d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,O,d.default.createElement("div",{className:"pull-right",style:{marginBottom:-5}},x&&d.default.createElement(h.Button,{color:"danger",onClick:this.askDelete},d.default.createElement(m.FormattedMessage,{id:"EditModel.deleteModel",defaultMessage:"Delete model"}))," ",T&&d.default.createElement(h.Button,{color:"success",onClick:this.save},d.default.createElement(m.FormattedMessage,{id:"EditModel.save",defaultMessage:"Save"}))," ",M&&d.default.createElement(h.Button,{color:"warning",onClick:this.cancel},d.default.createElement(m.FormattedMessage,{id:"EditModel.cancel",defaultMessage:"Cancel"}))," ")),d.default.createElement(h.CardBody,null,this.renderModelDetails())),i.externalSource&&d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,d.default.createElement(m.FormattedMessage,{id:"EditModel.externalSourceSectionTitle",defaultMessage:"External data source"}),d.default.createElement("div",{className:"pull-right",style:{marginBottom:-5}},!E&&d.default.createElement(h.Button,{color:"secondary",outline:!0,onClick:this.askRemoveExternalSource},d.default.createElement(m.FormattedMessage,{id:"EditModel.removeExternalSource",defaultMessage:"Remove external source"})))),d.default.createElement(h.CardBody,null,d.default.createElement(S.default,{context:n,model:i,fields:s,onExternalSourceChange:this.onExternalSourceChange,onFieldsChange:this.setFields}))),i.virtual&&d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,d.default.createElement(m.FormattedMessage,{id:"EditModel.virtualModel.mappedModelsSectionTitle",defaultMessage:"Child models"})),d.default.createElement(h.CardBody,null,d.default.createElement(k.default,{context:n,model:i,setChildModels:this.setChildModels}))),d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,d.default.createElement(m.FormattedMessage,{id:"EditModel.attributesSectionTitle",defaultMessage:"Attributes"})),d.default.createElement(h.CardBody,null,d.default.createElement(w.default,{context:n,model:i,fields:s,relations:u,setFields:this.setFields}))),d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,d.default.createElement(m.FormattedMessage,{id:"EditModel.relationsSectionTitle",defaultMessage:"Relations"})),d.default.createElement(h.CardBody,null,d.default.createElement(C.default,{context:n,model:i,fields:s,relations:u,setRelations:this.setRelations}))),d.default.createElement(g.Dialog,{open:f,dialogType:"confirm",title:y(_.deleteTitle),message:y(_.deleteMessage),successButton:y(_.deleteButton),successColor:"danger",onSuccess:this.deleteModel,onCancel:function(){return e.setState({askDelete:!1})}}),d.default.createElement(g.Dialog,{open:p,dialogType:"confirm",title:y(_.removeExternalSourceTitle),message:d.default.createElement("div",null,d.default.createElement("p",null,y(_.removeExternalSourceMessage)),d.default.createElement("p",null,y(_.removeExternalSourceMessage2))),successButton:y(_.removeExternalSourceButton),successColor:"danger",onSuccess:this.removeExternalSource,onCancel:function(){return e.setState({askRemoveExternalSource:!1})}}),d.default.createElement(g.Dialog,l({open:!!I,dialogType:"alert"},I,{onCancel:function(){return e.setState({error:null})}})),d.default.createElement(g.Dialog,{open:R,dialogType:"loading"}))}}]),t}(),o.propTypes={tabId:c.default.any.isRequired,modelId:c.default.number},i),T={closeTab:b.closeTab,saveModel:b.saveModel,deleteModel:b.deleteModel,updateTabOptions:b.updateTabOptions,openUsersAndRoles:b.openUsersAndRoles};t.default=(0,f.connect)(function(e,t){var a=t.modelId,n=t.newModel,r=null,o=null,i=null;return a&&(o=(r=e.context.models&&e.context.models[a])&&r.fields.map(function(t){return e.context.fields[t]}),i=r&&r.relations.map(function(t){return e.context.relations[t]})),{user:e.auth.user,context:e.context,model:r,newModel:n,fields:o,relations:i}},T,null,{withRef:!0})((0,m.injectIntl)(x,{withRef:!0})),e.exports=t.default},1438:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a(0),p=n(f),m=a(14),h=n(a(3)),g=n(a(1)),b=a(6),v=a(8),y=a(5),E=n(a(144)),w=n(a(45)),C=a(74),k=n(a(619)),S=n(a(189)),_=a(114),x=n(a(43)),T=a(90),M=n(a(19)),R=a(145),I=(0,b.defineMessages)({functionType:{id:"EditFields.type.functionType",defaultMessage:"Formula"},autoType:{id:"EditFields.type.autoType",defaultMessage:"Auto"},dataValidationNoSourceGroup:{id:"EditFields.dataValidation.sourceGroupOptions.noGroup",defaultMessage:"No group"}}),O=1,F=(0,R.SortableElement)(function(e){var t=e.field,a=e.fieldIndex;return(0,e.renderField)(t,a)}),N=(0,R.SortableContainer)(function(e){var t=e.fields,a=e.renderField;return p.default.createElement("tbody",null,(0,y.map)(t,function(e,t){return p.default.createElement(F,{key:"field-at-index-"+t,index:t,field:e,fieldIndex:t,renderField:a})}))}),A=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.originalHandlePress=a.handlePress,a.handlePress=function(e){if(a.originalHandlePress.call(a,e),a.manager.getActive()){var t=a.props.helperClass,n=a.helper,r=a.node;a.helper.parentNode.removeChild(a.helper);var o=a.document.createElement("table");o.className="table table-bordered table-striped table-hover",o.style.position="absolute",o.style.border="none";for(var i,l=a.document.createElement("tbody"),s=0;s<r.childElementCount;s++){var u=r.children[s].clientWidth+1+"px";n.children[s].style.width=u,n.children[s].style.minWidth=u,n.children[s].style.maxWidth=u}o.appendChild(l),l.appendChild(n),n.child,a.helper=o,a.document.body.appendChild(a.helper),t&&(i=a.helper.classList).add.apply(i,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(t.split(" ")))}},a.originalHandleSortEnd=a.handleSortEnd,a.handleSortEnd=function(e){a.originalHandleSortEnd.call(a,e)},a}return i(t,N),c(t,[{key:"getWrappedInstance",value:function(){return null}}]),t}(),P=(s=l=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderField=a.renderField.bind(a),a.addField=a.addField.bind(a),a.onSortStart=a.onSortStart.bind(a),a.onSortEnd=a.onSortEnd.bind(a),a.uniqueIdPrefix="EditFields-unique-id-"+O++,a.state={},a}return i(t,f.Component),c(t,[{key:"addField",value:function(){var e=(0,y.clone)(this.props.fields),t={name:"",type1:C.fieldTypes[0]};this.props.model.virtual&&(t.virtual=!0,t.mappedFields=[]),e.push(t),this.props.setFields(e)}},{key:"updateField",value:function(e,t,a){var n=void 0;if("string"==typeof t)n=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},t,a);else{if("object"!==(void 0===t?"undefined":d(t)))throw new Error("updateField error");n=t}var r=(0,y.clone)(this.props.fields);r[e]=u({},r[e],n),this.props.setFields(r)}},{key:"deleteField",value:function(e){var t=(0,y.clone)(this.props.fields);t.splice(e,1),this.props.setFields(t)}},{key:"onSortStart",value:function(){this.setState({sortingFields:!0})}},{key:"onSortEnd",value:function(e,t){var a=e.oldIndex,n=e.newIndex;e.collection,this.setState({sortingFields:!1});var r=(0,y.clone)(this.props.fields);r.splice(n,0,r.splice(a,1)[0]),this.props.setFields(r)}},{key:"changeFieldName",value:function(e,t){this.updateField(e,"name",t)}},{key:"validateFieldName",value:function(e,t){return t&&T.fieldNameRegexp.test(t)}},{key:"onFieldTypeChange",value:function(e,t){"_FUNCTION"===t?this.updateField(e,{type1:null,func:"",function_id:null}):this.updateField(e,{type1:t,func:null,function_id:null})}},{key:"onFunctionTypeChange",value:function(e,t){this.updateField(e,"type1",t)}},{key:"onFunctionChange",value:function(e,t){this.updateField(e,{func:t,function_id:null})}},{key:"onUniqueChange",value:function(e,t){this.updateField(e,"unique",t)}},{key:"onDecimalDigitsChange",value:function(e,t){this.updateField(e,"decimalDigits",t)}},{key:"generateDecimalDigitsOptions",value:function(){for(var e=[],t=0;t<10;t++)e.push(p.default.createElement("option",{key:t,value:t},t));return e}},{key:"onEnumListChange",value:function(e,t){this.updateField(e,"enumList",t.map(function(e){return e.value}))}},{key:"getNextSourceGroupId",value:function(){return((0,y.max)(this.props.fields.map(function(e){return e.dataValidation&&e.dataValidation.length>0&&e.dataValidation[0].source_group||0}))||0)+1}},{key:"onDataValidationCheckboxChange",value:function(e,t){if(t){var a=this.props,n=a.context,r=a.model,o=this.getNextSourceGroupId(),i=void 0,l=void 0;(0,y.some)(n.models,function(e){return!e.specialModel&&e.id!==r.id&&!(0,_.isAncestor)(n,r,e)&&(0,y.some)(e.fields,function(t){var a=n.fields[t];return"TEXT"===a.type1&&(i=e.id,l=a.id,!0)})}),this.updateField(e,{dataValidation:[{source_group:o,model_id:i,field_id:l}],dataValidationSourceModelId:i,dataValidationSourceFieldId:l})}else this.updateField(e,{dataValidation:null,dataValidationSourceModelId:null,dataValidationSourceFieldId:null})}},{key:"onDataValidationSourceModelChange",value:function(e,t){var a=this,n=t,r=this.props.context.models[n],o=(0,y.find)(r.fields,function(e){var t=a.props.context.fields[e];if("TEXT"===t.type1)return t.id});this.updateField(e,{dataValidation:[{source_group:this.getNextSourceGroupId(),model_id:n,field_id:o}],dataValidationSourceModelId:n,dataValidationSourceFieldId:o})}},{key:"onDataValidationSourceFieldChange",value:function(e,t){var a=this.props.fields[e].dataValidationSourceModelId;this.updateField(e,{dataValidation:[{source_group:this.getNextSourceGroupId(),model_id:a,field_id:t}],dataValidationSourceModelId:a,dataValidationSourceFieldId:t})}},{key:"onDataValidationSourceGroupChange",value:function(e,t){-1===t&&(t=this.getNextSourceGroupId());var a=this.props.fields[e],n=a.dataValidationSourceModelId,r=a.dataValidationSourceFieldId;this.updateField(e,{dataValidation:[{source_group:t,model_id:n,field_id:r}]})}},{key:"mappedFieldChanged",value:function(e,t,a){var n=this.props,r=(n.context,n.fields[e]),o=(0,y.clone)(r.mappedFields)||[];o[t]=a,this.updateField(e,{mappedFields:o})}},{key:"renderSelectMappedFields",value:function(e,t){var a=this,n=this.props,r=n.context,o=n.model.mappedModels||[];return p.default.createElement("div",null,p.default.createElement(v.FormGroup,{row:!0},p.default.createElement(v.Col,null,p.default.createElement(v.FormText,{color:"muted"},p.default.createElement(b.FormattedMessage,{id:"EditFields.mappedFields.title",defaultMessage:"Select the corresponding field for each child model"})))),o.map(function(n,o){var i=r.models[n],l=i.fields.map(function(t){var a=r.fields[t],n=!(0,C.canChangeToType)(a.type1,e.type1);return{label:a.name,value:a.id,disabled:n}}).filter(function(e){return e}),s=e.mappedFields&&e.mappedFields[o]||null;return p.default.createElement(v.FormGroup,{key:n},p.default.createElement(v.Label,{style:{marginBottom:3}},i.name),p.default.createElement(w.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:l,simpleValue:!0,clearable:!0,value:s,searchable:!0,onChange:function(e){return a.mappedFieldChanged(t,o,e)}}))}),0===o.length&&p.default.createElement("span",null,p.default.createElement(b.FormattedMessage,{id:"EditFields.mappedFields.noMappedModels",defaultMessage:"No child models selected"})))}},{key:"renderField",value:function(e,t){var a=this,n=this.props,r=n.context,o=n.model,i=n.fields,l=n.relations,s=n.intl.formatMessage,d=e.func,c="string"==typeof d,f=e.type1,m=e.readOnly,h=e.virtual,g=!0,T=!0,R=!0,O=!0,F=o.externalSource,N=void 0;if(F){var A=e.id?(0,y.find)(F.info&&F.info.columns,function(t){return t.fieldId===e.id}):(0,y.find)(F.info&&F.info.columns,function(t){return t._externalSourceFieldId===e._externalSourceFieldId});A&&(N=A.column,T=!1),A&&F.id&&(A.column===F.info.columnId||A.column===F.info.columnCreatedAt||A.column===F.info.columnUpdatedAt)&&(R=!1)}"USER_MODEL"===o.specialModel&&(R=!1,O=!1,T=!1,g=!1);var P=C.fieldTypes.map(function(e){return{value:e,label:s(k.default[e])}}),V=(0,y.clone)(P);o.id&&e.id&&(V=V.map(function(e){return(0,C.canChangeToType)(f,e.value)?e:u({},e,{disabled:!0})})),h||V.push({value:"_FUNCTION",label:s(I.functionType)});var L=(0,y.clone)(P);L.splice(0,0,{value:"",label:s(I.autoType)});var D=[],B={},U=[];if(!m&&"TEXT"===f&&e.dataValidation&&e.dataValidation.length>0&&((0,y.each)(r.models,function(e){e.specialModel||e.id===o.id||(0,_.isAncestor)(r,o,e)||(B[e.id]=[],(0,y.each)(e.fields,function(t){var a=r.fields[t];"TEXT"===a.type1&&B[e.id].push({value:a.id,label:a.name})}),B[e.id].length&&D.push({value:e.id,label:e.name}))}),e.dataValidationSourceFieldId)){U.push({value:-1,label:s(I.dataValidationNoSourceGroup)});var j={},q=[];(0,y.each)(i,function(t){var a=t.dataValidation&&t.dataValidation[0]&&t.dataValidation[0].source_group;if(a){if(t.dataValidationSourceModelId!==e.dataValidationSourceModelId)return;if(!j[a]){var n={groupId:a,fields:[]};j[a]=n,q.push(n)}j[a].fields.push(t)}}),(0,y.each)(q,function(t){if(t.groupId!==e.dataValidation[0].source_group||1!==t.fields.length){var a=(0,y.some)(t.fields,function(t){return t!==e&&t.dataValidationSourceFieldId===e.dataValidationSourceFieldId});U.push({value:t.groupId,label:t.fields.map(function(e){return e.name}).join(", "),disabled:a})}})}return p.default.createElement("tr",{key:t},p.default.createElement("td",null,g?p.default.createElement(E.default,{value:e.name,onChange:function(e){return a.changeFieldName(t,e)},validate:function(e){return a.validateFieldName(t,e)},className:"field-name-editable"}):e.name),p.default.createElement("td",null,p.default.createElement(w.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:V,simpleValue:!0,clearable:!1,value:c?"_FUNCTION":f,searchable:!1,disabled:!T,onChange:function(e){return a.onFieldTypeChange(t,e)}}),c&&p.default.createElement("div",{style:{height:10}}),c&&p.default.createElement(b.FormattedMessage,{id:"EditFields.type.returnedValue",defaultMessage:"Returned value"}),c&&p.default.createElement(w.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:L,simpleValue:!0,clearable:!1,value:f||"",searchable:!1,onChange:function(e){return a.onFunctionTypeChange(t,e)}})),p.default.createElement("td",null,m&&p.default.createElement(v.Alert,{color:"info"},N?p.default.createElement(b.FormattedMessage,{id:"EditFields.readOnlyAttribute.externalSource",defaultMessage:"This attribute is read-only. It's imported from the external source's column: `{columnName}`",values:{columnName:p.default.createElement("code",null,N)}}):p.default.createElement(b.FormattedMessage,{id:"EditFields.readOnlyAttribute",defaultMessage:"This attribute is read-only"})),h&&this.renderSelectMappedFields(e,t),!c&&!h&&p.default.createElement(v.FormGroup,{check:!0,className:"checkbox"},p.default.createElement(v.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-unique-checkbox-"+t,checked:e.unique||!1,disabled:!O,onChange:function(e){return a.onUniqueChange(t,e.target.checked)}}),p.default.createElement(v.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-unique-checkbox-"+t},p.default.createElement(b.FormattedMessage,{id:"EditFields.uniqueFieldValue",defaultMessage:"Unique value"})),p.default.createElement(v.FormText,{color:"muted"},p.default.createElement(b.FormattedMessage,{id:"EditFields.uniqueFieldValue.help",defaultMessage:"Check unique if you know that every data entry will have a different value for this attribute."}))),c&&p.default.createElement(S.default,{width:"100%",minLines:6,context:r,model:o,fields:i,relations:l,editingFieldIndex:t,functionString:d,onChange:function(e){return a.onFunctionChange(t,e)}}),"DECIMAL"===f&&p.default.createElement("hr",null),"DECIMAL"===f&&p.default.createElement(v.FormGroup,{inline:!0,style:{display:"inline-flex"}},p.default.createElement("span",{style:{marginTop:6,marginRight:10}},p.default.createElement(b.FormattedMessage,{id:"EditFields.decimalDigits",defaultMessage:"Decimal digits: "})),p.default.createElement(v.Input,{type:"select",style:{width:120,display:"inline-block"},value:e.decimalDigits||"",onChange:function(e){return a.onDecimalDigitsChange(t,e.target.value)}},this.generateDecimalDigitsOptions())),!h&&"ENUM"===f&&p.default.createElement("hr",null),!h&&"ENUM"===f&&p.default.createElement(v.FormGroup,null,p.default.createElement("span",{style:{marginTop:6,marginRight:10}},p.default.createElement(b.FormattedMessage,{id:"EditFields.enumValues",defaultMessage:"Possible values:"})),p.default.createElement("br",null),p.default.createElement(w.default.Creatable,{multi:!0,placeholder:"",searchable:!0,onChange:function(e){return a.onEnumListChange(t,e)},value:e.enumList?e.enumList.map(function(e){return{value:e,label:e}}):[],style:{width:"100%"}})),!m&&"TEXT"===f&&p.default.createElement("hr",null),!m&&"TEXT"===f&&p.default.createElement(v.FormGroup,{check:!0,className:"checkbox"},p.default.createElement(v.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-data-validation-checkbox-"+t,checked:e.dataValidation&&e.dataValidation.length>0||!1,onChange:function(e){return a.onDataValidationCheckboxChange(t,e.target.checked)}}),p.default.createElement(v.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-data-validation-checkbox-"+t},p.default.createElement(b.FormattedMessage,{id:"EditFields.dataValidation.checkbox",defaultMessage:"Suggestions with values from another model"})),p.default.createElement(v.FormText,{color:"muted"},p.default.createElement(b.FormattedMessage,{id:"EditFields.dataValidation.help",defaultMessage:"While typing, you will be prompted with suggested values for this attribute. Use this feature if you have a list of possible options for this attribute stored in another model."}))),!m&&"TEXT"===f&&e.dataValidation&&e.dataValidation.length>0&&p.default.createElement(v.FormGroup,{style:{marginTop:15}},p.default.createElement("div",{style:{marginTop:6,marginRight:10}},p.default.createElement(b.FormattedMessage,{id:"EditFields.dataValidation.sourceModel",defaultMessage:"Source model: "})),p.default.createElement(w.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:D,simpleValue:!0,clearable:!1,value:e.dataValidationSourceModelId||null,searchable:!1,onChange:function(e){return a.onDataValidationSourceModelChange(t,e)}}),p.default.createElement("div",{style:{marginTop:6,marginRight:10}},p.default.createElement(b.FormattedMessage,{id:"EditFields.dataValidation.sourceAttribute",defaultMessage:"Source attribute: "})),p.default.createElement(w.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,disabled:!e.dataValidationSourceModelId,options:B[e.dataValidationSourceModelId],simpleValue:!0,clearable:!1,value:e.dataValidationSourceFieldId||null,searchable:!1,onChange:function(e){return a.onDataValidationSourceFieldChange(t,e)}}),p.default.createElement("div",{style:{marginTop:6,marginRight:10}},p.default.createElement(b.FormattedMessage,{id:"EditFields.dataValidation.groupWithOtherFields",defaultMessage:"Group more attributes together"})),p.default.createElement(w.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,disabled:!e.dataValidationSourceFieldId,options:U,simpleValue:!0,clearable:!1,value:e.dataValidation&&e.dataValidation[0]&&e.dataValidation[0].source_group||null,searchable:!1,onChange:function(e){return a.onDataValidationSourceGroupChange(t,e)}}))),p.default.createElement("td",{style:{verticalAlign:"middle"}},p.default.createElement(x.default,{disabled:!R,onClick:function(){return a.deleteField(t)}},p.default.createElement(M.default.Trash,null))))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.context,t.fields),n=(t.intl.formatMessage,this.state.sortingFields);return p.default.createElement("div",null,p.default.createElement(v.Table,{bordered:!0,hover:!0,striped:!0,className:(0,h.default)(n&&"table-sorting")},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",{style:{minWidth:160}},p.default.createElement(b.FormattedMessage,{id:"EditFields.tableHeader.fieldName",defaultMessage:"Attribute name"})),p.default.createElement("th",{style:{width:180}},p.default.createElement(b.FormattedMessage,{id:"EditFields.tableHeader.type",defaultMessage:"Type"})),p.default.createElement("th",{style:{minWidth:200}}," "),p.default.createElement("th",{style:{width:30}}," "))),p.default.createElement(A,{fields:a||[],renderField:this.renderField,lockAxis:"y",getContainer:function(){return function(e,t,a){for(var n=null;e;){if(e.matches(".tab")){n=e;break}e=e.parentElement}return n}((0,m.findDOMNode)(e))},distance:5,onSortStart:this.onSortStart,onSortEnd:this.onSortEnd})),p.default.createElement(v.Button,{outline:!0,onClick:this.addField},p.default.createElement(b.FormattedMessage,{id:"EditFields.addAttribute",defaultMessage:"Add attribute"})))}}]),t}(),l.propTypes={context:g.default.object.isRequired,model:g.default.object.isRequired,fields:g.default.array.isRequired,relations:g.default.array.isRequired,setFields:g.default.func.isRequired},s);t.default=(0,b.injectIntl)(P),e.exports=t.default},1439:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(6),c=a(8),f=a(54),p=a(5),m=n(a(1440)),h=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.addRelation=a.addRelation.bind(a),a.state=a.initState(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){this.props.context===e.context&&this.props.model===e.model&&this.props.relations===e.relations||this.setState(this.initState(e))}},{key:"initState",value:function(e){var t=e.context,a=e.model,n=e.relations;return{groups:(0,f.createGroups)(t,a,n)}}},{key:"addRelation",value:function(){var e=this.props,t=(e.context,e.model),a=e.relations,n=(this.state.groups,{type:"ONE_TO_ONE",model_from_id:t.id||null,model_to_id:t.id||null}),r=(0,p.clone)(a);r.push(n),this.props.setRelations(r)}},{key:"render",value:function(){var e=this.props,t=e.context,a=e.model,n=e.fields,r=e.relations,o=e.setRelations,i=this.state.groups.map(function(e){return s.default.createElement(m.default,{key:e.key,group:e,context:t,model:a,fields:n,relations:r,setRelations:o})});return s.default.createElement("div",null,i,s.default.createElement(c.Button,{outline:!0,onClick:this.addRelation},s.default.createElement(d.FormattedMessage,{id:"EditRelations.newRelation",defaultMessage:"New relation"})))}}]),t}(),r.propTypes={context:u.default.object.isRequired,model:u.default.object.isRequired,fields:u.default.array.isRequired,relations:u.default.array.isRequired,setRelations:u.default.func.isRequired},o);t.default=(0,d.injectIntl)(h),e.exports=t.default},144:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=n(a(3)),c=a(6),f=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.elementClick=a.elementClick.bind(a),a.startEditing=a.startEditing.bind(a),a.finishEditing=a.finishEditing.bind(a),a.cancelEditing=a.cancelEditing.bind(a),a.keyDown=a.keyDown.bind(a),a.textChanged=a.textChanged.bind(a),a.elementBlur=a.elementBlur.bind(a);var n=a.doValidations(e.value,e);return a.state={editing:!1,invalid:!n,value:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"validate",value:function(e){return e&&e.trim().length>0}},{key:"doValidations",value:function(e,t){return((t=t||this.props).validate||this.validate)(e)}},{key:"selectInputText",value:function(e){e.setSelectionRange&&e.setSelectionRange(0,e.value.length)}},{key:"elementClick",value:function(e){this.startEditing()}},{key:"startEditing",value:function(){this.setState({editing:!0,invalid:!1,value:this.props.value})}},{key:"finishEditing",value:function(){var e=this.textInput.value;if(this.doValidations(e),this.props.value!==e){var t=this.props.onChange(e);void 0===t||t?this.setState({editing:!1,value:null,invalid:!1}):this.setState({invalid:!0,value:e})}else this.cancelEditing()}},{key:"cancelEditing",value:function(){var e=this.doValidations(this.props.value);this.setState({editing:!1,invalid:!e,value:null})}},{key:"keyDown",value:function(e){13===e.keyCode?this.finishEditing():27===e.keyCode&&this.cancelEditing()}},{key:"textChanged",value:function(e){var t=e.target.value,a=this.doValidations(t);this.setState({value:t,invalid:!a})}},{key:"elementBlur",value:function(e){this.finishEditing()}},{key:"componentWillReceiveProps",value:function(e){if(e.value!==this.props.value){var t=this.doValidations(e.value,e);this.setState({editing:!1,invalid:!t,value:e.value})}}},{key:"componentDidUpdate",value:function(e,t){this.state.editing&&!t.editing&&(this.textInput.focus(),this.selectInputText(this.textInput))}},{key:"render",value:function(){var e=this,t=this.props.value,a=this.state.invalid,n=t&&t.trim(),r=!n;return this.state.editing?s.default.createElement("input",{ref:function(t){e.textInput=t},className:(0,d.default)("editable-text-input",a&&"editable-text-input-invalid",this.props.className),defaultValue:t,onInput:this.textChanged,onBlur:this.elementBlur,onKeyDown:this.keyDown}):s.default.createElement("span",{className:(0,d.default)("editable-text-value",r&&"editable-text-value-empty",a&&"editable-text-value-invalid",this.props.className),onClick:this.startEditing},n||s.default.createElement(c.FormattedMessage,{id:"EditableText.emptyPlaceholder",defaultMessage:"Empty"}))}}]),t}(),r.propTypes={value:u.default.string.isRequired,onChange:u.default.func.isRequired,validate:u.default.func,className:u.default.string},o);t.default=f,e.exports=t.default},1440:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=n(a(1)),f=n(a(3)),p=a(6),m=a(8),h=n(a(43)),g=a(1441),b=n(g),v=n(a(144)),y=a(618),E=n(a(45)),w=a(5),C=a(90),k=a(54),S=a(1442),_=n(a(19)),x=a(114),T=n(a(189)),M=(0,p.defineMessages)({advancedTypeNo:{id:"EditRelationsGroup.advancedType.no",defaultMessage:"No"},advancedTypeAutoFields:{id:"EditRelationsGroup.advancedType.autoFields",defaultMessage:"Automatic relation based on the value of some attributes"},advancedTypeAutoFieldsNotPossible:{id:"EditRelationsGroup.advancedType.autoFields.notPossible",defaultMessage:"No attribute available in the selected model"},advancedTypeTwoSteps:{id:"EditRelationsGroup.advancedType.twoSteps",defaultMessage:"Automatic relation following the chain of two existing relations"},advancedTypeTwoStepsNotPossible:{id:"EditRelationsGroup.advancedType.twoSteps.notPossible",defaultMessage:"There are no chain of relations available"},advancedTypeCreateFromVirtualRelation:{id:"EditRelationsGroup.advancedType.createFromVirtualRelation",defaultMessage:"Use an existing relation in a virtual model"},advancedTypeCreateFromVirtualRelationNotPossible:{id:"EditRelationsGroup.advancedType.createFromVirtualRelation.notPossible",defaultMessage:"No relations in virtual models"},filterExistingRelation:{id:"EditRelationsGroup.advancedType.filterExistingRelation",defaultMessage:"Filter existing relation"}}),R=1,I=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onAdvanceTypeChange=a.onAdvanceTypeChange.bind(a),a.removeAdvancedOptions=a.removeAdvancedOptions.bind(a),a.uniqueIdPrefix="EditRelationsGroup-unique-id-"+R++,a.state=a.initState(e,!0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"initState",value:function(e,t){var a={otherRelationsOpen:!1,advancedType:null};return t&&(a.alertDismissed=!1,a.suggestions=this.createSuggestions(e)),a}},{key:"componentWillReceiveProps",value:function(e){e.context===this.props.context&&e.model===this.props.model&&e.fields===this.props.fields&&e.relations===this.props.relations||this.setState({alertDismissed:!1,suggestions:this.createSuggestions(e)})}},{key:"createSuggestions",value:function(e){var t=e.group,a=e.context,n=e.model,r=e.fields,o=e.relations;if(!t.isNew)return null;var i={context:a,model:n,fields:r,relations:o,forRelation:t.relations[0].relation,ignoreNewRelations:!0};return{twoSteps:(0,S.getTwoStepsSuggestions)(i),createFromVirtualRelation:(0,S.getCreateFromVirtualRelationSuggestions)(i)}}},{key:"updateRelationValue",value:function(e,t,a,n){var r=this.props.relations,o=r[e],s=void 0;"object"===(void 0===t?"undefined":l(t))?(n=a,s=i({},o,t)):(s=(0,w.clone)(o))[t]=a,n&&(s=i({},s,this._getResetAdvancedRelationData()));var u=(0,w.clone)(r);u[e]=s,this.props.setRelations(u),n&&this.setState({advancedType:null})}},{key:"deleteRelation",value:function(e){var t=this.props.relations,a=(0,w.clone)(t);a.splice(e,1),this.props.setRelations(a)}},{key:"changeRelationName",value:function(e,t,a){this.updateRelationValue(e,t?"nameBackward":"nameForward",a)}},{key:"validateRelationName",value:function(e,t,a){return a&&C.relationNameRegexp.test(a)}},{key:"changeRelationType",value:function(e,t,a){var n=this.props.relations[e].type.split("_");n[t?0:2]=a,this.updateRelationValue(e,"type",n.join("_"),!0)}},{key:"changeRelationModel",value:function(e,t,a){this.updateRelationValue(e,"model_"+t+"_id",a,!0)}},{key:"onAdvanceTypeChange",value:function(e,t){this.setState({advancedType:e||null});var a=this.props.group.relations[0].relation,n=null;if("filter-existing-relation"===e){var r=t.existingRelationsToFilter[0];n={func:"",selectFunction:{relation:r.relation,relationIsBack:r.relationIsBack,where:"",orderBy:r.fields[0],order:"ASC"}}}if("create-from-virtual-relation"===e){var o=t.suggestedCreateFromVirtualRelations[0];n={createFromVirtualRelation:o.virtualModelRelation.id,createFromVirtualRelationInverse:o.inverse}}this.resetAdvancedRelationData(a,n)}},{key:"_getResetAdvancedRelationData",value:function(){return{two_steps_relation1_id:null,two_steps_relation2_id:null,twoStepsRelation1IsBack:null,twoStepsRelation2IsBack:null,two_steps_middle_model_id:null,_modelFromAutoField:null,_modelToAutoField:null,model_from_auto_field_id:null,model_to_auto_field_id:null,func:null,selectFunction:null,createFromVirtualRelation:null,createFromVirtualRelationInverse:null}}},{key:"removeAdvancedOptions",value:function(e){this.updateRelationValue(e,{},!0)}},{key:"resetAdvancedRelationData",value:function(e,t){var a=this._getResetAdvancedRelationData();t&&(a=i({},a,t));var n=this.props.relations,r=(0,w.findIndex)(n,function(t){return t===e});this.updateRelationValue(r,a)}},{key:"changeAdvancedRelationData",value:function(e,t){var a=this.props.relations,n=(0,w.findIndex)(a,function(t){return t===e});this.updateRelationValue(n,t)}},{key:"onAutoRelationFieldChanged",value:function(e,t,a,n){var r=this.props.fields,o={};n?"from"===t?o._modelFromAutoField=r[a]:o._modelToAutoField=r[a]:"from"===t?o.model_from_auto_field_id=a:o.model_to_auto_field_id=a,this.changeAdvancedRelationData(e,o)}},{key:"onCreateFromVirtualRelationChanged",value:function(e,t){this.changeAdvancedRelationData(e,{createFromVirtualRelation:t.virtualModelRelation.id,createFromVirtualRelationInverse:t.inverse})}},{key:"generateFilterExistingRelationFunction",value:function(e){var t=this.props.context,a=e.relationId,n=e.relationIsBack,r=e.where,o=e.order,i=e.relation,s=e.orderBy;i||(i=t.relations[a]);var u=i[n?"nameBackward":"nameForward"];return"object"!==(void 0===s?"undefined":l(s))&&(s=t.fields[s]),"SELECT("+u+";"+r+";"+s.name+" "+o+")"}},{key:"onFilterExistingRelationChange",value:function(e,t){var a=this.props.relations,n=(0,w.findIndex)(a,function(t){return t===e}),r=e.selectFunction;this.updateRelationValue(n,{func:"",selectFunction:i({},r,{relationId:null,relation:t.relation,relationIsBack:t.relationIsBack,where:"",orderBy:t.fields[0]})})}},{key:"onFilterExistingRelationFunctionChange",value:function(e,t){var a=this.props.relations,n=(0,w.findIndex)(a,function(t){return t===e}),r=e.selectFunction,o=i({},r,{where:t});this.updateRelationValue(n,{func:this.generateFilterExistingRelationFunction(o),selectFunction:o})}},{key:"onFilterExistingRelationOrderByChange",value:function(e,t){var a=this.props.relations,n=(0,w.findIndex)(a,function(t){return t===e}),r=e.selectFunction,o=i({},r,{orderBy:t});this.updateRelationValue(n,{func:this.generateFilterExistingRelationFunction(o),selectFunction:o})}},{key:"onFilterExistingRelationOrderChange",value:function(e,t){var a=this.props.relations,n=(0,w.findIndex)(a,function(t){return t===e}),r=e.selectFunction,o=i({},r,{order:t});this.updateRelationValue(n,{func:this.generateFilterExistingRelationFunction(o),selectFunction:o})}},{key:"renderRelationRow",value:function(e,t,a,n,r){var o=this,i=r.associationMessage,l=r.rowSpan,s=this.props,u=s.context,c=s.model,f=s.intl.formatMessage,w=(a&&a.id||"_")+e+"-"+(n?"b":"f"),C=!a.id,S=C&&!n,T=C&&!n,M=C||!t,R=n?"to":"from",I=n?"from":"to",O=n?a.nameBackward:a.nameForward,F=a["model_"+R+"_id"],N=F&&F!==c.id&&u.models[F]||c,A=a["model_"+I+"_id"],P=A&&A!==c.id&&u.models[A]||c,V=void 0;if(T){var L=c.id?[]:[c],D=(0,x.filterVisibleModels)(Object.values(u.models));V=(L=L.concat(D)).map(function(e){return{value:e.id||null,label:e.name}})}return d.default.createElement("tr",{key:w,className:"relation-row"},l>0&&d.default.createElement("td",{className:"model_relations_linked",rowSpan:l},t&&i&&f(b.default[i])),d.default.createElement("td",null,S&&n&&d.default.createElement("span",{style:{fontStyle:"italic",fontSize:"0.85em",paddingRight:10}},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.editing.inverseRelationLabel",defaultMessage:"Inverse relation"})),d.default.createElement("span",{className:"left-model"},N.name),".",M?d.default.createElement(v.default,{className:"relation-name",value:O||"",onChange:function(t){return o.changeRelationName(e,n,t)},validate:function(t){return o.validateRelationName(e,n,t)}}):d.default.createElement("span",{className:"relation-name"},O),d.default.createElement(y.Arrow,{className:"arrow"}),C?d.default.createElement(m.Input,{type:"select",className:"type",style:{width:80,display:"inline-block"},value:a.type&&a.type.split("_")[n?0:2]||null,onChange:function(t){o.changeRelationType(e,n,t.target.value)}},d.default.createElement("option",{value:"ONE"},f(b.default.ONE)),d.default.createElement("option",{value:"MANY"},f(b.default.MANY))):d.default.createElement("span",{className:"type"},f((0,g.getRelationTypeMessage)(a.type,n))),T?d.default.createElement(E.default,{className:"right-model",onBlurResetsInput:!1,onSelectResetsInput:!1,options:V,simpleValue:!0,clearable:!1,searchable:!1,value:A||null,onChange:function(t){o.changeRelationModel(e,I,t)}}):d.default.createElement("span",{className:"right-model"},P.name),(0,k.isAdvanced)(a)&&d.default.createElement(m.Badge,{style:{marginLeft:10},color:"info"},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.relation.readOnly.badge",defaultMessage:"Read only"}))),!t&&l>0&&d.default.createElement("td",{rowSpan:l,style:{verticalAlign:"middle"}},d.default.createElement(h.default,{onClick:function(){return o.deleteRelation(e)}},d.default.createElement(_.default.Trash,null))))}},{key:"renderRelationList",value:function(e,t){var a=this,n=this.props.relations,r=[];return e.forEach(function(e){var o=e.relation,i=(0,w.findIndex)(n,function(e){return e===o});e.showForward&&r.push(a.renderRelationRow(i,t,o,!1,{associationMessage:e.associationMessage||null,rowSpan:e.showBackward?2:1})),e.showBackward&&r.push(a.renderRelationRow(i,t,o,!0,{associationMessage:e.associationMessage||null,rowSpan:e.showForward?0:1}))}),d.default.createElement(m.Table,{bordered:!0,className:"relation-table"},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{style:{width:10}}),d.default.createElement("th",{style:{minWidth:250}}),d.default.createElement("th",{style:{width:30}}))),d.default.createElement("tbody",null,r))}},{key:"renderRemoveAdvancedRelationOptionsButton",value:function(e){var t=this,a=this.props.relations,n=(0,w.findIndex)(a,function(t){return t===e});return d.default.createElement(m.FormGroup,{row:!0,style:{marginTop:20}},d.default.createElement(m.Col,{xs:"12",md:"12"},d.default.createElement(m.Button,{color:"danger",outline:!0,size:"sm",onClick:function(){return t.removeAdvancedOptions(n)}},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.relation.advanced.removeAdvancedOptions",defaultMessage:"Remove advanced options"})),d.default.createElement("div",{className:"text-muted",style:{fontSize:"0.85em",marginTop:4}},d.default.createElement("p",null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.relation.advanced.removeAdvancedOptions.helper",defaultMessage:"The relation will become a manual relation between the two model. The current relations between the data will not be lost."})))))}},{key:"renderAdvancedRelations",value:function(e,t){var a=this,n=t.suggestedTwoStepsRelations,r=t.existingRelationsToFilter,o=t.suggestedCreateFromVirtualRelations,i=this.props,s=i.context,u=i.model,c=i.fields,f=i.relations,h=this.state.advancedType,g=[];return e.relations.forEach(function(e,t){var i=e.relation;if("two-steps"===h||(0,k.isTwoStepsRelation)(i))if(i.id){var b=(0,k.getTwoStepsRelationInfo)(i,s,u,f);g.push(d.default.createElement("div",{key:t},d.default.createElement(y.TwoStepRelationDiagram,{style:{marginLeft:15},info:b}),d.default.createElement("div",{className:"text-muted"},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.twoStepRelation.description",defaultMessage:"This relation is automatically generated using the relations {relation1} and {relation2}, following the path described in the figure.",values:{relation1:d.default.createElement("strong",null,b.model1.name+"."+b.relation1Name),relation2:d.default.createElement("strong",null,b.model2.name+"."+b.relation2Name)}})),a.renderRemoveAdvancedRelationOptionsButton(i)))}else{var v=(i.two_steps_relation1_id||0)+"-"+(i.two_steps_relation2_id||0)+"-"+(i.twoStepsRelation1IsBack?"b":"f")+"-"+(i.twoStepsRelation2IsBack?"b":"f")+"-"+(i.two_steps_middle_model_id||0);n.forEach(function(e,n){var r=a.uniqueIdPrefix+"-input-"+t+"-"+n,o=(e.relation1.id||0)+"-"+(e.relation2.id||0)+"-"+(e.relation1IsBack?"b":"f")+"-"+(e.relation2IsBack?"b":"f")+"-"+(e.model2.id||0);g.push(d.default.createElement(m.FormGroup,{key:t+"-"+n,check:!0,className:"radio"},d.default.createElement(m.Input,{className:"form-check-input",type:"radio",style:{marginTop:30},id:r,value:o,checked:o===v,onChange:function(){a.changeAdvancedRelationData(i,{two_steps_relation1_id:e.relation1.id,two_steps_relation2_id:e.relation2.id,twoStepsRelation1IsBack:e.relation1IsBack,twoStepsRelation2IsBack:e.relation2IsBack,two_steps_middle_model_id:e.model2.id})}}),d.default.createElement(m.Label,{check:!0,className:"form-check-label",htmlFor:r},d.default.createElement(y.TwoStepRelationDiagram,{style:{marginLeft:15},info:e}))))})}else if("auto-fields"===h||(0,k.isAutoRelation)(i)){var C=i.model_from_id&&i.model_from_id!==u.id?s.models[i.model_from_id]:u,S=i.model_to_id&&i.model_to_id!==u.id?s.models[i.model_to_id]:u,_=void 0,x=void 0,M=void 0,R=void 0,I=!1,O=!1;i._modelFromAutoField?(_=i._modelFromAutoField,-1===(M=(0,w.findIndex)(c,function(e){return e===_}))?(_=null,M=null):I=!0):i.model_from_auto_field_id?(M=i.model_from_auto_field_id,(_=(0,w.find)(c,function(e){return e.id===M})||(0,w.find)(s.fields,function(e){return e.id===M}))||(_=null,M=null)):I=C===u,i._modelToAutoField?(x=i._modelToAutoField,-1===(R=(0,w.findIndex)(c,function(e){return e===x}))?(x=null,R=null):O=!0):i.model_to_auto_field_id?(R=i.model_to_auto_field_id,(x=(0,w.find)(c,function(e){return e.id===R})||(0,w.find)(s.fields,function(e){return e.id===R}))||(x=null,R=null)):O=S===u;var F=void 0,N=void 0;i.id||(F=I?(0,w.map)(c,function(e,t){return{value:t,label:e.name}}):C?(0,w.map)(C.fields,function(e){return{value:e,label:s.fields[e].name}}):[],N=O?(0,w.map)(c,function(e,t){return{value:t,label:e.name}}):S?(0,w.map)(S.fields,function(e){return{value:e,label:s.fields[e].name}}):[]),g.push(d.default.createElement("div",{key:t},d.default.createElement("div",{className:"text-muted"},i.id?d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.autoFieldsRelation.description.present",defaultMessage:"This automatic relation creates link between two row that satisfy this rule"}):d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.autoFieldsRelation.description.future",defaultMessage:"Create an automatic relation between two row that satisfy this rule"})),d.default.createElement(m.FormGroup,null,d.default.createElement("span",{className:"model-name"},C&&C.name||""),".",i.id?d.default.createElement("span",{className:"field-name"},_&&_.name||""):d.default.createElement(E.default,{className:"field-name-select",onBlurResetsInput:!1,onSelectResetsInput:!1,options:F,simpleValue:!0,clearable:!1,value:M>=0?M:null,searchable:!1,onChange:function(e){return a.onAutoRelationFieldChanged(i,"from",e,I)}}),d.default.createElement("strong",{style:{paddingLeft:10,paddingRight:10,display:"block"}}," = "),d.default.createElement("span",{className:"model-name"},S&&S.name||""),".",i.id?d.default.createElement("span",{className:"field-name"},x&&x.name||""):d.default.createElement(E.default,{className:"field-name-select",onBlurResetsInput:!1,onSelectResetsInput:!1,options:N,simpleValue:!0,clearable:!1,value:R>=0?R:null,searchable:!1,onChange:function(e){return a.onAutoRelationFieldChanged(i,"to",e,O)}})),i.id&&a.renderRemoveAdvancedRelationOptionsButton(i)))}else if("create-from-virtual-relation"===h||(0,k.isCreateFromVirtualRelation)(i)){if(!i.id){var A=(0,w.findIndex)(o,function(e){return i.createFromVirtualRelation===e.virtualModelRelation.id&&i.createFromVirtualRelationInverse===e.inverse});g.push(d.default.createElement("div",{key:t+"-createFromVirtualRelationInfo-selector"},d.default.createElement(m.FormGroup,{row:!0},d.default.createElement(m.Col,{md:"3"},d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.createFromVirtualRelation.selectLabel",defaultMessage:"Link to virtual relation:"}))),d.default.createElement(m.Col,{xs:"12",md:"9"},d.default.createElement(m.Input,{type:"select",value:A,onChange:function(e){return a.onCreateFromVirtualRelationChanged(i,o[e.target.value])}},o.map(function(e,t){return d.default.createElement("option",{key:t,value:t},e.virtualModel.name,".",e.virtualToOtherModelRelationName)}))))))}if(i.createFromVirtualRelation){var P=(0,k.getCreateFromVirtualRelationInfo)(i,s,u,f);g.push(d.default.createElement("div",{key:t+"-createFromVirtualRelationInfo-diagram"},d.default.createElement(y.CreateFromVirtualRelationDiagram,{style:{marginLeft:15},info:P}),d.default.createElement("div",{className:"text-muted"},i.id?d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.createFromVirtualRelation.description.present",defaultMessage:"This relation is automatically associated with the relations {relation} between {model1} and {model2} as shown in the figure.",values:{relation:d.default.createElement("strong",null,P.virtualToOtherModelRelationName||""),model1:d.default.createElement("strong",null,P.virtualModel.name||""),model2:d.default.createElement("strong",null,P.otherModel.name||"")}}):d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.createFromVirtualRelation.description.future",defaultMessage:"This relation will be automatically associated with the relations {relation} between {model1} and {model2} as shown in the figure.",values:{relation:d.default.createElement("strong",null,P.virtualToOtherModelRelationName||""),model1:d.default.createElement("strong",null,P.virtualModel.name||""),model2:d.default.createElement("strong",null,P.otherModel.name||"")}}))))}}else if("filter-existing-relation"===h||i.selectFunction){var V=!!i.id&&i.model_from_id!==u.id,L=i.model_to_id&&i.model_to_id!==u.id?s.models[i.model_to_id]:u,D=L===u?c:L.fields.map(function(e){return s.fields[e]}),B=L===u?f:(0,w.filter)(s.relations,function(e){return e.model_from_id===L.id||e.model_to_id===L.id}),U=void 0;r?U=r:(U=[],f.filter(function(e){0!==D.length&&(e.model_from_id===i.model_from_id&&e.model_to_id===i.model_to_id&&(0,k.isRelationMulti)(e.type,!1)&&U.push({relation:e,relationIsBack:!1,fields:D}),e.model_to_id===i.model_from_id&&e.model_from_id===i.model_to_id&&(0,k.isRelationMulti)(e.type,!0)&&U.push({relation:e,relationIsBack:!0,fields:D}))}));var j=i.selectFunction.relation||s.relations[i.selectFunction.relationId],q=(0,w.findIndex)(U,function(e){return e.relation===j||e.relationIsBack===i.selectFunction.relationIsBack}),G=i.model_from_id&&i.model_from_id!==u.id?s.models[i.model_from_id]:u,z=i.selectFunction.where||"",H="object"===l(i.selectFunction.orderBy)?i.selectFunction.orderBy:s.fields[i.selectFunction.orderBy],W=(0,w.findIndex)(D,function(e){return e===H}),$=i.selectFunction.order;g.push(d.default.createElement("div",{key:t+"-filterExistingRelation"},d.default.createElement(m.FormGroup,{row:!0},d.default.createElement(m.Col,{md:"3"},d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.filterExistingRelation.relationToFilter.label",defaultMessage:"Existing relation"}))),d.default.createElement(m.Col,{xs:"12",md:"9"},V?d.default.createElement("div",null,G.name,".",d.default.createElement("strong",null,j[i.selectFunction.relationIsBack?"nameBackward":"nameForward"])):d.default.createElement(m.Input,{type:"select",value:q,onChange:function(e){return a.onFilterExistingRelationChange(i,U[e.target.value])}},U.map(function(e,t){return d.default.createElement("option",{key:t,value:t},e.relation[e.relationIsBack?"nameBackward":"nameForward"])})))),d.default.createElement(m.FormGroup,{row:!0},d.default.createElement(m.Col,{md:"3"},d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.filterExistingRelation.filter.label",defaultMessage:"Filter"}))),d.default.createElement(m.Col,{xs:"12",md:"9"},d.default.createElement(T.default,{width:"100%",minLines:4,context:s,model:L,fields:D,relations:B,editingRelationIndex:u===L?B.indexOf(i):null,functionString:z,returnValue:"boolean",onChange:function(e){return a.onFilterExistingRelationFunctionChange(i,e)},disabled:V}))),d.default.createElement(m.FormGroup,{row:!0},d.default.createElement(m.Col,{md:"3"},d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.filterExistingRelation.order.label",defaultMessage:"Order by"}))),d.default.createElement(m.Col,{xs:"12",md:"9"},V&&d.default.createElement("div",null,d.default.createElement("strong",null,H.name)," ",d.default.createElement("i",null,"(","ASC"===$?"ASC":"DESC",")")),!V&&d.default.createElement(m.Input,{type:"select",value:W,onChange:function(e){return a.onFilterExistingRelationOrderByChange(i,D[e.target.value])}},D.map(function(e,t){return d.default.createElement("option",{key:t,value:t},e.name)})),!V&&d.default.createElement(m.Input,{type:"select",value:$,onChange:function(e){return a.onFilterExistingRelationOrderChange(i,e.target.value)}},d.default.createElement("option",{value:"ASC"},"ASC"),d.default.createElement("option",{value:"DESC"},"DESC")),d.default.createElement(m.FormText,null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.filterExistingRelation.help",defaultMessage:"This relation will select the first entry in the existing relation, ordered by the given attribute, that satisfies the filter condition."})))),i.id&&!V&&a.renderRemoveAdvancedRelationOptionsButton(i)))}}),d.default.createElement("div",null,g)}},{key:"render",value:function(){var e=this,t=this.props,a=t.group,n=t.context,r=t.model,o=t.fields,i=t.relations,l=t.intl,s=this.state,u=s.suggestions,c=s.advancedType,g=l.formatMessage,b=this.state.otherRelationsOpen,v=a.otherRelations.length>0,y=(0,w.some)(a.relations,function(e){return(0,k.isAdvanced)(e.relation)}),E=a.otherRelations.reduce(function(e,t){return e+(t.showForward?1:0)+(t.showBackward?1:0)},0),C=void 0;if(a.isNew||v||y){var S=!a.isNew;b=b||a.isNew;var x=void 0,T=void 0,R=void 0,I=void 0,O=[],F=[],N=null,A=!1,P=void 0,V=void 0;if(a.isNew){var L=a.relations[0].relation;V=L.model_to_id?n.models[L.model_to_id]:r,O=u.twoSteps.filter(function(e){return e.model1===r&&e.model3===V&&L.type===e.type}),F=u.createFromVirtualRelation.filter(function(e){return e.model===r&&e.otherModel===V&&e.type===L.type}),N=[],i.filter(function(e){var t=L.model_to_id&&L.model_to_id!==r.id?n.models[L.model_to_id]:r,a=t===r?o:t.fields.map(function(e){return n.fields[e]});0!==a.length&&(e.model_from_id===L.model_from_id&&e.model_to_id===L.model_to_id&&(0,k.isRelationMulti)(e.type,!1)&&N.push({relation:e,relationIsBack:!1,fields:a}),e.model_to_id===L.model_from_id&&e.model_from_id===L.model_to_id&&(0,k.isRelationMulti)(e.type,!0)&&N.push({relation:e,relationIsBack:!0,fields:a}))}),A=O.length+F.length>0,x=o.length&&(V===r?o:V.fields).length,T=O.length>0,R=F.length>0,I=N.length>0,P={existingRelationsToFilter:N,suggestedCreateFromVirtualRelations:F}}C=d.default.createElement("div",{className:"other-options"},S&&d.default.createElement(h.default,{className:"other-options-collapse-button",onClick:function(){return e.setState({otherRelationsOpen:!b})}},v&&d.default.createElement("span",null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.otherOptionsButton.linkedRelations",defaultMessage:"Linked relations"})," (",E,")"),y&&v&&" - ",y&&d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.otherOptionsButton.advancedOptions",defaultMessage:"Advanced options"}),b?d.default.createElement(_.default.CaretUp,null):d.default.createElement(_.default.CaretDown,null)),d.default.createElement(m.Collapse,{className:"other-options-container",isOpen:b},A&&d.default.createElement(m.Alert,{color:"warning",isOpen:!this.state.alertDismissed,toggle:function(){return e.setState({alertDismissed:!0})}},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.advancedType.suggestions.title",defaultMessage:"You may want to create a relation between {firstModel} and {secondModel} using existing relations.",values:{firstModel:d.default.createElement("strong",null,r.name),secondModel:d.default.createElement("strong",null,V.name)}}),d.default.createElement("br",null),d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.advancedType.suggestions.subtitle",defaultMessage:"Check the suggestion available below by choosing one of these options:"}),d.default.createElement("ul",null,O.length>0&&d.default.createElement("li",null,d.default.createElement(h.default,{className:"alert-link",onClick:function(t){t.target.blur(),e.onAdvanceTypeChange("two-steps",P)}},g(M.advancedTypeTwoSteps))),F.length>0&&d.default.createElement("li",null,d.default.createElement(h.default,{className:"alert-link",onClick:function(t){t.target.blur(),e.onAdvanceTypeChange("create-from-virtual-relation",P)}},g(M.advancedTypeCreateFromVirtualRelation))))),a.isNew&&d.default.createElement(m.FormGroup,null,d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.advancedType.selectLabel",defaultMessage:"Advanced relation"})),d.default.createElement(m.Input,{type:"select",value:c||"",onChange:function(t){return e.onAdvanceTypeChange(t.target.value,P)}},d.default.createElement("option",{value:""},g(M.advancedTypeNo)),d.default.createElement("option",{value:"filter-existing-relation",disabled:!I},g(M.filterExistingRelation)),d.default.createElement("option",{value:"auto-fields",disabled:!x,title:!x&&g(M.advancedTypeAutoFieldsNotPossible)||""},g(M.advancedTypeAutoFields)),d.default.createElement("option",{value:"two-steps",disabled:!T,title:!T&&g(M.advancedTypeTwoStepsNotPossible)||""},g(M.advancedTypeTwoSteps)),d.default.createElement("option",{value:"create-from-virtual-relation",disabled:!R,title:!R&&g(M.advancedTypeCreateFromVirtualRelationNotPossible)||""},g(M.advancedTypeCreateFromVirtualRelation)))),(y||a.isNew)&&this.renderAdvancedRelations(a,{suggestedTwoStepsRelations:O,suggestedCreateFromVirtualRelations:F,existingRelationsToFilter:N}),y&&v&&d.default.createElement("hr",null),v&&d.default.createElement("div",null,d.default.createElement("div",{className:"text-muted",style:{paddingBottom:10}},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.otherOptionsButton.linkedRelations",defaultMessage:"Linked relations"}),":"),this.renderRelationList(a.otherRelations,!0))))}return d.default.createElement("div",{className:(0,f.default)("model-relations-group",b&&"model-relations-other-options-open",a.otherRelations.length>0?"model-relations-group-with-other-options":"model-relations-group-without-other-options")},d.default.createElement("div",{className:"group-relations-container"},this.renderRelationList(a.relations,!1)),C)}}]),t}(),r.propTypes={group:c.default.shape({index:c.default.number.isRequired,isNew:c.default.bool,relations:c.default.arrayOf(c.default.shape({relation:c.default.object,showForward:c.default.bool.isRequired,showBackward:c.default.bool.isRequired})).isRequired,otherRelations:c.default.arrayOf(c.default.shape({relation:c.default.object,showForward:c.default.bool.isRequired,showBackward:c.default.bool.isRequired,associationMessage:c.default.string})).isRequired}),context:c.default.object.isRequired,model:c.default.object.isRequired,fields:c.default.array.isRequired,relations:c.default.array.isRequired,setRelations:c.default.func.isRequired},o);t.default=(0,p.injectIntl)(I),e.exports=t.default},1441:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelationTypeMessage=function(e,t){var a=e.split("_")[t?0:2];return a&&n[a]||null};var n=(0,a(6).defineMessages)({virtualModel:{id:"Relations.locale.virtualModel",defaultMessage:"Virtual model"},inverseRelation:{id:"Relations.locale.inverseRelation",defaultMessage:"Inverse relation"},ONE:{id:"Relations.locale.type.one",defaultMessage:"One"},MANY:{id:"Relations.locale.type.many",defaultMessage:"Many"}});t.default=n},1442:function(e,t,a){"use strict";function n(e,t,a,n,r){var o=2-e,l=[];return(0,i.each)(a,function(a){var i=a.type.split("_");n&&a.id===n.id&&!0===r||a.model_from_id!==t.id||"ONE"!==i[e]||l.push({relation:a,otherModelId:a.model_to_id,relationIsBack:!1,multi:"MANY"===i[o]}),n&&a.id===n.id&&!1===r||a.model_to_id!==t.id||"ONE"!==i[o]||l.push({relation:a,otherModelId:a.model_from_id,relationIsBack:!0,multi:"MANY"===i[e]})}),l}function r(e,t,a,r){return n(2,e,t,a,r)}function o(e,t,a,r){return n(0,e,t,a,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.getTwoStepsSuggestions=function(e){var t=e.context,a=e.model,n=(e.fields,e.relations),s=e.forRelation,u=e.ignoreNewRelations,d=void 0===u||u,c=[];return r(a,n).forEach(function(e){if((!s||s!==e.relation)&&(!d||e.relation.id)){var o=t.models[e.otherModelId];if(o){var i=a.id===o.id?n:o.relations.map(function(e){return t.relations[e]});r(o,i,e.relation,!e.relationIsBack).forEach(function(n){if((!s||s!==n.relation)&&(!d||n.relation.id)){var r=t.models[n.otherModelId];if(r){var i={suggestionType:"two-steps",model1:a,model2:o,model3:r,relation1:e.relation,relation2:n.relation,relation1Name:e.relationIsBack?e.relation.nameBackward:e.relation.nameForward,relation2Name:n.relationIsBack?n.relation.nameBackward:n.relation.nameForward,relation1IsBack:e.relationIsBack,relation2IsBack:n.relationIsBack,type:e.multi||n.multi?"MANY_TO_ONE":"ONE_TO_ONE"};c.push(i)}}})}}}),o(a,n).forEach(function(e){if((!s||s!==e.relation)&&(!d||e.relation.id)){var r=t.models[e.otherModelId];if(r){var i=a.id===r.id?n:r.relations.map(function(e){return t.relations[e]});o(r,i,e.relation,!e.relationIsBack).forEach(function(n){if((e.multi||n.multi)&&(!s||s!==n.relation)&&(!d||n.relation.id)){var o=t.models[n.otherModelId];if(o){var i={suggestionType:"two-steps",model1:a,model2:r,model3:o,relation1:e.relation,relation2:n.relation,relation1Name:e.relationIsBack?e.relation.nameBackward:e.relation.nameForward,relation2Name:n.relationIsBack?n.relation.nameBackward:n.relation.nameForward,relation1IsBack:e.relationIsBack,relation2IsBack:n.relationIsBack,type:e.multi||n.multi?"ONE_TO_MANY":"ONE_TO_ONE"};c.push(i)}}})}}}),c.filter(function(e){return!(0,i.some)(n,function(t){return(!s||s!==t)&&function(e,t){if(e.type===t.type&&e.two_steps_relation1_id===t.relation1.id&&e.two_steps_relation2_id===t.relation2.id&&e.twoStepsRelation1IsBack===t.relation1IsBack&&e.twoStepsRelation2IsBack===t.relation2IsBack)return!0;var a=(0,l.inverseRelationType)(t.type);return e.type===a&&e.two_steps_relation1_id===t.relation2.id&&e.two_steps_relation2_id===t.relation1.id&&e.twoStepsRelation1IsBack===!t.relation2IsBack&&e.twoStepsRelation2IsBack===!t.relation1IsBack}(t,e)})})},t.getCreateFromVirtualRelationSuggestions=function(e){var t=e.context,a=e.model,n=(e.fields,e.relations),r=e.forRelation,o=(e.ignoreNewRelations,[]);return(0,i.each)(t.models,function(e){e.id!==a.id&&e.virtual&&(0,i.some)(e.mappedModels,function(e){return e===a.id})&&e.relations.forEach(function(s){var u=t.relations[s];if(u.model_from_id===e.id&&!(0,i.some)(n,function(e){return!(r&&r===e||e.createFromVirtualRelation!==s&&-1===e.inverseMappedRelations.indexOf(s)||e.model_from_id!==a.id||e.model_to_id!==u.model_to_id)})){var d=a,c=t.models[u.model_to_id],f={suggestionType:"virtual-model-relation",model:a,otherModel:c,modelFrom:d,modelTo:c,virtualModel:e,virtualModelRelation:u,virtualToOtherModelRelationName:u.nameForward,inverse:!1,type:u.type};o.push(f)}u.model_to_id!==e.id||(0,i.some)(n,function(e){return!(r&&r===e||e.createFromVirtualRelation!==s&&-1===e.inverseMappedRelations.indexOf(s)||e.model_to_id!==a.id||e.model_from_id!==u.model_to_id)})||(d=t.models[u.model_from_id],f={suggestionType:"virtual-model-relation",model:a,otherModel:d,modelFrom:d,modelTo:c=a,virtualModel:e,virtualModelRelation:u,virtualToOtherModelRelationName:u.nameBackward,inverse:!0,type:(0,l.inverseRelationType)(u.type)},o.push(f))})}),o};var i=a(5),l=a(54)},1443:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(6),c=a(8),f=n(a(45)),p=a(5),m=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"childModelsChanged",value:function(e){var t=(e||[]).map(function(e){return e.value});this.props.setChildModels(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.context,n=t.model,r=(t.intl.formatMessage,(0,p.map)(a.models,function(e){if(!e.specialModel&&e.id!==n.id&&!e.virtual)return{value:e.id,label:e.name}}).filter(function(e){return e})),o=n.mappedModels||[];return s.default.createElement("div",null,s.default.createElement(c.FormGroup,{row:!0},s.default.createElement(c.Col,{md:"3"},s.default.createElement(c.Label,null,s.default.createElement(d.FormattedMessage,{id:"EditChildModels.childModel.label",defaultMessage:"Child models"}))),s.default.createElement(c.Col,{xs:"12",md:"9"},s.default.createElement(f.default,{onBlurResetsInput:!1,onSelectResetsInput:!0,options:r,multi:!0,clearable:!1,value:o,searchable:!0,onChange:function(t){return e.childModelsChanged(t)}}),s.default.createElement(c.FormText,{color:"muted"},s.default.createElement(d.FormattedMessage,{id:"EditChildModels.childModel.help",defaultMessage:"A virtual model represents the union of all its child models. It will contain all their rows, with their attributes mapped to this model's attributes based on the following table. You can also add access to a child model's relations with other models."})))))}}]),t}(),r.propTypes={context:u.default.object.isRequired,model:u.default.object.isRequired,setChildModels:u.default.func.isRequired},o);t.default=(0,d.injectIntl)(m),e.exports=t.default},1444:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),c=n(d),f=a(18),p=n(a(1)),m=n(a(3)),h=a(6),g=a(8),b=n(a(98)),v=a(212),y=a(188),E=a(22),w=n(a(619)),C=a(5),k=n(a(121)),S=a(1445),_=(0,h.defineMessages)({columnOptionsId:{id:"EditExternalSource.table.columnOptions.id.short",defaultMessage:"ID"},columnOptionsCreation:{id:"EditExternalSource.table.columnOptions.creation.short",defaultMessage:"C"},columnOptionsUpdate:{id:"EditExternalSource.table.columnOptions.update.short",defaultMessage:"U"},columnOptionsIdDescription:{id:"EditExternalSource.table.columnOptions.id.description",defaultMessage:"Column with the row's identifier"},columnOptionsCreationDescription:{id:"EditExternalSource.table.columnOptions.creation.description",defaultMessage:"Column with the row's creation timestamp"},columnOptionsUpdateDescription:{id:"EditExternalSource.table.columnOptions.update.description",defaultMessage:"Column with the row's update timestamp"}}),x=1,T=0,M=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.simpleQuery=a.simpleQuery.bind(a),a.advancedQuery=a.advancedQuery.bind(a),a.testConnection=a.testConnection.bind(a),a.uniqueIdPrefix="EditExternalSource-unique-id-"+x++,a.state={columns:e.model.externalSource.info&&(0,C.clone)(e.model.externalSource.info.columns)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"getInfoValue",value:function(e){var t=this.props.model.externalSource;return t.info&&t.info[e]}},{key:"setInfoValue",value:function(e,t,a){var n=this.props.model.externalSource,o=s({},n);"object"===(void 0===e?"undefined":l(e))?(a=t,o.info=s({},n.info,e)):o.info=s({},n.info,r({},e,t)),this.props.onExternalSourceChange(o),a&&this.setState({data:null})}},{key:"onInputChange",value:function(e,t,a){var n=r({},e,t);"sourceType"!==e&&"host"!==e&&"port"!==e&&"databaseName"!==e&&"username"!==e||this.getInfoValue("password")===S&&(n.password=""),this.setInfoValue(n,!0)}},{key:"onCheckIntervalChange",value:function(e,t){var a=this.props.model.externalSource,n=s({},a,{checkInterval:e?1e3*Math.round(e):null});this.props.onExternalSourceChange(n)}},{key:"getCheckInterval",value:function(){var e=this.props.model.externalSource.checkInterval;return e?e/1e3:null}},{key:"simpleQuery",value:function(){this.setState({lastQuery:this.getInfoValue("query")}),this.setInfoValue({query:void 0,tableName:this.state.lastTableName||"",where:this.state.lastWhere||""},!0)}},{key:"advancedQuery",value:function(){this.setState({lastTableName:this.getInfoValue("tableName"),lastWhere:this.getInfoValue("where")}),this.setInfoValue({query:this.state.lastQuery||"",tableName:void 0,where:void 0},!0)}},{key:"testConnection",value:function(){var e=this,t=(0,v.getExternalSourceTestConnectionQuery)(this.props.model.externalSource);this.setState({testing:!0,testError:null,data:null}),this.props.simpleFetch(t).then(function(t){t.type===E.UI_TAB_SIMPLE_FETCH_SUCCESS?e.setState({testing:!1,data:t.response,columns:t.response.columns}):e.setState({testing:!1,testError:(0,y.localizedErrorMessage)(e.props.intl,t.response,e.props.context)})})}},{key:"getColumnFieldIndex",value:function(e,t){var a=this.props,n=a.model,r=a.fields,o=(0,C.find)(n.externalSource.info.columns,function(e){return e.column===t.column});return o?o.fieldId?(0,C.findIndex)(r,function(e){return e.id===o.fieldId}):(0,C.findIndex)(r,function(e){return e._externalSourceFieldId===o._externalSourceFieldId}):-1}},{key:"getColumnField",value:function(e,t){var a=this.getColumnFieldIndex(e,t);return-1!==a&&this.props.fields[a]}},{key:"onFieldNameChange",value:function(e,t,a){var n=this.getColumnFieldIndex(e,t),r=(0,C.clone)(this.props.fields);r[n]=s({},r[n],{name:a}),this.props.onFieldsChange(r)}},{key:"onImportChange",value:function(e,t,a){var n=this.props.model.externalSource;if(a){var r={_externalSourceFieldId:++T,name:t.column,type1:t.type,readOnly:!0},o=(0,C.clone)(n.info.columns)||[];o.push({_externalSourceFieldId:r._externalSourceFieldId,column:t.column,type:t.type});var i=(0,C.clone)(this.props.fields);i.push(r),this.props.onFieldsChange(i),this.setInfoValue("columns",o)}else{var l=this.getColumnFieldIndex(e,t);if(-1!==l){var s=n.info.columns.filter(function(e){return e.column!==t.column});if(!this.props.fields[l].id){var u=(0,C.clone)(this.props.fields);s.splice(l,1),this.props.onFieldsChange(u)}this.setInfoValue("columns",s)}}}},{key:"onColumnIdChange",value:function(e,t,a){this.setInfoValue("columnId",a?t.column:null)}},{key:"onColumnCreateChange",value:function(e,t,a){this.setInfoValue("columnCreatedAt",a?t.column:null)}},{key:"onColumnUpdateChange",value:function(e,t,a){this.setInfoValue("columnUpdatedAt",a?t.column:null)}},{key:"render",value:function(){var e=this,t=this.props,a=(t.context,t.model),n=t.intl.formatMessage,r=this.state,o=r.testing,i=r.testError,l=r.data,s=void 0!==this.getInfoValue("query"),u=void 0;i&&(u=c.default.createElement("pre",null,i.message));var d=void 0;return this.state.columns&&(d=this.state.columns.map(function(t,r){var o=e.getColumnField(r,t),i=!!o,l=o&&o.name||"",s=a.externalSource.info&&a.externalSource.info.columnId===t.column,u=a.externalSource.info&&a.externalSource.info.columnCreatedAt===t.column,d=a.externalSource.info&&a.externalSource.info.columnUpdatedAt===t.column,f=!a.externalSource.id,p=!a.externalSource.id,m=!a.externalSource.id,h=!a.externalSource.id||!s&&!u&&!d;return c.default.createElement("tr",{key:r},c.default.createElement("td",null,t.column),c.default.createElement("td",null,n(w.default[t.type])),c.default.createElement("td",{style:{textAlign:"center"}},c.default.createElement(g.Input,{type:"checkbox",style:{position:"relative",margin:"auto"},checked:i,disabled:!h,onChange:function(a){return e.onImportChange(r,t,a.target.checked)}})),c.default.createElement("td",null,i&&c.default.createElement(g.Input,{type:"text",value:l,onChange:function(a){return e.onFieldNameChange(r,t,a.target.value)}})),c.default.createElement("td",{style:{textAlign:"center"}},i&&c.default.createElement(g.Input,{type:"checkbox",style:{position:"relative",margin:"auto"},checked:s,disabled:!f,onChange:function(a){return e.onColumnIdChange(r,t,a.target.checked)}})),c.default.createElement("td",{style:{textAlign:"center"}},i&&c.default.createElement(g.Input,{type:"checkbox",style:{position:"relative",margin:"auto"},checked:u,disabled:!p,onChange:function(a){return e.onColumnCreateChange(r,t,a.target.checked)}})),c.default.createElement("td",{style:{textAlign:"center"}},i&&c.default.createElement(g.Input,{type:"checkbox",style:{position:"relative",margin:"auto"},checked:d,disabled:!m,onChange:function(a){return e.onColumnUpdateChange(r,t,a.target.checked)}})))})),c.default.createElement("div",null,c.default.createElement("div",{className:"form-horizontal"},c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.type",defaultMessage:"Type"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"select",onChange:function(t){return e.onInputChange("sourceType",t.target.value,t)},value:this.getInfoValue("sourceType")||""},v.ExternalSourceTypes.map(function(e){return c.default.createElement("option",{key:e.type,value:e.type},e.name)})))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.address",defaultMessage:"Address"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"text",onChange:function(t){return e.onInputChange("host",t.target.value,t)},value:this.getInfoValue("host")||""}))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.port",defaultMessage:"Port"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"text",onChange:function(t){return e.onInputChange("port",t.target.value,t)},value:this.getInfoValue("port")||""}))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.database",defaultMessage:"Database name"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"text",onChange:function(t){return e.onInputChange("databaseName",t.target.value,t)},value:this.getInfoValue("databaseName")||""}))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.username",defaultMessage:"Username"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"text",onChange:function(t){return e.onInputChange("username",t.target.value,t)},value:this.getInfoValue("username")||""}))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.password",defaultMessage:"Password"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"password",onChange:function(t){return e.onInputChange("password",t.target.value,t)},value:this.getInfoValue("password")||""}))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.checkInterval",defaultMessage:"Check interval"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement("div",{style:{display:"flex",maxWidth:250}},c.default.createElement(b.default,{decimalDigits:0,min:0,onChange:function(t,a){return e.onCheckIntervalChange(t,a)},value:this.getCheckInterval()||""}),c.default.createElement("div",{className:"text-muted",style:{display:"inline-flex",marginLeft:8,paddingTop:7}},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.checkInterval.seconds",defaultMessage:"seconds"}))),c.default.createElement(g.FormText,{color:"muted"},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connection.checkInterval.help",defaultMessage:"This model will check for new or updated data in the external source after this time interval is elapsed from the last synchronization"}))))),c.default.createElement(g.Nav,{tabs:!0,style:{marginTop:50}},c.default.createElement(g.NavItem,null,c.default.createElement(g.NavLink,{className:(0,m.default)({active:!s}),onClick:this.simpleQuery},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.query.simple",defaultMessage:"Simple query"}))),c.default.createElement(g.NavItem,null,c.default.createElement(g.NavLink,{className:(0,m.default)({active:s}),onClick:this.advancedQuery},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.query.advanced",defaultMessage:"Advanced query"})))),c.default.createElement(g.TabContent,{activeTab:this.uniqueIdPrefix+"-query-tab-"+(s?"advanced":"simple"),style:{paddingTop:20}},c.default.createElement(g.TabPane,{tabId:this.uniqueIdPrefix+"-query-tab-simple"},c.default.createElement("div",{className:"form-horizontal"},c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.query.simple.tableName",defaultMessage:"Table name"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"text",onChange:function(t){return e.onInputChange("tableName",t.target.value,t)},value:this.getInfoValue("tableName")||""}))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.query.simple.whereSql",defaultMessage:"WHERE filter (sql)"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"text",onChange:function(t){return e.onInputChange("where",t.target.value,t)},value:this.getInfoValue("where")||""}))))),c.default.createElement(g.TabPane,{tabId:this.uniqueIdPrefix+"-query-tab-advanced"},c.default.createElement("div",{className:"form-horizontal"},c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.query.advanced.querySql",defaultMessage:"Query (sql)"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"textarea",rows:"3",onChange:function(t){return e.onInputChange("query",t.target.value,t)},value:this.getInfoValue("query")||""}),c.default.createElement(g.FormText,{color:"muted"},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.query.advanced.query.help",defaultMessage:"This query must select all the columns/fields that you want to sync"}))))))),c.default.createElement("div",{className:"form-horizontal",style:{marginTop:30}},c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"}," "),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Button,{color:"secondary",outline:!0,onClick:this.testConnection},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connectionButton",defaultMessage:"Test connection"})),c.default.createElement(g.FormText,{color:"muted"},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connectionButton.help",defaultMessage:"Use this button to verify the connection to the external source and retrieve the available columns/fields returned by the query"})),!l&&!o&&c.default.createElement(g.FormText,{tag:"b",color:"warning"},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connectionButton.testNotDoneWarning",defaultMessage:'The following columns list could be different from the real list until you click the "Test connection" button'})),o&&c.default.createElement(k.default,null)))),u&&c.default.createElement(g.Alert,{color:"danger"},c.default.createElement("h4",{className:"alert-heading"},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.connectionError.title",defaultMessage:"Connection error"})),u),l&&c.default.createElement(g.Alert,{color:"info"},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.rowsFound",defaultMessage:"{numberOfRows, plural, one {# row} other {# rows}} found",values:{numberOfRows:l.rowsCount}})),d&&c.default.createElement(g.Table,{bordered:!0,striped:!0},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.table.columnName",defaultMessage:"Column name"})),c.default.createElement("th",null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.table.type",defaultMessage:"Type"})),c.default.createElement("th",{style:{width:50,textAlign:"center"}},c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.table.import",defaultMessage:"Import"})),c.default.createElement("th",null,c.default.createElement(h.FormattedMessage,{id:"EditExternalSource.table.attributeName",defaultMessage:"Attribute name"})),c.default.createElement("th",{style:{width:30,textAlign:"center"}},n(_.columnOptionsId)),c.default.createElement("th",{style:{width:30,textAlign:"center"}},n(_.columnOptionsCreation)),c.default.createElement("th",{style:{width:30,textAlign:"center"}},n(_.columnOptionsUpdate)))),c.default.createElement("tbody",null,d)),d&&c.default.createElement("span",{className:"text-muted pull-right",style:{maxWidth:380}},c.default.createElement("b",null,n(_.columnOptionsId)),": ",n(_.columnOptionsIdDescription),c.default.createElement("br",null),c.default.createElement("b",null,n(_.columnOptionsCreation)),": ",n(_.columnOptionsCreationDescription),c.default.createElement("br",null),c.default.createElement("b",null,n(_.columnOptionsUpdate)),": ",n(_.columnOptionsUpdateDescription),c.default.createElement("br",null)))}}]),t}(),o.propTypes={context:p.default.object.isRequired,model:p.default.object.isRequired,fields:p.default.array.isRequired,onExternalSourceChange:p.default.func.isRequired,onFieldsChange:p.default.func.isRequired},i),R={simpleFetch:E.simpleFetch};t.default=(0,f.connect)(function(e,t){return{}},R)((0,h.injectIntl)(M)),e.exports=t.default},1445:function(e,t,a){"use strict";e.exports="_HIDPASS-Tw8nAr_"},1446:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(18),c=a(6),f=a(8),p=a(77),m=n(a(19)),h=a(5),g=n(a(122)),b=a(22),v=a(203),y=a(188),E=(0,c.defineMessages)({createUserTitle:{id:"UsersAndRoles.createUser.title",defaultMessage:"Create user"},createUserUsername:{id:"UsersAndRoles.createUser.username",defaultMessage:"Username"},createUserPassword:{id:"UsersAndRoles.createUser.password",defaultMessage:"Password"},createUserPasswordHelp:{id:"UsersAndRoles.createUser.password.help",defaultMessage:"This password is temporary. The user will be asked to change the password at their next login."},createUserSuccessButton:{id:"UsersAndRoles.createUser.successButton",defaultMessage:"Create user"},createUserInputError:{id:"UsersAndRoles.createUser.inputError",defaultMessage:"Username and password required"},deleteUserTitle:{id:"UsersAndRoles.deleteUser.title",defaultMessage:"Remove user"},deleteUserMessage:{id:"UsersAndRoles.deleteUser.message",defaultMessage:'Are you sure to remove user "{username}"?'},deleteUserSuccessButton:{id:"UsersAndRoles.deleteUser.successButton",defaultMessage:"Remove user"},resetPasswordTitle:{id:"UsersAndRoles.resetPassword.title",defaultMessage:"Reset password"},resetPasswordMessage:{id:"UsersAndRoles.resetPassword.message",defaultMessage:'Insert a new temporary password for the user "{username}":'},resetPasswordPassword:{id:"UsersAndRoles.resetPassword.password",defaultMessage:"Password"},resetPasswordSuccessButton:{id:"UsersAndRoles.resetPassword.successButton",defaultMessage:"Reset password"},resetPasswordInputError:{id:"UsersAndRoles.resetPassword.inputError",defaultMessage:"Password required"}}),w=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.createUser=a.createUser.bind(a),a.resetPassword=a.resetPassword.bind(a),a.state={createUserOpen:!1,deleteUserOpen:null,resetPasswordOpen:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"deleteUser",value:function(e){var t=this;return(0,g.default)().then(function(){var a=g.default.defer();return t.props.deleteUser(e).then(function(e){if(e.type===b.SERVER_DELETE_USER_SUCCESS)t.setState({deleteUserOpen:null}),a.resolve();else{var n=(0,y.localizedErrorMessage)(t.props.intl,e.response),r=n&&n.message||s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.deleteUser.genericError",defaultMessage:"Error removing the user"});a.reject(new Error(r))}}),a.promise})}},{key:"saveUser",value:function(e){var t=this;return(0,g.default)().then(function(){var a=g.default.defer();return t.props.updateUser(e).then(function(e){if(e.type===b.SERVER_UPDATE_USER_SUCCESS)t.setState({createUserOpen:!1}),a.resolve();else{var n=(0,y.localizedErrorMessage)(t.props.intl,e.response),r=n&&n.message||"Error";a.reject(new Error(r))}}),a.promise})}},{key:"createUser",value:function(e,t){var a=this;return(0,g.default)().then(function(){if(!e||!t){var n=a.props.intl.formatMessage(E.createUserInputError);throw new Error(n)}var r=g.default.defer();return a.props.createUser(e,t).then(function(e){if(e.type===b.SERVER_CREATE_USER_SUCCESS)a.setState({createUserOpen:!1}),r.resolve();else{var t=(0,y.localizedErrorMessage)(a.props.intl,e.response),n=t&&t.message||s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.createUser.genericError",defaultMessage:"Error creating the user"});r.reject(new Error(n))}}),r.promise})}},{key:"resetPassword",value:function(e){var t=this,a=this.state.resetPasswordOpen;return(0,g.default)().then(function(){if(!e){var n=t.props.intl.formatMessage(E.resetPasswordInputError);throw new Error(n)}var r=g.default.defer(),o=(0,v.getResetUserPasswordQuery)(a,e);return t.props.simpleFetch(o).then(function(e){if(e.type===b.UI_TAB_SIMPLE_FETCH_SUCCESS)t.setState({resetPasswordOpen:null}),r.resolve();else{var a=(0,y.localizedErrorMessage)(t.props.intl,e.response),n=a&&a.message||s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.resetPassword.genericError",defaultMessage:"Error updating user password"});r.reject(new Error(n))}}),r.promise})}},{key:"setUserAdmin",value:function(e,t){var a=(0,h.clone)(e);a.admin=!!t,this.saveUser(a)}},{key:"userHasRole",value:function(e,t){return(0,h.some)(e.roles,function(e){return e.id===t.id})}},{key:"setUserRole",value:function(e,t,a){var n=(0,h.clone)(e),r=void 0;a?(r=(0,h.clone)(e.roles)).push(t):r=e.roles.filter(function(e){return e.id!==t.id}),n.roles=r,this.saveUser(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.users,n=t.roles,r=t.currentUser,o=t.intl.formatMessage,i=a.map(function(t){var a=t.id!==r.id;return s.default.createElement("tr",{key:t.id},s.default.createElement("td",null,t.username),s.default.createElement("td",null,s.default.createElement(p.Link,{onClick:function(){return e.setState({resetPasswordOpen:t})}},s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.resetPassword",defaultMessage:"Reset password"}))),s.default.createElement("td",{style:{textAlign:"center"}},s.default.createElement(f.Input,{type:"checkbox",checked:t.admin,onChange:function(a){return e.setUserAdmin(t,a.target.checked)}})),n.map(function(a){return s.default.createElement("td",{key:a.id,style:{textAlign:"center"}},s.default.createElement(f.Input,{type:"checkbox",checked:e.userHasRole(t,a),onChange:function(n){return e.setUserRole(t,a,n.target.checked)}}))}),s.default.createElement("td",null,s.default.createElement(p.Link,{disabled:!a,onClick:function(){return e.setState({deleteUserOpen:t})}},s.default.createElement(m.default.Trash,null))))});return s.default.createElement(p.Container,{className:"users-and-roles-view"},s.default.createElement(f.Card,null,s.default.createElement(f.CardHeader,null,s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.title",defaultMessage:"Users and roles"})),s.default.createElement(f.CardBody,null,s.default.createElement(f.Table,{responsive:!0,bordered:!0,striped:!0},s.default.createElement("thead",null,s.default.createElement("tr",null,s.default.createElement("th",null,s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.table.column.username",defaultMessage:"Username"})),s.default.createElement("th",null,s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.table.column.resetPassword",defaultMessage:"Reset password"})),s.default.createElement("th",{style:{textAlign:"center"}},s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.table.column.adminRole",defaultMessage:"Admin"})),n.map(function(e){return s.default.createElement("th",{key:e.id,style:{textAlign:"center"}},e.name)}),s.default.createElement("th",{style:{width:30}}))),s.default.createElement("tbody",null,i)),s.default.createElement(f.Row,null,s.default.createElement(f.Col,null,s.default.createElement(f.Button,{outline:!0,onClick:function(){return e.setState({createUserOpen:!0})}},s.default.createElement(c.FormattedMessage,{id:"UsersAndRoles.createNewUser",defaultMessage:"Create a new user"})))))),s.default.createElement(p.Dialog,{dialogType:"prompt",open:this.state.createUserOpen,title:o(E.createUserTitle),inputs:[{label:o(E.createUserUsername),type:"text"},{label:o(E.createUserPassword),helpMessage:o(E.createUserPasswordHelp),type:"password"}],successButton:o(E.createUserSuccessButton),onSuccess:this.createUser,onCancel:function(){return e.setState({createUserOpen:!1})}}),s.default.createElement(p.Dialog,{dialogType:"confirm",open:!!this.state.deleteUserOpen,title:o(E.deleteUserTitle),message:o(E.deleteUserMessage,{username:this.state.deleteUserOpen&&this.state.deleteUserOpen.username}),successButton:o(E.deleteUserSuccessButton),successColor:"danger",onSuccess:function(){return e.deleteUser(e.state.deleteUserOpen)},onCancel:function(){return e.setState({deleteUserOpen:null})}}),s.default.createElement(p.Dialog,{dialogType:"prompt",open:!!this.state.resetPasswordOpen,title:o(E.resetPasswordTitle),message:o(E.resetPasswordMessage,{username:this.state.resetPasswordOpen&&this.state.resetPasswordOpen.username}),inputs:[{label:o(E.resetPasswordPassword),type:"password"}],successButton:o(E.resetPasswordSuccessButton),onSuccess:this.resetPassword,onCancel:function(){return e.setState({resetPasswordOpen:null})}}))}}]),t}(),r.propTypes={currentUser:u.default.object.isRequired,users:u.default.array.isRequired,roles:u.default.array.isRequired},o),C={simpleFetch:b.simpleFetch,createUser:b.createUser,updateUser:b.updateUser,deleteUser:b.deleteUser};t.default=(0,d.connect)(function(e,t){return{currentUser:e.auth.user,users:e.server.users||[],roles:e.server.roles||[]}},C,null,{withRef:!0})((0,c.injectIntl)(w,{withRef:!0})),e.exports=t.default},1447:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=a(14),c=(n(a(1)),n(a(3))),f=a(18),p=a(6),m=a(8),h=a(77),g=a(91),b=n(a(19)),v=a(5),y=(n(a(122)),a(211)),E=n(a(1448)),w=n(a(1449)),C=0,k=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.createBackup=a.createBackup.bind(a),a.openBackup=a.openBackup.bind(a),a.deleteNewBackup=a.deleteNewBackup.bind(a),a.onSaveNewBackup=a.onSaveNewBackup.bind(a),a.state=a.createInitialState(e),e.selectedBackupId&&(a.state.selectedBackupId=e.selectedBackupId),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"createInitialState",value:function(e){var t={savedBackups:e.backups||[],newBackups:this.state&&this.state.newBackups||[]};t.backups=[].concat(r(t.savedBackups),r(t.newBackups));var a=this.state&&this.state.selectedBackupId;return a&&(0,v.find)(t.backups,function(e){return e.id===a||e._tempId===a})||(t.selectedBackupId=t.backups.length>0&&(t.backups[0].id||t.backups[0]._tempId)),t}},{key:"componentWillReceiveProps",value:function(e){e.backups!==this.props.backups&&this.setState(this.createInitialState(e))}},{key:"createBackup",value:function(){if(this.isOpenBackupChanged())this.showNotPossible();else{var e={_tempId:"temp-"+ ++C,enabled:!0,info:{type:(0,y.getBackupTypes)()[0]},hourly:24,daily:30,weekly:4};this.setState({backups:[].concat(r(this.state.backups),[e]),newBackups:[].concat(r(this.state.newBackups),[e]),selectedBackupId:e._tempId})}}},{key:"openBackup",value:function(e){this.isOpenBackupChanged()?this.showNotPossible():this.setState({selectedBackupId:e.id||e._tempId})}},{key:"showNotPossible",value:function(){var e=(0,d.findDOMNode)(this.backupCard);e&&(0,w.default)(e)}},{key:"deleteNewBackup",value:function(e){this.setState({backups:this.state.backups.filter(function(t){return t._tempId!==e}),newBackups:this.state.newBackups.filter(function(t){return t._tempId!==e}),selectedBackupId:null})}},{key:"onSaveNewBackup",value:function(e,t){var a={},n=(0,v.findIndex)(this.state.savedBackups,function(e){return e.id===t.id});-1===n?a.savedBackups=[].concat(r(this.state.savedBackups),[t]):(a.savedBackups=(0,v.clone)(this.state.savedBackups),a.savedBackups[n]=t),a.newBackups=this.state.newBackups.filter(function(t){return t._tempId!==e}),a.backups=[].concat(r(a.savedBackups),r(a.newBackups)),e===this.state.selectedBackupId&&(a.selectedBackupId=t.id),this.setState(a)}},{key:"isOpenBackupChanged",value:function(){return this.backupCard&&this.backupCard.isChanged()}},{key:"tabCanBeClosed",value:function(e){this.state.newBackups.length>0?e(!1,!0):this.isOpenBackupChanged()?e(!1,!0):e(!0)}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=this.state,n=a.backups,r=a.selectedBackupId,o=r&&(0,v.find)(n,function(e){return e.id===r||e._tempId===r}),i=n.map(function(a,n){var o=!!a.currentCheckId,i=(0,y.getTitleLong)(a,t),l=(0,y.getDescription)(a,t),s=void 0;s=a.id?o?u.default.createElement(p.FormattedMessage,{id:"Backup.list.backingUp",defaultMessage:"Backing up..."}):(0,y.getLastBackupDescription)(a,t):u.default.createElement(p.FormattedMessage,{id:"Backup.list.notSaved",defaultMessage:"Not saved"});var d=a.error,f=r&&(r===a.id||r===a._tempId);return u.default.createElement("tr",{key:a.id||a._tempId,className:(0,c.default)("backup-list-item",f&&"backup-list-item-selected"),onClick:function(){return e.openBackup(a)}},u.default.createElement("td",null,u.default.createElement("span",{className:"title"},a.enabled&&d&&u.default.createElement(b.default.Warning,{style:{marginRight:4}}),i),u.default.createElement("span",{className:"description"},l),u.default.createElement("span",{className:"info"},s)))});return u.default.createElement(h.Container,{className:"backup-view"},u.default.createElement(m.Card,{className:"backup-view-full-height"},u.default.createElement(m.CardHeader,null,u.default.createElement(p.FormattedMessage,{id:"Backup.title",defaultMessage:"Backup settings"})),u.default.createElement(m.CardBody,null,u.default.createElement(g.AutoSizer,null,function(t){var a=t.width,n=t.height;return u.default.createElement(m.Row,{style:{width:a+30,height:n}},u.default.createElement(m.Col,{lg:4,md:4,sm:5,style:{maxWidth:"40%"}},u.default.createElement(m.Card,{className:"backup-list"},u.default.createElement(m.Table,{striped:!0,bordered:!0},u.default.createElement("tbody",null,i,0===i.length&&u.default.createElement("tr",{key:"no-backups",style:{background:"transparent"}},u.default.createElement("td",{className:"text-muted",style:{background:"transparent",textAlign:"center",paddingTop:30}},u.default.createElement(p.FormattedMessage,{id:"Backup.noBackups",defaultMessage:"No backups"})))))),u.default.createElement(m.Button,{outline:!0,onClick:e.createBackup},u.default.createElement(p.FormattedMessage,{id:"Backup.addBackup",defaultMessage:"Add backup"}))),u.default.createElement(m.Col,null,o&&u.default.createElement(E.default,{ref:function(t){return e.backupCard=t&&t.getWrappedInstance().getWrappedInstance()},key:o.id||o._tempId,backup:o,deleteNewBackup:e.deleteNewBackup,onSaveNewBackup:e.onSaveNewBackup})))}))))}}]),t}(),o.propTypes={},i);t.default=(0,f.connect)(function(e,t){return{backups:e.server.backups||[]}},{},null,{withRef:!0})((0,p.injectIntl)(k,{withRef:!0})),e.exports=t.default},1448:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=n(a(1)),f=(n(a(3)),a(18)),p=a(6),m=a(8),h=a(77),g=(n(a(122)),a(211)),b=a(22),v=(0,p.defineMessages)({deleteTitle:{id:"BackupCard.delete.title",defaultMessage:"Delete backup"},deleteMessage:{id:"BackupCard.delete.message",defaultMessage:"Are you sure to delete this backup?"},deleteButton:{id:"BackupCard.delete.deleteButton",defaultMessage:"Delete backup"}}),y=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.askDelete=a.askDelete.bind(a),a.deleteBackup=a.deleteBackup.bind(a),a.save=a.save.bind(a),a.cancel=a.cancel.bind(a),a.state=a.initialState(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"initialState",value:function(e){return{backup:e.backup,changed:!e.backup.id,deleting:!1,saving:!1}}},{key:"isChanged",value:function(){return this.state.changed}},{key:"componentWillReceiveProps",value:function(e){e.backup!==this.props.backup&&e.backup.updated_at!==this.props.backup.updated_at&&this.setState(this.initialState(e))}},{key:"askDelete",value:function(){this.setState({deleting:!0})}},{key:"deleteBackup",value:function(){var e=this,t=this.state.backup;return this.props.deleteBackup(t).then(function(t){t.type===b.SERVER_DELETE_BACKUP_SUCCESS||e.setState({saving:!1,error:"aaaaa"})})}},{key:"save",value:function(){var e=this,t=this.state.backup;this.setState({saving:!0}),this.props.saveBackup(t).then(function(a){if(a.type===b.SERVER_SAVE_BACKUP_SUCCESS){var n=a.response;t._tempId?e.props.onSaveNewBackup(t._tempId,n):e.setState(e.initialState(l({},e.props,{backup:n})))}else e.setState({saving:!1,error:"aaaaa"})})}},{key:"cancel",value:function(){var e=this.state.backup;e.id?this.setState(this.initialState(this.props)):this.props.deleteNewBackup(e._tempId)}},{key:"setEnabled",value:function(e){var t=this.state.backup;this.setState({backup:l({},t,{enabled:e}),changed:!0})}},{key:"setType",value:function(e){var t=this.state.backup;this.setState({backup:l({},t,{info:{type:e}}),changed:!0})}},{key:"getOption",value:function(e){return this.state.backup.info[e]}},{key:"setOption",value:function(e,t){var a=this.state.backup;this.setState({backup:l({},a,{info:l({},a.info,r({},e,t))}),changed:!0})}},{key:"getPlanningValue",value:function(e){return this.state.backup[e]}},{key:"setPlanningValue",value:function(e,t){var a=this.state.backup;this.setState({backup:l({},a,r({},e,t)),changed:!0})}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=this.state,n=a.backup,r=a.changed,o=a.deleting,i=a.saving,l=!n.id,s=!l,u=r,c=r||l,f=(n.currentCheckId,(0,g.getTitle)(n,t)),b=(0,g.getBackupTypeOptions)(n.info.type),y={display:"inline-block",width:100};return d.default.createElement(m.Card,{className:"backup-item-card"},d.default.createElement(m.CardHeader,null,f,d.default.createElement("div",{className:"pull-right",style:{marginBottom:-5}},s&&d.default.createElement(m.Button,{color:"danger",onClick:this.askDelete},d.default.createElement(p.FormattedMessage,{id:"BackupCard.deleteBackup",defaultMessage:"Delete backup"}))," ",u&&d.default.createElement(m.Button,{color:"success",onClick:this.save},d.default.createElement(p.FormattedMessage,{id:"BackupCard.save",defaultMessage:"Save"}))," ",c&&d.default.createElement(m.Button,{color:"warning",onClick:this.cancel},d.default.createElement(p.FormattedMessage,{id:"BackupCard.cancel",defaultMessage:"Cancel"}))," ")),d.default.createElement(m.CardBody,null,d.default.createElement("div",{className:"form-horizontal"},d.default.createElement(m.FormGroup,{row:!0},d.default.createElement(m.Col,{md:"3"},d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"BackupCard.enabled",defaultMessage:"Enabled"}))),d.default.createElement(m.Col,{xs:"12",md:"9"},d.default.createElement(m.Input,{type:"checkbox",style:{position:"initial",marginLeft:0,marginTop:12},checked:n.enabled,onChange:function(t){return e.setEnabled(t.target.checked)}}))),d.default.createElement(m.FormGroup,{row:!0},d.default.createElement(m.Col,{md:"3"},d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"BackupCard.type",defaultMessage:"Type"}))),d.default.createElement(m.Col,{xs:"12",md:"9"},d.default.createElement(m.Input,{type:"select",value:n.info.type,onChange:function(t){return e.setType(t.target.value)}},(0,g.getBackupTypes)().map(function(e){return d.default.createElement("option",{key:e,value:e},(0,g.getBackupTypeName)(e,t))})))),b&&b.map(function(a){return d.default.createElement(m.FormGroup,{key:a.option,row:!0},d.default.createElement(m.Col,{md:"3"},d.default.createElement(m.Label,null,t(a.name))),d.default.createElement(m.Col,{xs:"12",md:"9"},d.default.createElement(m.Input,{type:a.type||"text",value:e.getOption(a.option)||"",onChange:function(t){return e.setOption(a.option,t.target.value)}})))})),d.default.createElement("hr",null),d.default.createElement("div",{className:"form-horizontal"},d.default.createElement(m.FormGroup,{row:!0},d.default.createElement(m.Col,{md:"12"},d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"BackupCard.backupPlanning",defaultMessage:"Planning"}))),d.default.createElement(m.Col,null,d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement(p.FormattedMessage,{id:"BackupCard.backupPlanning.hourly",defaultMessage:"Keep hourly backups for the past {inputElement} hours",values:{inputElement:d.default.createElement(h.NumberInput,{style:y,decimalDigits:0,min:0,max:24,value:this.getPlanningValue("hourly"),onChange:function(t){return e.setPlanningValue("hourly",t)}})}})),d.default.createElement("li",null,d.default.createElement(p.FormattedMessage,{id:"BackupCard.backupPlanning.daily",defaultMessage:"Keep daily backups for the previous {inputElement} days",values:{inputElement:d.default.createElement(h.NumberInput,{style:y,decimalDigits:0,min:0,max:31,value:this.getPlanningValue("daily"),onChange:function(t){return e.setPlanningValue("daily",t)}})}})),d.default.createElement("li",null,d.default.createElement(p.FormattedMessage,{id:"BackupCard.backupPlanning.weekly",defaultMessage:"Keep weekly backups for the previous {inputElement} weeks",values:{inputElement:d.default.createElement(h.NumberInput,{style:y,decimalDigits:0,min:0,max:52,value:this.getPlanningValue("weekly"),onChange:function(t){return e.setPlanningValue("weekly",t)}})}}))))))),d.default.createElement(h.Dialog,{open:o,dialogType:"confirm",title:t(v.deleteTitle),message:t(v.deleteMessage),successButton:t(v.deleteButton),successColor:"danger",onSuccess:this.deleteBackup,onCancel:function(){return e.setState({deleting:!1})}}),d.default.createElement(h.Dialog,{open:i,dialogType:"loading"}))}}]),t}(),o.propTypes={backup:c.default.object.isRequired,deleteNewBackup:c.default.func.isRequired,onSaveNewBackup:c.default.func.isRequired},i),E={saveBackup:b.saveBackup,deleteBackup:b.deleteBackup};t.default=(0,f.connect)(function(e,t){return{}},E,null,{withRef:!0})((0,p.injectIntl)(y,{withRef:!0})),e.exports=t.default},1449:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[];t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1,o=1,i=t/15,l=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};-1===n.indexOf(e)&&(n.push(e),a?function a(){if(o<15){console.log(r),e.style.transform="rotate(0deg)",t-=i;var l=Number(t*r).toFixed(2);console.log(l),e.style.transform="rotate("+l+"deg)",o+=1,r*=-1,requestAnimationFrame(a)}o>=15&&(e.style.transform="rotate(0deg)",n.splice(n.indexOf(e),1))}():function a(){if(o<15){e.style.transform="translate(0px, 0px)";var r=l(-(t-=i),t),s=l(-t,t);e.style.transform="translate("+r+"px, "+s+"px)",o+=1,requestAnimationFrame(a)}o>=15&&(e.style.transform="translate(0, 0)",n.splice(n.indexOf(e),1))}())},e.exports=t.default},1450:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=a(8),c=a(231),f=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.context,a=e.tab,n=e.visible,r=e.onClick,o=e.onClose,i=e.intl,l=(0,c.getTitleForTab)(t,a,i);return s.default.createElement(d.NavItem,null,s.default.createElement(d.NavLink,{active:n,onClick:r},l,s.default.createElement("span",{className:"close",onClick:function(e){e.stopPropagation(),o&&o(e)}},"×")))}}]),t}(),r.propTypes={context:u.default.object.isRequired,tab:u.default.object.isRequired,visible:u.default.bool.isRequired,onClick:u.default.func.isRequired,onClose:u.default.func.isRequired,intl:u.default.object.isRequired},o);t.default=f,e.exports=t.default},1451:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=n(a(0)),i=a(18),l=n(a(3)),s=a(8),u=a(22),d=a(6),c=n(a(1452)),f=n(a(1453));n(a(1454));var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleTab=a.toggleTab.bind(a),a.state={showSettingsBody:a.props.showSettings,activeTab:"general-settings"},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.showSettings!==this.props.showSettings&&(clearTimeout(this.onCloseTimeout),e.showSettings?this.setState({showSettingsBody:!0}):this.onCloseTimeout=setTimeout(function(){t.setState({showSettingsBody:!1})},1e3))}},{key:"toggleTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.showSettings,n=t.closeSettings,r=(t.isAdmin,this.state.showSettingsBody);return o.default.createElement(s.Modal,{size:"lg",centered:!0,isOpen:a,toggle:n},o.default.createElement(s.ModalHeader,{toggle:n},o.default.createElement(d.FormattedMessage,{id:"App.settings.title",defaultMessage:"Settings"})),o.default.createElement(s.ModalBody,null,r&&o.default.createElement(s.Row,null,o.default.createElement(s.Col,null,o.default.createElement(s.Nav,{tabs:!0},o.default.createElement(s.NavItem,null,o.default.createElement(s.NavLink,{className:(0,l.default)({active:"general-settings"===this.state.activeTab}),onClick:function(){e.toggleTab("general-settings")}},o.default.createElement(d.FormattedMessage,{id:"Settings.tab.general",defaultMessage:"General"}))),o.default.createElement(s.NavItem,null,o.default.createElement(s.NavLink,{className:(0,l.default)({active:"user-settings"===this.state.activeTab}),onClick:function(){e.toggleTab("user-settings")}},o.default.createElement(d.FormattedMessage,{id:"Settings.tab.user",defaultMessage:"User"})))),o.default.createElement(s.TabContent,{activeTab:this.state.activeTab,style:{height:"calc(100vh - 300px)",padding:10}},o.default.createElement(s.TabPane,{tabId:"general-settings"},o.default.createElement(c.default,null)),o.default.createElement(s.TabPane,{tabId:"user-settings"},o.default.createElement(f.default,null)))))),o.default.createElement(s.ModalFooter,null,o.default.createElement(s.Button,{color:"primary",onClick:n},o.default.createElement(d.FormattedMessage,{id:"App.settings.closeButton",defaultMessage:"Close"}))," "))}}]),t}(),m={closeSettings:u.closeSettings};t.default=(0,i.connect)(function(e,t){return{isAdmin:e.auth.user&&e.auth.user.admin,showSettings:e.ui.showSettings||!1}},m)(p),e.exports=t.default},1452:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=n(a(0)),i=a(18),l=(n(a(3)),a(8)),s=a(6),u=a(213),d=a(22),c=1,f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setSidebarColor=a.setSidebarColor.bind(a),a.changeLanguage=a.changeLanguage.bind(a),a.onAlwaysOpenNewTabChanged=a.onAlwaysOpenNewTabChanged.bind(a),a.uniqueIdPrefix="GeneralSettings-unique-id-"+c++,a.state={sidebarColor:document.body.classList.contains("sidebar-style-light")?"light":"dark"},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"setSidebarColor",value:function(e){var t=e.target.value;this.setState({sidebarColor:t}),"light"===t?document.body.classList.add("sidebar-style-light"):document.body.classList.remove("sidebar-style-light"),this.props.updateUserPreferences({sidebarColor:t},!0)}},{key:"changeLanguage",value:function(e){var t=e.target.value;this.props.changeLanguage(t)}},{key:"onAlwaysOpenNewTabChanged",value:function(e){var t=e.target.checked;this.props.updateUserPreferences({alwaysOpenNewTab:t},!0)}},{key:"render",value:function(){var e=this.props,t=e.language,a=e.alwaysOpenNewTab,n=this.state.sidebarColor;return o.default.createElement("div",null,o.default.createElement(l.FormGroup,{row:!0},o.default.createElement(l.Col,{md:"3"},o.default.createElement(l.Label,null,o.default.createElement(s.FormattedMessage,{id:"GeneralSettings.sidebarColor",defaultMessage:"Sidebar color"}))),o.default.createElement(l.Col,{xs:"12",md:"9"},o.default.createElement(l.FormGroup,{check:!0,inline:!0},o.default.createElement(l.Input,{className:"form-check-input",type:"radio",id:this.uniqueIdPrefix+"-sidebar-light",value:"light",checked:"light"===n,onChange:this.setSidebarColor}),o.default.createElement(l.Label,{className:"form-check-label",check:!0,htmlFor:this.uniqueIdPrefix+"-sidebar-light"},o.default.createElement(s.FormattedMessage,{id:"GeneralSettings.sidebarColor.light",defaultMessage:"Light"}))),o.default.createElement(l.FormGroup,{check:!0,inline:!0},o.default.createElement(l.Input,{className:"form-check-input",type:"radio",id:this.uniqueIdPrefix+"-sidebar-dark",value:"dark",checked:"dark"===n,onChange:this.setSidebarColor}),o.default.createElement(l.Label,{className:"form-check-label",check:!0,htmlFor:this.uniqueIdPrefix+"-sidebar-dark"},o.default.createElement(s.FormattedMessage,{id:"GeneralSettings.sidebarColor.dark",defaultMessage:"Dark"}))))),o.default.createElement("hr",null),o.default.createElement(l.FormGroup,{row:!0},o.default.createElement(l.Col,{md:"3"},o.default.createElement(l.Label,null,o.default.createElement(s.FormattedMessage,{id:"GeneralSettings.language",defaultMessage:"Language"}))),o.default.createElement(l.Col,{xs:"12",md:"9"},o.default.createElement(l.Input,{type:"select",value:t,onChange:this.changeLanguage},u.availableLanguages.map(function(e){var t=e.toUpperCase();return o.default.createElement("option",{key:e,value:e},t)})))),o.default.createElement("hr",null),o.default.createElement(l.FormGroup,{row:!0},o.default.createElement(l.Col,{md:"3"},o.default.createElement(l.Label,null,o.default.createElement(s.FormattedMessage,{id:"GeneralSettings.tabOpening",defaultMessage:"Open tab"}))),o.default.createElement(l.Col,{xs:"12",md:"9"},o.default.createElement(l.FormGroup,{check:!0,className:"checkbox"},o.default.createElement(l.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-always-new-tab",checked:a,onChange:this.onAlwaysOpenNewTabChanged}),o.default.createElement(l.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-always-new-tab"},o.default.createElement(s.FormattedMessage,{id:"GeneralSettings.tabOpening.alwaysNewTab",defaultMessage:"Always open new tab by default"})),o.default.createElement(l.FormText,null,o.default.createElement(s.FormattedMessage,{id:"GeneralSettings.tabOpening.help",defaultMessage:"You can always use Ctrl/⌘ + click to open a new tab"}))))))}}]),t}(),p={changeLanguage:d.changeLanguage,updateUserPreferences:d.updateUserPreferences};t.default=(0,i.connect)(function(e,t){var a=e.auth.user,n=!0;return a&&a.preferences&&void 0!==a.preferences.alwaysOpenNewTab&&(n=a.preferences.alwaysOpenNewTab),{language:e.intl.language,alwaysOpenNewTab:n}},p)((0,s.injectIntl)(f)),e.exports=t.default},1453:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=n(a(0)),i=a(18),l=(n(a(3)),a(8)),s=a(6),u=(a(213),a(22)),d=a(203),c=a(188),f=(0,s.defineMessages)({genericError:{id:"UserSettings.resetPassword.genericError",defaultMessage:"Error updating the password"}}),p=1,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.resetPassword=a.resetPassword.bind(a),a.toggleResetPasswordAlert=a.toggleResetPasswordAlert.bind(a),a.uniqueIdPrefix="UserSettings-unique-id-"+p++,a.state={oldPassword:"",newPassword:"",repeatNewPassword:"",resetting:!1,resetError:null,resetSuccess:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"onPasswordChange",value:function(e,t){this.setState(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({resetting:!1,resetError:null,resetSuccess:!1},e,t))}},{key:"resetPassword",value:function(){var e=this,t=this.props.user,a=this.state,n=a.oldPassword,r=a.newPassword;this.setState({resetting:!0,resetSuccess:!1,resetError:null});var o=(0,d.getResetUserPasswordQuery)(t,r,n);this.props.simpleFetch(o).then(function(t){if(t.type===u.UI_TAB_SIMPLE_FETCH_SUCCESS)e.setState({resetting:!1,resetSuccess:!0,resetError:null});else{var a=(0,c.localizedErrorMessage)(e.props.intl,t.response),n=a&&a.message||e.props.intl.formatMessage(f.genericError);e.setState({resetting:!1,resetSuccess:!1,resetError:n})}})}},{key:"toggleResetPasswordAlert",value:function(){this.setState({resetSuccess:!1,resetError:null})}},{key:"render",value:function(){var e=this,t=this.props.username,a=this.state,n=a.oldPassword,r=a.newPassword,i=a.repeatNewPassword,u=a.resetting,d=a.resetError,c=a.resetSuccess,f=u;return o.default.createElement("div",null,o.default.createElement(l.FormGroup,{row:!0},o.default.createElement(l.Col,{md:"3"},o.default.createElement(l.Label,null,o.default.createElement(s.FormattedMessage,{id:"UserSettings.username.label",defaultMessage:"Username"}))),o.default.createElement(l.Col,{xs:"12",md:"9"},o.default.createElement("p",{className:"form-control-static"},t))),o.default.createElement("hr",null),o.default.createElement("h5",null,o.default.createElement(s.FormattedMessage,{id:"UserSettings.resetPassword.title",defaultMessage:"Reset password"})),o.default.createElement("br",null),o.default.createElement("input",{type:"hidden",value:"something"}),o.default.createElement("input",{type:"text",name:"username",placeholder:"username",style:{position:"absolute",left:"-10000000px",top:"-10000000px"}}),o.default.createElement("input",{type:"password",name:"password",placeholder:"password",style:{position:"absolute",left:"-10000000px",top:"-10000000px"}}),o.default.createElement(l.FormGroup,{row:!0},o.default.createElement(l.Col,{md:"3"},o.default.createElement(l.Label,null,o.default.createElement(s.FormattedMessage,{id:"UserSettings.currentPassword.label",defaultMessage:"Current password"}))),o.default.createElement(l.Col,{xs:"12",md:"9"},o.default.createElement(l.Input,{type:"password",onChange:function(t){return e.onPasswordChange("oldPassword",t.target.value)},value:n,disabled:f,autoComplete:"off--doesnt-work-anyway0"}))),o.default.createElement(l.FormGroup,{row:!0},o.default.createElement(l.Col,{md:"3"},o.default.createElement(l.Label,null,o.default.createElement(s.FormattedMessage,{id:"UserSettings.newPassword.label",defaultMessage:"New password"}))),o.default.createElement(l.Col,{xs:"12",md:"9"},o.default.createElement(l.Input,{type:"password",onChange:function(t){return e.onPasswordChange("newPassword",t.target.value)},value:r,disabled:f,autoComplete:"off--doesnt-work-anyway1"}))),o.default.createElement(l.FormGroup,{row:!0},o.default.createElement(l.Col,{md:"3"},o.default.createElement(l.Label,null,o.default.createElement(s.FormattedMessage,{id:"UserSettings.newPasswordRepeat.label",defaultMessage:"Repeat new password"}))),o.default.createElement(l.Col,{xs:"12",md:"9"},o.default.createElement(l.Input,{type:"password",onChange:function(t){return e.onPasswordChange("repeatNewPassword",t.target.value)},value:i,disabled:f,autoComplete:"off--doesnt-work-anyway2"}))),o.default.createElement(l.FormGroup,{row:!0},o.default.createElement(l.Col,{xs:"12",md:{size:9,offset:3}},o.default.createElement(l.Button,{outline:!0,onClick:this.resetPassword,disabled:f||!n||!r||r!==i},o.default.createElement(s.FormattedMessage,{id:"UserSettings.resetPassword.button",defaultMessage:"Reset password"})))),d&&o.default.createElement(l.Alert,{color:"danger",toggle:this.toggleResetPasswordAlert},d),c&&o.default.createElement(l.Alert,{color:"success",toggle:this.toggleResetPasswordAlert},o.default.createElement(s.FormattedMessage,{id:"UserSettings.resetPassword.success",defaultMessage:"Password changed with success!"})))}}]),t}(),h={simpleFetch:u.simpleFetch};t.default=(0,i.connect)(function(e,t){var a=e.auth.user;return{user:a,username:a&&a.username}},h)((0,s.injectIntl)(m)),e.exports=t.default},1454:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=n(a(0)),i=a(18),l=(n(a(3)),a(8),a(6)),s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"form-horizontal"},"ServerSettings - timezone - restart - ripristina da backup")}}]),t}();t.default=(0,i.connect)(function(e,t){return{}},{})((0,l.injectIntl)(s)),e.exports=t.default},1455:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){var t=w.default.createDecipher(S,_),a=t.update(e,"hex","utf8");return a+=t.final("utf8")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=a(8),c=a(108),f=a(18),p=a(22),m=a(6),h=n(a(1456)),g=n(a(463)),b=n(a(43)),v=n(a(19)),y=n(a(608)),E=n(a(1460)),w=n(a(1461)),C=(0,m.defineMessages)({username:{id:"Login.username",defaultMessage:"Username"},password:{id:"Login.password",defaultMessage:"Password"},newPassword:{id:"Login.newPassword",defaultMessage:"New password"},repeatPassword:{id:"Login.repeatPassword",defaultMessage:"Repeat password"},invalidCredential:{id:"Login.errors.invalidCredential",defaultMessage:"Invalid credentials"},changePasswordRequired:{id:"Login.errors.changePasswordRequired",defaultMessage:"Change of password required"},newVersionAvailable:{id:"Login.errors.newVersionAvailable",defaultMessage:"New version available"},genericError:{id:"Login.errors.genericError",defaultMessage:"There was an error trying to login"}}),k={"Invalid credentials":"invalidCredential","Change of password required":"changePasswordRequired","New version available":"newVersionAvailable","There was an error trying to login":"genericError"},S="aes-256-ctr",_="u2mfU5rR9ProTPY4",x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onUsernameChange=a.onUsernameChange.bind(a),a.onPasswordChange=a.onPasswordChange.bind(a),a.onNewPasswordChange=a.onNewPasswordChange.bind(a),a.onRepeatPasswordChange=a.onRepeatPasswordChange.bind(a),a.onRememberMeChange=a.onRememberMeChange.bind(a),a.submit=a.submit.bind(a),a.closeChangeOfPassword=a.closeChangeOfPassword.bind(a),a.goBackToDiscovery=a.goBackToDiscovery.bind(a),a.state=i({username:"",password:"",rememberMe:!1,accounts:[]},a.loadRememberMeCredentials(),{errorMessage:null,changeOfPassword:!1,newPassword:"",repeatPassword:""}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"_onFieldChange",value:function(e,t,a){var n,o=a?e.target.checked:e.target.value;this.setState((r(n={},t,o),r(n,"errorMessage",null),n))}},{key:"onUsernameChange",value:function(e){var t=e,a=this.state.accounts[t];this.setState({username:t,password:a?o(a):"",errorMessage:null})}},{key:"onPasswordChange",value:function(e){this._onFieldChange(e,"password",!1)}},{key:"onNewPasswordChange",value:function(e){this._onFieldChange(e,"newPassword",!1)}},{key:"onRepeatPasswordChange",value:function(e){this._onFieldChange(e,"repeatPassword",!1)}},{key:"onRememberMeChange",value:function(e){this._onFieldChange(e,"rememberMe",!0)}},{key:"submit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.username,r=a.password,o=a.rememberMe,i=a.changeOfPassword,l=a.newPassword,s={username:n,password:r,rememberMe:o};return i&&(s.newPassword=l),this.props.loginAction(s).then(function(e){if(e.response&&void 0!==e.response.status&&200!==e.response.status){var a=e.response.message;"Change of password required"===a?t.setState({errorMessage:null,changeOfPassword:!0,newPassword:"",repeatPassword:""}):t.setState({errorMessage:a||"There was an error trying to login"})}else e.type===p.USER_LOGIN_FAILURE?t.setState({errorMessage:e.response&&e.response.message||"Connection error"}):t.rememberCredentials(n,o?i?l:r:"")}),!1}},{key:"rememberCredentials",value:function(e,t){var a={accounts:i({},this.state.accounts,r({},e,t?function(e){var t=w.default.createCipher(S,_),a=t.update(e,"utf8","hex");return a+=t.final("hex")}(t):"")),lastUsedUsername:e,version:1};localStorage.setItem("selfwareRememberMe",JSON.stringify(a))}},{key:"loadRememberMeCredentials",value:function(){var e=localStorage.getItem("selfwareRememberMe");if(e)try{var t=JSON.parse(e),a=t.lastUsedUsername;if(a){var n=t.accounts&&t.accounts[a];return{username:a,password:n?o(n):"",rememberMe:!!n,accounts:t.accounts}}}catch(e){}}},{key:"closeChangeOfPassword",value:function(){this.setState({errorMessage:null,changeOfPassword:!1,newPassword:"",repeatPassword:""})}},{key:"goBackToDiscovery",value:function(){window.openDiscovery&&window.openDiscovery()}},{key:"renderForm",value:function(e){var t=this,a=this.props,n=a.loading,r=a.intl,o=this.state,i=o.accounts,l=o.username,s=o.password,c=o.rememberMe,f=o.errorMessage,p=o.changeOfPassword,g=o.newPassword,b=o.repeatPassword,y=r.formatMessage,E=e?n:n||p,w=e?E||!g||g!==b:E,S=e?n:n&&!p,_=void 0;f&&(_=(_=C[k[f]])&&y(_)||f);var x=e?{}:Object.keys(i).sort().map(function(e){return{label:e,value:e}}),T=e?d.ModalBody:"div",M=e?d.ModalFooter:function(e){return u.default.createElement(d.Row,null,u.default.createElement(d.Col,{xs:"6"},e.children))};return u.default.createElement("div",null,e?u.default.createElement("div",null,u.default.createElement(d.ModalHeader,{toggle:this.closeChangeOfPassword},u.default.createElement(m.FormattedMessage,{id:"Login.changeOfPassword.title",defaultMessage:"Enter a new password"}))):u.default.createElement("div",null,u.default.createElement("h1",null,u.default.createElement(m.FormattedMessage,{id:"Login.title",defaultMessage:"Login"})),u.default.createElement("p",{className:"text-muted"},u.default.createElement(m.FormattedMessage,{id:"Login.description",defaultMessage:"Enter your credentials:"}))),u.default.createElement(T,null,e&&u.default.createElement("p",{className:"text-muted"},u.default.createElement(m.FormattedMessage,{id:"Login.changeOfPassword.description",defaultMessage:"Your password is expired. Please enter a new password."})),u.default.createElement("input",{type:"hidden",value:"something"}),u.default.createElement("input",{type:"text",name:"username",placeholder:"username",style:{position:"absolute",left:"-10000000px",top:"-10000000px"}}),u.default.createElement("input",{type:"password",name:"password",placeholder:"password",style:{position:"absolute",left:"-10000000px",top:"-10000000px"}}),u.default.createElement(d.InputGroup,{className:"mb-3"},u.default.createElement(d.InputGroupAddon,{addonType:"prepend"},u.default.createElement(d.InputGroupText,null,u.default.createElement(v.default.LoginUser,null))),u.default.createElement(h.default,{getItemValue:function(e){return e.value},items:x,shouldItemRender:function(e,t){return 0===e.label.toLowerCase().indexOf(t.toLowerCase())},renderItem:function(e,t){return u.default.createElement("div",{key:e,style:{background:t?"#f2f9fc":"white",color:t?"#3e515b":"#678798",cursor:"pointer",display:"block",padding:"8px 10px"}},e.label)},value:l,onSelect:this.onUsernameChange,onChange:function(e){return t.onUsernameChange(e.target.value)},inputProps:{className:"form-control",placeholder:y(C.username),disabled:E||e,style:e?{backgroundColor:"#f0f0f0"}:{}},wrapperStyle:{position:"relative",flex:"1 1 auto",width:"1%"},menuStyle:{backgroundColor:"#fff",border:"1px solid #c2cfd6",borderTopColor:"#e1e7eb",boxShadow:"0 1px 0 rgba(0, 0, 0, 0.06)",marginTop:-1,maxHeight:200,position:"absolute",left:0,top:"100%",width:"100%",zIndex:1e3},autoHighlight:!1,selectOnBlur:!0})),u.default.createElement(d.InputGroup,{className:"mb-3"},u.default.createElement(d.InputGroupAddon,{addonType:"prepend"},u.default.createElement(d.InputGroupText,null,u.default.createElement(v.default.LoginLock,null))),u.default.createElement(d.Input,{type:"password",placeholder:y(e?C.newPassword:C.password),disabled:E,onChange:e?this.onNewPasswordChange:this.onPasswordChange,value:e?g:s,autoComplete:"off--doesnt-work-anyway"})),e&&u.default.createElement(d.InputGroup,{className:"mb-3"},u.default.createElement(d.InputGroupAddon,{addonType:"prepend"},u.default.createElement(d.InputGroupText,null,u.default.createElement(v.default.LoginLock,null))),u.default.createElement(d.Input,{type:"password",placeholder:y(C.repeatPassword),disabled:E,onChange:this.onRepeatPasswordChange,value:b,autoComplete:"off--doesnt-work-anyway2"})),u.default.createElement(d.Row,{className:"mb-4"},u.default.createElement(d.Col,{xs:"6",style:{paddingLeft:35,paddingBottom:10}},u.default.createElement(d.Label,{className:"text-muted",check:!0},u.default.createElement(d.Input,{type:"checkbox",disabled:E,onChange:this.onRememberMeChange,checked:c})," ",u.default.createElement(m.FormattedMessage,{id:"Login.rememberMe",defaultMessage:"Remember me"})))),f&&u.default.createElement("div",{className:"invalid-feedback mb-3",style:{display:"inline-block",paddingTop:5}},_)),u.default.createElement(M,null,u.default.createElement(d.Button,{color:"primary",className:"px-4",style:{position:"relative"},onClick:this.submit,disabled:w},u.default.createElement("span",{style:{visibility:S?"hidden":"visible"}},e?u.default.createElement(m.FormattedMessage,{id:"Login.loginButton",defaultMessage:"Login"}):u.default.createElement(m.FormattedMessage,{id:"Login.changeOfPassword.loginButton",defaultMessage:"Login"})),S&&u.default.createElement(v.default.LoadingCircle,{fixedWidth:!0,style:{position:"absolute",left:"50%",marginLeft:-9,marginTop:3}})),e&&u.default.createElement(d.Button,{color:"secondary",onClick:this.closeChangeOfPassword},u.default.createElement(m.FormattedMessage,{id:"Login.changeOfPassword.cancelButton",defaultMessage:"Cancel"}))))}},{key:"render",value:function(){var e=this.props,t=e.appName,a=e.redirect,n=this.state.changeOfPassword;return a?u.default.createElement(c.Redirect,{to:a,push:!0}):u.default.createElement("div",{className:"app flex-row align-items-center login-page"},document.body.classList.contains("app-electron")&&u.default.createElement("div",{className:"back-to-server-discovery"},u.default.createElement(b.default,{onClick:this.goBackToDiscovery},u.default.createElement("div",{className:"back-to-server-discovery-icon"},u.default.createElement(E.default,null)),u.default.createElement(m.FormattedMessage,{id:"Login.backToDiscovery.message",defaultMessage:"Find another server"}))),u.default.createElement(d.Container,null,u.default.createElement(d.Row,{className:"justify-content-center"},u.default.createElement(d.Col,{md:"8"},u.default.createElement("div",{className:"login-brand-container"},u.default.createElement("div",{className:"login-brand"},u.default.createElement("div",{className:"login-brand-icon"},u.default.createElement(g.default,null)),u.default.createElement("span",null,t))),u.default.createElement(d.Card,{className:"p-4"},u.default.createElement(d.CardBody,null,this.renderForm(!1)))))),n&&u.default.createElement(d.Modal,{isOpen:n,toggle:this.closeChangeOfPassword,className:"modal-lg login-change-password-modal"},this.renderForm(!0)),!document.body.classList.contains("app-electron")&&!document.body.classList.contains("app-mobile")&&u.default.createElement(y.default,null))}}]),t}(),T={loginAction:p.login};t.default=(0,f.connect)(function(e,t){return{appName:e.server.appName,loading:e.auth.loggingIn||!1,redirect:!!e.auth.loggedIn&&"/app"}},T)((0,m.injectIntl)(x)),e.exports=t.default},1460:function(e,t,a){function n(e){return r.createElement("svg",e,[r.createElement("polyline",{fill:"none",points:"12.5,21 3.5,12 12.5,3 ",stroke:"#000000",strokeMiterlimit:"10",strokeWidth:"2",key:0}),r.createElement("line",{fill:"none",strokeMiterlimit:"10",strokeWidth:"2",stroke:"#000000",x1:"22",x2:"3.5",y1:"12",y2:"12",key:1})])}var r=a(0);n.displayName="BackToDiscovery",n.defaultProps={version:"1.0",viewBox:"0 0 24 24",xmlSpace:"preserve"},e.exports=n,n.default=n},1491:function(e,t){},1492:function(e,t){},1537:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=n(a(0)),s=n(a(1)),u=a(18),d=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"greeting"},"Hello, ",this.props.name,"!")}}]),t}(),r.propTypes={name:s.default.string.isRequired},o);t.default=(0,u.connect)(function(e,t){return{name:e.auth.user?e.auth.user.name:"NOT LOGGED"}})(d),e.exports=t.default},1538:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=n(o),l=a(8),s=n(a(19)),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"app flex-row align-items-center"},i.default.createElement(l.Container,null,i.default.createElement(l.Row,{className:"justify-content-center"},i.default.createElement(l.Col,{md:"6"},i.default.createElement("span",{className:"clearfix"},i.default.createElement("h1",{className:"float-left display-3 mr-4"},"500"),i.default.createElement("h4",{className:"pt-3"},"Houston, we have a problem!"),i.default.createElement("p",{className:"text-muted float-left"},"The page you are looking for is temporarily unavailable.")),i.default.createElement(l.InputGroup,{className:"input-prepend"},i.default.createElement(l.InputGroupAddon,{addonType:"prepend"},i.default.createElement(l.InputGroupText,null,i.default.createElement(s.default.Search,null))),i.default.createElement(l.Input,{size:"16",type:"text",placeholder:"What are you looking for?"}),i.default.createElement(l.InputGroupAddon,{addonType:"append"},i.default.createElement(l.Button,{color:"info"},"Search")))))))}}]),t}();t.default=u,e.exports=t.default},1539:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=n(o),l=a(18),s=n(a(1540));a(1551);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggle=a.toggle.bind(a),a.state={collapsed:!0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){var e=this.props.state;return i.default.createElement("div",{className:this.state.collapsed?"debug-info debug-info-collapsed":"debug-info"},i.default.createElement("div",{className:"inspector-content",style:{display:this.state.collapsed?"none":"block"}},i.default.createElement(s.default,{data:e})),i.default.createElement("div",{className:"debug-info-close"},i.default.createElement("a",{className:"btn btn-default",onClick:this.toggle},this.state.collapsed?"Open":"Close")))}}]),t}();t.default=(0,l.connect)(function(e,t){return{state:e}},function(e){return{}})(u),e.exports=t.default},1551:function(e,t){},1562:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){window.loading_screen.finish(),window.loading_screen=null}if(window.loading_screen){window.loading_screen_end=new Date;var t=window.loading_screen_end.getTime()-window.loading_screen_start.getTime(),a=t/1e3;console.log("Loading in "+a+" s"),t<n?setTimeout(e,n-t):e()}};var n=1e3;e.exports=t.default},1563:function(e,t,a){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){n.Raven=a(1564),Raven.config(e,{release:"3.4.3",environment:"production",autoBreadcrumbs:{xhr:!0,console:!0,dom:!0,location:!0},ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"],ignoreUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]}).install()},e.exports=t.default}).call(t,a(9))},157:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=(n(a(3)),a(6)),f=a(8),p=n(a(121)),m=n(a(158)),h=a(5),g=n(a(19)),b=1,v=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.sendPromptValues=a.sendPromptValues.bind(a),a.promptCancel=a.promptCancel.bind(a),a.state={inputValues:[],promptError:null,promptLoading:!1},a.uniqueIdPrefix="Dialog-unique-id-"+b++,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"createPromptInputList",value:function(){var e=this,t=this.state.promptLoading;return(this.props.inputs||[]).map(function(a,n){var r=a.label,o=a.element,l=a.helpMessage,s=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(a,["label","element","helpMessage"]),d=o||f.Input,c=e.uniqueIdPrefix+"-prompt-input-"+n,p={value:e.state.inputValues[n]||""};return u.default.createElement(f.FormGroup,{row:!0,key:n},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,{htmlFor:c},r)),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(d,i({},s,{id:c,disabled:t},p,{onChange:function(t){return e.setPromptValue(n,t)}})),l&&u.default.createElement(f.FormText,{color:"muted"},l)))})}},{key:"setPromptValue",value:function(e,t){var a=t.target.value,n=(0,h.clone)(this.state.inputValues);n[e]=a,this.setState({inputValues:n,promptError:null})}},{key:"promptCancel",value:function(e){this.setState({inputValues:[],promptError:null,promptLoading:!1}),this.props.onCancel(e)}},{key:"sendPromptValues",value:function(){var e=this;if(this.props.onSuccess){var t,a=this.state.inputValues,n=(t=this.props).onSuccess.apply(t,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(a));n&&n.then?(this.setState({promptLoading:!0}),n.then(function(){e.setState({inputValues:[],promptError:null,promptLoading:!1})}).catch(function(t){var a=t.message;e.setState({promptError:a,promptLoading:!1})})):this.setState({inputValues:[],promptError:null})}}},{key:"render",value:function(){var e=this.props,t=e.dialogType,a=e.open,n=e.successColor,r=e.successButton,o=e.cancelButton,i=e.onCancel,l=e.onSuccess,s=e.title,d=e.message,h=this.state,b=h.promptLoading,v=h.promptError,y=u.default.createElement(f.ModalHeader,{toggle:"prompt"===t?this.promptCancel:i},s),E=d,w=null;switch(r=r||u.default.createElement(c.FormattedMessage,{id:"Dialog.successButton",defaultMessage:"Ok"}),o=o||u.default.createElement(c.FormattedMessage,{id:"Dialog.cancelButton",defaultMessage:"Cancel"}),t){case"confirm":w=u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:n||"primary",onClick:l},r)," ",u.default.createElement(f.Button,{color:"secondary",onClick:i},o));break;case"alert":i=i||l,w=u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:n||"primary",onClick:i},r));break;case"loading":y=null,E=u.default.createElement("div",{style:{minHeight:260,display:"flex"}},u.default.createElement("div",{style:{margin:"auto"}},d,d&&u.default.createElement("div",{style:{display:"block",height:20}}),u.default.createElement(p.default,null)));break;case"prompt":w=u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:n||"primary",style:{position:"relative"},disabled:b,onClick:this.sendPromptValues},u.default.createElement("span",{style:b?{visibility:"hidden"}:{}},r),b&&u.default.createElement(g.default.LoadingCircle,{fixedWidth:!0,style:{position:"absolute",left:"50%",marginLeft:-9,marginTop:3}}))," ",u.default.createElement(f.Button,{color:"secondary",onClick:this.promptCancel},o)),E=u.default.createElement("div",null,d,d&&u.default.createElement("div",{style:{display:"block",height:20}}),this.createPromptInputList(),v&&u.default.createElement("span",{className:"text-danger"},v))}return u.default.createElement(m.default,{isOpen:a,toggle:i,className:this.props.className},y,u.default.createElement(f.ModalBody,null,E),w)}}]),t}(),r.propTypes={dialogType:d.default.oneOf(["prompt","confirm","alert","loading"]).isRequired,open:d.default.bool.isRequired,title:d.default.string,message:d.default.oneOfType([d.default.string,d.default.node]),successButton:d.default.string,successColor:d.default.string,cancelButton:d.default.string,inputs:d.default.arrayOf(d.default.shape({element:d.default.element,label:d.default.string,helpMessage:d.default.string,type:d.default.string})),onSuccess:d.default.func,onCancel:d.default.func},o);t.default=(0,c.injectIntl)(v),e.exports=t.default},158:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,a,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0},d=n(a(0)),c=(n(a(14)),n(a(1))),f=a(8),p=n(a(3)),m=n(a(500)),h=Object.keys(f.Modal.propTypes),g=(i=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Modal),s(t,[{key:"init",value:function(){if(this.context){if(!this.context.tabModalContainerId)return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this);this._usingTabModalContainer=!0,this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex;var e=document.getElementById(this.context.tabModalContainerId);e.appendChild(this._element);var a=e.className;e.className=(0,p.default)(a,"modal-open")}}},{key:"componentDidMount",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.props.isOpen&&!this._element&&(this.init(),this.forceUpdate())}},{key:"renderModalDialog",value:function(){var e,t,a,n,o=this,i=(t=this.props,a=h,n={},Object.keys(t).forEach(function(e){-1===a.indexOf(e)&&(n[e]=t[e])}),n),s=d.default.createElement("div",{className:(0,p.default)("modal-content",this.props.contentClassName)},this.props.children);return this.props.draggable&&(s=d.default.createElement(m.default,{bounds:"#"+this.context.tabModalContainerId,handle:".modal-header"},s),delete i.draggable),d.default.createElement("div",l({},i,{className:(0,p.default)("modal-dialog",this.props.className,(e={},r(e,"modal-"+this.props.size,this.props.size),r(e,"modal-dialog-centered",this.props.centered),e)),role:"document",ref:function(e){o._dialog=e}}),s)}},{key:"destroy",value:function(){if(!this._usingTabModalContainer)return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this);var e=document.getElementById(this.context.tabModalContainerId);e.removeChild(this._element),0===e.childElementCount&&e.classList.remove("modal-open"),this._element=null,this._usingTabModalContainer=!1}}]),t}(),o.contextTypes={tabModalContainerId:c.default.string},o.defaultProps=l({},f.Modal.defaultProps,{wrapClassName:"modal-wrapper"}),i);t.default=g,e.exports=t.default},171:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=new i.TfIdfSearchIndex,n=(0,o.default)({valueKey:"id",indexes:e,options:t,searchIndex:a,tokenizer:{tokenize:u}});return function(e,t,a){if(!t||t.length<2){if(Array.isArray(a)&&a.length){var r=a.map(function(e){return e.id});return e.filter(function(e){return!r.includes(e.id)})}return e}return n(e,t,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.splitRegexp=t.wordsRegexp=void 0,t.createFilterOptions=r,t.createFilterOptionsForSearchTemplate=function(e,t){return r(e&&e.map(function(e){var t=e.field_id,a="id"===t?"id":"col_"+t;if(e.relation_id){return[(e.relation_is_back?"obj_back_":"obj_")+e.relation_id,a]}return a}),t)},t.createFilterOptionsForTableViewColumns=function(e,t){var a=[];return e.forEach(function(e){e.key&&a.push(e.key)}),r(a,t)};var o=n(a(1067)),i=a(541),l=n(a(497));t.wordsRegexp=new l.default("[\\p{L}\\p{N}_]*","gi");var s=t.splitRegexp=new l.default("[ ]+","i"),u=function(e){return l.default.split(e,s).filter(function(e){return e})}},172:function(e,t,a){"use strict";function n(e){e.background=e.background||"#FFFFFF",e.color=e.color||"#000000"}function r(e,t){var a=t&&!1===t.auto?"value":"auto";e.type=e.type||a,"percentile"===e.type&&(e.value>=0&&e.value<=100||(e.value=0))}function o(e,t){return e?"value"===e.type&&void 0!==e.value?e.value:"percentile"===e.type?null:"auto"===e.type?t:null:null}function i(e){return-1!==c.indexOf(e)}function l(e){var t,a=o(e.min,0),n=o(e.max,100);"3-color-scale"===e.type&&(t=o(e.middle,(n-a)/2));var r=[];if("3-color-scale"===e.type)r.push(a,(a+t)/2,t,(t+n)/2,n);else{var i=a+(n-a)/3,l=a+2*(n-a)/3;r.push(a,i,l,n)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getConditionalFormattingsForValueType=function(e){return p.filter(function(t){return t.allowedForType(e)}).map(function(e){return e.type})},t.getConditionalFormattingName=function(e){return m[e].name},t.setDefaultOptionsIfNeeded=function(e){var t=e&&e.type,a=m[t];return a&&a.setDefaultIfNeeded(e),e},t.applyFormatting=function(e,t,a,n){var r=m[e];return r?r.applyFormatting(t,a,n):null},t.getConditionalFormattingTestValues=function(e){var t=m[e.type];return t?t.getTestValues(e):null};var s,u=a(1118),d=(s=u)&&s.__esModule?s:{default:s},c=["INTEGER","DOUBLE","DECIMAL"],f=function(e,t,a){if("number"==typeof t){var n=o(e.min,a.min),r=o(e.max,a.max);if(!(null===n||null===r||n>r)){var i,l,s,u,c,f,p;if("3-color-scale"===e.type){if(null===(i=o(e.middle,(r-n)/2))||n>i||i>r)return;l=!0}s=t<=n?0:t>=r?1:l?t===i?.5:t<i?(t-n)/(i-n)/2:.5+(t-i)/(r-i)/2:(t-n)/(r-n),(l?s<1/3:s<.5)?(u=e.min.format&&e.min.format.color||"#000000",c=e.min.format&&e.min.format.bold,f=e.min.format&&e.min.format.italic,p=e.min.format&&e.min.format.underline):l&&s<2/3?(u=e.middle.format&&e.middle.format.color||"#000000",c=e.middle.format&&e.middle.format.bold,f=e.middle.format&&e.middle.format.italic,p=e.middle.format&&e.middle.format.underline):(u=e.max.format&&e.max.format.color||"#000000",c=e.max.format&&e.max.format.bold,f=e.max.format&&e.max.format.italic,p=e.max.format&&e.max.format.underline);var m=[e.min.format&&e.min.format.background||"#FFFFFF",e.max.format&&e.max.format.background||"#FFFFFF"];l&&m.splice(1,0,e.middle.format&&e.middle.format.background||"#FFFFFF");var h={background:(0,d.default)(m)(s),color:u};return c&&(h.fontWeight="bold"),f&&(h.fontStyle="italic"),p&&(h.textDecoration="underline"),h}}},p=[{type:"2-color-scale",name:"Scala di colore (2 colori)",allowedForType:i,setDefaultIfNeeded:function(e){["min","max"].forEach(function(t){e[t]=e[t]||{},e[t].format=e[t].format||{},n(e[t].format),r(e[t])})},applyFormatting:f,getTestValues:l},{type:"3-color-scale",name:"Scala di colore (3 colori)",allowedForType:i,setDefaultIfNeeded:function(e){["min","max","middle"].forEach(function(t){e[t]=e[t]||{},e[t].format=e[t].format||{},n(e[t].format),r(e[t])})},applyFormatting:f,getTestValues:l},{type:"bar",name:"Barra",allowedForType:i,setDefaultIfNeeded:function(e){["min","max"].forEach(function(t){e[t]=e[t]||{},r(e[t])}),["positive","negative"].forEach(function(t){e[t]=e[t]||{},e[t].format=e[t].format||{},n(e[t].format)})},applyFormatting:function(e,t,a){if("number"==typeof t){var n=o(e.min,a.min),r=o(e.max,a.max);if(!(null===n||null===r||n>r)){var i,l,s,u,d=function(e,t,a,n,r){a<e?a=e:a>t&&(a=t);var o,i='<?xml version="1.0" encoding="iso-8859-1"?>  <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"   viewBox="'+e+" 0 "+(t-e)+' 100" preserveAspectRatio="none" >  <g>';return a<0&&a!==t&&(i+='<path fill="'+n+'" d="      M'+a+",10       L"+(o=t<0?t:0)+",10      L"+o+",90       L"+a+',90      Z    "></path>'),a>0&&a!==e&&(i+='<path fill="'+r+'" d="      M'+(o=e>0?e:0)+",10       L"+a+",10      L"+a+",90       L"+o+',90      Z    "></path>'),e<0&&t>0&&(i+='<line x1="0" y1="0" x2="0" y2="100" style="stroke: #000000; stroke-width: 1" vector-effect="non-scaling-stroke" stroke-dasharray="6,3"/>'),i+="</g>  </svg>","data:image/svg+xml;base64,"+window.btoa(i)}(n,r,t,e.negative&&e.negative.format&&e.negative.format.background||"#FFFFFF",e.positive&&e.positive.format&&e.positive.format.background||"#FFFFFF");t>=0?(i=e.positive&&e.positive.format&&e.positive.format.color||"#000000",l=e.positive&&e.positive.format&&e.positive.format.bold,s=e.positive&&e.positive.format&&e.positive.format.italic,u=e.positive&&e.positive.format&&e.positive.format.underline):(i=e.negative&&e.negative.format&&e.negative.format.color||"#000000",l=e.negative&&e.negative.format&&e.negative.format.bold,s=e.negative&&e.negative.format&&e.negative.format.italic,u=e.negative&&e.negative.format&&e.negative.format.underline);var c={background:"url("+d+")",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",color:i};return l&&(c.fontWeight="bold"),s&&(c.fontStyle="italic"),u&&(c.textDecoration="underline"),e.barOnly&&(c.color="rgba(0,0,0,0)",c.userSelect="none"),c}}},getTestValues:function(e){var t=o(e.min,-100),a=o(e.max,100),n=[];if(t===a)n.push(t);else{var r=t<0&&a>0?t/2:t+(a-t)/3,i=t<0&&a>0?a/2:t+2*(a-t)/3;n.push(t,r,i,a)}return n}},{type:"ranges",name:"Intervalli di valori",allowedForType:i,setDefaultIfNeeded:function(e){e.ranges=e.ranges||[],0===e.ranges.length&&e.ranges.push({}),e.ranges.forEach(function(e){e.format=e.format||{},n(e.format),r(e,{auto:!1})}),e.otherValues=e.otherValues||{},e.otherValues.format=e.otherValues.format||{},n(e.otherValues.format)},applyFormatting:function(e,t,a){if("number"==typeof t){var n;if(e.ranges)for(var r=0;!n&&r<e.ranges.length;r++){var i=e.ranges[r];t<=o(i,null)&&(n=i)}if(n||(n=e.otherValues),n){var l=n.format&&n.format.background||"#FFFFFF",s=n.format&&n.format.color||"#000000",u=n.format&&n.format.bold,d=n.format&&n.format.italic,c=n.format&&n.format.underline,f={background:l,color:s};return u&&(f.fontWeight="bold"),d&&(f.fontStyle="italic"),c&&(f.textDecoration="underline"),f}}},getTestValues:function(e){var t=[],a=null,n=null;if(e.ranges)for(var r=0;r<e.ranges.length;r++){var i=o(e.ranges[r],null);if(null===a&&(a=i),null!==n){var l=(n+i)/2;t.push(l)}n=i}var s=void 0;return null!==a&&a!==n?(t.splice(0,0,a-(n-a)/e.ranges.length),s=n+(n-a)/e.ranges.length):0===a?(t.splice(0,0,-1,0),s=1):null!==a?(t.splice(0,0,a>0?a/2:2*a),s=a>0?2*a:a/2):s=1,t.push(s),t}},{type:"values",name:"Valori",allowedForType:function(){return!0},setDefaultIfNeeded:function(e){e.values=e.values||[],0===e.values.length&&e.values.push({}),e.values.forEach(function(e){var t;e.format=e.format||{},n(e.format),(t=e).value=t.value||""}),e.otherValues=e.otherValues||{},e.otherValues.format=e.otherValues.format||{},n(e.otherValues.format)},applyFormatting:function(e,t,a){if(void 0!==t){var n;if(e.values)for(var r=0;!n&&r<e.values.length;r++){var o=e.values[r];t==o.value&&(n=o)}if(n||(n=e.otherValues),n){var i=n.format&&n.format.background||"#FFFFFF",l=n.format&&n.format.color||"#000000",s=n.format&&n.format.bold,u=n.format&&n.format.italic,d=n.format&&n.format.underline,c={background:i,color:l};return s&&(c.fontWeight="bold"),u&&(c.fontStyle="italic"),d&&(c.textDecoration="underline"),c}}},getTestValues:function(e){var t=[];return e.values&&e.values.forEach(function(e){t.push(e.value)}),t.push(null),t}}],m={};p.forEach(function(e){m[e.type]=e})},181:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["FORM","EDIT_FORM","INLINE_EDIT_FORM"],e.exports=t.default},186:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultInfo=void 0;var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=n(a(181)),f=a(8),p=n(a(43)),m=n(a(3)),h=a(131),g=a(5),b=n(a(600)),v=a(6),y=n(a(19)),E=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"getName",value:function(){var e=this.props.content;return this.props.intl.formatMessage(b.default[e.type])}},{key:"applyClassName",value:function(){for(var e=this.props,t=e.isEditor,a=e.content,n=e.isDragging,r=e.isOver,o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];if(!t)return m.default.apply(void 0,i);var s=(0,h.getElement)(a.type);return m.default.apply(void 0,["editor-element","editor-element-draggable",s.isContainer&&"editor-element-container",n&&"editor-element-dragging",r&&"editor-element-is-over",a.isPlaceholder&&"editor-element-placeholder"].concat(i))}},{key:"updateContent",value:function(e){this.props.onChange(e,!0)}},{key:"renderChildren",value:function(){var e=this.props,t=e.content,a=e.generateChildren,n=e.isOver,r=e.draggingItem,o=e.dropPosition,l=t.children;if(n){l=l?(0,g.clone)(l):[];var s=i({},r.content,{isPlaceholder:!0,__reactKey:"placeholder"});"number"==typeof o?l.splice(o,0,s):l.push(s)}return l?a(l):null}},{key:"renderEditorControlsIfNeeded",value:function(){var e=this,t=this.props,a=t.isEditor,n=t.connectDragSource,r=t.onDelete,o=t.content;if(!a)return null;var i=!!this.renderSettings;i&&this.shouldRenderSettings&&(i=this.shouldRenderSettings());var l=!this.canDeleteInput||this.canDeleteInput(),s="editor-element-popover-settings-"+o.__reactKey;return n(u.default.createElement("div",{className:"editor-element-header"},this.getName(),u.default.createElement("div",{className:"pull-right"},i&&u.default.createElement(p.default,{id:s,style:{marginRight:6},onClick:function(){return e.setState({settingsOpened:!e.state.settingsOpened})}},u.default.createElement(y.default.Settings,null)),l&&u.default.createElement(p.default,{style:{marginRight:6},onClick:r},u.default.createElement(y.default.Trash,null)),u.default.createElement(y.default.Move,null)),i&&u.default.createElement(f.Popover,{placement:"bottom",className:(0,m.default)("editor-element-settings-popover",this.additionalPopoverClasses&&this.additionalPopoverClasses()),target:s,isOpen:this.state.settingsOpened,toggle:function(){return e.setState({settingsOpened:!e.state.settingsOpened})}},u.default.createElement(f.PopoverHeader,null,u.default.createElement(v.FormattedMessage,{id:"LayoutEditor.element.settings.popover.title",defaultMessage:"Settings"})),u.default.createElement(f.PopoverBody,null,this.renderSettings()))))}},{key:"renderElement",value:function(){throw new Error("BaseElement renderElement method should be overridden")}},{key:"renderToolElement",value:function(){var e=this.props,t=e.content,a=e.connectDragSource;return e.connectDragPreview,(0,h.getElement)(t.type),a(u.default.createElement("div",{className:this.applyClassName("editor-element-tool")},u.default.createElement("div",{className:"editor-element-header"},this.getName())))}},{key:"render",value:function(){if(this.props.isTool)return this.renderToolElement();var e=this.renderElement();return this.props.connectDropTarget?this.props.connectDropTarget(e):e}}]),t}(),r.propTypes={content:d.default.any.isRequired,generateChildren:d.default.func,onChange:d.default.func,onDelete:d.default.func,onDroppedItem:d.default.func,setDraggingClientOffset:d.default.func,setDraggingItem:d.default.func,isEditor:d.default.bool,isTool:d.default.bool,intl:d.default.object.isRequired,connectDropTarget:d.default.func,isOver:d.default.bool,canDrop:d.default.bool,draggingItem:d.default.object,connectDragSource:d.default.func,connectDragPreview:d.default.func,isDragging:d.default.bool},o);t.default=E,t.defaultInfo={type:null,allowdIn:c.default,isContainer:!1,containerDirection:null,canContain:[],cannotContain:[],Element:null}},187:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pivotValueAggregationTypes=void 0,t.getViewDataValidationQuery=function(e){return{endpoint:"/view/"+e+"/dataValidation/data",method:"GET"}},t.clone=function(e,t){return(t=(0,n.clone)(t)).permissions=t.permissions.map(function(e){return delete(e=(0,n.clone)(e)).id,delete e.data_view_id,delete e.database_id,e}),delete t.database_id,delete t.id,delete t.created_at,delete t.updated_at,t};var n=a(5);t.pivotValueAggregationTypes=["COUNT","SUM","AVG","MIN","MAX"]},188:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.localizedErrorMessage=function(e,t,a){var r=void 0,l=void 0;if(!t)return{message:null};t.messageId?(r=t.messageId,l=t.values):t.error&&t.error.messageId&&(r=t.error.messageId,l=t.error.values),a&&l&&(l=(0,o.mapValues)(l,function(e){if("object"===(void 0===e?"undefined":n(e))&&e.transform&&"relations"===e.transform){var t=a.relations||{},r=t[e.relationId];if(r)return e.relationIsBack?r.nameBackward:r.nameForward}return e}));var s=r&&function(e){var t=e.indexOf(".");if(-1===t)return null;var a=e.substring(0,t);return e=e.substring(t+1),i[a]&&i[a][e]}(r);if(s){var u=e.formatMessage(s,l);t.message=u}return t};var r=a(6),o=a(5),i={CreateOrUpdateRow:(0,r.defineMessages)({relationObjectAlreadyExists:{id:"CreateOrUpdateRow.locale.errors.relationObjectAlreadyExists",defaultMessage:'The selected object in the relation "{relationName}" already has an object associated for the relation "{inverseRelationName}".'}}),User:(0,r.defineMessages)({}),ExternalSource:(0,r.defineMessages)({expectedParamenter:{id:"ExternalSource.locale.errors.expectedParamenter",defaultMessage:"Expected parameter: {parameter}"},"queryError.noColumns":{id:"ExternalSource.locale.errors.queryError.noColumns",defaultMessage:"Wrong query: no columns returned"},tableNotFound:{id:"ExternalSource.locale.errors.tableNotFound",defaultMessage:"Table not found: {tableName}"},"queryError.withMessage":{id:"ExternalSource.locale.errors.queryError.withMessage",defaultMessage:"Query error:\n\n{message}"},"whereError.withMessage":{id:"ExternalSource.locale.errors.whereError.withMessage",defaultMessage:"Possible error in WHERE clause:\n\n{message}"},"SqlAnywhere.noFromSupport":{id:"ExternalSource.locale.errors.SqlAnywhere.noFromSupport",defaultMessage:"SqlAnywhere doesn't support FROM parameter"}})};t.default=i},189:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t,a){return e===t||!!(e&&t&&Array.isArray(e)&&Array.isArray(t))&&e.length===t.length&&(0,g.every)(e,function(e,n){return e===t[n]||n===a})}Object.defineProperty(t,"__esModule",{value:!0});var i,l,s,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),c=n(d),f=n(a(1)),p=n(a(286));a(1337),a(1338);var m=n(a(606)),h=n(a(1340)),g=a(5),b=n(a(3)),v=1,y=(l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.uniqueIdPrefix="FunctionEditor-unique-id-"+v++,a.customEditorSettings=a.customEditorSettings.bind(a),a.state=a.createState(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentWillReceiveProps",value:function(e){e.modelId===this.props.modelId&&e.context===this.props.context&&e.editingFieldIndex===this.props.editingFieldIndex&&e.editingRelationIndex===this.props.editingRelationIndex&&o(e.fields,this.props.fields,e.editingFieldIndex)&&o(e.relations,this.props.relations,e.editingRelationIndex)&&e.returnValue===this.props.returnValue||this.setState(this.createState(e))}},{key:"createState",value:function(e){var t=e.context,a=e.model,n=e.returnValue,r=e.fields||a.fields.map(function(e){return t.fields[e]}),o=e.relations||a.relations.map(function(e){return t.relations[e]}),i={};return r.forEach(function(e){i[e.name]=!0}),o.forEach(function(e){if(e.model_from_id===a.id){var n=e.nameForward,r=t.models[e.model_to_id]||a;i[n]=r.fields.map(function(e){return t.fields[e].name})}e.model_to_id===a.id&&(n=e.nameBackward,r=t.models[e.model_from_id]||a,i[n]=r.fields.map(function(e){return t.fields[e].name}))}),{mode:h.default.generator(i,{boolean:"boolean"===n})}}},{key:"customEditorSettings",value:function(e){var t=this.state.mode;p.default.config.loadModule("ace/ext/language_tools",function(){if(e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),e.completers&&e.completers.length>=3){var a=e.completers[2];e.completers=[{getCompletions:function(n,r,o,i,l){var s=t.$tokenizer.$grammar.Lex;return a.getCompletions(e,r,o,i,function(e,t){return t&&t.forEach(function(e){e.meta&&s[e.meta]&&void 0!==s[e.meta].autocompleteMeta&&(e.meta=s[e.meta].autocompleteMeta)}),l(e,t)})},identifierRegexps:[/[a-zA-Z_0-9]/]}]}})}},{key:"render",value:function(){var e=this.props,t=e.functionString,a=e.minLines,n=e.maxLines,r=e.width,o=e.height,i=e.onChange,l=e.disabled,s=e.className,u=this.state.mode;return c.default.createElement(m.default,{className:(0,b.default)(s,l&&"function-editor-disabled"),value:t,onChange:i,name:this.uniqueIdPrefix+"-ace-editor",width:"number"==typeof r?r+"px":r,height:"number"==typeof o?o+"px":o,mode:u,theme:"chrome",editorProps:{$blockScrolling:1/0},setOptions:{useWorker:!1},wrapEnabled:!0,minLines:l?1:a||5,maxLines:n||8,showPrintMargin:!1,highlightActiveLine:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,customEditorSettings:this.customEditorSettings,readOnly:l})}}]),t}(),i.propTypes=(r(s={context:f.default.object.isRequired,model:f.default.object.isRequired,fields:f.default.array,relations:f.default.array,editingFieldIndex:f.default.number,editingRelationIndex:f.default.number},"relations",f.default.array),r(s,"functionString",f.default.string.isRequired),r(s,"onChange",f.default.func.isRequired),r(s,"returnValue",f.default.oneOf([null,"boolean"])),r(s,"minLines",f.default.number),r(s,"maxLines",f.default.number),r(s,"width",f.default.any),r(s,"height",f.default.any),r(s,"disabled",f.default.bool),s),l);t.default=y,e.exports=t.default},19:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return function(a){var n=a.style,r=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(a,["style"]),o=function(e){var t=e.fixedWidth,a=e.size,n=void 0;if(a)if("sm"===a)n={height:13,width:t?16:13,marginTop:2};else{if("2x"!==a)throw new Error('Icon error: unknown size "'+a+'"');n={height:24,width:t?27:24,marginTop:3}}else n={height:15,width:t?19:15,marginTop:3};return n}(r);return!1===e?u.default.createElement("span",{style:s({display:"inline-block"},n,o)}):(e&&"sli"===e.prefix&&(o.transform="scaleY(-1)",o.marginTop=0),u.default.createElement(d.default,s({icon:e,style:s({},n,o)},t,r)))}}function o(e){return e&&/^fa[srb]-/.test(e)}function i(e){return e&&e.indexOf(" ")&&(e=(0,c.extractIconName)(e)),e&&/^fa-/.test(e)}function l(e){var t=(0,f.default)(e);return t?t.prefix+"-"+t.iconName:null}Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyIcon=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.isFa5=o,t.isFa4=i,t.convertFa4=l,t.createIcon=function(e){if("string"==typeof e&&(i(e)&&(e=l(e)),o(e))){var t=e.match(/^(fa[srb])-(.*)$/);e={prefix:t[1],iconName:t[2]}}return e?r(e):null};var u=n(a(0)),d=n(a(460)),c=a(838),f=n(c),p={Trash:r({prefix:"far",iconName:"trash-alt"}),Search:r({prefix:"fas",iconName:"search"}),ZoomNormal:r({prefix:"fas",iconName:"selfware-search-one",icon:[448,512,[],null,"m236,292c0,6.6 -5.4,12 -12,12l-32,0c-6.6,0 -12,-5.4 -12,-12l0,-56l0,-56l0,-56c0,-6.6 5.4,-12 12,-12l32,0c6.6,0 12,5.4 12,12l0,56l0,112zm269,184.7l-28.3,28.3c-9.4,9.4 -24.6,9.4 -33.9,0l-99.8,-99.7c-4.5,-4.5 -7,-10.6 -7,-17l0,-16.3c-35.3,27.6 -79.7,44 -128,44c-114.9,0 -208,-93.1 -208,-208s93.1,-208 208,-208s208,93.1 208,208c0,48.3 -16.4,92.7 -44,128l16.3,0c6.4,0 12.5,2.5 17,7l99.7,99.7c9.3,9.4 9.3,24.6 0,34zm-161,-268.7c0,-75.2 -60.8,-136 -136,-136s-136,60.8 -136,136s60.8,136 136,136s136,-60.8 136,-136z"]}),ZoomPlus:r({prefix:"fas",iconName:"search-plus"}),ZoomMinus:r({prefix:"fas",iconName:"search-minus"}),Pencil:r({prefix:"fas",iconName:"pencil-alt"}),Grid:r({prefix:"fas",iconName:"th-large"}),Sort:r({prefix:"fas",iconName:"sort"}),SortAsc:r({prefix:"fas",iconName:"sort-up"}),SortDesc:r({prefix:"fas",iconName:"sort-down"}),Plus:r({prefix:"fas",iconName:"plus"}),Filter:r({prefix:"fas",iconName:"filter"}),Clock:r({prefix:"far",iconName:"clock"}),Warning:r({prefix:"fas",iconName:"exclamation-triangle"}),User:r({prefix:"fas",iconName:"user"}),Signout:r({prefix:"fas",iconName:"sign-out-alt"}),DisableAdmin:r({prefix:"fas",iconName:"unlock-alt"}),ConnectionStatus:r({prefix:"fas",iconName:"circle"}),Link:r({prefix:"far",iconName:"arrow-alt-circle-right"}),CaretUp:r({prefix:"fas",iconName:"caret-up"}),CaretDown:r({prefix:"fas",iconName:"caret-down"}),Success:r({prefix:"fas",iconName:"check"}),LoadingCircle:r({prefix:"fas",iconName:"circle-notch"},{spin:!0}),Mobile:r({prefix:"fas",iconName:"mobile-alt"}),Tablet:r({prefix:"fas",iconName:"tablet-alt"}),Desktop:r({prefix:"fas",iconName:"desktop"}),Settings:r({prefix:"fas",iconName:"wrench"}),Move:r({prefix:"fas",iconName:"arrows-alt"}),Check:r({prefix:"far",iconName:"check-square"}),Uncheck:r({prefix:"far",iconName:"square"}),ArrowLeft:r({prefix:"fas",iconName:"arrow-left"}),ArrowRight:r({prefix:"fas",iconName:"arrow-right"}),Folder:r({prefix:"far",iconName:"folder"}),ExternalSource:r({prefix:"fas",iconName:"sync"}),LoginUser:r({prefix:"sli",iconName:"sli-user",icon:[1024,1024,[],null,"M511.728 896c108.672 0 223.92 -91.5342 223.92 -159.854v-159.92c0 -61.5518 -25.5996 -179.312 -94.2559 -233.376c-17.5039 -13.7764 -26.5918 -35.6807 -23.9678 -57.8086c2.62402 -22.1602 16.5918 -41.3125 36.8477 -50.625l278.496 -132.064 c2.17578 -0.992188 26.6875 -5.10449 26.6875 -39.3447l0.0322266 -62.4639l-895.488 -0.0478516v64.9443c0 25.4404 19.0879 33.4248 26.7197 36.9443l281.024 132.624c20.1602 9.24805 34.0645 28.3203 36.7686 50.3203c2.71973 22 -6.16016 43.8398 -23.4561 57.7119 c-66.4805 53.376 -97.4561 170.704 -97.4561 233.185v159.92c0.015625 66.8477 116.416 159.855 224.128 159.854zM511.728 960.002c-141.312 0 -288.127 -117.938 -288.127 -223.857v-159.92c0 -69.8721 31.8877 -211.248 121.392 -283.088l-281.04 -132.64 s-63.9521 -28.4961 -63.9521 -63.9678v-96.0322c0 -35.3438 28.6396 -63.9678 63.9512 -63.9678h895.552c35.3438 0 63.9678 28.624 63.9678 63.9678v96.0322c0 37.5996 -63.9678 63.9678 -63.9678 63.9678l-278.496 132.064 c88.6562 69.7764 118.656 206.849 118.656 283.665v159.92c0 105.92 -146.64 223.855 -287.936 223.855v0z"]}),LoginLock:r({prefix:"sli",iconName:"sli-lock",icon:[1024,1024,[],null,"M800 576h-32v122.128c0 146.848 -106.256 261.872 -257.184 261.872c-151.536 0 -254.816 -117.472 -254.816 -261.872v-122.128h-32c-70.5918 0 -128 -57.4082 -128 -128v-384c0 -70.5918 57.4082 -128 128 -128h576c70.5918 0 128 57.4082 128 128v384 c0 70.5918 -57.4082 128 -128 128zM320 698.128c0 109.088 74.5605 197.872 190.816 197.872c115.056 0 193.184 -86.9121 193.184 -197.872v-122.128h-384v122.128zM864.001 64c0 -35.2803 -28.7197 -64 -64 -64h-576c-35.2803 0 -64 28.7197 -64 64v384 c0 35.2803 28.7197 64 64 64h576c35.2803 0 64 -28.7197 64 -64v-384zM512.001 384c-35.3438 0 -64 -28.6562 -64 -64c0 -23.6318 12.96 -44.0322 32 -55.1201v-104.88c0 -17.6641 14.3359 -32 32 -32c17.6641 0 32 14.3359 32 32v104.88 c19.04 11.0879 32 31.5039 32 55.1201c0 35.3438 -28.6562 64 -64 64z"]}),AppleLogo:r({prefix:"fab",iconName:"apple"}),WindowsLogo:r({prefix:"fab",iconName:"windows"}),PivotRowOpen:r({prefix:"fas",iconName:"caret-down"}),PivotRowClosed:r({prefix:"fas",iconName:"caret-right"}),PivotFieldsRows:r({prefix:"selfware",iconName:"pivot-fields-rows",icon:[24,24,[],null,"M24,22.9V1.1C24,0.5,23.5,0,22.9,0H1.1C0.5,0,0,0.5,0,1.1v21.8C0,23.5,0.5,24,1.1,24h21.8C23.5,24,24,23.5,24,22.9z M2,2h20  v6H2V2z M2,9h20v6H2V9z M2,22v-6h20v6H2z"]}),PivotFieldsColumns:r({prefix:"selfware",iconName:"pivot-fields-columns",icon:[24,24,[],null,"M22.9,0H1.1C0.5,0,0,0.5,0,1.1v21.8C0,23.5,0.5,24,1.1,24h21.8c0.6,0,1.1-0.5,1.1-1.1V1.1C24,0.5,23.5,0,22.9,0z M2,22V2h6  v20H2z M9,22V2h6v20H9z M22,22h-6V2h6V22z"]}),PivotFieldsValue:r({prefix:"selfware",iconName:"pivot-fields-value",icon:[400,500,[],null,"M 6 5 L 6.406531 20.35309 L 194.7323 255.1056 L 4.31761 481.6469 L 3.767654 495.9135 L 373 494 C 376.606 448.306 386.512 401.054 395 356 L 383 353 C 371.817 378.228 363.867 405.207 340 421.958 C 313.834 440.322 279.304 438 249 438 L 79 438 L 252.2885 228.6811 L 96.04328 33.3622 L 187 32.99999 C 245.309 32.99999 328.257 18.91731 351.329 89.00002 C 355.273 100.98 358.007 113.421 359 126 L 372 126 L 362 5 L 6 5 L 6 5 L 6 5 L 6 5 L 6 5 z"]})};t.default=p,t.EmptyIcon=r(!1)},203:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResetUserPasswordQuery=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return{endpoint:"/user/"+e.id+"/updatePassword",method:"POST",body:{id:e.id,password:t,oldPassword:a}}}},211:function(e,t,a){"use strict";function n(e,t){var a=(0,i.find)(d,function(t){return e===t.type});return t(a?a.name:u.unknownName)}function r(e){return e.lastSuccessfulBackup}Object.defineProperty(t,"__esModule",{value:!0}),t.getBackupTypes=function(){return c},t.getBackupTypeOptions=function(e){var t=(0,i.find)(d,function(t){return e===t.type});return t?t.options:[]},t.getBackupTypeName=n,t.getTitleLong=function(e,t){var a=e.info,n=(0,i.find)(d,function(e){return a.type===e.type});return n?t(n.name)+" - "+t(e.enabled?u.enabled:u.disabled):t(u.unknownName)},t.getTitle=function(e,t){var a=e.info;return n(a&&a.type,t)},t.getDescription=function(e,t){var a=e.info;if("LOCAL"===a.type)return t(u.onLocalServerMessage,{appName:window.appName});var n="";return a.address&&(n+=a.address),a.path&&(n&&!a.path.startsWith("/")&&(n+="/"),n+=a.path),n.trim()||"-"},t.getLastSuccessfulBackup=r,t.getLastBackupDescription=function(e,t){if(!e.id)return"-";var a=r(e);return a?t(u.lastBackup)+": "+(0,s.default)(a).fromNow():t(u.noBackup)},t.getBackupNowQuery=function(e){return{endpoint:"/backup/"+e.id+"/backupNow",method:"POST"}};var o,i=a(5),l=a(2),s=(o=l)&&o.__esModule?o:{default:o},u=(0,a(6).defineMessages)({enabled:{id:"Backup.enabled",defaultMessage:"Enabled"},disabled:{id:"Backup.disabled",defaultMessage:"Disabled"},noBackup:{id:"Backup.lastBackup.never",defaultMessage:"No backups"},lastBackup:{id:"Backup.lastBackup.last",defaultMessage:"Last backup"},unknownName:{id:"Backup.unknown.name",defaultMessage:"Unknown type"},localName:{id:"Backup.local.name",defaultMessage:"Local backup"},onLocalServerMessage:{id:"Backup.local.description",defaultMessage:"On {appName}'s server"},smbName:{id:"Backup.smb.name",defaultMessage:"SMB"},smbAddress:{id:"Backup.smb.address",defaultMessage:"Address"},smbUsername:{id:"Backup.smb.username",defaultMessage:"Username"},smbPassword:{id:"Backup.smb.password",defaultMessage:"Password"},smbPath:{id:"Backup.smb.path",defaultMessage:"Path"}}),d=[{type:"LOCAL",name:u.localName,disableTestConnection:!0,options:[]}],c=d.map(function(e){return e.type})},212:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExternalSourceTestConnectionQuery=function(e){return{endpoint:"/external-source/test",method:"POST",body:e}},t.syncExternalSourceQuery=function(e){return{endpoint:"/external-source/"+e.id+"/sync",method:"POST"}},t.ExternalSourceTypes=[{type:"mysql",name:"MySQL"},{type:"postgres",name:"PostgreSQL"},{type:"sqlanywhere",name:"SAP SQL Anywhere"}]},213:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.availableLanguages=["en","it"]},22:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(714);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var r=a(715);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=a(716);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=a(717);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var l=a(718);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})},231:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l,s;Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.getTitleForTab=function(e,t,a){switch(t.type){case"VIEW":case"EDIT_VIEW":var n=t.options.viewId,r=e.views[n];return r?r.name:a.formatMessage(S.newViewTabName);case"EDIT_MODEL":var o=t.options.modelId,i=e.models[o];return i?i.name:a.formatMessage(t.options.virtual?S.newVirtualModelTabName:t.options.externalSource?S.newExternalSourceTabName:S.newModelTabName);case"USERS_AND_ROLES":return a.formatMessage(S.usersAndRoles);case"BACKUP":return a.formatMessage(S.backup)}return"..."};var c=a(0),f=n(c),p=n(a(1)),m=n(a(3)),h=a(6),g=a(8),b=n(a(157)),v=n(a(122)),y=(n(a(215)),n(a(502))),E=n(a(1336)),w=n(a(1437)),C=n(a(1446)),k=n(a(1447)),S=(0,h.defineMessages)({closeConfirmTitle:{id:"Tab.closeTab.confirmDialog.title",defaultMessage:"Confirm close tab"},closeConfirmMessage:{id:"Tab.closeTab.confirmDialog.message",defaultMessage:"Are you sure you want to close this tab and lose any unsaved changes?"},confirmCloseButton:{id:"Tab.closeTab.confirmDialog.closeButton",defaultMessage:"Close tab"},newModelTabName:{id:"Tab.tabTitle.newModel",defaultMessage:"New model"},newViewTabName:{id:"Tab.tabTitle.newView",defaultMessage:"New view"},newVirtualModelTabName:{id:"Tab.tabTitle.newVirtualModel",defaultMessage:"New virtual model"},newExternalSourceTabName:{id:"Tab.tabTitle.newExternalSource",defaultMessage:"New external source"},usersAndRoles:{id:"Tab.tabTitle.usersAndRoles",defaultMessage:"Users and roles"},backup:{id:"Tab.tabTitle.backup",defaultMessage:"Backup settings"}}),_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,c.Component),u(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return f.default.createElement("div",{className:"tab-modal-container",id:this.props.tabModalContainerId})}}]),t}(),x=(s=l=function(t){function a(e){r(this,a);var t=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.elementRef=t.elementRef.bind(t),t.tabModalContainerId="tab-modal-container-"+t.props.tab.id,t.state={hasError:!1,confirmCloseDialog:null},t}return i(a,c.Component),u(a,[{key:"getChildContext",value:function(){return{tabModalContainerId:this.tabModalContainerId}}},{key:"componentDidCatch",value:function(t,a){this.setState({hasError:!0}),console.log(t,a),e.Raven&&Raven.captureException(t,{extra:a})}},{key:"elementRef",value:function(e){this._element=e}},{key:"askCloseTab",value:function(){for(var e=this,t=this._element;t&&!t.tabCanBeClosed&&t.getWrappedInstance;)t=t.getWrappedInstance();if(!t||!t.tabCanBeClosed)return!0;var a=v.default.defer();return t.tabCanBeClosed(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t)a.resolve(!0);else if(n){e.setState({confirmCloseDialog:d({},r,{deferred:a})});var o=e.props,i=o.tab,l=o.selectTab;setTimeout(function(){return l(i.id)},300)}else a.resolve(!1)}),a.promise}},{key:"canBeClosed",value:function(){for(var e=this._element;e&&!e.tabCanBeClosed&&e.getWrappedInstance;)e=e.getWrappedInstance();if(!e||!e.tabCanBeClosed)return!0;var t=!1;return e.tabCanBeClosed(function(e,a){arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=e}),t}},{key:"resolveAskCloseTab",value:function(e){this.state.confirmCloseDialog.deferred.resolve(e),this.setState({confirmCloseDialog:null})}},{key:"render",value:function(){var e=this,t=this.props,a=t.tab,n=t.visible,r=t.onClick,o=t.intl,i=t.className,l=this.state,s=l.hasError,u=l.confirmCloseDialog,c=o.formatMessage;if(s)return f.default.createElement("div",{className:(0,m.default)("tab",!n&&"tab-hidden","tab-has-error"),onClick:r},f.default.createElement("div",{className:"tab-error-container"},f.default.createElement("h2",{className:"tab-error-title"},f.default.createElement(h.FormattedMessage,{id:"Tab.error.title",defaultMessage:"Something went wrong"})," ",f.default.createElement("span",{style:{whiteSpace:"nowrap"}},":(")),f.default.createElement("h5",{className:"tab-error-message"},f.default.createElement(h.FormattedMessage,{id:"Tab.error.message",defaultMessage:"This tab has crashed. Please try again"})),f.default.createElement(g.Button,{outline:!0,onClick:function(){e.setState({hasError:!1})}},f.default.createElement(h.FormattedMessage,{id:"Tab.error.reloadButton",defaultMessage:"Reload"}))));var p="",v="",x="";return u&&(p=u.title||c(S.closeConfirmTitle),v=u.message||c(S.closeConfirmMessage),x=u.confirmButton||c(S.confirmCloseButton)),f.default.createElement("div",{className:(0,m.default)("tab",!n&&"tab-hidden",i),onClick:r},f.default.createElement(_,{tabModalContainerId:this.tabModalContainerId}),function(e,t){var a=d({},e.options,{tabId:e.id,ref:t});switch(e.type){case"VIEW":return f.default.createElement(y.default,a);case"EDIT_VIEW":return f.default.createElement(E.default,a);case"EDIT_MODEL":return f.default.createElement(w.default,a);case"USERS_AND_ROLES":return f.default.createElement(C.default,a);case"BACKUP":return f.default.createElement(k.default,a)}return f.default.createElement("div",null,"Error: no component found for type ",e.type)}(a,this.elementRef),f.default.createElement(b.default,{open:!!u,dialogType:"confirm",title:p,message:v,successButton:x,successColor:"danger",onSuccess:function(){return e.resolveAskCloseTab(!0)},onCancel:function(){return e.resolveAskCloseTab(!1)}}))}}]),a}(),l.propTypes={tab:p.default.object.isRequired,visible:p.default.bool.isRequired,selectTab:p.default.func.isRequired,intl:p.default.object.isRequired},l.childContextTypes={tabModalContainerId:p.default.string.isRequired},s);t.default=x}).call(t,a(9))},232:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=n(a(1)),f=a(18),p=a(91),m=a(6),h=n(a(3)),g=a(501),b=n(g),v=a(5),y=a(145),E=a(8),w=n(a(256)),C=n(a(257)),k=n(a(43)),S=a(22),_=a(1080),x=n(_),T=a(546),M=n(T),R=(a(172),a(116)),I=a(1127),O=(n(a(121)),n(a(586))),F=n(a(1277)),N=n(a(49)),A=n(a(215)),P=n(a(19)),V=a(120),L=a(171),D=(0,m.defineMessages)({copyRowSuccessMessage:{id:"TableView.copyRow.success",defaultMessage:"Copied {numberOfRows, plural, one {one row} other {# rows}} to clipboard"},copyValueSuccessMessage:{id:"TableView.copyValue.success",defaultMessage:"Copied value to clipboard"},exportSuccessMessage_excel:{id:"TableView.export.success.excel",defaultMessage:"Excel file exported"},exportSuccessMessage_csv:{id:"TableView.export.success.csv",defaultMessage:"CSV file exported"},exportSuccessMessage_pdf:{id:"TableView.export.success.pdf",defaultMessage:"PDF file exported"},aggregationCount:{id:"TableView.footer.aggregations.COUNT",defaultMessage:"Count"},aggregationSum:{id:"TableView.footer.aggregations.SUM",defaultMessage:"Sum"},aggregationAvg:{id:"TableView.footer.aggregations.AVG",defaultMessage:"Average"},aggregationMin:{id:"TableView.footer.aggregations.MIN",defaultMessage:"Min"},aggregationMax:{id:"TableView.footer.aggregations.MAX",defaultMessage:"Max"}}),B=(0,w.default)(x.default),U=42,j="asc",q="desc",G=((0,y.sortableElement)(function(e){return e.children}),(0,y.sortableContainer)(function(e){return e.children})),z=function(e){var t=e.id,a=e.trigger,n=e.columns,r=e.blockColumn,o=e.copyData,i=e.filterColumn,l=a||{},s=l.columnKey,u=l.rowIndex,c=l.isHeader,f=[];if(s&&c&&r&&f.push(d.default.createElement(R.MenuItem,{key:"blockColumn",onClick:function(){return r(s)}},d.default.createElement(m.FormattedMessage,{id:"TableView.contextMenu.blockColumn",defaultMessage:"Block column"})),d.default.createElement(R.MenuItem,{key:"unblockColumns",onClick:function(){return r(null)}},d.default.createElement(m.FormattedMessage,{id:"TableView.contextMenu.unblockColumns",defaultMessage:"Unblock columns"}))),s&&"number"==typeof u){f.push(d.default.createElement(R.MenuItem,{key:"copyValue",onClick:function(){return o(u,s)}},d.default.createElement(m.FormattedMessage,{id:"TableView.contextMenu.copyValue",defaultMessage:"Copy value"})),d.default.createElement(R.MenuItem,{key:"copyRow",onClick:function(){return o(u)}},d.default.createElement(m.FormattedMessage,{id:"TableView.contextMenu.copyRow",defaultMessage:"Copy row"})));var p=(0,v.find)(n,function(e){return e.key===s});p&&p.field&&i&&f.push(d.default.createElement(R.MenuItem,{key:"divider1",divider:!0}),d.default.createElement(R.MenuItem,{key:"filterColumn",onClick:function(){return i(s,u)}},d.default.createElement(m.FormattedMessage,{id:"TableView.contextMenu.filterColumn",defaultMessage:"Filter column with this value"})))}return d.default.createElement(R.ContextMenu,{id:t},f)};z.propTypes={id:c.default.string.isRequired,blockColumn:c.default.func,copyData:c.default.func.isRequired,filterColumn:c.default.func,columns:c.default.array.isRequired};var H=1,W=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.cellRenderer=a.cellRenderer.bind(a),a.emptyTableRenderer=a.emptyTableRenderer.bind(a),a.footerCellRenderer=a.footerCellRenderer.bind(a),a.onColumnSortEnd=a.onColumnSortEnd.bind(a),a.onCellSelection=a.onCellSelection.bind(a),a.onClickOutsideTable=a.onClickOutsideTable.bind(a),a.copyData=a.copyData.bind(a),a.filterColumn=a.filterColumn.bind(a),a.inlineEditingSave=a.inlineEditingSave.bind(a),a.inlineEditingCancel=a.inlineEditingCancel.bind(a),a.inlineEditingStart=a.inlineEditingStart.bind(a),a._cache=new p.CellMeasurerCache({fixedWidth:!0,minHeight:U}),a.uniqueIdPrefix="TableView-unique-id-"+H++,a.contextMenuId=a.uniqueIdPrefix+"-context-menu",a.ContextMenu=(0,R.connectMenu)(a.contextMenuId)(z),e.textFilter&&a.createFilterOptions(e),a.state={headerHeight:U,fixedColumnCount:0,filterOpen:null,filters:null,rows:null,inlineEditingRowId:null,inlineEditingColumnKey:null,lastSelectedRowIndex:-1,lastSelectedColumnIndex:-1},a.state=l({},a.state,a.createRows(e)),a.state.stats=a.computeStats(e),a.state.filteredStats=a.computeFilteredStats({rows:a.state.rows,columns:a.props.columns}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"createFilterOptions",value:function(e){var t=e.rows;t&&e.textFilter?this._filterOptions=(0,L.createFilterOptionsForTableViewColumns)(e.columns,t):this._filterOptions=function(e,t){return e}}},{key:"createRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,a=e.rows;if(!a)return{rows:[],textFilteredRows:[]};e.textFilter&&(a=this._filterOptions(a,e.textFilter));var n=a;return{rows:this.createRowsFromTextFilteredRows(e,t,n),textFilteredRows:n}}},{key:"createRowsFromTextFilteredRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.textFilteredRows,n=e.order||[],r=t.filters,o=a;r&&(o=o.filter(function(e){return(0,v.every)(r,function(t,a){return(0,T.applyFilter)(e,a,t)})}));var i=n.map(function(e){return function(t){return null===(a=t[e.columnKey])||void 0===a?null:"string"==typeof a?a?a.toLowerCase():null:a;var a}}),l=n.map(function(e){return e.order});return(0,v.orderBy)(o,i,l)}},{key:"computeStats",value:function(e){for(var t=e.rows,a=e.columns,n=t?t.length:0,r={},o=0;o<a.length;o++){var i=a[o],l={count:0};if("INTEGER"===i.type||"DECIMAL"===i.type||"DOUBLE"===i.type){l.sum=0,l.min=1/0,l.max=-1/0;for(var s=0;s<n;s++){var u=t[s][i.key];"DECIMAL"===i.type&&"string"==typeof u&&(u=parseFloat(u)),"number"==typeof u&&(l.count++,l.sum+=u,l.min>u&&(l.min=u),l.max<u&&(l.max=u))}l.avg=l.count>0?l.sum/l.count:0}else if("BOOLEAN"!==i.type){var d="DATE"===i.type||"DATETIME"===i.type||"TIME"===i.type;for(s=0;s<n;s++)void 0!==(u=t[s][i.key])&&u&&(l.count++,d&&"string"==typeof u&&(l.min=l.min<u?l.min:u,l.max=l.max>u?l.max:u))}r[i.key]=l}return r}},{key:"computeFilteredStats",value:function(e){var t=e.rows,a=e.columns;return this.computeStats({rows:t,columns:a})}},{key:"getRowsForFilter",value:function(e){var t=this.state.textFilteredRows;if(!t)return[];var a=this.state.filters;return a&&(t=t.filter(function(t){return(0,v.every)(a,function(a,n){return n===e||(0,T.applyFilter)(t,n,a)})})),t}},{key:"componentWillReceiveProps",value:function(e){var t={};(e.textFilter||this._filterOptions)&&(this.props.rows!==e.rows||this.props.columns!==e.columns||e.textFilter&&!this._filterOptions)&&this.createFilterOptions(e),this.props.rows===e.rows&&this.props.order===e.order&&this.props.textFilter===e.textFilter||((t=l({},t,this.createRows(e))).lastSelectedRowIndex=-1,t.lastSelectedColumnIndex=-1),this.props.rows!==e.rows&&(t.stats=this.computeStats(e)),(t.rows||e.columns!==this.props.columns)&&(t.filteredStats=this.computeFilteredStats({rows:t.rows||this.state.rows,columns:e.columns})),(0,v.size)(t)>0&&this.setState(t),this.props.zoom!==e.zoom&&(this._cache.clearAll(),this.Grid&&this.Grid.recomputeGridSize())}},{key:"recomputeGridSize",value:function(){this._cache.clearAll(),this.Grid&&this.Grid.recomputeGridSize()}},{key:"getNumberOfRows",value:function(){var e=this.state.rows;return e?e.length:0}},{key:"getRow",value:function(e){var t=this.state.rows;return t&&t[e]}},{key:"resizeColumn",value:function(e,t,a,n){if(this.props.onColumnsSizeChange){var r=l({},this.props.columnWidths);r[t]=a,this.props.onColumnsSizeChange(r,n),this._cache.clearAll(),this.Grid&&this.Grid.recomputeGridSize({columnIndex:e})}}},{key:"onColumnSortEnd",value:function(e){var t=e.oldIndex,a=e.newIndex;this.props.onColumnSortEnd(t,a)}},{key:"_getNewSelectedRowsOrColumns",value:function(e,t,a,n,o){var i=(e?this.props.selectedRows:this.props.selectedColumns)||{},l=e?"single"===this.props.canSelectRow:"single"===this.props.canSelectColumn,s=e?this.state.lastSelectedRowIndex:this.state.lastSelectedColumnIndex;if(-1===s&&(o=!1),l)return i[a]?{}:r({},a,!0);if(n)return(c=Object.assign({},i))[a]?delete c[a]:c[a]=!0,c;if(o){var u=void 0,d=void 0;t<s?(u=t,d=s):(u=s,d=t);for(var c=Object.assign({},i),f=u;f<=d;f++){var p=void 0;if(e){var m=-1!==f&&this.getRow(f),h=m&&m.id;if(!h)continue;p=h}else p=f;c[p]=!0}return c}return r({},a,!0)}},{key:"setSelection",value:function(e,t,a,n){var r={},o=-1!==e&&this.getRow(e),i=o&&o.id;this.props.canSelectRow&&i&&(r.selectedRows=this._getNewSelectedRowsOrColumns(!0,e,i,a,n),r.lastSelectedRowIndex=e),this.props.canSelectColumn&&(r.selectedColumns=this._getNewSelectedRowsOrColumns(!1,t,t,a,n),r.lastSelectedColumnIndex=t),(r.selectedRows||r.selectedColumns)&&this._setSelectionAndNotify(r)}},{key:"resetSelection",value:function(){this._setSelectionAndNotify({selectedRows:{},selectedColumns:{},lastSelectedRowIndex:-1,lastSelectedColumnIndex:-1})}},{key:"_setSelectionAndNotify",value:function(e){var t={selectedRows:e.selectedRows||this.props.selectedRows||{},selectedColumns:e.selectedColumns||this.props.selectedColumns||{}};this.props.onSelectionChange&&this.props.onSelectionChange(t),this.setState({lastSelectedRowIndex:e.lastSelectedRowIndex,lastSelectedColumnIndex:e.lastSelectedColumnIndex})}},{key:"isSelectedRowIndex",value:function(e){var t=this.getRow(e);return t&&this.props.selectedRows&&this.props.selectedRows[t.id]}},{key:"isSelectedColumn",value:function(e){return this.props.selectedColumns&&this.props.selectedColumns[e]}},{key:"onCellSelection",value:function(e){var t=e.event,a=e.rowIndex,n=e.columnIndex,r=t.ctrlKey||t.metaKey,o=t.shiftKey;this.setSelection(a,n,r,o)}},{key:"onClickOutsideTable",value:function(e){this.props.notCancelSelectionOnClickOutside||this.resetSelection()}},{key:"openView",value:function(e,t,a,n,o){var i;i=-1===a?{id:o.id}:r({},(n?"obj_":"obj_back_")+a+".id",o.id);var l={ctrlKey:e.ctrlKey,metaKey:e.metaKey,sameGroup:!0};this.props.openView(t,l,{filter:i})}},{key:"onHeaderCellClick",value:function(e){var t=this.props,a=t.onRowSortingChanged,n=t.columns,r=t.order;if(a){var o=n[e],i=r&&r.length&&r[0].columnKey,l=r&&r.length&&r[0].order,s=i===o.key&&l===j?q:j,u={columnKey:o.key,order:s},d=(r||[]).filter(function(e){return e.columnKey!==o.key});a(d=[u].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(d)))}}},{key:"toggleFilter",value:function(e){e===this.state.filterOpen&&(e=null),this.setState({filterOpen:e||null})}},{key:"setFilterOptions",value:function(e,t){var a=l({},this.state,{filters:l({},this.state.filters,r({},e,t||null))});a.rows=this.createRowsFromTextFilteredRows(this.props,a),a.lastSelectedRowIndex=-1,a.lastSelectedColumnIndex=-1,a.filteredStats=this.computeFilteredStats({rows:a.rows,columns:this.props.columns}),this.setState(a)}},{key:"copyData",value:function(e,t){var a=this.props.intl.formatMessage,n=void 0,r=this.props.columns;t?(r=r.filter(function(e){return e.key===t}),n=a(D.copyValueSuccessMessage)):n=a(D.copyRowSuccessMessage,{numberOfRows:1});var o=this.getRow(e);(0,I.exportValues)(o,r,{header:!1,footer:!1,message:n})}},{key:"filterColumn",value:function(e,t){var a=this.props.columns,n=this.getRow(t),r=n&&n[e],o=(0,v.find)(a,function(t){return t.key===e});if(o.field){var i=(0,T.filterOptionsForValue)(o.field,r);this.setFilterOptions(e,i)}}},{key:"exportData",value:function(e,t){var a=this.state.rows,n=this.props,r=n.columns,o=n.numberOfHeaderRows,i=this.props.intl.formatMessage,l={};if("copy"===e){var s=i(D.copyRowSuccessMessage,{numberOfRows:a?a.length:0});l.message=s,l.numberOfHeaderRows=o}if("excel"===e||"csv"===e||"pdf"===e){l.filename=t;var u=i(D["exportSuccessMessage_"+e]);l.message=u,l.numberOfHeaderRows=o}if("excel"===e){var d=this.props.columnWidths;l.columnWidths=r.map(function(e){return d&&d[e.key]||100})}(0,I.exportValues)(a,r,l,e)}},{key:"inlineEditingStart",value:function(e,t){this.setState({inlineEditingRowId:e,inlineEditingColumnKey:t})}},{key:"inlineEditingSave",value:function(e){var t=this,a=this.props.onSave,n=this.state,r=n.inlineEditingRowId,o=n.inlineEditingColumnKey;if(a&&e.id===r)return a(e).then(function(e){return e&&e.success&&t.state.inlineEditingRowId===r&&t.state.inlineEditingColumnKey===o&&t.setState({inlineEditingRowId:null,inlineEditingColumnKey:null}),e&&e.success||!1});this.setState({inlineEditingRowId:null,inlineEditingColumnKey:null})}},{key:"inlineEditingCancel",value:function(){this.setState({inlineEditingRowId:null,inlineEditingColumnKey:null})}},{key:"updateHeaderHeight",value:function(){var e=this._cache.rowHeight({index:0});this.setState({headerHeight:e})}},{key:"tableStyle",value:function(){var e=this.props.zoom||0,t=14*Math.pow(1.05,e),a=6*Math.pow(1.05,e),n=1.42857143*t,r=1.1*n,o=1.1*n;return{fontSize:t,padding:a,lineHeight:n,rowHeight:n+2*a,headerFontSize:1.05*t,headerPadding:a,headerLineHeight:r,headerRowHeight:r+2*a,footerFontSize:1.05*t,footerPadding:a,footerLineHeight:o,footerRowHeight:o+2*a}}},{key:"renderStyleTag",value:function(e,t){var a=e.fontSize,n=e.padding,r=e.lineHeight,o=e.rowHeight,i=e.headerFontSize,l=e.headerPadding,s=e.headerLineHeight,u=(e.headerRowHeight,e.footerFontSize),c=e.footerPadding,f=e.footerLineHeight,p=e.footerRowHeight,m="."+this.uniqueIdPrefix+"-table-container";return d.default.createElement("style",{dangerouslySetInnerHTML:{__html:"\n      "+m+" .table-view .table-view-cell {\n        font-size: "+a+"px;\n        height: "+o+"px;\n        line-height: "+r+"px;\n        padding: "+n+"px;\n      }\n      "+m+" .table-view .table-view-cell.table-view-header-cell {\n        font-size: "+i+"px;\n        line-height: "+s+"px;\n        padding: "+l+"px;        \n      }\n      "+m+" .table-view .table-view-cell.table-view-footer-cell {\n        font-size: "+u+"px;\n        height: "+p+"px;\n        line-height: "+f+"px;\n        padding: "+c+"px;        \n      }\n      "+m+" .table-view .table-view-cell.table-view-no-rows, \n      "+m+" .table-view .table-view-cell.table-view-loading,\n      "+m+" .table-view .table-view-cell.table-view-loading-error {\n        max-width: "+Math.max(t+1,150)+"px;        \n      }\n    "}})}},{key:"emptyTableRenderer",value:function(){var e=this.props,t=e.loading,a=e.loadingError;return t?d.default.createElement("div",{className:"table-view-cell table-view-loading"},d.default.createElement(m.FormattedMessage,{id:"TableView.empty.loading",defaultMessage:"Loading..."})):a?d.default.createElement("div",{className:"table-view-cell table-view-loading-error"},a):d.default.createElement("div",{className:"table-view-cell table-view-no-rows"},d.default.createElement(m.FormattedMessage,{id:"TableView.empty.noRows",defaultMessage:"No rows"}))}},{key:"renderHeaderCell",value:function(e){var t=this,a=e.columnIndex,n=e.rowIndex,r=(e.isScrolling,e.isVisible,e.key),o=(e.parent,e.style),i=this.props,s=i.columns,u=i.canSelectColumn,c=i.onRowSortingChanged,f=i.order,m=i.sortColumns,v=i.numberOfHeaderRows,y=s[a],w=Array.isArray(y.name)?y.name[n]:y.name,C=y.field,S=void 0,_=void 0;f&&f.length>0&&(S=f[0].columnKey,_=f[0].order);var x=this.uniqueIdPrefix+"-filter-target-"+a,T=C&&!u&&0===n,I=this.state.filterOpen===y.key,O=this.state.filters&&this.state.filters[y.key],F=!!O;r="header-column-"+n+"-"+y.key;var N=o;this.state.columnSorting&&(o=l({},o,{width:o.width+1}),this.state.columnSorting===y.key&&(o.left+=this.state.columnSortingDeltaX));var A=d.default.createElement("div",{className:(0,h.default)("table-view-header-cell","table-view-cell",this.state.columnSorting===y.key&&"table-view-column-sort-dragging",this.isSelectedColumn(a)&&"table-view-column-selected",n===v-1&&"table-view-header-cell-last-row"),onClick:function(e){t._isDraggingResizer||(u?t.onCellSelection({columnIndex:a,rowIndex:-1,event:e}):t.onHeaderCellClick(a))},style:o},w,c&&d.default.createElement("div",{className:(0,h.default)("sort-indicator",S===y.key&&_===j&&"sort-indicator-asc",S===y.key&&_===q&&"sort-indicator-desc")},S!==y.key&&d.default.createElement(P.default.Sort,{fixedWidth:!0,size:"sm"}),S===y.key&&_===j&&d.default.createElement(P.default.SortAsc,{fixedWidth:!0,size:"sm"}),S===y.key&&_===q&&d.default.createElement(P.default.SortDesc,{fixedWidth:!0,size:"sm"})),T&&d.default.createElement("div",{className:(0,h.default)("filter-indicator",F&&"filter-enabled")},d.default.createElement(k.default,{onClick:function(e){e.stopPropagation(),t.toggleFilter(y.key)}},d.default.createElement(P.default.Filter,{fixedWidth:!0,size:"sm"}))),T&&d.default.createElement("div",{className:"filter-dropdown-container",id:x},I&&d.default.createElement(E.Popover,{className:(0,h.default)("table-filter-dropdown","table-filter-dropdown-"+C.type1),placement:"bottom",isOpen:I,target:function(){var e=document.querySelector("#"+x);return e||t.state.filterOpen!==y.key?e:(setTimeout(function(){t.toggleFilter(y.key)},0),document.body)},toggle:function(){return t.toggleFilter(y.key)},modifiers:{hide:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:document.body,padding:10}}},d.default.createElement(E.PopoverBody,null,I&&d.default.createElement(M.default,{dataKey:y.key,field:C,options:y.options,rows:this.getRowsForFilter(y.key),filterOptions:O,setFilter:function(e){return t.setFilterOptions(y.key,e)},close:function(){return t.toggleFilter(y.key)}})))),this.props.onColumnsSizeChange&&d.default.createElement(b.default,{axis:"x",defaultClassName:"table-view-column-resize",defaultClassNameDragging:"table-view-column-resize-dragging",onStart:function(e,a){var n=t.props.columnWidths,r=n&&n[y.key]||100;t._initialColumnWidth=r,t._isDraggingResizer=!0},onStop:function(e,n){e.stopPropagation();var r=t._initialColumnWidth;t.resizeColumn(a,y.key,Math.max(r+n.x,30)),setTimeout(function(){return t._isDraggingResizer=!1},0)},onDrag:function(e,n){var r=t._initialColumnWidth;t.resizeColumn(a,y.key,Math.max(r+n.x,30),!0)},position:{x:0,y:0}},d.default.createElement("div",null)));return m&&(A=d.default.createElement(g.DraggableCore,{key:r,onStart:function(e,a){t.setState({columnSorting:y.key,columnSortingInitialX:a.x,columnSortingDeltaX:0})},onStop:function(e,a){t.setState({columnSorting:null,columnSortingInitialX:0,columnSortingDeltaX:0})},onDrag:function(e,n){var r=t.props.columnWidths,o=r&&r[y.key]||100,i=n.x-t.state.columnSortingInitialX,l={columnSortingDeltaX:i};i>o/2&&a<s.length-1?(l.columnSortingInitialX=t.state.columnSortingInitialX+o,l.columnSortingDeltaX=n.x-l.columnSortingInitialX,t.onColumnSortEnd({oldIndex:a,newIndex:a+1})):i<-o/2&&a>0&&(l.columnSortingInitialX=t.state.columnSortingInitialX-o,l.columnSortingDeltaX=n.x-l.columnSortingInitialX,t.onColumnSortEnd({oldIndex:a,newIndex:a-1}));var u=n.node.parentNode,d=-N.left,c=u.clientWidth-n.node.clientWidth-N.left-1;l.columnSortingDeltaX=Math.max(d,Math.min(c,l.columnSortingDeltaX)),t.setState(l)}},A)),A=d.default.createElement(p.CellMeasurer,{key:r,cache:this._cache,rowIndex:0,columnIndex:a,parent:{invalidateCellSizeAfterRender:function(e){t.updateHeaderHeight()},recomputeGridSize:function(e){t.updateHeaderHeight()}}},A),m||(A=d.default.createElement(R.ContextMenuTrigger,{key:r,id:this.contextMenuId,isHeader:!0,columnKey:y.key,collect:function(e){return e},style:o,holdToDisplay:(0,V.getDefaultHoldToDisplayValue)()},A)),A}},{key:"getCellId",value:function(e,t){return this.uniqueIdPrefix+"-row-"+e+"-col-"+t}},{key:"renderCell",value:function(e){var t=this,a=e.rowIndex,n=e.columnIndex,r=(e.isScrolling,e.isVisible,e.key),o=(e.parent,e.style),i=this.props.columns[n],s=this.getRow(a),u=s[i.key];return this.state.columnSorting&&(o=l({},o,{width:o.width+1}),this.state.columnSorting===i.key&&(o.left+=this.state.columnSortingDeltaX)),r="row-"+s.id+"-column-"+i.key,d.default.createElement(this.props.CellComponent,l({key:r},this.props.cellComponentProps,{cellData:u,rowData:s,rowIndex:a,column:i,columnSorting:this.state.columnSorting,style:o,onLinkClick:function(e){var a=i.link,n=a.relationId,r=a.relationIsBack,o=a.viewId;"function"==typeof o&&(o=o(s,n,r)),t.openView(e,o,n,r,s)},inlineEditing:this.props.inlineEditing,startInlineEditing:function(){return t.inlineEditingStart(s.id,i.key)},onCellSelection:function(e){return t.onCellSelection({columnIndex:n,rowIndex:a,event:e})},columnStats:this.state.stats&&this.state.stats[i.key],contextMenuId:this.contextMenuId,cellId:this.getCellId(s.id,i.key),isSelected:this.isSelectedRowIndex(a)}))}},{key:"footerCellRenderer",value:function(e){var t=this,a=(e.rowIndex,e.columnIndex),n=e.key,r=e.style,o=this.props.columns[a],i=o.key,l=o.field,s=void 0,u=null;if(l){var c=this.props.footerData,f=this.state.filteredStats;if(u=c&&c.columns&&c.columns[i]){var p=u.toLowerCase(),m=f&&f[i],g=m&&m[p];void 0!==g&&(s="count"===p?(0,N.default)(g).format():d.default.createElement(C.default,{field:l,value:g}))}}var b=l&&l.type1,v=b&&"BOOLEAN"!==b,y=v&&("INTEGER"===b||"DECIMAL"===b||"DOUBLE"===b),E=v&&(y||"DATE"===b||"DATETIME"===b||"TIME"===b),w=void 0;if(v){var k=this.props.intl.formatMessage;(w=[]).push({value:"COUNT",label:k(D.aggregationCount)}),y&&(w.push({value:"SUM",label:k(D.aggregationSum)}),w.push({value:"AVG",label:k(D.aggregationAvg)})),E&&(w.push({value:"MIN",label:k(D.aggregationMin)}),w.push({value:"MAX",label:k(D.aggregationMax)}))}return d.default.createElement("div",{className:(0,h.default)("table-view-cell","table-view-footer-cell"),key:n,style:r},w&&d.default.createElement("div",{className:"select-outer-container"},d.default.createElement("div",{className:"select-inner-container"},d.default.createElement("select",{value:u||"",onChange:function(e){var a=e.currentTarget.value;t.props.setFooterType(i,a||null)}},d.default.createElement("option",{key:"empty",value:""}),w.map(function(e){var t=e.value,a=e.label;return d.default.createElement("option",{key:t,value:t},a)})))),d.default.createElement("span",{className:"value"},s||""))}},{key:"cellRenderer",value:function(e){var t=e.columnIndex,a=e.isScrolling,n=e.isVisible,r=e.key,o=e.parent,i=e.rowIndex,l=e.style,s=this.props.numberOfHeaderRows;return i<s?this.renderHeaderCell({columnIndex:t,rowIndex:i,isScrolling:a,isVisible:n,key:r,parent:o,style:l}):(i-=s,this.renderCell({rowIndex:i,columnIndex:t,isScrolling:a,isVisible:n,key:r,parent:o,style:l}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.columns,n=t.sortColumns,r=t.canSelectColumn,o=t.className,i=t.columnWidths,l=t.footerData,s=t.scrollToColumn,u=t.numberOfHeaderRows,c=this.state,f=c.headerHeight,m=c.inlineEditingRowId,g=c.inlineEditingColumnKey,b=c.columnSorting,y=this.tableStyle(),w=Math.ceil(y.rowHeight),C=l&&l.enabled?1:0,k=Math.ceil(y.footerRowHeight),S=this.getNumberOfRows(),x=0;a.forEach(function(e){var t=i&&i[e.key]||100;x+=t}),Math.max(S,1);var T="table-view table-view-striped table-view-bordered table-view-grid",M=void 0,R=void 0;m&&g&&(R=(0,v.find)(this.state.rows,function(e){return e.id===m}))&&(M=this.getCellId(m,g));var I=d.default.createElement(p.AutoSizer,null,function(t){var r=t.height,o=t.width;return d.default.createElement(B,{wrappedRef:function(t){return e.Grid=t},classNameTopLeftGrid:(0,h.default)(T,"table-view-grid-top-left"),classNameTopRightGrid:(0,h.default)(T,"table-view-grid-top-right"),classNameBottomLeftGrid:(0,h.default)(T,"table-view-grid-bottom-left"),classNameBottomRightGrid:(0,h.default)(T,"table-view-grid-bottom-right"),classNameFooterLeftGrid:(0,h.default)(T,"table-view-grid-footer-left"),classNameFooterRightGrid:(0,h.default)(T,"table-view-grid-footer-right"),cellRenderer:e.cellRenderer,noContentRenderer:e.emptyTableRenderer,width:o,height:r,columnCount:a.length,columnWidth:function(e){var t=e.index,n=a[t];return i&&i[n.key]||100},rowCount:S+u,rowHeight:w,headerRowHeight:f,onClickOutside:e.onClickOutsideTable,enableFixedColumnScroll:!0,enableFixedRowScroll:!0,fixedColumnCount:e.state.fixedColumnCount,fixedRowCount:u,footerRowCount:C,footerRowHeight:k,footerCellRenderer:e.footerCellRenderer,overscanRowCount:0,overscanColumnCount:n?Number.POSITIVE_INFINITY:0,overscanIndicesGetter:_.overscanIndicesGetter,scrollToColumn:s})});return n&&(I=d.default.createElement(G,null,I)),d.default.createElement("div",{className:(0,h.default)("table-view-grid-container",C>0&&"table-view-grid-container-with-footer",b&&"table-view-column-sorting",this.uniqueIdPrefix+"-table-container",this.props.privacy&&"table-view-grid-container-privacy",o)},this.renderStyleTag(y,x),I,d.default.createElement(this.ContextMenu,{blockColumn:r?null:function(t){var n=t?(0,v.findIndex)(a,function(e){return e.key===t})+1:0;n===a.length&&(n=0),e.setState({fixedColumnCount:n})},copyData:this.copyData,filterColumn:r?null:this.filterColumn,columns:a}),M&&d.default.createElement(E.Popover,{className:"table-inline-editing-popover",placement:"auto",isOpen:!0,target:function(){var t=document.querySelector("#"+M);return t||e.state.inlineEditingRowId!==m||e.state.inlineEditingColumnKey!==g?t:(setTimeout(function(){e.inlineEditingCancel()},0),document.body)},toggle:this.inlineEditingCancel,modifiers:{hide:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:document.body,padding:10}}},d.default.createElement(E.PopoverBody,null,d.default.createElement(F.default,{context:this.props.context,view:this.props.view,columns:a,rowId:m,columnKey:g,rowData:R,save:this.inlineEditingSave,cancel:this.inlineEditingCancel}))))}}]),t}(),o.propTypes={loading:c.default.bool,loadingError:c.default.string,columns:c.default.arrayOf(c.default.shape({key:c.default.string.isRequired,viewColumnId:c.default.number,name:c.default.any,type:c.default.string,canEdit:c.default.oneOfType([c.default.bool,c.default.func]),defaultText:c.default.string,link:c.default.shape({relationId:c.default.number,relationIsBack:c.default.bool,viewId:c.default.oneOfType([c.default.number,c.default.func])}),conditionalFormatting:c.default.array})).isRequired,rows:c.default.array,numberOfHeaderRows:c.default.number.isRequired,columnWidths:c.default.objectOf(c.default.number),footerData:c.default.object,setFooterType:c.default.func,sortColumns:c.default.bool,onColumnSortEnd:c.default.func,onColumnsSizeChange:c.default.func,canSelectRow:c.default.oneOf([!0,!1,"single","multiple"]),canSelectColumn:c.default.oneOf([!0,!1,"single","multiple"]),selectedRows:c.default.objectOf(c.default.bool),selectedColumns:c.default.objectOf(c.default.bool),notCancelSelectionOnClickOutside:c.default.bool,onSelectionChange:c.default.func,onRowSortingChanged:c.default.func,order:c.default.arrayOf(c.default.shape({columnKey:c.default.string,order:c.default.oneOf(["asc","desc"])})),textFilter:c.default.string,inlineEditing:c.default.bool,onSave:c.default.func,CellComponent:c.default.any.isRequired,cellComponentProps:c.default.any},o.defaultProps={numberOfHeaderRows:1,CellComponent:O.default},i),$={openView:S.openView},K=(0,f.connect)(function(e,t){return{}},$,null,{withRef:!0})((0,m.injectIntl)(W,{withRef:!0}));t.default=(0,A.default)(K,W,{delegateTo:function(e){return e.getWrappedInstance().getWrappedInstance()}}),e.exports=t.default},256:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.default=function(e){var t=e.displayName||e.name,a=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleClickOutside=t.handleClickOutside.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),r(a,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"handleClickOutside",value:function(e){var t=this.__domNode;t&&t.contains(e.target)||"function"!=typeof this.props.onClickOutside||this.props.onClickOutside(e)}},{key:"render",value:function(){var t=this,a=this.props,r=a.wrappedRef,o=(a.onClickOutside,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(a,["wrappedRef","onClickOutside"]));return i.createElement(e,n({},o,{ref:function(e){t.__domNode=l.findDOMNode(e),r&&r(e)}}))}}]),a}(i.Component);return a.displayName="clickOutside("+t+")",o(a,e),function(e){return i.createElement(a,e)}};var o=a(78),i=a(0),l=a(14);e.exports=t.default},257:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("string"==typeof e)try{e=e?parseFloat(e):null}catch(t){e=null}if("number"!=typeof e)return"";var a=(0,m.numberFormat)(t);return(0,g.default)(e).format(a)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.numberValue=r;var u=a(0),d=n(u),c=n(a(1)),f=n(a(3)),p=a(6),m=a(98),h=a(99),g=n(a(49)),b=n(a(2)),v=n(a(19)),y=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={textValue:a.createCacheValue(e)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"componentWillReceiveProps",value:function(e){return this.props.field===e.field&&this.props.value===e.value&&this.props.options===e.options||this.setState({textValue:this.createCacheValue(e)}),!1}},{key:"createCacheValue",value:function(e){var t=e.field,a=e.options,n=e.value;if(!t)return null;var o=t.type1,i=void 0;switch(o){case"TEXT":case"ENUM":i=n||"";break;case"INTEGER":case"DOUBLE":case"DECIMAL":var l=void 0;"INTEGER"===o?l=0:"DECIMAL"===o&&(l=t.decimalDigits||0),i=r(n,l);break;case"BOOLEAN":if(a&&a.boolean){if(n&&a.boolean.true){i=a.boolean.true;break}if(!n&&a.boolean.false){i=a.boolean.false;break}}i=n?d.default.createElement(v.default.Check,{fixedWidth:!0}):d.default.createElement(v.default.Uncheck,{fixedWidth:!0});break;case"DATE":case"TIME":case"DATETIME":i=function(e,t){var a=(0,h.datetimeParse)(e,t);if(!a)return"";var n="DATE"===t?"L":"TIME"===t?"LTS":"L LTS";return(0,b.default)(a).format(n)}(n,o);break;case"TEXT_ARRAY":i=Array.isArray(n)?n.join(", "):"";break;default:i=null}return i}},{key:"render",value:function(){var e=this.props,t=e.field,a=(e.options,e.value,e.className),n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["field","options","value","className"]);if(!t)return d.default.createElement(p.FormattedMessage,{id:"DataTypeOutput.fieldNotGiven",defaultMessage:"Error generating attribute's text"});var r=t.type1,o=void 0;switch(r){case"TEXT":case"ENUM":case"INTEGER":case"DOUBLE":case"DECIMAL":case"BOOLEAN":case"DATE":case"TIME":case"DATETIME":case"TEXT_ARRAY":o=this.state.textValue;break;default:o=d.default.createElement(p.FormattedMessage,{id:"DataTypeOutput.unknownFieldType",defaultMessage:"Error generating attribute's output text: unknown field type: {fieldType}",values:{fieldType:r}})}return d.default.createElement("span",l({className:(0,f.default)("data-type-span",a),title:o},n),o)}}]),t}(),o.propTypes={field:c.default.object.isRequired,options:c.default.object,value:c.default.any},i);t.default=y},258:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return e?(0,h.default)(e).format(t):null}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=n(a(3)),f=a(8),p=n(a(1040)),m=n(a(1048)),h=n(a(2)),g=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.hideAfterDayClick=a.hideAfterDayClick.bind(a),a.handleContainerMouseDown=a.handleContainerMouseDown.bind(a),a.handleInputClick=a.handleInputClick.bind(a),a.handleInputFocus=a.handleInputFocus.bind(a),a.handleInputBlur=a.handleInputBlur.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.handleInputKeyDown=a.handleInputKeyDown.bind(a),a.handleInputKeyUp=a.handleInputKeyUp.bind(a),a.handleDayClick=a.handleDayClick.bind(a),a.handleMonthChange=a.handleMonthChange.bind(a),a.handleTimePickerSelectChange=a.handleTimePickerSelectChange.bind(a),a.handleTimePickerSelectBlur=a.handleTimePickerSelectBlur.bind(a),a.state=a.getStateFromProps(e),a.state.showOverlay=!1,a.clickTimeout=null,a.hideTimeout=null,a.blurTimeout=null,a.clickedInside=!1,a.clickedInsideSelect=!1,a.input=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"getStateFromProps",value:function(e){var t=e.date,a=e.time,n=t&&!a?"L":a&&!t?"LTS":"L LTS",o=e.value,i=void 0;return o?(i=o,o=r(o,n)):i=new Date,{value:o,month:i,format:n}}},{key:"componentWillReceiveProps",value:function(e){e.date===this.props.date&&e.time===this.props.time||this.propsDateEqualsState(e.value)||this.setState(this.getStateFromProps(e))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.clickTimeout),clearTimeout(this.hideTimeout),clearTimeout(this.blurTimeout)}},{key:"propsDateEqualsState",value:function(e){var t=this.state.value&&this.parseDate(this.state.value);return!e&&!t||!(e&&!t||!e&&t)&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDay()===e.getDay()&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()&&t.getSeconds()===e.getSeconds()}},{key:"formatDate",value:function(e){return r(e,this.state.format)}},{key:"parseDate",value:function(e){return function(e,t){if(!e||""===e)return null;var a=(0,h.default)(e,t);return a.isValid()?a.toDate():null}(e,this.state.format)}},{key:"showDayPicker",value:function(){this.setState({showOverlay:!0}),this.props.onPickerShow&&this.props.onPickerShow()}},{key:"hideDayPicker",value:function(){this.setState({showOverlay:!1}),this.props.onPickerHide&&this.props.onPickerHide()}},{key:"hideAfterDayClick",value:function(){var e=this;this.props.time||(this.hideTimeout=setTimeout(function(){return e.hideDayPicker()},100))}},{key:"handleContainerMouseDown",value:function(e){var t=this;this.clickedInside=!0,"select"===e.target.tagName.toLowerCase()&&(this.clickedInsideSelect=!0),this.clickTimeout=setTimeout(function(){t.clickedInside=!1,t.clickedInsideSelect=!1},0)}},{key:"handleInputClick",value:function(e){this.showDayPicker(),this.props.onClick&&this.props.onClick(e)}},{key:"handleInputFocus",value:function(e){this.showDayPicker(),this.props.onFocus&&this.props.onFocus(e)}},{key:"handleInputBlur",value:function(e){var t=this;this.clickedInside?(this.showDayPicker(),this.clickedInsideSelect||(this.blurTimeout=setTimeout(function(){return t.input.focus()},0))):(this.setState(this.getStateFromProps(this.props)),this.hideDayPicker()),this.props.onBlur&&this.props.onBlur(e)}},{key:"handleInputChange",value:function(e){var t=this.props.onChange,a=e.target.value;if(""===a.trim())return this.setState({value:a}),void(t&&t(null));var n=this.parseDate(a);n?(this.setState({month:n,value:a}),t&&t(n)):this.setState({value:a})}},{key:"handleInputKeyDown",value:function(e){9===e.keyCode&&(this.setState(this.getStateFromProps(this.props)),this.hideDayPicker()),this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"handleInputKeyUp",value:function(e){27===e.keyCode&&(this.setState(this.getStateFromProps(this.props)),this.hideDayPicker()),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"handleMonthChange",value:function(e){this.setState({month:e})}},{key:"handleDayClick",value:function(e,t,a){var n=this.props.onChange;if(!t.disabled){var r=e;if(this.props.time&&this.state.value){var o=this.parseDate(this.state.value);r.setHours(o.getHours()),r.setMinutes(o.getMinutes()),r.setSeconds(o.getSeconds())}var i=this.formatDate(r);this.setState({value:i,month:r},this.hideAfterDayClick),n&&n(r)}}},{key:"handleTimePickerSelectChange",value:function(e,t){var a=this.props.onChange,n=parseInt(t.target.value,10),r=this.state.value&&this.parseDate(this.state.value);switch(r||(r=new Date).setHours(0,0,0),e){case"hour":r.setHours(n);break;case"minute":r.setMinutes(n);break;case"second":r.setSeconds(n)}var o=this.formatDate(r);this.setState({month:r,value:o}),a&&a(r),this.input.focus()}},{key:"handleTimePickerSelectBlur",value:function(){var e=this;this.clickedInside?(this.showDayPicker(),this.clickedInsideSelect||(this.blurTimeout=setTimeout(function(){return e.input.focus()},0))):(this.setState(this.getStateFromProps(this.props)),this.hideDayPicker())}},{key:"handleTimePickerIncrementClick",value:function(e,t){var a=this.props.onChange,n=this.state.value&&this.parseDate(this.state.value);n||(n=new Date).setHours(0,0,0);var r=void 0;switch(e){case"hour":r=n.getHours(),n.setHours(r+t);break;case"minute":r=n.getMinutes(),n.setMinutes(r+t);break;case"second":r=n.getSeconds(),n.setSeconds(r+t)}var o=this.formatDate(n);this.setState({month:n,value:o}),a&&a(n)}},{key:"renderTimePickerSelect",value:function(e){var t=this,a=this.state.value&&this.parseDate(this.state.value),n=void 0,r=void 0;switch(e){case"hour":n=24,r=a&&a.getHours();break;case"minute":n=60,r=a&&a.getMinutes();break;case"second":n=60,r=a&&a.getSeconds()}var o="00"+(r=r||0);o=o.substring(o.length-2);for(var i=[],l=0;l<n;l++){var s="00"+l;s=s.substring(s.length-2),i.push(u.default.createElement("option",{key:l,value:l},s))}var d=r===n-1,f=0===r;return u.default.createElement("div",{className:"time-picker-select-wrapper"},u.default.createElement("div",{className:(0,c.default)("time-picker-arrow","time-picker-arrow-up",d&&"time-picker-arrow-disabled"),onClick:function(){return!d&&t.handleTimePickerIncrementClick(e,1)}}),u.default.createElement("div",{className:"time-picker-label"},u.default.createElement("span",null,o),u.default.createElement("select",{value:r,onBlur:this.handleTimePickerSelectBlur,onChange:function(a){return t.handleTimePickerSelectChange(e,a)}},i)),u.default.createElement("div",{className:(0,c.default)("time-picker-arrow","time-picker-arrow-down",f&&"time-picker-arrow-disabled"),onClick:function(){return!f&&t.handleTimePickerIncrementClick(e,-1)}}))}},{key:"renderTimePicker",value:function(){return u.default.createElement("div",{className:"time-picker-container"},this.renderTimePickerSelect("hour"),u.default.createElement("span",null,":"),this.renderTimePickerSelect("minute"),u.default.createElement("span",null,":"),this.renderTimePickerSelect("second"))}},{key:"renderOverlay",value:function(){var e=this,t=this.props,a=t.date,n=t.time,r=this.state,o=r.value,i=r.month,l=(this.props.overlayComponent,this.parseDate(o));return u.default.createElement("div",{className:"datetime-picker-input-overlay-wrapper"},u.default.createElement("div",{className:"datetime-picker-input-overlay"},a&&u.default.createElement(p.default,{ref:function(t){return e.daypicker=t},locale:h.default.locale(),localeUtils:m.default,month:i,selectedDays:l,onDayClick:this.handleDayClick,onMonthChange:this.handleMonthChange}),n&&this.renderTimePicker()))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.date,t.time,t.value,t.onChange,t.className),n=t.disabled,r=t.style;return u.default.createElement("div",{className:(0,c.default)("datetime-picker-input","datetime-picker-input-full-width",a),onMouseDown:this.handleContainerMouseDown,style:r},u.default.createElement(f.Input,{innerRef:function(t){return e.input=t},placeholder:"",disabled:n,value:this.state.value||"",onChange:this.handleInputChange,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,onKeyUp:this.handleInputKeyUp,onClick:this.handleInputClick}),this.state.showOverlay&&this.renderOverlay())}}]),t}(),o.propTypes={date:d.default.bool,time:d.default.bool,value:d.default.oneOfType([d.default.instanceOf(Date),d.default.oneOf([null])]),onChange:d.default.func,onFocus:d.default.func,onBlur:d.default.func,onPickerShow:d.default.func,onPickerHide:d.default.func,onClick:d.default.func,onKeyDown:d.default.func,onKeyUp:d.default.func},i);t.default=g,e.exports=t.default},278:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=n(a(181)),c=a(6),f=a(131),p=n(a(602)),m=a(18);a(5);var h=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.generateChildren=a.generateChildren.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"getChildContext",value:function(){return{globalContext:this.props.context,layoutType:this.props.type,view:this.props.view,formValues:this.props.formValues,filter:this.props.filter,changeInputValue:this.props.changeInputValue,getInputAdditionalProps:this.props.getInputAdditionalProps}}},{key:"generateChildren",value:function(e){var t=this,a=this.props.intl;return e?(Array.isArray(e)||(e=[e]),e.map(function(e,n){var r=(0,f.getElement)(e.type);return s.default.createElement(r.Element,{key:n,content:e,isEditor:!1,generateChildren:t.generateChildren,intl:a})})):null}},{key:"render",value:function(){var e=this.props,t=e.view,a=e.content;return e.type,s.default.createElement(p.default,{view:t,content:a},s.default.createElement("div",null,this.generateChildren(a)))}}]),t}(),r.propTypes={content:u.default.any.isRequired,type:u.default.oneOf(d.default),view:u.default.object.isRequired,formValues:u.default.oneOfType([u.default.object,u.default.arrayOf(u.default.object)]),filter:u.default.object,changeInputValue:u.default.func,getInputAdditionalProps:u.default.func},r.childContextTypes={globalContext:u.default.object,layoutType:u.default.oneOf(d.default),view:u.default.object,formValues:u.default.oneOfType([u.default.object,u.default.arrayOf(u.default.object)]),filter:u.default.object,changeInputValue:u.default.func,getInputAdditionalProps:u.default.func},o);t.default=(0,m.connect)(function(e,t){var a=t.view,n=e.context.viewColumns,r=a&&a.columns&&n&&a.columns.map(function(e){return n[e]}),o=a&&a.otherColumns&&n&&a.otherColumns.map(function(e){return n[e]});return{context:e.context,columns:r,otherColumns:o}})((0,c.injectIntl)(h)),e.exports=t.default},285:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a(0),p=n(f),m=a(14),h=n(a(1)),g=n(a(3)),b=a(8),v=a(6),y=n(a(43)),E=a(5),w=n(a(45)),C=n(a(19)),k=a(145),S=(0,k.SortableElement)(function(e){return e.row}),_=(0,k.SortableContainer)(function(e){var t=e.rows;return p.default.createElement("tbody",null,(0,E.map)(t,function(e,t){return p.default.createElement(S,{key:"row-at-index-"+t,index:t,row:e})}))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.originalHandlePress=a.handlePress,a.handlePress=function(e){if(a.originalHandlePress.call(a,e),a.manager.getActive()){var t=a.props.helperClass,n=a.helper,r=a.node;a.helper.parentNode.removeChild(a.helper);var o=a.document.createElement("table");o.className="table table-bordered",o.style.position="absolute",o.style.border="none";for(var i,l=a.document.createElement("tbody"),s=0;s<r.childElementCount;s++){var u=r.children[s].clientWidth+1+"px";n.children[s].style.width=u,n.children[s].style.minWidth=u,n.children[s].style.maxWidth=u}o.appendChild(l),l.appendChild(n),n.child,a.helper=o,a.document.body.appendChild(a.helper),t&&(i=a.helper.classList).add.apply(i,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(t.split(" ")))}},a.originalHandleSortEnd=a.handleSortEnd,a.handleSortEnd=function(e){a.originalHandleSortEnd.call(a,e)},a}return i(t,_),c(t,[{key:"getWrappedInstance",value:function(){return null}}]),t}(),T=(s=l=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onSortStart=a.onSortStart.bind(a),a.onSortEnd=a.onSortEnd.bind(a),a.state={sorting:!1},a}return i(t,f.Component),c(t,[{key:"setRowValue",value:function(e,t,a){var n=this.props,r=n.searchTemplate,o=n.onChange,i=void 0;i="object"===(void 0===t?"undefined":d(t))?u({},r&&r[e],t):u({},r&&r[e],function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},t,a));var l=(0,E.clone)(r)||[];l[e]=i,o(l)}},{key:"addRow",value:function(){var e=this.props.searchTemplate;this.setRowValue(e?e.length:0,{})}},{key:"deleteRow",value:function(e){var t=this.props,a=t.searchTemplate,n=t.onChange,r=(0,E.clone)(a)||[];r.splice(e,1),n(r)}},{key:"onSortStart",value:function(){this.setState({sorting:!0})}},{key:"onSortEnd",value:function(e,t){var a=e.oldIndex,n=e.newIndex;e.collection,this.setState({sorting:!1});var r=this.props,o=r.searchTemplate,i=r.onChange,l=(0,E.clone)(o)||[];l.splice(n,0,l.splice(a,1)[0]),i(l)}},{key:"generateOptionsForFields",value:function(e){var t=this.props,a=t.model,n=t.context,r=t.searchTemplate,o=a.id,i=function(t,a,n){return(0,E.some)(r,function(r){return r!==e&&t==r.field_id&&a==r.relation_id&&(!a||n===r.relation_is_back)})},l=[];a.fields.map(function(e){return n.fields[e]}).forEach(function(e){l.push({value:""+e.id,label:e.name,disabled:i(e.id,null,null)})});var s=function(e,t){var a=e[t?"nameBackward":"nameForward"];n.models[e[t?"model_from_id":"model_to_id"]].fields.map(function(e){return n.fields[e]}).map(function(n){l.push({value:n.id+"-"+e.id+"-"+(t?"b":"f"),label:a+"."+n.name,disabled:i(n.id,e.id,t)})})};return a.relations.forEach(function(e){var t=n.relations[e];t.model_from_id===o&&("ONE_TO_ONE"!==t.type&&"MANY_TO_ONE"!==t.type||s(t,!1)),t.model_to_id===o&&("ONE_TO_ONE"!==t.type&&"ONE_TO_MANY"!==t.type||s(t,!0))}),l}},{key:"getSelectedFieldValue",value:function(e){if(e.field_id){var t=""+e.field_id;return e.relation_id&&(t+="-"+e.relation_id+"-"+(e.relation_is_back?"b":"f")),t}return""}},{key:"onFieldSelected",value:function(e,t){var a=t&&t.split("-")||[],n=void 0,r=void 0,o=void 0;a.length>=1&&""!==t&&(a.length>1&&(r=parseInt(a[1],10),o="b"===a[2]),n=parseInt(a[0],10)),this.setRowValue(e,{field_id:n||null,relation_id:r||null,relation_is_back:r?o||!1:null})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.model,t.context,this.state.sorting),n=[];return(this.props.searchTemplate||[]).forEach(function(t,a){var r=!!t.bold,o=!!t.italic,i=!!t.underline,l={color:"primary",active:!0},s={color:"secondary",active:!1},d=r?l:s,c=o?l:s,f=i?l:s,m=e.generateOptionsForFields(t);n.push(p.default.createElement("tr",{key:a},p.default.createElement("td",null,p.default.createElement(w.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:m,simpleValue:!0,clearable:!1,value:e.getSelectedFieldValue(t),searchable:!0,onChange:function(t){return e.onFieldSelected(a,t)}})),p.default.createElement("td",null,p.default.createElement(b.ButtonGroup,{size:"sm"},p.default.createElement(b.Button,u({outline:!0,style:{fontWeight:"bold"}},d,{onClick:function(t){e.setRowValue(a,"bold",!r),t.currentTarget.blur()}}),p.default.createElement(v.FormattedMessage,{id:"SearchTemplateEditor.format.bold",defaultMessage:"Bold"})),p.default.createElement(b.Button,u({outline:!0,style:{fontStyle:"italic"}},c,{onClick:function(t){e.setRowValue(a,"italic",!o),t.currentTarget.blur()}}),p.default.createElement(v.FormattedMessage,{id:"SearchTemplateEditor.format.italic",defaultMessage:"Italic"})),p.default.createElement(b.Button,u({outline:!0,style:{textDecoration:"underline"}},f,{onClick:function(t){e.setRowValue(a,"underline",!i),t.currentTarget.blur()}}),p.default.createElement(v.FormattedMessage,{id:"SearchTemplateEditor.format.underline",defaultMessage:"Underline"})))),p.default.createElement("td",null,p.default.createElement(y.default,{onClick:function(){return e.deleteRow(a)}},p.default.createElement(C.default.Trash,null)))))}),p.default.createElement("div",null,p.default.createElement(b.Table,{bordered:!0,style:{marginTop:5,marginBottom:5},className:(0,g.default)(a&&"table-sorting")},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",{style:{width:280}},p.default.createElement(v.FormattedMessage,{id:"SearchTemplateEditor.table.header.attribute",defaultMessage:"Attribute"})),p.default.createElement("th",{style:{width:90,maxWidth:90}},p.default.createElement(v.FormattedMessage,{id:"SearchTemplateEditor.table.header.font",defaultMessage:"Font"})),p.default.createElement("th",{style:{width:30,maxWidth:30}}))),p.default.createElement(x,{rows:n,lockAxis:"y",getContainer:function(){return function(e,t,a){for(var n=null;e;){if(e.matches(".tab")){n=e;break}e=e.parentElement}return n}((0,m.findDOMNode)(e))||document.getElementsByTagName("body")[0]},distance:5,onSortStart:this.onSortStart,onSortEnd:this.onSortEnd})),p.default.createElement(b.Button,{outline:!0,onClick:function(t){e.addRow(),t.currentTarget.blur()}},p.default.createElement(v.FormattedMessage,{id:"SearchTemplateEditor.button.addRow",defaultMessage:"Add row"})))}}]),t}(),l.propTypes={context:h.default.object.isRequired,model:h.default.object.isRequired,searchTemplate:h.default.array,onChange:h.default.func.isRequired},s);t.default=T,e.exports=t.default},319:function(e,t,a){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.tabId,n=t.closeOthers,r=t.closeLeft,o=t.closeRight,i=t.selectTabId,s=t.onlyInsideGroup,u=e.getState(),d=u.ui.tabs,c=a?(0,l.getTabGroupIndex)(u,a):-1,f=a&&(0,l.getTabIndexInGroup)(u,a),p=-1===c?null:d.groups[c],m=[];(0,l.forEachTab)(u,{reverseGroupTabs:!0},function(e,t,a){(function(e,t,a){return n?e.groupId!==p:s&&r?t===c&&a<f:s&&o?t===c&&a>f:r?t<c:o?t>c:i?t===c&&a>f:e.groupId===p})(e,t,a)&&m.push(e)});var h=null;if(s&&r)h=u.ui.selectedTab;else if(n||r||o||i)h=a;else{var g=-1;c>0?g=c-1:2===d.groups.length&&(g=1);var b=-1!==g&&d.groupsById[d.groups[g]];h=b&&b.tabs[b.tabs.length-1]}return{tabsToClose:m,tabToSelect:h||null}}function r(e,t){"function"==typeof t?t(e.dispatch,e.getState):e.dispatch(t)}function o(e,t){0!==t.toCloseList.length&&(r(e,(0,i._tabsMiddlewareForceCloseTabs)(t.toCloseList)),t.toCloseList=[])}Object.defineProperty(t,"__esModule",{value:!0}),t.CLOSE_TAB_MIDDLEWARE=void 0,a(5);var i=a(22),l=a(65),s=t.CLOSE_TAB_MIDDLEWARE="CLOSE_TAB_MIDDLEWARE";t.default=function(e){return function(t){return function(a){if(!a[s])return t(a);if(!window.__tabControllerAskCloseTab)return t(a);var l=void 0;switch(a.type){case i.UI_CLOSE_TAB:l=n(e,{tabId:a.tabId});break;case i.UI_CLOSE_OTHER_TABS:l=n(e,{closeOthers:!0,tabId:a.tabId});break;case i.UI_CLOSE_ALL_TABS:l=n(e,{closeOthers:!0});break;case i.UI_CLOSE_TAB_LEFT:l=n(e,{closeLeft:!0,tabId:a.tabId,onlyInsideGroup:a.onlyInsideGroup});break;case i.UI_CLOSE_TAB_RIGHT:l=n(e,{closeRight:!0,tabId:a.tabId,onlyInsideGroup:a.onlyInsideGroup});break;case i.UI_SELECT_TAB:l=n(e,{selectTabId:a.tabId,tabId:a.tabId})}if(!l)return t(a);for(var u=l,d=u.tabsToClose,c=u.tabToSelect,f={toCloseList:[]},p=function(t){o(e,f),t&&c&&r(e,(0,i._tabsMiddlewareForceSelectTab)(c))},m=d.length-1;m>=0;m--)p=function(t,a){return function(n){n?function(e,t,a,n){function r(t){t&&n.toCloseList.push(e),a(t)}var i=(0,window.__tabControllerAskCloseTab)(e);!0!==i&&!1!==i?(o(t,n),i.then(function(e){r(e)})):r(i)}(t,e,a,f):o(e,f)}}(d[m].id,p);p(!0)}}}},329:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(778),o=(0,((n=r)&&n.__esModule?n:{default:n}).default)();t.default=o,e.exports=t.default},43:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=n(a(0)),l=n(a(1)),s=n(a(3)),u={tag:l.default.oneOfType([l.default.func,l.default.string]),innerRef:l.default.oneOfType([l.default.func,l.default.string]),disabled:l.default.bool,active:l.default.bool,className:l.default.string,onClick:l.default.func,href:l.default.any},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClick=a.onClick.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"onClick",value:function(e){e.currentTarget.blur(),this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))}},{key:"render",value:function(){var e=this.props,t=e.className,a=(e.cssModule,e.active),n=e.tag,o=e.innerRef,l=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["className","cssModule","active","tag","innerRef"]),u=(0,s.default)("a-link-without-href",t,{disabled:l.disabled,active:a});return i.default.createElement(n,r({tabIndex:0},l,{ref:o,onClick:this.onClick,className:u}))}}]),t}();d.propTypes=u,d.defaultProps={tag:"a",href:null},t.default=d,e.exports=t.default},461:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageForPath=function(e){for(var t=0;t<r.length;t++){var a=r[t];if(!a.path||a.regexp&&a.regexp.test(e))return a}};var n=a(818),r=t.pages=[{path:"/",exact:!0,component:"Greeting"},{path:"/app",exact:!0,component:"PortalPage",requireLogin:!0},{path:"/app/login",exact:!0,component:"LoginPage"},{component:"ErrorPage",status:404}];r.forEach(function(e){e.regexp=e.path&&n(e.path)})},463:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=n(o),l=n(a(836)),s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.size;return e||(e="100%"),i.default.createElement("div",{style:{width:e,height:e,position:"relative"}},i.default.createElement(l.default,{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}}))}}]),t}();t.default=s,e.exports=t.default},468:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(e.children){if(-1!==e.children.indexOf(t))return e;for(var a=0;a<e.children.length;a++){var n=l(e.children[a],t);if(n)return n}}return null}Object.defineProperty(t,"__esModule",{value:!0});var s,u,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a(0),p=n(f),m=a(8),h=n(a(3)),g=n(a(1)),b=n(a(845)),v=a(5),y=n(a(144)),E=n(a(469)),w=a(6),C=n(a(215)),k=a(145),S=n(a(230)),_=n(a(156)),x=a(19);n(x);var T=(0,w.defineMessages)({searchPlaceholder:{id:"AbstractSidebar.search.placeholder",defaultMessage:"Search..."}}),M=(0,k.SortableElement)(function(e){return e.itemElement}),R=(0,k.SortableContainer)(function(e){var t=e.className,a=e.items,n=e.itemElementGenerator;return p.default.createElement("ul",{className:t},a.map(function(e,t){var a=e.key||"sortable-item-"+t,r=n(e,t),o=!!e.noEdit;return p.default.createElement(M,{disabled:o,key:a,index:t,itemElement:r})}))}),I=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.originalHandlePress=a.handlePress,a.handlePress=function(e){if(a.originalHandlePress.call(a,e),a.manager.getActive()){var t=a.props.helperClass,n=a.helper,r=a.node.parentNode;a.helper.parentNode.removeChild(a.helper);var o=a.document.createElement("div");o.classList.add("sidebar");var i=a.document.createElement("nav");i.classList.add("sidebar-nav");for(var l,s=a.document.createElement("ul"),u=0;u<r.classList.length;u++)s.classList.add(r.classList.item(u));o.appendChild(i),i.appendChild(s),s.appendChild(n),a.helper=o,a.document.body.appendChild(a.helper),t&&(l=a.helper.classList).add.apply(l,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(t.split(" "))),document.body.classList.add("sidebar-sortable-hoc-in-progress")}},a.originalHandleSortEnd=a.handleSortEnd,a.handleSortEnd=function(e){a.originalHandleSortEnd.call(a,e),document.body.classList.remove("sidebar-sortable-hoc-in-progress")},a}return i(t,R),t}(),O=1,F=(u=s=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleDropdownClick=a.handleDropdownClick.bind(a),a.handleItemClick=a.handleItemClick.bind(a),a.onHoverButtonClick=a.onHoverButtonClick.bind(a),a.stopEditing=a.stopEditing.bind(a),a.onItemsChanged=a.onItemsChanged.bind(a),a.canMoveNode=a.canMoveNode.bind(a),a.updateItemName=a.updateItemName.bind(a),a.treeRenderNode=a.treeRenderNode.bind(a),a.onSearchTextChange=a.onSearchTextChange.bind(a),a.uniqueIdPrefix="AbstractSidebar-unique-id-"+O++;var n=a.props.editing&&a.createEditingItems(a.props);return a.state={items:n,hasChanges:!1,searchText:""},e.scrollToElementKey&&(a._needsToScrollToActiveItem=!0),a}return i(t,f.Component),c(t,[{key:"createEditingItems",value:function(e){return function e(t,a){if(a?a[0]++:a=[1],t.root&&(t._lastUniqueId=a),t._uniqueId=a[0],t.noEdit)return null;if(t.children){var n=[],r=[],o=[],i=!1,l=!1;t.children.forEach(function(t){var s=e(t,a);if(s&&!l)i=!0,o.push(s);else if(s||i){if(s||!i)throw new Error("AbstractSidebar: not editable items can only be at the begging or end of the array, not in the middle");l=!0,r.push(t)}else n.push(t)}),t._children={removedPre:n,removedAfter:r},t.children=o}return t}({root:!0,children:(0,v.cloneDeep)(e.items)})}},{key:"componentWillReceiveProps",value:function(e){this.props.editing!=e.editing?this.setState({items:e.editing&&this.createEditingItems(e),hasChanges:!1}):this.props.items!==e.items&&this.setState({searchText:""}),this.props.scrollToElementKey!==e.scrollToElementKey&&(this.scrollToElement=null,this._needsToScrollToActiveItem=!0)}},{key:"componentDidUpdate",value:function(){this._needsToScrollToActiveItem&&(this.scrollToActiveItem(),this._needsToScrollToActiveItem=!1)}},{key:"componentDidMount",value:function(){this._needsToScrollToActiveItem&&(this.scrollToActiveItem(),this._needsToScrollToActiveItem=!1)}},{key:"onSearchTextChange",value:function(e){var t=e.currentTarget.value;this.setState({searchText:t})}},{key:"setElement",value:function(e,t){this.props.scrollToElementKey&&this.props.scrollToElementKey===e&&(this.scrollToElement=t)}},{key:"scrollToActiveItem",value:function(){var e=this.sidebarNavElement&&this.scrollToElement;e&&this.scrollToItem(e)}},{key:"scrollToItem",value:function(e){for(var t=this.sidebarNavElement.clientHeight,a=this.sidebarNavElement.scrollTop,n=0,r=e;r&&r!==this.sidebarNavElement;)"li"===r.tagName.toLowerCase()&&(n+=r.offsetTop),r=r.parentElement;var o=n,i=o+e.clientHeight;o-10<a?this.scrollSidebarNav(o-10):i+10>a+t&&this.scrollSidebarNav(i+10-t)}},{key:"scrollSidebarNav",value:function(e){e=e<0?0:e,_.default.top(this.sidebarNavElement,e,{duration:200})}},{key:"handleDropdownClick",value:function(e,t){var a=this;e.preventDefault();var n=e.target.parentElement;n.classList.contains("open")?(n.classList.remove("open"),this.props.onItemClose&&this.props.onItemClose(t,e)):(n.classList.add("open"),setTimeout(function(){return a.scrollToItem(n)},150),this.props.onItemOpen&&this.props.onItemOpen(t,e))}},{key:"handleItemClick",value:function(e,t){e.preventDefault(),this.props.onItemClick&&this.props.onItemClick(t,e)}},{key:"onHoverButtonClick",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.props.onItemHoverButtonClick&&this.props.onItemHoverButtonClick(t,e)}},{key:"stopEditing",value:function(e){if(e){var t=function e(t){return t.children&&t.children.forEach(function(t){e(t)}),t._children&&(t.children=[].concat(t._children.removedPre,t.children||[],t._children.removedAfter),delete t._children,delete t._uniqueId),t}(this.state.items).children;this.props.saveChanges(t)}else this.props.cancelChanges()}},{key:"onItemsChanged",value:function(e){this.setState({items:e,hasChanges:!0})}},{key:"canMoveNode",value:function(e,t,a,n){return!(!("append"!==a&&"prepend"!==a||t.children)||n&&!n.children)}},{key:"updateItemName",value:function(e,t){e.name=t,this.setState({items:Object.assign({},this.state.items),hasChanges:!0})}},{key:"updateItemIcon",value:function(e,t){e.icon=t,this.setState({items:Object.assign({},this.state.items),hasChanges:!0})}},{key:"addNewItem",value:function(e,t){if(e._uniqueId=++this.state.items._lastUniqueId[0],t)if(t.children)t.children.push(e);else{var a=l(this.state.items,t);if(!a)return;var n=a.children.indexOf(t)+1;a.children.splice(n,0,e)}else this.state.items.children.push(e);this.setState({items:Object.assign({},this.state.items),hasChanges:!0})}},{key:"removeItem",value:function(e){var t=l(this.state.items,e);if(t){var a=t.children.indexOf(e);t.children.splice(a,1),this.setState({items:Object.assign({},this.state.items),hasChanges:!0})}}},{key:"isItemActive",value:function(e){return this.props.isItemActive&&this.props.isItemActive(e)}},{key:"isItemOpen",value:function(e){return this.props.isItemOpen?this.props.isItemOpen(e):void 0}},{key:"badge",value:function(e){if(e){var t=(0,h.default)(e.class);return p.default.createElement(m.Badge,{className:t,color:e.variant},e.text)}}},{key:"title",value:function(e,t){var a=this,n=(0,h.default)("nav-title",e.class);return p.default.createElement("li",{key:t,ref:function(e){return a.setElement(t,e)},className:n},e," ")}},{key:"divider",value:function(e,t){var a=this,n=(0,h.default)("divider",e.class);return p.default.createElement("li",{key:t,ref:function(e){return a.setElement(t,e)},className:n})}},{key:"navLabel",value:function(e,t){var a={item:(0,h.default)("hidden-cn",e.class),link:(0,h.default)("nav-label","active",e.class?e.class:""),icon:(0,h.default)(e.label.variant?"text-"+e.label.variant:"",e.label.class?e.label.class:"")};return this.navLink(e,t,a)}},{key:"navItem",value:function(e,t){var a={item:(0,h.default)(e.class),link:(0,h.default)("nav-link",this.isItemActive(e)&&"active",e.variant?"nav-link-"+e.variant:""),icon:""};return this.navLink(e,t,a,this.handleItemClick)}},{key:"navDropdown",value:function(e,t,a){var n=this.props.editing,r=this.state.searchText,o=n||r||this.isItemOpen(e),i={item:(0,h.default)("nav-dropdown",o&&"open"),link:(0,h.default)("nav-link","nav-dropdown-toggle"),icon:""},l=!n&&this.navList(e.children,e,a+1);return this.navLink(e,t,i,this.handleDropdownClick,l)}},{key:"navLink",value:function(e,t,a,n,r){var o=this,i=this.props.editing,l=this.state.searchText,s=i&&e.canChangeName?p.default.createElement(y.default,{value:e.name,onChange:function(t){o.updateItemName(e,t)}}):e.search&&l?p.default.createElement(S.default,{searchWords:l.split(" "),textToHighlight:e.name,autoEscape:!0,highlightClassName:"sidebar-search-highlight"}):e.name,u=i&&this.uniqueIdPrefix+"-nav-link-target-"+e._uniqueId,d=void 0;if(i&&e.canChangeIcon)d=p.default.createElement(E.default,{icon:e.icon,placement:"right",target:u,onChange:function(t){o.updateItemIcon(e,t)}});else{var c=(0,x.createIcon)(e.icon);d=c?p.default.createElement(c,{fixedWidth:!0,className:a.icon}):p.default.createElement(x.EmptyIcon,{fixedWidth:!0,className:a.icon})}var f=null;if(!i&&e.hoverButton){var h=(0,x.createIcon)(e.hoverButton);h&&(f=p.default.createElement("span",{className:"nav-link-hover-button",onClick:function(t){return o.onHoverButtonClick(t,e)}},p.default.createElement(h,{fixedWidth:!0})))}return p.default.createElement(m.NavItem,{key:t,className:a.item},p.default.createElement(m.NavLink,{innerRef:function(e){return o.setElement(t,e)},id:u||null,className:a.link,onClick:function(t){return!i&&n&&n(t,e)}},d,s,this.badge(e.badge),f),r||null)}},{key:"navType",value:function(e,t,a){var n=this.props,r=(n.editing,n.itemWrapper),o=e.title?this.title(e,e.key||"title-"+t):e.divider?this.divider(e,e.key||"divider-"+t):e.label?this.navLabel(e,e.key||"label-"+t):e.children?this.navDropdown(e,e.key||"dropdown-"+t,a):this.navItem(e,e.key||"item-"+t);if(r){var i=r(e);if(i)return p.default.createElement(i.element,d({},i.attributes,{key:i.key||"wrapper-"+t}),o)}return o}},{key:"navList",value:function(e,t,a){var n=this,r=function(e,t){return n.navType(e,t,a)},o=(t?"nav-dropdown-items":"nav")+" nav-dropdown-level-"+a;return this.props.shouldSortItems&&this.props.shouldSortItems(e,t||null)?p.default.createElement(I,{className:o,items:e,itemElementGenerator:r,pressDelay:200,helperClass:"sidebar-sortable-hoc-helper",axis:"y",lockAxis:"y",onSortEnd:function(a){var r=a.oldIndex,o=a.newIndex,i=e.slice(0);i.splice(o,0,i.splice(r,1)[0]);var l=void 0;t?(l=(0,v.clone)(n.props.items),t.children=i):l=i,n.props.saveChanges&&n.props.saveChanges(l)}}):p.default.createElement("ul",{className:o},e.map(r))}},{key:"treeRenderNode",value:function(e){return e.root?p.default.createElement("div",{style:{display:"none"}}):this.navType(e,0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.editing,n=t.saving,r=t.savingError,o=t.search,i=t.intl.formatMessage,l=this.state,s=l.hasChanges,u=l.searchText,d=a?this.state.items:this.props.items,c=a&&s;return!a&&o&&u&&(d=function e(t,a){if(Array.isArray(t))return t.map(function(t){return e(t,a)}).filter(function(e){return e});var n=t;return n.search&&n.name&&n.name.toLowerCase&&-1!==n.name.toLowerCase().indexOf(a)?n:n.children&&0!==n.children.length?((n=Object.assign({},n)).children=e(n.children,a),0===n.children.length?null:n):null}(d,u.toLowerCase())),p.default.createElement("div",{className:"sidebar"},a&&p.default.createElement("div",{className:"navbar-editing-buttons-container"},p.default.createElement("button",{className:"btn btn-danger btn-sm navbar-editing-cancel",type:"button",onClick:function(){e.stopEditing(!1)}},p.default.createElement(w.FormattedMessage,{id:"AbstractSidebar.cancelChanges",defaultMessage:"Cancel"})),p.default.createElement("button",{className:"btn btn-success btn-sm navbar-editing-save",type:"button",onClick:function(){e.stopEditing(!0)},disabled:!c},p.default.createElement(w.FormattedMessage,{id:"AbstractSidebar.saveChanges",defaultMessage:"Save"}))),!a&&o&&p.default.createElement("div",{className:"navbar-search-container"},p.default.createElement(m.Input,{className:"navbar-search-input",type:"search",placeholder:i(T.searchPlaceholder),value:u,onChange:this.onSearchTextChange})),p.default.createElement("nav",{className:"sidebar-nav",ref:function(t){return e.sidebarNavElement=t}},a?p.default.createElement(b.default,{paddingLeft:0,tree:d,renderNode:this.treeRenderNode,onChange:this.onItemsChanged,canMoveNode:this.canMoveNode}):this.navList(d,null,1)),n&&p.default.createElement("div",{className:"sidebar-saving"},r?p.default.createElement("div",null,p.default.createElement(w.FormattedMessage,{id:"AbstractSidebar.saveError",defaultMessage:"Error while saving"})):p.default.createElement(w.FormattedMessage,{id:"AbstractSidebar.saving",defaultMessage:"Saving..."})))}}]),t}(),s.propTypes={items:g.default.arrayOf(g.default.shape({key:g.default.string,name:g.default.string,icon:g.default.oneOfType([g.default.string,g.default.object]),children:g.default.array,noEdit:g.default.bool,canChangeName:g.default.bool,canChangeIcon:g.default.bool})),search:g.default.bool,saveChanges:g.default.func.isRequired,cancelChanges:g.default.func,saving:g.default.bool,savingError:g.default.bool,editing:g.default.bool,shouldSortItems:g.default.func,itemWrapper:g.default.func,onItemClick:g.default.func,onItemHoverButtonClick:g.default.func,onItemOpen:g.default.func,onItemClose:g.default.func,isItemActive:g.default.func,isItemOpen:g.default.func,scrollToElementKey:g.default.any},u);t.default=(0,C.default)((0,w.injectIntl)(F,{withRef:!0}),F,{delegateTo:function(e){return e.getWrappedInstance()}}),e.exports=t.default},469:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=(n(a(3)),a(8)),c=n(a(470)),f=a(19);n(f);var p=1,m=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.togglePickerOpen=a.togglePickerOpen.bind(a),a.uniqueIdPrefix="IconWithPicker-unique-id-"+p++,a.state={pickerOpen:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"togglePickerOpen",value:function(){this.setState({pickerOpen:!this.state.pickerOpen})}},{key:"render",value:function(){var e=this.props,t=e.icon,a=(e.className,e.button),n=e.onChange,r=e.placement,o=e.target,i=this.state.pickerOpen,l=(0,f.createIcon)(t),u=l?s.default.createElement(l,{fixedWidth:!0}):s.default.createElement(f.EmptyIcon,{fixedWidth:!0}),p=this.uniqueIdPrefix+"-popover-target",m=void 0;return m=a?s.default.createElement(d.Button,{id:p,outline:!0,className:"dropdown-toggle",onClick:this.togglePickerOpen},u):s.default.createElement("span",{id:p,className:"icon-picker-editable-span",onClick:this.togglePickerOpen},u),s.default.createElement("span",null,m,s.default.createElement(d.Popover,{className:"icon-picker-popover",placement:r||"bottom",isOpen:i,target:o||p,toggle:this.togglePickerOpen,modifiers:{hide:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:document.body,padding:10}}},s.default.createElement(d.PopoverBody,null,s.default.createElement(c.default,{value:t,onChange:n,header:!0,footer:!0,search:!0,rows:10,columns:10}))))}}]),t}(),r.propTypes={icon:u.default.string.isRequired,button:u.default.bool,onChange:u.default.func.isRequired,className:u.default.string,target:u.default.string,placement:u.default.string},o);t.default=m,e.exports=t.default},470:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=n(a(1)),d=(n(a(3)),a(8)),c=a(6),f=a(5),p=a(19),m=n(p),h=n(a(852)),g=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.prevPage=a.prevPage.bind(a),a.nextPage=a.nextPage.bind(a),a.iconClick=a.iconClick.bind(a),a.onFilterChange=a.onFilterChange.bind(a),a.state=a.initialState(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"initialState",value:function(e){var t=e.rows,a=e.columns,n=e.value;(0,p.isFa4)(n)&&(n=(0,p.convertFa4)(n));var r=n?(0,f.findIndex)(h.default,function(e){return e.id===n}):-1;return{page:(-1===r?0:Math.floor(r/(t*a)))||0,icons:h.default,filter:""}}},{key:"componentWillReceiveProps",value:function(e){e.rows===this.props.rows&&e.columns===this.props.columns&&e.value===this.props.value||this.setState(this.initialState(e))}},{key:"prevPage",value:function(){this.setState({page:this.state.page-1})}},{key:"nextPage",value:function(){this.setState({page:this.state.page+1})}},{key:"iconClick",value:function(e,t){e.currentTarget.blur(),this.props.onChange(t)}},{key:"onFilterChange",value:function(e){var t=e.currentTarget.value,a=t?h.default.filter(function(e){return-1!==e.s.indexOf(t)}):h.default;this.setState({page:0,icons:a,filter:t})}},{key:"render",value:function(){for(var e=this,t=this.props,a=t.value,n=(t.onChange,t.header),r=(t.footer,t.search),o=t.rows,i=t.columns,l=this.state,u=l.page,f=l.icons,h=l.filter,g=f.length,b=o*i,v=Math.ceil(g/b),y=[],E=u*b;E<f.length&&E<(u+1)*b;E++)!function(t){var n=f[t];t%i==0&&y.push([]);var r=a===n.id,o=(0,p.createIcon)(n.id),l=s.default.createElement(d.Button,{outline:!r,color:r?"primary":"secondary",onClick:function(t){return e.iconClick(t,n.id)},title:n.n},s.default.createElement(o,{fixedWidth:!0}));y[y.length-1].push(l)}(E);var w=48*i-4;return s.default.createElement("div",{className:"icon-picker"},n&&s.default.createElement("div",{className:"icon-picker-header"},s.default.createElement(d.Button,{outline:!0,disabled:0===u,onClick:this.prevPage},s.default.createElement(m.default.ArrowLeft,{fixedWidth:!0})),s.default.createElement("span",null,u+1,"/",v),s.default.createElement(d.Button,{outline:!0,disabled:u===v-1,onClick:this.nextPage},s.default.createElement(m.default.ArrowRight,{fixedWidth:!0}))),r&&s.default.createElement("div",{className:"icon-picker-search"},s.default.createElement(d.Input,{type:"text",placeholder:"Search... (english)",value:h,onChange:this.onFilterChange})),s.default.createElement("div",{key:u,className:"icon-picker-grid",style:{minWidth:w}},y.map(function(e,t){return s.default.createElement("div",{key:t,className:"icon-picker-grid-row"},e.map(function(e,t){return s.default.createElement("div",{key:t,className:"icon-picker-grid-icon"},e)}))})),n&&s.default.createElement("div",{className:"icon-picker-footer"},s.default.createElement(c.FormattedMessage,{id:"IconPicker.footer.countMessage",defaultMessage:"{from} - {to} of {total}",values:{from:u*b+1,to:Math.min((u+1)*b,g),total:g}})))}}]),t}(),r.propTypes={value:u.default.string,onChange:u.default.func.isRequired,header:u.default.bool,footer:u.default.bool,search:u.default.bool,rows:u.default.number.isRequired,columns:u.default.number.isRequired},r.defaultProps={rows:5,columns:5},o);t.default=g,e.exports=t.default},498:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tabControllerContextMenuId=void 0;var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=n(a(3)),f=a(18),p=a(8),m=a(22),h=a(116),g=a(6),b=a(499),v=n(a(156)),y=(a(5),n(a(19))),E=a(120),w=a(65),C=n(a(231)),k=n(a(1450)),S="tab-controller-context-menu",_=function(e){var t=e.id,a=e.trigger,n=e.closeTab,r=e.closeOtherTabs,o=e.closeAllTabs,i=e.closeTabsLeft,l=e.closeTabsRight,s=e.detachTab,d=a||{},c=d.tab,f=d.isBreadcrumbItem,p=d.groupTabs,m=[];return c&&!f&&m.push(u.default.createElement(h.MenuItem,{key:"close",onClick:function(){return n(c.id)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeTab",defaultMessage:"Close tab"})),u.default.createElement(h.MenuItem,{key:"closeOthers",onClick:function(){return r(c.id)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeOtherTabs",defaultMessage:"Close other tabs"})),u.default.createElement(h.MenuItem,{key:"closeAll",onClick:function(){return o()}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeAllTabs",defaultMessage:"Close all tabs"}))),c&&f&&p.length>1&&c.id!==p[0].id&&m.push(u.default.createElement(h.MenuItem,{key:"detach",onClick:function(){return s(c.id)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.detachTab",defaultMessage:"Detach tab"}))),c&&(m.length>0&&m.push(u.default.createElement(h.MenuItem,{key:"divider1",divider:!0})),m.push(u.default.createElement(h.MenuItem,{key:"closeLeft",onClick:function(){return i(c.id,f)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeTabsLeft",defaultMessage:"Close tabs on the left"})),u.default.createElement(h.MenuItem,{key:"closeRight",onClick:function(){return l(c.id,f)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeTabsRight",defaultMessage:"Close tabs on the right"})))),u.default.createElement(h.ContextMenu,{id:t},m)};_.propTypes={id:d.default.string.isRequired};var x=(0,h.connectMenu)(S)(_),T=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleShowAllTabs=a.toggleShowAllTabs.bind(a),a.askCloseTab=a.askCloseTab.bind(a),a.checkAllTabsCanBeClosed=a.checkAllTabsCanBeClosed.bind(a),a._tabElements={},a.state={showAllTabs:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"componentWillReceiveProps",value:function(e){e.selectedTab!==this.props.selectedTab&&(this.needsToEnsureTabNavItemVisible=!0,this.state.showAllTabs&&this.setState({showAllTabs:!1}))}},{key:"componentDidMount",value:function(){window.__tabControllerAskCloseTab=this.askCloseTab,window.__tabControllerCheckAllTabsCanBeClosed=this.checkAllTabsCanBeClosed}},{key:"componentWillUnmount",value:function(){window.__tabControllerAskCloseTab==this.askCloseTab&&(window.__tabControllerAskCloseTab=null),window.__tabControllerCheckAllTabsCanBeClosed==this.checkAllTabsCanBeClosed&&(window.__tabControllerCheckAllTabsCanBeClosed=null)}},{key:"componentDidUpdate",value:function(){this.needsToEnsureTabNavItemVisible&&(this.ensureTabNavItemVisible(),this.needsToEnsureTabNavItemVisible=!1)}},{key:"ensureTabNavItemVisible",value:function(){var e=this.scrollElement.getElementsByClassName("tab-list-nav-tabs-main")[0],t=this.scrollElement.getElementsByClassName("tab-list-nav-tabs-placeholder")[0],a=e&&e.getElementsByClassName("active")[0],n=t&&t.getElementsByClassName("active")[0];if(a&&n){var r=this.scrollElement.clientWidth,o=this.scrollElement.scrollLeft,i=n.offsetLeft-this.scrollElement.offsetLeft,l=i+n.clientWidth;i-50<o?this.scrollTabList(i-50):l+10>o+r&&this.scrollTabList(l+10-r)}}},{key:"scrollTabList",value:function(e){e=e<0?0:e,v.default.left(this.scrollElement,e,{duration:200})}},{key:"askCloseTab",value:function(e){var t=this._tabElements[e];return!t||t.askCloseTab()}},{key:"checkAllTabsCanBeClosed",value:function(e){var t=this,a=this.props.tabs,n=null,r=(0,w.everyTab)(a,function(e){var a=t._tabElements[e.id];if(!a)return!0;var r=a.canBeClosed();return r||(n=e),r});return e&&n&&e(n.id),r}},{key:"toggleShowAllTabs",value:function(){this.setState({showAllTabs:!this.state.showAllTabs})}},{key:"wrapInTransition",value:function(e,t){return u.default.createElement(b.CSSTransition,{key:e,timeout:1e3,classNames:"tab-list-animation"},t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.context,n=t.tabs,r=t.selectedTab,o=t.selectTab,l=t.closeTab,s=t.closeOtherTabs,d=t.closeAllTabs,f=t.closeTabsLeft,m=t.closeTabsRight,g=t.detachTab,v=t.intl,_=this.state.showAllTabs,T=[],M=[],R=[];return(0,w.forEachTab)(n,function(t,i,s){var d=(0,w.getGroupTabs)(n,t.groupId),f=u.default.createElement(C.default,{ref:function(a){return e._tabElements[t.id]=a},key:t.id,tab:t,className:(0,c.default)(s===d.length-1&&"tab-last-in-group"),visible:t.id===r,selectTab:o,intl:v,onClick:function(){_&&(e.state.showAllTabs&&e.setState({showAllTabs:!1}),o(t.id))}});if(R.push(f),s===d.length-1){var p=t.groupId,m=u.default.createElement(h.ContextMenuTrigger,{id:S,tab:t,collect:function(e){return e},holdToDisplay:(0,E.getDefaultHoldToDisplayValue)()},u.default.createElement(k.default,{context:a,tab:t,visible:!_&&t.id===r,intl:v,onClick:function(){e.state.showAllTabs&&e.setState({showAllTabs:!1}),o(t.id)},onClose:function(){return l(t.id)}})),g=u.default.createElement(k.default,{key:p,context:a,tab:t,visible:!_&&t.id===r,intl:v,onClick:function(){return null},onClose:function(){return null}});T.push(e.wrapInTransition(p,m)),M.push(g)}}),u.default.createElement("div",{className:(0,c.default)("tab-controller",_&&"show-all-tabs")},u.default.createElement("div",{className:"tab-list"},u.default.createElement("div",{className:"tab-list-container",ref:function(t){return e.scrollElement=t}},u.default.createElement("div",{className:"tab-list-nav-tabs-placeholder nav nav-tabs"},u.default.createElement("div",{className:"tab-list-pre"}),T.length>0&&u.default.createElement(p.NavItem,{className:"show-all-tabs-nav-item"},u.default.createElement(p.NavLink,{onClick:null,active:_},u.default.createElement(y.default.Grid,null))),M,u.default.createElement("div",{className:"tab-list-post"})),u.default.createElement(b.TransitionGroup,{component:p.Nav,tabs:!0,className:"tab-list-nav-tabs-main"},this.wrapInTransition("tab-list-pre",u.default.createElement("div",{className:"tab-list-pre"})),T.length>0&&this.wrapInTransition("show-all-tabs-nav-item",u.default.createElement(p.NavItem,{className:"show-all-tabs-nav-item"},u.default.createElement(p.NavLink,{onClick:this.toggleShowAllTabs,active:_},u.default.createElement(y.default.Grid,null)))),T,this.wrapInTransition("tab-list-post",u.default.createElement("div",{className:"tab-list-post"}))))),R,u.default.createElement(x,i({id:S},{closeTab:l,closeOtherTabs:s,closeAllTabs:d,closeTabsLeft:f,closeTabsRight:m,detachTab:g})))}}]),t}(),r.propTypes={selectedTab:d.default.number,tabs:d.default.any.isRequired},o),M={selectTab:m.selectTab,closeTab:m.closeTab,closeOtherTabs:m.closeOtherTabs,closeAllTabs:m.closeAllTabs,closeTabsLeft:m.closeTabsLeft,closeTabsRight:m.closeTabsRight,detachTab:m.detachTab};t.default=(0,f.connect)(function(e,t){return{selectedTab:(0,w.getSelectedTabId)(e),context:e.context,tabs:(0,w.getTabsFromState)(e)}},M)((0,g.injectIntl)(T)),t.tabControllerContextMenuId=S},500:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return"number"==typeof e&&!isNaN(e)}function o(e){return parseInt(e,10)}function i(e,t,a){if(!e.props.bounds)return[t,a];var n=e.props.bounds;n="string"==typeof n?n:cloneBounds(n);var i=(0,d.findDOMNode)(e);if("string"==typeof n){var l=i.ownerDocument,s=l.defaultView,u=void 0;if(!((u="parent"===n?i.parentNode:l.querySelector(n))instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');var c=s.getComputedStyle(i),f=s.getComputedStyle(u);(n={left:-i.offsetLeft+o(f.paddingLeft)+o(c.marginLeft),top:-i.offsetTop+o(f.paddingTop)+o(c.marginTop),right:function(e){var t=e.clientWidth,a=e.ownerDocument.defaultView.getComputedStyle(e);return t-=o(a.paddingLeft),t-=o(a.paddingRight)}(u)-function(e){var t=e.clientWidth,a=e.ownerDocument.defaultView.getComputedStyle(e);return t+=o(a.borderLeftWidth),t+=o(a.borderRightWidth)}(i)-i.offsetLeft+o(f.paddingRight)-o(c.marginRight),bottom:function(e){var t=e.clientHeight,a=e.ownerDocument.defaultView.getComputedStyle(e);return t-=o(a.paddingTop),t-=o(a.paddingBottom)}(u)-function(e){var t=e.clientHeight,a=e.ownerDocument.defaultView.getComputedStyle(e);return t+=o(a.borderTopWidth),t+=o(a.borderBottomWidth)}(i)-i.offsetTop+o(f.paddingBottom)-o(c.marginBottom)}).top=n.top-28+10,n.bottom-=38;var p=Math.round(n.right/2);n.left=n.left-p+10,n.right=n.right-p-10}return r(n.right)&&(t=Math.min(t,n.right)),r(n.bottom)&&(a=Math.min(a,n.bottom)),r(n.left)&&(t=Math.max(t,n.left)),r(n.top)&&(a=Math.max(a,n.top)),[t,a]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=(n(a(0)),n(a(501))),d=a(14),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onDrag=a.__onDrag.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),s(t,[{key:"__onDrag",value:function(e,t){if(!this.state.dragging)return!1;var a=function(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}(this,t),n={x:a.x,y:a.y};if(this.props.bounds){var r=n.x,o=n.y;n.x+=this.state.slackX,n.y+=this.state.slackY;var s=i(this,n.x,n.y),u=l(s,2),d=u[0],c=u[1];n.x=d,n.y=c,n.slackX=this.state.slackX+(r-n.x),n.slackY=this.state.slackY+(o-n.y),a.x=n.x,a.y=n.y,a.deltaX=n.x-this.state.x,a.deltaY=n.y-this.state.y}if(!1===this.props.onDrag(e,a))return!1;this.setState(n)}}]),t}();t.default=c,e.exports=t.default},502:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t,a){return e&&e.id?"vcol_"+e.id:"static_col_"+a}function i(e,t){return(e.info&&e.info.table&&e.info.table.columns||[]).map(function(a,n){var r=t.viewColumns[a.viewColumnId];return l(e,r,a,n,t,o)})}function l(e,t,a,n,r,o){var i,l=a.name,s=a.edit,u=a.link_relation_id,d=a.link_relation_is_back,c=a.link_relation_view_id,f=a.customText,p=a.conditionalFormatting,h=a.options,g=t||{},b=g.field_id,v=g.relation_id,E=b&&r.fields&&r.fields[b];-1===u&&c&&("object"===(void 0===c?"undefined":m(c))||r.views[c])?i="object"===(void 0===c?"undefined":m(c))?{relationId:u,viewId:function(e,t,a){var n=e.model_id,o=c[n];return o&&r.views[o]?o:null}}:{relationId:u,viewId:c}:u&&r.relations[u]&&c&&("object"===(void 0===c?"undefined":m(c))||r.views[c])&&("object"===(void 0===c?"undefined":m(c))||(i={relationId:u,relationIsBack:d,viewId:c}));var w=s&&b&&!v&&E&&!E.function_id&&!E.readOnly;if(w&&E&&E.virtual){var C=e.data_model_id,k=r.models[C];w=function(e,t){var a=t&&t.model_id,n=(0,y.findIndex)(k.mappedModels,function(e){return e===a}),o=-1!==n&&E.mappedFields[n],i=o&&r.fields[o];return i&&!i.function_id&&!i.readOnly}}return a={key:o(t,a,n),viewColumnId:t&&t.id,type:E&&E.type1,name:l,canEdit:w,defaultText:f,link:i,field:E,options:h,conditionalFormatting:p}}function s(e,t){return p({},e,{key:"vcol_"+e.viewColumnId,field:t.fields[e.fieldId]})}function u(e,t){var a=e.info.pivotInfo,n=(a.rows||[]).map(function(e){return s(e,t)}),r=(a.columns||[]).map(function(e){return s(e,t)}),o=a.value&&s(a.value,t);return o.aggregationType=a.valueAggrationType,{pivotColumns:r,pivotRows:n,pivotValue:o}}Object.defineProperty(t,"__esModule",{value:!0});var d,c,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.mapViewColumnToTableColumn=l,t.generateTestRows=function(e,t,a,n){var r=t.map(function(e){if("ENUM"===e.type)return e.field.enumList;if(e.conditionalFormatting&&e.conditionalFormatting.length>0){var t=e.conditionalFormatting[0];return(0,I.getConditionalFormattingTestValues)(t)}return null}),o=(0,y.maxBy)(r,function(e){return e?e.length:0});a=Math.max(a,o?o.length:0);for(var i=[],l=0;l<a;l++)!function(e){var a={id:"0_"+e,model_id:0};t.forEach(function(t,n){var o=void 0;if(r[n]&&r[n].length&&null!==(o=r[n][e%r[n].length]))a[t.key]=o;else if(t.type){switch(t.type){case"TEXT":o=t.field.name+" "+(e+1);break;case"INTEGER":case"DOUBLE":case"DECIMAL":o=e+1;break;case"BOOLEAN":o=e%2==0;break;case"DATE":o="2018-03-02";break;case"DATETIME":o="2018-03-02T10:00:00";break;case"TIME":o="10:00:00";break;case"ENUM":o=t.field.enumList?t.field.enumList[e%t.field.enumList.length]:t.field.name+" "+(e+1);break;case"TEXT_ARRAY":o=[t.field.name+" "+(e+1)]}a[t.key]=o}}),i.push(a)}(l);return i};var h=a(0),g=n(h),b=n(a(1)),v=a(18),y=a(5),E=n(a(232)),w=n(a(603)),C=n(a(1324)),k=n(a(1325)),S=n(a(1326)),_=a(8),x=a(6),T=a(22),M=n(a(157)),R=a(54),I=a(172),O=n(a(19)),F=a(188),N=n(a(3)),A=a(47),P=n(a(1327)),V=n(a(604)),L=a(133),D=n(a(1335)),B=y.filter,U=(0,x.defineMessages)({searchPlaceholder:{id:"View.globalSearch.placeholder",defaultMessage:"Search..."},deleteTitle:{id:"View.deleteRow.title",defaultMessage:"Delete {numberOfRows, number} {numberOfRows, plural, one {row} other {rows}}"},deleteMessage:{id:"View.deleteRow.message",defaultMessage:"Are you sure to delete {numberOfRows, number} {numberOfRows, plural, one {row} other {rows}}?"},deleteButton:{id:"View.deleteRow.button",defaultMessage:"Delete"},genericSavingErrorMessage:{id:"View.saving.error.generic",defaultMessage:"Error while saving."},saveOrCancelCreating:{id:"View.warning.saveOrCancel.creating",defaultMessage:"You have not saved your new entry. Save or cancel your changes before selecting a new one."},saveOrCancelEditing:{id:"View.warning.saveOrCancel.editing",defaultMessage:"You have not saved your changes. Save or cancel your changes before selecting a new entry."}}),j=(c=d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onColumnsSizeChange=a.onColumnsSizeChange.bind(a),a.onSelectionChange=a.onSelectionChange.bind(a),a.onCreate=a.onCreate.bind(a),a.onEdit=a.onEdit.bind(a),a.onDuplicate=a.onDuplicate.bind(a),a.onFormCancel=a.onFormCancel.bind(a),a.onFormSave=a.onFormSave.bind(a),a.onDelete=a.onDelete.bind(a),a.doDelete=a.doDelete.bind(a),a.onExport=a.onExport.bind(a),a.openImport=a.openImport.bind(a),a.closeImport=a.closeImport.bind(a),a.onImport=a.onImport.bind(a),a.onZoomLess=a.onZoomLess.bind(a),a.onZoomMore=a.onZoomMore.bind(a),a.onZoomNormal=a.onZoomNormal.bind(a),a.toggleFooter=a.toggleFooter.bind(a),a.setFooterType=a.setFooterType.bind(a),a.onRowSortingChanged=a.onRowSortingChanged.bind(a),a.onTableViewSave=a.onTableViewSave.bind(a),a.updatePreferencesServerSide=(0,y.throttle)(a.updatePreferencesServerSide.bind(a),200,{leading:!1,trailing:!0}),a.state={selectedRows:{},editing:!1,creating:!1,deleting:!1,saving:!1,savingError:null,preferences:a.createPreferences(a.props.preferences)},"TABLE"===e.view.type?a.state.tableColumns=i(e.view,e.context):"PIVOT_TABLE"===e.view.type&&(a.state=p({},a.state,u(e.view,e.context))),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.Component),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.view,a=e.view;if("TABLE"===t.type){var n=t.info&&t.info.table&&t.info.table.columns,r=a.info&&a.info.table&&a.info.table.columns;n&&r&&n===r||this.setState({tableColumns:i(e.view,e.context)})}else"PIVOT_TABLE"===t.type&&t.info.pivotInfo!==a.info.pivotInfo&&this.setState(u(e.view,e.context))}},{key:"createPreferences",value:function(e){return 2===e.v?e:{v:2,time:0,columnWidths:{},order:[],zoom:0,footerData:{enabled:!1,columns:{}}}}},{key:"updatePreferences",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).saveServerSide,a=p({},this.state.preferences,{time:(new Date).getTime()},e);this.setState({preferences:a}),(void 0===t||t)&&this.updatePreferencesServerSide(this.props.updateUserPreferences,r({},this.props.saveId,a))}},{key:"updatePreferencesServerSide",value:function(e,t){e(t)}},{key:"checkUserPermissions",value:function(e){var t=this.props,a=(t.context,t.view);if(t.user.admin)return!0;var n=a.userPermissions;return(0,y.some)(n,function(t){return t[e]})}},{key:"checkModelReadOnly",value:function(){var e=this.props,t=e.context,a=e.view.data_model_id;return t.models[a].readOnly}},{key:"getData",value:function(){var e={},t=this.props.filter;t&&(e.filter=t);var a={endpoint:"/view/"+this.props.viewId+"/data",method:"POST",body:e};this.props.fetchToTabOptions(this.props.tabId,"data",a)}},{key:"componentDidMount",value:function(){this.getData()}},{key:"onColumnsSizeChange",value:function(e,t){this.updatePreferences({columnWidths:e},{saveServerSide:!t})}},{key:"onSelectionChange",value:function(e){var t=e.selectedRows;this.preventFormLooseOfChangesIfNeeded()||this.setState({selectedRows:t,creating:!1,creatingInitialData:null,editing:!1,editingData:null})}},{key:"_sendRequest",value:function(e,t){var a={endpoint:"/view/"+this.props.viewId+"/edit",method:"POST",body:{action:e,data:t}};return this.props.simpleFetch(a).then(function(e){return e.type===T.UI_TAB_SIMPLE_FETCH_SUCCESS?{success:!0,response:e.response}:{success:!1,response:e.response}})}},{key:"onCreate",value:function(){this.preventFormLooseOfChangesIfNeeded()||this.setState({creating:!0,creatingInitialData:null,selectedRows:{}})}},{key:"onDuplicate",value:function(){if(!this.preventFormLooseOfChangesIfNeeded()){var e=this.state.selectedRows,t=Object.keys(e)[0],a=(0,y.find)(this.props.data.data,function(e){return e.id===t});this.setState({creating:!0,creatingInitialData:p({},a,{id:null}),selectedRows:{}})}}},{key:"onEdit",value:function(){if(!this.preventFormLooseOfChangesIfNeeded()){var e=this.state.selectedRows,t=(0,y.filter)(this.props.data.data||[],function(t){return e[t.id]});this.setState({editing:!0,editingData:t,saving:!1,savingError:null})}}},{key:"onFormCancel",value:function(){this.setState({creating:!1,creatingInitialData:null,editing:!1,editingData:null,saving:!1,savingError:null})}},{key:"onFormSave",value:function(e){var t=this,a=this.state.creating,n=void 0;a?n={0:e}:(Array.isArray(e)||(e=[e]),n={},e.forEach(function(e){n[e.id]=e})),this.setState({saving:!0,savingError:null}),this._sendRequest(a?"create":"edit",n).then(function(e){if(e.success){var n=t.props.data.data||[],o=void 0,i=t.state.selectedRows;if(a){o=(0,y.clone)(n),e.response.data.forEach(function(e){o.push(e)});var l=e.response.data[0];l&&(i=r({},l.id,!0))}else{var s={};e.response.data.forEach(function(e){s[e.id]=e}),o=n.map(function(e){return s[e.id]||e})}t.props.updateTabOptions(t.props.tabId,{data:{data:o}}),t.setState({saving:!1,creating:!1,creatingInitialData:null,editing:!1,editingData:null,savingError:null,selectedRows:i})}else{var u=(0,F.localizedErrorMessage)(t.props.intl,e.response,t.props.context),d=g.default.createElement("span",null,t.props.intl.formatMessage(U.genericSavingErrorMessage),u.message&&g.default.createElement("br",null),u.message||"");t.setState({saving:!1,savingError:d})}})}},{key:"onDelete",value:function(){var e=this.state.selectedRows;this.setState({deleting:!0,deletingRows:e})}},{key:"doDelete",value:function(){var e=this,t=this.state.deletingRows;this._sendRequest("remove",t).then(function(a){if(a.success){var n=(0,y.filter)(e.props.data.data||[],function(e){return!t[e.id]});e.props.updateTabOptions(e.props.tabId,{data:{data:n}}),e.setState({deleting:!1,selectedRows:{}})}else e.setState({deleting:!1})})}},{key:"onTableViewSave",value:function(e){var t=this,a=void 0;return Array.isArray(e)||(e=[e]),a={},e.forEach(function(e){a[e.id]=e}),this._sendRequest("edit",a).then(function(e){if(e.success){var a,n=t.props.data.data||[],r={};return e.response.data.forEach(function(e){r[e.id]=e}),a=n.map(function(e){return r[e.id]||e}),t.props.updateTabOptions(t.props.tabId,{data:{data:a}}),{success:!0}}return console.error(e),{success:!1}})}},{key:"onZoomLess",value:function(e){e.preventDefault(),e.currentTarget.blur();var t=this.state.preferences.zoom;this.updatePreferences({zoom:Math.max(-10,t-1)})}},{key:"onZoomMore",value:function(e){e.preventDefault(),e.currentTarget.blur();var t=this.state.preferences.zoom;this.updatePreferences({zoom:Math.min(10,t+1)})}},{key:"onZoomNormal",value:function(e){e.preventDefault(),e.currentTarget.blur(),this.updatePreferences({zoom:0})}},{key:"toggleFooter",value:function(e){e.currentTarget.blur();var t=this.state.preferences,a=t&&t.footerData&&t.footerData.enabled,n=p({},t&&t.footerData,{enabled:!a});this.updatePreferences({footerData:n})}},{key:"setFooterType",value:function(e,t){var a=this.state.preferences,n=p({},a&&a.footerData,{columns:p({},a&&a.footerData&&a.footerData.columns,r({},e,t))});this.updatePreferences({footerData:n})}},{key:"onRowSortingChanged",value:function(e){this.updatePreferences({order:e})}},{key:"onExport",value:function(e){var t=this.props.view;this.tableView.exportData(e,t.name)}},{key:"openImport",value:function(){this.setState({importing:!0})}},{key:"closeImport",value:function(){this.setState({importing:!1})}},{key:"onImport",value:function(e){var t=this;return this._sendRequest("create",e).then(function(e){if(e.success){var a=t.props.data.data||[],n=(0,y.clone)(a);return e.response.data.forEach(function(e){n.push(e)}),t.props.updateTabOptions(t.props.tabId,{data:{data:n}}),{success:!0}}return console.error(e),{success:!1}}).catch(function(e){return console.error(result),{success:!1}}).then(function(e){return e.success&&t.setState({importing:!1}),e})}},{key:"createImportWizardTargetObjects",value:function(){var e=this.props,t=e.view,a=e.context,n=[];return(0,y.each)(a.viewColumns,function(e){if(e.data_view_id===t.id&&e.edit&&e.field_id){var a=void 0;if(t.info&&t.info.editForm){var r=(0,L.getAllByType)(t.info.editForm,"input");(0,y.each)(r,function(t){if(t.viewColumnId===e.id)return a=t.name,!1})}if(!a&&t.info&&t.info.table&&t.info.table.columns&&(0,y.each)(t.info.table.columns,function(t){if(t.viewColumnId===e.id)return a=t.name,!1}),!a)return;n.push({fieldId:e.field_id,relationId:e.relation_id||void 0,relationIsBack:e.relation_id?e.relation_is_back:void 0,label:a,key:"vcol_"+e.id})}}),n}},{key:"getEmptyViewElement",value:function(){return g.default.createElement("div",{className:"view-empty-container"},g.default.createElement(x.FormattedMessage,{id:"View.emptyView",defaultMessage:"Empty view"}))}},{key:"preventFormLooseOfChangesIfNeeded",value:function(){if("FORM"===this.props.view.type){if(this.state.creating){var e=this.props.intl.formatMessage(U.saveOrCancelCreating);return A.toast.warn(e,{autoClose:4e3}),!0}if(this._form&&this._form.isChanged()){var t=this.props.intl.formatMessage(U.saveOrCancelEditing);return A.toast.warn(t,{autoClose:4e3}),!0}}return!1}},{key:"tabCanBeClosed",value:function(e){var t=!0;"FORM"===this.props.view.type&&(this.state.creating?t=!1:this._form&&this._form.isChanged()&&(t=!1)),t?e(!0):e(!1,!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.view,n=t.filter,r=(t.user,t.context),o=t.data,i=t.dataLoading,l=t.dataFailed,s=(t.saveId,t.intl),u=t.tabId,d=this.state.tableColumns,c="TABLE"===a.type,f="PIVOT_TABLE"===a.type,m="FORM"===a.type,h=s.formatMessage,b=this.state,v=b.selectedRows,T=b.creating,I=b.editing,F=b.deleting,A=b.preferences,L=b.saving,j=b.savingError,q=b.importing,G=A||{},z=G.columnWidths,H=G.order,W=G.footerData,$=(0,y.size)(v),K=Math.min(10,Math.max(-10,A.zoom||0)),Q=o&&o.data,X=l||null,Y={outline:!0},Z=void 0,J=void 0,ee=void 0,te=void 0;J=!f&&this.checkUserPermissions("write"),Z=!f&&!this.checkModelReadOnly()&&J,te=!f&&!this.checkModelReadOnly()&&this.checkUserPermissions("delete");var ae=!0;if(Z&&n){var ne=(0,y.some)(n,function(e,t){var a=t.split("_");if("obj"===a[0]){var n="back"===a[1],o=parseInt(n?a[2]:a[1],10),i=r.relations[o];if(i)return!(0,R.isRelationMulti)(i.type,!n)}});ne&&(ae=!1),Q&&Q.length>0&&ne&&(Z=!1)}Z&&n&&Q&&Q.length>0&&(0,y.some)(n,function(e,t){var a=t.split("_");if("obj"===a[0]){var n="back"===a[1],o=parseInt(n?a[2]:a[1],10),i=(0,y.find)(r.viewColumns,function(e){return!e.field_id&&e.relation_id===o&&e.relation_is_back===n});return!i||!i.edit}if("id"===t)return!0})&&(Z=!1),ae=ae&&Z,ee=Z,J&=$>0,te&=$>0,ee&=1===$;var re=!1,oe=null,ie=void 0;if(T?this.state.creatingInitialData?(re="duplicate",oe=this.state.creatingInitialData):(re="create",oe={}):I&&(re="edit",oe=this.state.editingData),!re&&"FORM"===a.type){re="edit";var le=B(Q||[],function(e){return v[e.id]});oe=le}re&&n&&(ie={},(0,y.map)(n,function(e,t){var a=t&&t.split(".");if(t=a&&a[0]){if(-1!==t.indexOf("obj_")){var n=t.match(/^obj_(back_)?([0-9]*)$/),o=!!n[1],i=parseInt(n[2],10),l=r.relations[i];l&&(0,R.isRelationMulti)(l.type,o)&&(e=[e])}ie[t]=e}})),"create"===re&&ie&&(0,y.each)(ie,function(e,t){0===t.indexOf("obj_")&&(e=Array.isArray(e)?e.map(function(e){return{id:e}}):{id:e}),oe[t]=e});var se=null,ue=null,de=!1;if(c)de=!0,se=d.length>0?g.default.createElement(E.default,{ref:function(t){return e.tableView=t},context:r,view:a,columns:d,columnWidths:z,rows:Q,zoom:K,loading:i,loadingError:X,onColumnsSizeChange:this.onColumnsSizeChange,canSelectRow:!0,notCancelSelectionOnClickOutside:!0,onSelectionChange:this.onSelectionChange,selectedRows:v,onRowSortingChanged:this.onRowSortingChanged,order:H,textFilter:this.state.textFilter||null,inlineEditing:!0,onSave:this.onTableViewSave,footerData:W,setFooterType:this.setFooterType,privacy:window.privacy}):this.getEmptyViewElement();else if(f){var ce=a.info.pivotInfo,fe=this.state,pe=fe.pivotColumns,me=fe.pivotRows,he=fe.pivotValue;se=i||X||me.length>0?g.default.createElement(w.default,{ref:function(t){return e.tableView=t},pivotColumns:pe,pivotRows:me,pivotValue:he,showTotalColumn:ce.showTotalColumn,totalColumnName:ce.totalColumnName,rows:Q,columnWidths:z,zoom:K,loading:i,loadingError:X,onColumnsSizeChange:this.onColumnsSizeChange,canSelectRow:!0,notCancelSelectionOnClickOutside:!0,onSelectionChange:this.onSelectionChange,selectedRows:v,textFilter:this.state.textFilter||null,privacy:window.privacy}):this.getEmptyViewElement()}else m&&(se=g.default.createElement("div",{className:"form-view-container"},g.default.createElement(k.default,{ref:function(t){return e._form=t},view:a,context:r,type:re,form:a.info.form,data:oe,filter:ie,onCancel:this.onFormCancel,onSave:this.onFormSave,loading:L,error:j})),ue=i||X||Q&&Q.length>0?g.default.createElement("div",{className:"form-view-list-container"},g.default.createElement(_.Input,{value:this.state.textFilter||"",onChange:function(t){return e.setState({textFilter:t.currentTarget.value||null})},type:"search",placeholder:h(U.searchPlaceholder)}),g.default.createElement(C.default,{context:r,view:a,rows:Q,loading:i,loadingError:X,canSelectRow:"single",notCancelSelectionOnClickOutside:!0,onSelectionChange:this.onSelectionChange,selectedRows:v,order:null,textFilter:this.state.textFilter||null,privacy:window.privacy})):g.default.createElement("div",{className:"form-view-list-container"},this.getEmptyViewElement()));var ge=!f&&!m;return g.default.createElement("div",{className:(0,N.default)("view-container",c&&"view-container-table-view",f&&"view-container-pivot-view",m&&"view-container-form-view")},g.default.createElement(P.default,{tabId:u}),g.default.createElement("div",{className:"view-content-wrapper"},ue,g.default.createElement("div",{className:"view-content"},g.default.createElement("div",{className:"view-buttons-container"},!f&&g.default.createElement(_.ButtonGroup,null,g.default.createElement(_.Button,p({},Y,{disabled:!Z,onClick:this.onCreate}),g.default.createElement(x.FormattedMessage,{id:"View.buttons.createRow",defaultMessage:"Create"})),!m&&g.default.createElement(_.Button,p({},Y,{disabled:!J,onClick:this.onEdit}),g.default.createElement(x.FormattedMessage,{id:"View.buttons.editRow",defaultMessage:"Edit"})),g.default.createElement(_.Button,p({},Y,{disabled:!ee,onClick:this.onDuplicate}),g.default.createElement(x.FormattedMessage,{id:"View.buttons.duplicateRow",defaultMessage:"Duplicate"})),g.default.createElement(_.Button,p({},Y,{disabled:!te,onClick:this.onDelete}),g.default.createElement(x.FormattedMessage,{id:"View.buttons.deleteRow",defaultMessage:"Delete"}))),!m&&g.default.createElement(_.ButtonGroup,null,g.default.createElement(_.ButtonDropdown,{isOpen:this.state.exportDropdown,toggle:function(){e.setState({exportDropdown:!e.state.exportDropdown})}},g.default.createElement(_.DropdownToggle,p({tag:_.Button},Y),g.default.createElement(x.FormattedMessage,{id:"View.buttons.export",defaultMessage:"Export"})),g.default.createElement(_.DropdownMenu,null,g.default.createElement(_.DropdownItem,{onClick:function(){return e.onExport("copy")}},g.default.createElement(x.FormattedMessage,{id:"View.buttons.export.copy",defaultMessage:"Copy"})),g.default.createElement(_.DropdownItem,{onClick:function(){return e.onExport("excel")}},"Excel"),g.default.createElement(_.DropdownItem,{onClick:function(){return e.onExport("csv")}},"CSV"),g.default.createElement(_.DropdownItem,{onClick:function(){return e.onExport("pdf")}},"PDF"),!document.body.classList.contains("app-electron")&&g.default.createElement(_.DropdownItem,{onClick:function(){return e.onExport("print")}},g.default.createElement(x.FormattedMessage,{id:"View.buttons.export.print",defaultMessage:"Print"}))))),ge&&g.default.createElement(_.ButtonGroup,null,g.default.createElement(_.Button,p({},Y,{disabled:!ae,onClick:this.openImport}),g.default.createElement(x.FormattedMessage,{id:"View.buttons.import",defaultMessage:"Import"}))),!m&&g.default.createElement(_.ButtonGroup,null,g.default.createElement(_.Button,p({},Y,{onClick:this.onZoomLess}),g.default.createElement(O.default.ZoomMinus,null)),g.default.createElement(_.Button,p({},Y,{onClick:this.onZoomNormal}),g.default.createElement(O.default.ZoomNormal,null)),g.default.createElement(_.Button,p({},Y,{onClick:this.onZoomMore}),g.default.createElement(O.default.ZoomPlus,null))),!f&&!m&&g.default.createElement(_.ButtonGroup,null,g.default.createElement(_.Button,p({},Y,{style:p({},Y.style,{paddingTop:8,paddingBottom:4}),onClick:this.toggleFooter}),g.default.createElement(D.default,{style:{width:13,height:13}}))),!m&&g.default.createElement("div",{className:"pull-right"},g.default.createElement(_.Input,{value:this.state.textFilter||"",onChange:function(t){return e.setState({textFilter:t.currentTarget.value||null})},type:"search",placeholder:h(U.searchPlaceholder)}))),se)),g.default.createElement(M.default,{open:F,dialogType:"confirm",title:h(U.deleteTitle,{numberOfRows:$}),message:h(U.deleteMessage,{numberOfRows:$}),successButton:h(U.deleteButton),successColor:"danger",onSuccess:this.doDelete,onCancel:function(){return e.setState({deleting:!1,deletingRows:null})}}),de&&g.default.createElement(S.default,{view:a,context:r,open:!!re,type:re,editForm:a.info.editForm,data:oe,filter:ie,onCancel:this.onFormCancel,onSave:this.onFormSave,loading:L,error:j}),ge&&g.default.createElement(V.default,{modal:!0,isOpen:q,closeModal:this.closeImport,targetObjects:this.createImportWizardTargetObjects(),onImport:this.onImport,saveIdPrefix:"ImportWizard_view_"+a.id+"_"}))}}]),t}(),d.propTypes={tabId:b.default.any.isRequired,viewId:b.default.number.isRequired,filter:b.default.any,data:b.default.object,dataLoading:b.default.bool,dataFailed:b.default.any},c),q={updateTabOptions:T.updateTabOptions,fetchToTabOptions:T.fetchToTabOptions,simpleFetch:T.simpleFetch,updateUserPreferences:T.updateUserPreferences};t.default=(0,v.connect)(function(e,t){var a=t.viewId,n=e.auth.user,r=e.context.views,o=r&&r[a],i=n&&o&&"DataTables_user_"+n.id+"_view_"+o.id,l=i&&n&&n.preferences&&n.preferences[i]||{};return{user:n,context:e.context,view:o,saveId:i,preferences:l}},q,null,{withRef:!0})((0,x.injectIntl)(j,{withRef:!0}))},54:function(e,t,a){"use strict";function n(e,t,a,n){var r,o=-1;return t.id&&(0,d.some)(n[t.id].relations,function(e){if(void 0!==e.groupIndex)return o=e.groupIndex,!0}),-1!==o?r=a[o]:(r={index:o=a.length,_allRelations:[]},a.push(r)),r._allRelations.push(t),t.id||(r.isNew=!0),t.id&&_.each(n[t.id].relations,function(e){e.groupIndex=o}),r}function r(e,t,a,n){a.otherRelations=[],a.relations=[];var r={},o=function(n){var o=n.id;if(!r[o]){var i=!1,l=!1,s=null;if(n.id&&(n.model_from_id!==t.id?(i=!0,!s&&(0,c.isAncestor)(e,n.model_from_id,t)&&(s="virtualModel")):s="inverseRelation",n.model_to_id!==t.id?(l=!0,!s&&(0,c.isAncestor)(e,n.model_to_id,t)&&(s="virtualModel")):s="inverseRelation"),!l||!i){var u={relation:n,showForward:!i,showBackward:!l};a.relations.push(u)}(l||i)&&(u={relation:n,showForward:i,showBackward:l,associationMessage:s},a.otherRelations.push(u)),r[o]=!0}};_.each(a._allRelations,function(e){o(e)}),a.isNew?(a._allRelations[0].__reactKey||(a._allRelations[0].__reactKey="new-rel-"+f++),a.key=a._allRelations[0].__reactKey):a.key=a._allRelations.map(function(e){return e.id}).join("-"),a.isNew||_.each(a._allRelations,function(e){_.each(n[e.id].relations,function(e){var t=e.rel;o(t)})})}function o(e){var t=e.split("_TO_");return t[1]+"_TO_"+t[0]}function i(e){return!(!e.model_from_auto_field_id||!e.model_to_auto_field_id)}function l(e){return!!e.two_steps_relation1_id}function s(e){return!!e.createFromVirtualRelation}function u(e,t,a){if(a.id){if(e)return e===a.id?a:t.models[e];throw new Error("Error getting model from invalid modelId")}return e?t.models[e]:a}Object.defineProperty(t,"__esModule",{value:!0}),t.createGroups=function(e,t,a){var o={};(0,d.each)(a,function(t){t.id&&(o[t.id]=o[t.id]||{rel:t,relations:[]},o[t.id].relations.push(o[t.id]),(0,d.each)(t.mappedRelations,function(a){var n=e.relations[a];o[n.id]=o[n.id]||{rel:n,relations:[]},o[t.id].relations.push(o[n.id])}),(0,d.each)(t.inverseMappedRelations,function(a){var n=e.relations[a];o[n.id]=o[n.id]||{rel:n,relations:[]},o[t.id].relations.push(o[n.id])}))});var i=[];return(0,d.each)(a,function(e){n(t,e,i,o)}),(0,d.each)(i,function(a){r(e,t,a,o)}),i},t.addNewRelation=function(e,t,a,o){if(a.id)throw new Error("addNewRelations(model, relation, groups): should be a new relation");return o=(0,d.clone)(o),r(e,t,n(t,a,o)),o},t.inverseRelationType=o,t.isRelationMulti=function(e,t){return"MANY_TO_MANY"===e||e===(t?"MANY_TO_ONE":"ONE_TO_MANY")},t.isAdvanced=function(e){return i(e)||l(e)||s(e)||e.func},t.isAutoRelation=i,t.isTwoStepsRelation=l,t.isCreateFromVirtualRelation=s,t.getTwoStepsRelationInfo=function(e,t,a,n){var r=u(e.model_from_id,t,a),o=u(e.two_steps_middle_model_id,t,a),i=u(e.model_to_id,t,a),l=(0,d.find)(n,function(t){return t.id===e.two_steps_relation1_id})||(0,d.find)(t.relations,function(t){return t.id===e.two_steps_relation1_id}),s=(0,d.find)(n,function(t){return t.id===e.two_steps_relation2_id})||(0,d.find)(t.relations,function(t){return t.id===e.two_steps_relation2_id}),c=e.twoStepsRelation1IsBack,f=e.twoStepsRelation2IsBack;return{model1:r,model2:o,model3:i,relation1:l,relation2:s,relation1Name:e.twoStepsRelation1IsBack?l.nameBackward:l.nameForward,relation2Name:e.twoStepsRelation2IsBack?s.nameBackward:s.nameForward,relation1IsBack:c,relation2IsBack:f}},t.getCreateFromVirtualRelationInfo=function(e,t,a,n){var r=t.relations[e.createFromVirtualRelation],i=e.createFromVirtualRelationInverse,l=r.model_from_id!==(i?e.model_to_id:e.model_from_id),s=u(l?r.model_from_id:r.model_to_id,t,a),d=l?r.nameForward:r.nameBackward,c=i?!l:l,f=u(e.model_from_id,t,a),p=u(e.model_to_id,t,a);return{model:c?f:p,otherModel:c?p:f,modelFrom:f,modelTo:p,virtualModel:s,virtualModelRelation:r,virtualToOtherModelRelationName:d,inverse:i,type:i?o(r.type):r.type}},t.getViewRelationSearchQuery=function(e,t,a,n){return{endpoint:"/view/"+t+"/search/"+a+"/"+(e.viewColumns[a].relation_is_back?"true":"false"),method:"GET"}},t.parseRelationFunction=function(e,t){if(t.func){var a=t.func.match(/^SELECT\(([^;]*);(.*);([^;]*) (ASC|DESC)\)$/);if(a){var n=a[1],r=a[2],o=a[3],i=a[4],l=void 0,s=void 0;(0,d.some)(e.relations,function(e){return e.model_from_id===t.model_from_id&&e.nameForward===n?(l=e.id,s=!1,!0):e.model_to_id===t.model_from_id&&e.nameBackward===n?(l=e.id,s=!0,!0):void 0}),e.models[t.model_to_id];var u=void 0;return(0,d.some)(e.fields,function(e){if(e.data_model_id===t.model_to_id&&e.name===o)return u=e.id,!0}),l&&u&&(t.selectFunction={relationId:l,relationIsBack:s,where:r,orderBy:u,order:i}),t}}return t};var d=a(5),c=a(114),f=1},546:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){return-1!==e.toLowerCase().indexOf(t)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.filterOptionsForValue=function(e,t){var a=e.type1,n=void 0;switch(a){case"TEXT":case"ENUM":case"TEXT_ARRAY":var r={};t&&(Array.isArray(t)?t.forEach(function(e){return r[e]=!0}):r[t]=!0),n={type:"text",emptySelected:!t,selected:r,filterText:null};break;case"INTEGER":case"DOUBLE":case"DECIMAL":"string"==typeof t&&(t=parseFloat(t)),n=t?{type:"range",min:t,max:t,storeNumberAsString:"DECIMAL"===a}:null;break;case"BOOLEAN":n={type:"boolean",trueSelected:!!t,falseSelected:!t};break;case"DATE":case"TIME":case"DATETIME":n=t?{type:"datetime-range",min:t,max:t}:null}return n},t.applyFilter=function(e,t,a){if(!a)return!0;if("range"===a.type){var n=e[t];if(a.storeNumberAsString){if(!n)return!1;try{n=parseFloat(n)}catch(e){n=null}}if("number"!=typeof n)return!1;var r=a.min,o=a.max;return n<=o&&n>=r}if("text"===a.type){if(a.selected&&!(0,v.some)(a.selected))return!0;var i=e[t];return"string"==typeof i&&(i=[i]),Array.isArray(i)&&i.length>0?(0,v.some)(i,function(e){return"string"==typeof e&&""!==e?a.selected&&a.selected[e]:e||1!==i.length?void 0:a.emptySelected}):a.emptySelected}if("datetime-range"===a.type){var l=e[t];if("string"!=typeof l)return!1;var s=a.min;return l<=a.max&&l>=s}if("boolean"===a.type){var u=e[t];return u&&a.trueSelected||!u&&a.falseSelected}return!0};var d=a(0),c=n(d),f=n(a(1)),p=(n(a(3)),a(6)),m=n(a(98)),h=n(a(258)),g=(n(a(49)),a(1081)),b=a(8),v=a(5),y=a(99),E=n(a(19)),w=(0,p.defineMessages)({textSearch:{id:"DataTypeFilter.text.search",defaultMessage:"Search..."}}),C=(l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeNumberRange=a.onChangeNumberRange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"renderButtons",value:function(){var e=this.props,t=e.close,a=e.setFilter;return c.default.createElement("div",null,c.default.createElement(b.Button,{outline:!0,onClick:function(e){e.target.blur(),a(null)}},c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.clearFilter",defaultMessage:"Clear filter"})),c.default.createElement("div",{className:"pull-right"},c.default.createElement(b.Button,{outline:!0,onClick:t},c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.ok",defaultMessage:"Ok"}))))}},{key:"onChangeNumberRange",value:function(e,t,a,n){!e||e[0]===t&&e[1]===a?this.props.setFilter(null):this.props.setFilter({type:"range",min:e[0],max:e[1],storeNumberAsString:n})}},{key:"renderNumberFilter",value:function(e,t){var a=this,n=this.props,r=n.rows,o=n.dataKey,i=n.filterOptions,l=1/0,s=-1/0;if(r&&r.forEach(function(e){var a=e[o];if(t){if(!a)return;try{a=parseFloat(a)}catch(e){a=null}}"number"==typeof a&&(l=Math.min(l,a),s=Math.max(s,a))}),l===1/0&&s===-1/0)return c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.noValues",defaultMessage:"No values"});var u=i&&"number"==typeof i.min?i.min:l,d=i&&"number"==typeof i.max?i.max:s;return c.default.createElement("div",{style:{width:250}},c.default.createElement("div",{className:"form-inline",style:{paddingTop:4}},c.default.createElement(b.FormGroup,{style:{flexFlow:"row",width:"100%"}},c.default.createElement(m.default,{style:{flexShrink:1,minWidth:0},value:u,decimalDigits:e,onChange:function(e){return a.onChangeNumberRange([e,d],l,s,t)}})," - ",c.default.createElement(m.default,{style:{flexShrink:1,minWidth:0},value:d,decimalDigits:e,onChange:function(e){return a.onChangeNumberRange([u,e],l,s,t)}}))),c.default.createElement("div",{style:{padding:"10px 2px"}},c.default.createElement(g.Range,{allowCross:!1,value:[u,d],min:l,max:s,onChange:function(e){return a.onChangeNumberRange(e,l,s,t)}})),this.renderButtons())}},{key:"onTextSelectAll",value:function(e,t){e?this.props.setFilter(null):this.props.setFilter({type:"text",emptySelected:!1,selected:{},filterText:t})}},{key:"onTextSelectAllFiltered",value:function(e,t,a){var n=void 0;if(e){var r=a.toLowerCase();n=(0,v.mapValues)(t,function(e,t){return o(t,r)})}else n=(0,v.mapValues)(t,function(e,t){return!1});this.props.setFilter({type:"text",emptySelected:!1,selected:n,filterText:a})}},{key:"onTextOption",value:function(e,t,a,n,o){this.props.filterOptions;var i=s({},n,r({},e,t));a&&(0,v.every)(i)?this.props.setFilter(null):this.props.setFilter({type:"text",emptySelected:a,selected:i,filterText:o})}},{key:"onTextEmptySelect",value:function(e,t,a){e&&(0,v.every)(t)?this.props.setFilter(null):this.props.setFilter({type:"text",emptySelected:e,selected:t,filterText:a})}},{key:"onTextFilterInputChanged",value:function(e,t){if(e){var a=e.toLowerCase(),n=(0,v.mapValues)(t,function(e,t){return o(t,a)});this.props.setFilter({type:"text",emptySelected:!1,selected:n,filterText:e})}else this.props.setFilter(null)}},{key:"renderTextFilter",value:function(){var e=this,t=this.props,a=t.rows,n=t.dataKey,r=t.filterOptions,i=t.intl.formatMessage,l={},s=!1;if(a&&a.forEach(function(e){var t=e[n];"string"==typeof t&&(t=[t]),Array.isArray(t)&&t.length>0?t.forEach(function(e){"string"==typeof e&&""!==e?l[e]=!0:e||(s=!0)}):s=!0}),0===(0,v.size)(l))return c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.noValues",defaultMessage:"No values"});var u=(0,v.sortBy)(Object.keys(l),function(e){return e.toLowerCase()}),d=r&&r.filterText||"",f=d.toLowerCase(),m=!r,h=m||r&&r.emptySelected||!1,g=(0,v.mapValues)(l,function(e,t){return m||r.selected&&r.selected[t]||!1}),y=d&&(0,v.every)(g,function(e,t){return!(!e&&o(t,f))}),E=u.map(function(t){return d&&!o(t,f)?null:c.default.createElement("li",{key:"option-"+t},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:g[t]||!1,onChange:function(a){return e.onTextOption(t,a.currentTarget.checked,h,g,d)}}),t))});return c.default.createElement("div",{style:{width:250}},c.default.createElement("div",{style:{paddingTop:4}},c.default.createElement(b.FormGroup,{style:{width:"100%"}},c.default.createElement(b.Input,{style:{width:"100%"},placeholder:i(w.textSearch),value:d,onChange:function(t){return e.onTextFilterInputChanged(t.currentTarget.value,g)}}))),c.default.createElement("div",{style:{marginTop:-3,marginBottom:10}},c.default.createElement("ul",{className:"data-type-filter-text-options"},!d&&c.default.createElement("li",{key:"select-all"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:m,onChange:function(t){return e.onTextSelectAll(t.currentTarget.checked,d)}}),"[",c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.text.options.selectAll",defaultMessage:"Select all"}),"]")),d&&c.default.createElement("li",{key:"select-all-filtered"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:y,onChange:function(t){return e.onTextSelectAllFiltered(t.currentTarget.checked,g,d)}}),"[",c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.text.options.selectAllFiltered",defaultMessage:"Select all search results"}),"]")),s&&!d&&c.default.createElement("li",{key:"empty"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:h,onChange:function(t){return e.onTextEmptySelect(t.currentTarget.checked,g,d)}}),"[",c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.text.options.empty",defaultMessage:"Empty"}),"]")),E)),this.renderButtons())}},{key:"onChangeDateTimeRange",value:function(e,t,a){e[0]===t&&e[1]===a?this.props.setFilter(null):this.props.setFilter({type:"datetime-range",min:e[0],max:e[1]})}},{key:"renderDateTimeFilter",value:function(e){var t=this,a=this.props,n=a.rows,r=a.dataKey,o=a.filterOptions,i=1/0,l=-1/0;if(n&&n.forEach(function(e){var t=e[r];t&&"string"==typeof t&&(i=i<t?i:t,l=t<l?l:t)}),i===1/0&&l===-1/0)return c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.noValues",defaultMessage:"No values"});var s=o&&"string"==typeof o.min?o.min:i,u=o&&"string"==typeof o.max?o.max:l,d="DATE"===e||"DATETIME"===e,f="TIME"===e||"DATETIME"===e,m="DATETIME"===e?350:250;return c.default.createElement("div",{style:{width:m}},c.default.createElement("div",{className:"form-inline",style:{paddingTop:4,paddingBottom:10}},c.default.createElement(b.FormGroup,{style:{flexFlow:"row",width:"100%"}},c.default.createElement(h.default,{style:{flexShrink:1,minWidth:0},date:d,time:f,value:(0,y.datetimeParse)(s,e),onChange:function(a){return t.onChangeDateTimeRange([(0,y.datetimeFormat)(a,e),u],i,l)}})," - ",c.default.createElement(h.default,{style:{flexShrink:1,minWidth:0},date:d,time:f,value:(0,y.datetimeParse)(u,e),onChange:function(a){return t.onChangeDateTimeRange([s,(0,y.datetimeFormat)(a,e)],i,l)}}))),this.renderButtons())}},{key:"onBooleanOption",value:function(e,t){var a=this.props.filterOptions,n=s({type:"boolean",trueSelected:!0,falseSelected:!0},a,r({},e,t));n.trueSelected&&n.falseSelected?this.props.setFilter(null):this.props.setFilter(n)}},{key:"renderBooleanFilter",value:function(){var e=this,t=this.props,a=t.options,n=t.filterOptions,r=!n,o=[c.default.createElement("li",{key:"option-true"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:r||n.trueSelected||!1,onChange:function(t){return e.onBooleanOption("trueSelected",t.currentTarget.checked)}}),a&&a.boolean&&a.boolean.true||c.default.createElement(E.default.Check,{fixedWidth:!0}))),c.default.createElement("li",{key:"option-false"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:r||n.falseSelected||!1,onChange:function(t){return e.onBooleanOption("falseSelected",t.currentTarget.checked)}}),a&&a.boolean&&a.boolean.false||c.default.createElement(E.default.Uncheck,{fixedWidth:!0})))];return c.default.createElement("div",{style:{width:250}},c.default.createElement("div",{style:{marginTop:4,marginBottom:10}},c.default.createElement("ul",{className:"data-type-filter-boolean-options"},o)),this.renderButtons())}},{key:"render",value:function(){var e=this.props,t=e.dataKey,a=e.field;if(!t||!a)return c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.fieldNotGiven",defaultMessage:"You can't filter this column"});var n=a.type1;switch(n){case"TEXT":case"ENUM":case"TEXT_ARRAY":return this.renderTextFilter();case"INTEGER":case"DOUBLE":case"DECIMAL":var r=void 0;return"INTEGER"===n?r=0:"DECIMAL"===n&&(r=a.decimalDigits||0),this.renderNumberFilter(r,"DECIMAL"===n);case"BOOLEAN":return this.renderBooleanFilter();case"DATE":case"TIME":case"DATETIME":return this.renderDateTimeFilter(n)}return c.default.createElement(p.FormattedMessage,{id:"DataTypeFilter.unknownDataType",defaultMessage:"Error generating filter: unknown data type: {type}",values:{type:n}})}}]),t}(),i.propTypes={dataKey:f.default.string.isRequired,field:f.default.object.isRequired,options:f.default.object,rows:f.default.arrayOf(f.default.object),filterOptions:f.default.object,setFilter:f.default.func.isRequired,close:f.default.func.isRequired},l);t.default=(0,p.injectIntl)(C)},586:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=n(a(43)),f=n(a(257)),p=a(172),m=a(116),h=n(a(3)),g=a(5),b=n(a(19)),v=a(120),y=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.isSelected!==this.props.isSelected||e.cellData!==this.props.cellData||e.rowIndex!==this.props.rowIndex||e.column!==this.props.column||e.cellId!==this.props.cellId||!(0,g.isEqual)(e.style,this.props.style)||!(0,g.isEqual)(e.columnStats,this.props.columnStats)||e.ValueWrapper!==this.props.ValueWrapper}},{key:"render",value:function(){var e,t=this.props,a=t.cellData,n=t.rowData,r=t.rowIndex,o=t.column,l=t.cellId,s=t.columnSorting,d=t.style,g=t.isSelected,y=t.onLinkClick,E=t.inlineEditing,w=t.startInlineEditing,C=t.onCellSelection,k=t.columnStats,S=t.contextMenuId,_=t.ValueWrapper,x=o.field,T=[],M=!1,R=d;!x||void 0===a||null===a&&"BOOLEAN"!==x.type1?(e=o.defaultText||"",o.link&&(M=!x,e=u.default.createElement(c.default,{title:e,onClick:function(e){e.stopPropagation(),y(e)}},e))):e=u.default.createElement(f.default,{field:x,value:a,options:o.options});var I=E&&o.canEdit;if(I&&"function"==typeof I&&(I=I(r,n)),I){var O=u.default.createElement(c.default,{key:"edit-button",onClick:function(e){e.stopPropagation(),w()}},u.default.createElement(b.default.Pencil,null));T.push(O)}if(o.link){var F=o.link,N=F.relationId,A=F.relationIsBack,P=F.viewId;if("function"==typeof P&&(P=P(n,N,A)),P){var V=u.default.createElement(c.default,{className:"button-always-visible",key:"link-button",onClick:function(e){e.stopPropagation(),y(e)}},u.default.createElement(b.default.Link,null));T.push(V)}}return o.conditionalFormatting&&o.conditionalFormatting.forEach(function(e){var t=(0,p.applyFormatting)(e.type,e,a,k);t&&(R=i({},R,t))}),_&&(e=u.default.createElement(_,null,e)),u.default.createElement(m.ContextMenuTrigger,{id:S,rowIndex:r,columnKey:o.key,collect:function(e){return e},renderTag:"div",attributes:{id:l,className:(0,h.default)("table-view-cell",(r+1)%2==1&&"table-view-row-odd",s===o.key&&"table-view-column-sort-dragging",g&&"table-view-row-selected",M&&"buttons-always-visible"),onClick:function(e){return C(e)},style:R},holdToDisplay:(0,v.getDefaultHoldToDisplayValue)()},e," ",T.length>0&&u.default.createElement("div",{className:"cell-buttons-container"},T))}}]),t}(),r.propTypes={cellData:d.default.any,rowData:d.default.object,rowIndex:d.default.number.isRequired,column:d.default.object.isRequired,style:d.default.any,columnSorting:d.default.string,onLinkClick:d.default.func.isRequired,inlineEditing:d.default.bool,startInlineEditing:d.default.func,onCellSelection:d.default.func.isRequired,columnStats:d.default.any,contextMenuId:d.default.string.isRequired,cellId:d.default.string.isRequired,isSelected:d.default.bool,ValueWrapper:d.default.any},o);t.default=y,e.exports=t.default},600:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,a(6).defineMessages)({row:{id:"LayoutEditor.element.row",defaultMessage:"Layout: Row"},column:{id:"LayoutEditor.element.column",defaultMessage:"Layout: Column"},input:{id:"LayoutEditor.element.input",defaultMessage:"Data input"}});t.default=n,e.exports=t.default},601:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),u=n(s),d=n(a(1)),c=a(18),f=(n(a(3)),a(6)),p=a(8),m=n(a(537)),h=a(132),g=n(h),b=a(99),v=a(22),y=a(54),E=a(91),w=a(5),C=a(171),k=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a.renderOption=a.renderOption.bind(a),a.renderValue=a.renderValue.bind(a),a.loadOptions=a.loadOptions.bind(a),a.cellMeasurerCache=new E.CellMeasurerCache({defaultHeight:50,minHeight:35,fixedWidth:!0}),a.state={loading:!1,error:!1,options:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"componentDidMount",value:function(){this.props.useFakeData||this.loadOptions()}},{key:"isMulti",value:function(){var e=this.props,t=e.context,a=e.viewColumn;if(a){var n=t.relations[a.relation_id];return(0,y.isRelationMulti)(n.type,a.relation_is_back)}return!1}},{key:"onChange",value:function(e){if(!this.props.useFakeData)if(this.isMulti()){var t=(e||[]).map(function(e){return e.id});this.props.onChange(t)}else{var a=e?e.id:null;this.props.onChange(a)}}},{key:"loadOptions",value:function(e){var t=this;if(!this.state.loading){this.setState({loading:!0,error:!1,options:null});var a=this.props,n=a.context,r=a.view,o=a.viewColumn,i=(0,y.getViewRelationSearchQuery)(n,r.id,o.id,e);this.props.simpleFetch(i).then(function(e){var a=void 0,n=void 0;e.type===v.UI_TAB_SIMPLE_FETCH_SUCCESS&&e.response.data?a=e.response.data:(a={},n=!0,console.error("Error searching relation data: view "+r.id+", column "+o.id),console.log(e));var i=t.props.searchTemplate;t.filterOptions=(0,C.createFilterOptionsForSearchTemplate)(i,a),t.setState({loading:!1,error:n,options:a})})}}},{key:"_renderItem",value:function(e,t){var a=this.props.searchTemplate,n=t?[]:this._inputValue?this._inputValue.match(C.wordsRegexp):[];return u.default.createElement(g.default,{data:e,searchTemplate:a,searchWords:n})}},{key:"renderValue",value:function(e){return this._renderItem(e,!0)}},{key:"renderOption",value:function(e){var t=e.focusedOption,a=e.focusOption,n=e.key,r=(e.labelKey,e.option),o=(e.optionIndex,e.options,e.selectValue),l=e.style,s=e.valueArray,d=["VirtualizedSelectOption"];r===t&&d.push("VirtualizedSelectFocusedOption"),r.disabled&&d.push("VirtualizedSelectDisabledOption"),s&&s.indexOf(r)>=0&&d.push("VirtualizedSelectSelectedOption"),r.className&&d.push(r.className);var c=r.disabled?{}:{onClick:function(){return o(r)},onMouseEnter:function(){return a(r)}},f=this._renderItem(r,!1),p=this._select&&this._select._listRef&&this._select._listRef.Grid,m=this._options?this._options.indexOf(r):0;return u.default.createElement(E.CellMeasurer,{cache:this.cellMeasurerCache,columnIndex:0,key:n,parent:p,rowIndex:m},u.default.createElement("div",i({className:d.join(" "),title:r.title,key:n,style:l},c),f))}},{key:"renderInput",value:function(){var e=this,t=this.props,a=t.value,n=t.disabled,r=t.searchTemplate,o=t.context,i=t.useFakeData,l=this.state,s=l.loading,d=l.error,c=l.options;if(d)return u.default.createElement(p.Alert,{color:"warning",style:{padding:"0.375rem 0.75rem"}},u.default.createElement(f.FormattedMessage,{id:"DataRelationInput.loading.error",defaultMessage:"Error loading the options"}));i&&(c=(0,h.generateFakeData)(r,o,null,null,3)),c!==this._options&&(this._options=c,this.cellMeasurerCache.clearAll());var g=void 0;if(a){var b=(0,w.findIndex)(c,function(e){return e.id===a});-1!==b&&(g=this.cellMeasurerCache.rowHeight({index:b}))}var v=this.isMulti();return u.default.createElement(m.default,{ref:function(t){return e._select=t},onInputChange:function(t){return e._inputValue=t},onBlurResetsInput:!0,onSelectResetsInput:!0,closeOnSelect:!0,escapeClearsValue:!0,options:c,clearable:!1,value:a,valueKey:"id",searchable:!0,multi:v,removeSelected:!1,onChange:this.onChange,disabled:n,optionRenderer:this.renderOption,valueRenderer:this.renderValue,isLoading:s,filterOptions:this.filterOptions,optionHeight:function(t){var a=t.option,n=c.indexOf(a);return e.cellMeasurerCache.rowHeight({index:n})},listProps:{deferredMeasurementCache:this.cellMeasurerCache},style:{height:g},onOpen:this.props.onOpen})}},{key:"render",value:function(){var e=this.props,t=e.inForm,a=e.formLabel,n=e.formLayout,r=this.renderInput();return t?(0,b.inputForm)(r,a,n):r}}]),t}(),r.propTypes={context:d.default.object.isRequired,view:d.default.object,viewColumn:d.default.object,searchTemplate:d.default.array,useFakeData:d.default.bool,value:d.default.oneOfType([d.default.oneOf([null]),d.default.string,d.default.arrayOf(d.default.string)]),onChange:d.default.func.isRequired,className:d.default.string,disabled:d.default.bool,inForm:d.default.bool,formLayout:d.default.string,formLabel:d.default.string},o),S={simpleFetch:v.simpleFetch};t.default=(0,c.connect)(function(e,t){return{}},S)(k),e.exports=t.default},602:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=(n(l),n(a(1))),u=a(18),d=a(5),c=a(22),f=a(187),p=a(133),m=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getOptionsForField=a.getOptionsForField.bind(a),a.state={dataValidationInfo:null,dataValidationLoading:!1,dataValidationError:!1},a.loadingPromise=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"getChildContext",value:function(){return{dataValidationLoading:this.state.dataValidationLoading,dataValidationError:this.state.dataValidationError,getOptionsForField:this.getOptionsForField}}},{key:"componentDidMount",value:function(){this.props.hasDataValidation&&this.loadDataValidationInfo()}},{key:"componentWillUnmount",value:function(){this.loadingPromise&&(this.loadingPromise=null)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this,n=this.context.formValues,r=t.formValues;if(n!==r){var o=this.state.groups;if(o){var i={},l={},s={};(0,d.each)(o,function(e,t){(0,d.each)(e,function(e,a){n[e.key]!==r[e.key]&&(i[t]=i[t]||!!r[e.key],l[e.fieldId]=!0)})}),(0,d.each)(i,function(e,t){var n=o[t];(0,d.each)(n,function(t,n){a.optionsCache[t.fieldId]=null,e&&!l[t.fieldId]&&(s[t.viewColumnId]=!0)})}),(0,d.each)(s,function(n,r){var o=e.context.viewColumns[r];a.createOptionsForColumnAndAutoSelect(o,e,t)})}}}},{key:"loadDataValidationInfo",value:function(){var e=this;if(!this.state.dataValidationLoading){this.setState({dataValidationInfo:null,dataValidationLoading:!1,dataValidationError:!1});var t=this.props.view,a=(0,f.getViewDataValidationQuery)(t.id),n=this.props.simpleFetch(a).then(function(a){if(e.loadingPromise===n){var r=null,o=!1;a.type===c.UI_TAB_SIMPLE_FETCH_SUCCESS&&a.response?r=a.response:(o=!0,console.error("Error getting data validation info: view "+t.id),console.log(a));var i=e.props,l=i.context,s=i.content,u={};(s&&(0,p.getAllByType)(s,"input")||[]).forEach(function(e){var t=e.viewColumnId,a=t&&l.viewColumns[t];if(a){var n=l.fields[a.field_id];if(n){var r=_.find(n.dataValidation,function(e){return e.source_group}),o=r&&r.source_group;if(o){var i=n.dataValidationSourceFieldId,s="vcol_"+a.id;u[o]=u[o]||{},u[o][i]={fieldId:n.id,viewColumnId:a.id,key:s}}}}}),e.setState({dataValidationInfo:r,dataValidationLoading:!1,dataValidationError:o,groups:u}),e.optionsCache={},e.loadingPromise=null}});this.loadingPromise=n}}},{key:"getOptionsForField",value:function(e){return this.state.dataValidationInfo?(this.optionsCache&&this.optionsCache[e.id]||this.createOptionsForField(e),this.optionsCache[e.id]&&this.optionsCache[e.id].options||[]):[]}},{key:"createOptionsForColumnAndAutoSelect",value:function(e,t,a){var n=t.context.fields[e.field_id];this.createOptionsForField(n,t,a,e.id)}},{key:"createOptionsForField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.context,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.state.dataValidationInfo;if(r){var o=e&&_.find(e.dataValidation,function(e){return e.source_group}),i=o&&o.source_group;if(i){var l=e.dataValidationSourceModelId,s=e.dataValidationSourceFieldId,u=r[l];if(u){var c=a.formValues,f=t.content,m=t.context,h={};(f&&(0,p.getAllByType)(f,"input")||[]).forEach(function(e){var t=e.viewColumnId,a=t&&m.viewColumns[t];if(a){var n=m.fields[a.field_id];if(n){var r=_.find(n.dataValidation,function(e){return e.source_group});if((r&&r.source_group)===i&&n.dataValidationSourceModelId==l){var o=n.dataValidationSourceFieldId,s="vcol_"+a.id;c[s]&&(h[o]=c[s])}}}});var g=u.map(function(e){return(0,d.every)(h,function(t,a){return(a=parseInt(a,10))===s||e["col_"+a]===t})?e["col_"+s]:null}).filter(function(e){return e});if(g=(0,d.uniq)(g),h[s]&&-1===g.indexOf(h[s])&&g.push(h[s]),n&&(0,d.size)(h)>0&&!h[s]&&1===g.length){var b="vcol_"+n;a.changeInputValue&&a.changeInputValue(b,g[0])}var v=g.map(function(e){return{value:e,label:e}});this.optionsCache=this.optionsCache||{},this.optionsCache[e.id]={options:v}}}}}},{key:"render",value:function(){var e=this.props.children;if(Array.isArray(e)&&e.length>1)throw new Error("DataValidationWrapper: only one children");return Array.isArray(e)?e[0]:e}}]),t}(),r.propTypes={children:s.default.any,content:s.default.any.isRequired,view:s.default.object.isRequired,hasDataValidation:s.default.bool.isRequired,context:s.default.object.isRequired},r.contextTypes={formValues:s.default.oneOfType([s.default.object,s.default.arrayOf(s.default.object)]),changeInputValue:s.default.func},r.childContextTypes={dataValidationLoading:s.default.bool,dataValidationError:s.default.bool,getOptionsForField:s.default.func},o),h={simpleFetch:c.simpleFetch};t.default=(0,u.connect)(function(e,t){t.view;var a=t.content,n=e.context,r=!1,o=a&&(0,p.getAllByType)(a,"input");return o&&(r=(0,d.some)(o,function(e){var t=e.viewColumnId,a=t&&n.viewColumns[t],r=a&&a.field_id&&n.fields[a.field_id];if(r){var o=r.dataValidation||[];return(o=o.filter(function(e){return r.dataValidationSourceModelId&&r.dataValidationSourceFieldId})).length>0}})),{hasDataValidation:r,context:n}},h)(m),e.exports=t.default},603:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){return e.sort()}function i(e,t){if(0===e.length)return[];var a=[];return function e(t,a,n,r,i){n!==a.length?o(Object.keys(t)).forEach(function(o){var l=Object.assign({},r);l[a[n].key]=o,e(t[o],a,n+1,l,i)}):i.push(r)}(t,e,0,{},a),a}function l(e,t,a){switch(a){case"COUNT":return(e||0)+t;case"MIN":return void 0===e?t:e>t?t:e;case"MAX":return void 0===e?t:e<t?t:e;case"SUM":return(e||0)+t}}function s(e,t,a,n){var i=[];return function e(t,a,n,i,s,u,d){return o(Object.keys(t)).map(function(o){var c=Object.assign({},i);c[a[n].key]=o,s.push({rowDepth:n,row:c});var f=t[o],p=d[o];if(n===a.length-1)c.values=f,c.totalValues=p;else{var m=e(f,a,n+1,c,s,u,p),h=v.mergeWith.apply(void 0,[{}].concat(r(m.map(function(e){return e.values})),[function(e,t,a,n,r,o){if(0===u.length||o.size===u.length)return void 0===t?e:l(e,t,a)}])),g=v.mergeWith.apply(void 0,[{}].concat(r(m.map(function(e){return e.totalValues})),[l]));c.values=h,c.totalValues=g}return c})}(t,e,0,{},i,n,a),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a(0),h=n(m),g=n(a(1)),b=n(a(232)),v=(n(a(3)),a(5)),y=n(a(1323)),E=a(187),w=(d=u=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.isRowVisible=n.isRowVisible.bind(n),n.isRowOpen=n.isRowOpen.bind(n),n.openRow=n.openRow.bind(n),n.closeRow=n.closeRow.bind(n),n.state=f({},n.generateRowsAndColumns(e),{closedRows:e.pivotRows.map(function(){return{}})}),n.state.visibleRows=n.generateVisibleRows(e,n.state),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.Component),p(t,[{key:"componentWillReceiveProps",value:function(e){var t,a,n;this.props.rows===e.rows&&this.props.pivotColumns===e.pivotColumns&&this.props.pivotRows===e.pivotRows&&this.props.pivotValue===e.pivotValue||(t=f({},this.state,this.generateRowsAndColumns(e)),this.props.pivotRows!==e.pivotRows&&(a=this.props.pivotRows,n=e.pivotRows,a.length!==n.length||(0,v.some)(a,function(e,t){var a=n[t];return e.key!==a.key}))&&(t.closedRows=e.pivotRows.map(function(){return{}})),t.visibleRows=this.generateVisibleRows(e,t)),(0,v.size)(t)>0&&this.setState(t)}},{key:"getDataRowValue",value:function(e,t){return-1!==t.indexOf(".")?t.split(".").reduce(function(e,t){return null!==e&&"object"===(void 0===e?"undefined":c(e))?e[t]:void 0},e):e[t]}},{key:"generateRowsAndColumns",value:function(e){var t=this,a=e.rows,n=e.pivotColumns,r=e.pivotRows,o=e.pivotValue,l=e.showTotalColumn,u=e.totalColumnName,d={columns:[],rows:[]};if(!a||0===a.length)return d;var c={},p={},m={};a.forEach(function(e){var a=c,i=m;r.forEach(function(n){var r=n.key,o=t.getDataRowValue(e,r);null===o||void 0===o?o="":"number"==typeof o&&(o=o.toString()),a[o]=a[o]||{},a=a[o],i[o]=i[o]||{},i=i[o]});var l=p;n.forEach(function(n){var r=n.key,o=t.getDataRowValue(e,r);null===o||void 0===o?o="":"number"==typeof o&&(o=o.toString()),l[o]=l[o]||{},l=l[o],a[o]=a[o]||{},a=a[o]});var s=e.count||1,u=t.getDataRowValue(e,o.key);[a,i].forEach(function(e){if(e.COUNT=(e.COUNT||0)+s,null!==u&&void 0!==u){var t=e.MIN,a=e.MAX,n=u;o.field&&"DECIMAL"===o.field.type1&&(t=parseFloat(t),a=parseFloat(a),n=parseFloat(n)),e.MIN=void 0===e.MIN?u:t>n?u:e.MIN,e.MAX=void 0===e.MAX?u:a<n?u:e.MAX,"number"!=typeof n||isNaN(n)||(e.SUM=(e.SUM||0)+n)}})});var h=i(n,p),g=s(r,c,m,n);if(d.columns.push({key:"pivot_col_rows",name:"",actualColumns:r.map(function(e){return{key:e.key,name:"",field:e.field}})}),h.forEach(function(e,t){var a="pivot_col_"+t,r=o.field;"COUNT"===o.aggregationType&&(r=f({},r,{type1:"INTEGER"})),d.columns.push({key:a,name:n.map(function(t){var a=t.key;return e[a]}),field:r})}),l){var b=o.field;"COUNT"===o.aggregationType&&(b=f({},b,{type1:"INTEGER"})),d.columns.push({key:"pivot_col_row_total",name:u||"",field:b})}return g.forEach(function(e,t){var a={id:"pivot_row_"+t,row:e.row,rowDepth:e.rowDepth},i=r[e.rowDepth].key;if(a.pivot_col_rows=e.row[i],h.forEach(function(t,r){var i="pivot_col_"+r,l=void 0,s=e.row.values;n.forEach(function(e){var a=t[e.key];s=s&&s[a]}),s&&("AVG"===o.aggregationType?"number"==typeof s.SUM&&s.COUNT&&(l=s.SUM/s.COUNT):l=s[o.aggregationType]),a[i]=l}),l){var s=void 0,u=e.row.totalValues;u&&("AVG"===o.aggregationType?"number"==typeof u.SUM&&u.COUNT&&(s=u.SUM/u.COUNT):s=u[o.aggregationType]),a.pivot_col_row_total=s}d.rows.push(a)}),d}},{key:"generateVisibleRows",value:function(e,t){var a=this;return t.rows.filter(function(n){return a.isRowVisible(n,e,t)})}},{key:"isRowVisible",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state,n=0;n<e.rowDepth&&e.rowDepth<a.closedRows.length;n++){var r=a.closedRows[n],o=t.pivotRows[n].key,i=e.row[o];if(null===i||void 0===i?i="":"number"==typeof i&&(i=i.toString()),r[i])return!1}return!0}},{key:"isRowOpen",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state;return e.rowDepth>=t.closedRows.length||!t.closedRows[e.rowDepth][e.pivot_col_rows]}},{key:"_openCloseRow",value:function(e,t){if(!(e.rowDepth>=this.state.closedRows.length)){var a=[].concat(r(this.state.closedRows));a[e.rowDepth]=Object.assign({},a[e.rowDepth]);var n=e.pivot_col_rows;t?delete a[e.rowDepth][n]:a[e.rowDepth][n]=!0;var o=f({},this.state,{closedRows:a});o.visibleRows=this.generateVisibleRows(this.props,o),this.setState(o)}}},{key:"openRow",value:function(e){this._openCloseRow(e,!0)}},{key:"closeRow",value:function(e){this._openCloseRow(e,!1)}},{key:"exportData",value:function(){this.tableView&&this.tableView.exportData.apply(this.tableView,arguments)}},{key:"render",value:function(){var e=this,t=this.props,a=t.pivotColumns,n=t.pivotRows,r=(t.pivotValue,t.rows,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["pivotColumns","pivotRows","pivotValue","rows"])),o=this.props.columnWidths;o&&o.pivot_col_rows||(o=f({},o,{pivot_col_rows:150}));var i=this.state,l=i.columns,s=i.visibleRows;return h.default.createElement(b.default,f({ref:function(t){return e.tableView=t},CellComponent:y.default,cellComponentProps:{pivotColumns:a,pivotRows:n,isRowOpen:this.isRowOpen,openPivotRow:this.openRow,closePivotRow:this.closeRow},columns:l,rows:s,columnWidths:o,numberOfHeaderRows:a.length||1},r))}}]),t}(),u.propTypes={loading:g.default.bool,loadingError:g.default.string,pivotColumns:g.default.arrayOf(g.default.shape({key:g.default.string.isRequired,field:g.default.object.isRequired})).isRequired,pivotRows:g.default.arrayOf(g.default.shape({key:g.default.string.isRequired,field:g.default.object.isRequired})).isRequired,pivotValue:g.default.shape({key:g.default.string.isRequired,field:g.default.object.isRequired,aggregationType:g.default.oneOf(E.pivotValueAggregationTypes).isRequired,conditionalFormatting:g.default.array}),showTotalColumn:g.default.bool,totalColumnName:g.default.string,rows:g.default.array,columnWidths:g.default.objectOf(g.default.number),onColumnsSizeChange:g.default.func,canSelectRow:g.default.oneOf([!0,!1,"single","multiple"]),canSelectColumn:g.default.oneOf([!0,!1,"single","multiple"]),selectedRows:g.default.objectOf(g.default.bool),selectedColumns:g.default.objectOf(g.default.bool),notCancelSelectionOnClickOutside:g.default.bool,onSelectionChange:g.default.func,textFilter:g.default.string},d);t.default=w,e.exports=t.default},604:function(e,t,a){"use strict";(function(n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var i,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),c=r(d),f=a(18),p=r(a(1)),m=r(a(3)),h=a(6),g=a(8),b=r(a(158)),v=r(a(49)),y=a(605),E=r(y),w=a(74),C=a(5),k=r(a(1328)),S=r(a(1333)),_=r(a(19)),x=a(47),T=a(22),M=(0,h.defineMessages)({delimiterSemicolon:{id:"ImportWizard.delimiter.semicolon",defaultMessage:"Semicolon"},delimiterComma:{id:"ImportWizard.delimiter.comma",defaultMessage:"Comma"},delimiterTab:{id:"ImportWizard.delimiter.tab",defaultMessage:"Tab"},delimiterSpace:{id:"ImportWizard.delimiter.space",defaultMessage:"Space"},importSuccessMessage:{id:"ImportWizard.import.success",defaultMessage:"Successfully imported {numberOfRows, plural, one {# entry} other {# entries}}"},importErrorMessage:{id:"ImportWizard.import.error",defaultMessage:"Error during import"}}),R=[{value:",",label:M.delimiterComma},{value:";",label:M.delimiterSemicolon},{value:"\t",label:M.delimiterTab},{value:" ",label:M.delimiterSpace}],I=[",","."],O=1,F=(l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.import=a.import.bind(a),a.onChangeImportColumns=a.onChangeImportColumns.bind(a),a.onChangeExcludeRows=a.onChangeExcludeRows.bind(a),a.askForFile=a.askForFile.bind(a),a.onSaveTemplateCheckbox=a.onSaveTemplateCheckbox.bind(a),a.onSaveTemplateChange=a.onSaveTemplateChange.bind(a),a.uniqueIdPrefix="ImportWizard-unique-id-"+O++,a.state=a.initialState(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"initialState",value:function(e){var t=v.default.localeData().delimiters.decimal;return{saving:!1,files:[],sheets:null,selectedSheetIndex:null,data:null,delimiter:R[0].value,decimalSeparator:t,startAtRow:0,importColumns:{},errors:{},excludeRows:{},parsedData:[],useTemplate:null,saveTemplate:null,savedTemplateName:null}}},{key:"updateStateAndProcessData",value:function(e){e=s({},this.state,e);var t=this.props.context,a=e,n=a.data,r=a.decimalSeparator,o=a.startAtRow,i=a.importColumns,l=a.excludeRows,u=a.delimiter,d=a.files,c=a.sheets,f=a.selectedSheetIndex;if(e.errors={},e.parsedData=[],u!==this.state.delimiter&&d&&d.length>0){var p=d[0];"csv"===p.type&&(n=(0,k.default)(p.buffer,u),e.data=n)}c&&f!==this.state.selectedSheetIndex&&(n=c[f].data,e.data=n),n&&n.forEach(function(a,n){e.parsedData[n]=[],a.forEach(function(a,s){if(e.parsedData[n][s]=null,!(n<o||l[n])){var u=i[s];if(u&&u.fieldId){var d=t.fields[u.fieldId];if(d){var c=u.dateFormat&&(0,y.dateFormatToMomentFormat)(u.dateFormat,"DATETIME"===d.type1),f=(0,w.parseValue)(d,a,{returnErrors:!0,decimalSeparator:r,dateFormat:c,trueValue:u.trueValue,falseValue:u.falseValue,separator:u.separator});void 0!==f&&(f instanceof Error?(e.errors[n]=e.errors[n]||{},e.errors[n][s]=f):e.parsedData[n][s]=f)}}}})}),this.setState(e)}},{key:"askForFile",value:function(){var e=this,t=document.createElement("input");t.type="file",t.accept=".csv,.xlsx",t.onchange=function(){var a=Array.prototype.slice.call(t.files);console.log("on file change...",a),0!==a.length&&Promise.all(a.map(function(e){return new Promise(function(t,a){var n=new FileReader;n.onload=function(a){t([a,e])},n.readAsArrayBuffer(e)})})).then(function(e){return e.map(function(e){var t=e[1].name.match(/[.]([^.]*)$/)[1];return{name:e[1].name,type:t,buffer:new n(e[0].target.result)}})}).then(function(t){var a=t[0];if("csv"===a.type){var n=e.state.delimiter,r=(0,k.default)(a.buffer,n);e.updateStateAndProcessData({files:t,sheets:null,selectedSheetIndex:null,data:r})}else"xlsx"===a.type&&(0,S.default)(a.buffer).then(function(a){var n=a&&a[0]&&a[0].data||null;e.updateStateAndProcessData({files:t,sheets:a,selectedSheetIndex:0,data:n})})})},t.click()}},{key:"componentWillReceiveProps",value:function(e){e.isOpen!==this.props.isOpen&&this.setState(this.initialState(e))}},{key:"import",value:function(){var e=this,t=this.props,a=t.intl,n=t.onImport,r=t.saveIdPrefix,i=t.updateUserPreferences,l=this.state,s=l.importColumns,u=l.startAtRow,d=l.excludeRows,c=(l.errors,l.parsedData),f=l.saveTemplate,p={};c.filter(function(e,t){return t>=u&&!d[t]}).forEach(function(e,t){var a={};e.forEach(function(e,t){var n=s[t];if(n){var r=n.key;a[r]=e}}),p[t]=a});var m={};f&&(i(o({},r+"##"+f,this.createTemplatePreferences())),m.savedTemplateName=f);var h=n(p);h&&h.then?(m.saving=!0,this.setState(m),h.then(function(t){if(e.setState({saving:!1}),t.success){var n=a.formatMessage(M.importSuccessMessage,{numberOfRows:(0,C.size)(p)});x.toast.success(n,{autoClose:4e3})}else{var r=a.formatMessage(M.importErrorMessage);x.toast.warn(r,{autoClose:4e3})}})):(0,C.size)(m)&&this.setState(m)}},{key:"createTemplatePreferences",value:function(){var e=this.state;return{decimalSeparator:e.decimalSeparator,delimiter:e.delimiter,startAtRow:e.startAtRow,selectedSheetIndex:e.selectedSheetIndex,importColumns:(0,C.mapValues)(this.state.importColumns,function(e){var t=(0,C.clone)(e);return delete t.key,t})}}},{key:"createTemplatesList",value:function(){var e=this.props,t=e.preferences,a=e.saveIdPrefix,n=[];return(0,C.each)(t,function(e,t){if(t.startsWith(a+"##")){var r=t.substring(a.length+2);n.push(r)}}),n}},{key:"useTemplate",value:function(e){if(e){var t=this.props,a=t.preferences,n=t.saveIdPrefix,r=t.targetObjects,o=this.state.sheets,i=a[n+"##"+e],l={};(0,C.each)(i.importColumns,function(e,t){var a=e.fieldId,n=e.relationId,o=e.relationIsBack,i=(0,C.find)(r,function(e){return(a||"")===(e.fieldId||"")&&(n||"")===(e.relationId||"")&&(!n||(o?"t":"f")==(e.relationIsBack?"t":"f"))});if(i&&i.key){var u=s({},e,{key:i.key});l[t]=u}});var u=i.decimalSeparator,d=i.delimiter,c=i.startAtRow,f=i.selectedSheetIndex;u||(u=v.default.localeData().delimiters.decimal),o?(f=f||0)&&f>=o.length&&(f=0):f=null,this.updateStateAndProcessData({useTemplate:e,delimiter:d||R[0].value,decimalSeparator:u,startAtRow:c||0,selectedSheetIndex:f,importColumns:l})}else this.updateStateAndProcessData({useTemplate:e})}},{key:"showWillOverrideTemplateWarning",value:function(){var e=this.state,t=e.saveTemplate,a=e.useTemplate;if(t===a)return!1;var n=this.props,r=n.preferences,o=n.saveIdPrefix;return(0,C.some)(r,function(e,a){if(a.startsWith(o+"##")){var n=a.substring(o.length+2);if(t===n)return!0}})}},{key:"changeImportSetting",value:function(e,t){this.updateStateAndProcessData(o({},e,t))}},{key:"onChangeImportColumns",value:function(e){this.updateStateAndProcessData({importColumns:e})}},{key:"onChangeExcludeRows",value:function(e){this.updateStateAndProcessData({excludeRows:e})}},{key:"onSaveTemplateCheckbox",value:function(e){if(e.target.checked){var t=this.state.useTemplate;this.setState({saveTemplate:t||""})}else this.setState({saveTemplate:null})}},{key:"onSaveTemplateChange",value:function(e){this.setState({saveTemplate:e.target.value||""})}},{key:"renderImportTable",value:function(){var e=this.props,t=e.targetObjects,a=e.context,n=e.intl,r=this.state,o=r.data,i=r.importColumns,l=r.startAtRow,s=r.excludeRows,u=r.errors,d=r.decimalSeparator;return c.default.createElement(E.default,{context:a,intl:n,data:o,importColumns:i,targetObjects:t,startAtRow:l,excludeRows:s,decimalSeparator:d,errors:u,onChangeImportColumns:this.onChangeImportColumns,onChangeExcludeRows:this.onChangeExcludeRows})}},{key:"renderImportErrorMessage",value:function(){var e=this.state.errors;return e&&(0,C.size)(e)?c.default.createElement("div",{className:"import-wizard-error-message-container"},c.default.createElement(h.FormattedMessage,{id:"ImportWizard.errors.message",defaultMessage:"There are errors parsing the table's data. Please fix the parsing options or exclude the rows with errors before importing."})):null}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.modal,r=t.isOpen,o=t.closeModal,i=a.formatMessage,l=this.state,s=l.delimiter,u=l.decimalSeparator,d=l.startAtRow,f=l.errors,p=l.importColumns,v=l.data,y=l.excludeRows,E=l.files,w=l.saveTemplate,k=l.saving,S=l.useTemplate,x=l.sheets,T=l.selectedSheetIndex,M=!n||r,O=p&&(0,C.size)(p)>0,F=v&&(0,C.some)(v,function(e,t){return t>=d&&!y[t]}),N=f&&(0,C.size)(f)>0,A=O&&F&&!N,P=E&&E.length>0,V=P&&E[0].type,L=M&&this.createTemplatesList(),D=M&&c.default.createElement("div",{className:"import-wizard-body"},c.default.createElement("div",{className:"import-wizard-ask-file"},c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"ImportWizard.askFile.label",defaultMessage:"Import file"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},!P&&c.default.createElement(g.Button,{outline:!0,onClick:this.askForFile},c.default.createElement(h.FormattedMessage,{id:"ImportWizard.askFile.button",defaultMessage:"Select a file"})),P&&c.default.createElement("div",null,E[0].name)))),P&&c.default.createElement("div",null,c.default.createElement("hr",null),c.default.createElement("div",{className:"import-wizard-settings"},c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"ImportWizard.useTemplate.label",defaultMessage:"Use existing import settings"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"select",value:S||"",onChange:function(t){return e.useTemplate(t.target.value)}},c.default.createElement("option",{key:"",value:""}," "),L.map(function(e){return c.default.createElement("option",{key:e,value:e},e)})))),"csv"===V&&c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"ImportWizard.delimiter.label",defaultMessage:"Delimiter"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"select",value:s,onChange:function(t){return e.changeImportSetting("delimiter",t.target.value)}},R.map(function(e){return c.default.createElement("option",{key:e.value,value:e.value},i(e.label))})))),x&&c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"ImportWizard.sheets.label",defaultMessage:"Select sheet"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"select",value:T,onChange:function(t){return e.changeImportSetting("selectedSheetIndex",parseInt(t.target.value,10))}},x.map(function(e,t){return c.default.createElement("option",{key:t,value:t},e.name)})))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"ImportWizard.decimalSeparator.label",defaultMessage:"Decimal separator"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"select",value:u,onChange:function(t){return e.changeImportSetting("decimalSeparator",t.target.value)}},I.map(function(e){return c.default.createElement("option",{key:e,value:e},e)})))),c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{md:"3"},c.default.createElement(g.Label,null,c.default.createElement(h.FormattedMessage,{id:"ImportWizard.startAtRow.label",defaultMessage:"Start at row"}))),c.default.createElement(g.Col,{xs:"12",md:"9"},c.default.createElement(g.Input,{type:"number",value:d+1,onChange:function(t){return e.changeImportSetting("startAtRow",Math.max(0,t.target.value-1))},min:1,step:1})))),c.default.createElement("hr",null),c.default.createElement("div",{className:"import-wizard-table-container"},this.renderImportTable()),this.renderImportErrorMessage(),c.default.createElement("hr",null),c.default.createElement("div",{className:"import-wizard-footer-settings"},c.default.createElement(g.FormGroup,{row:!0},c.default.createElement(g.Col,{xs:"12",lg:"6"},c.default.createElement(g.FormGroup,{check:!0,inline:!0},c.default.createElement(g.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-save-template",checked:w||""===w||!1,onChange:this.onSaveTemplateCheckbox}),c.default.createElement(g.Label,{className:"form-check-label",check:!0,htmlFor:this.uniqueIdPrefix+"-save-template"},c.default.createElement(h.FormattedMessage,{id:"ImportWizard.saveTemplate.checkboxLabel",defaultMessage:"Save import settings"})))),c.default.createElement(g.Col,{xs:"12",lg:"6"},c.default.createElement(h.FormattedMessage,{id:"ImportWizard.saveTemplate.templateNameLabel",defaultMessage:"Insert name"},function(t){return c.default.createElement(g.Input,{type:"text",value:w||"",placeholder:t,onChange:e.onSaveTemplateChange,disabled:!(w||""===w)})}),w&&this.showWillOverrideTemplateWarning()&&c.default.createElement(g.Alert,{color:"warning",style:{marginTop:10}},c.default.createElement(_.default.Warning,null)," ",c.default.createElement(h.FormattedMessage,{id:"ImportWizard.saveTemplate.templateNameExists",defaultMessage:"Same import settings have been already saved with this name and will be overridden"}))))))),B=c.default.createElement(h.FormattedMessage,{id:"ImportWizard.buttons.import",defaultMessage:"Import"}),U=c.default.createElement(h.FormattedMessage,{id:"ImportWizard.buttons.cancel",defaultMessage:"Cancel"});return k&&(A=!1,B=c.default.createElement("span",null,c.default.createElement(_.default.LoadingCircle,{fixedWidth:!0})," ",B)),n?c.default.createElement(b.default,{className:(0,m.default)("import-wizard","modal-import-wizard","modal-lg",this.props.className),isOpen:r||!1,draggable:!0,toggle:function(){return null}},c.default.createElement(g.ModalHeader,{toggle:o},c.default.createElement(h.FormattedMessage,{id:"ImportWizard.title",defaultMessage:"Import file"})),c.default.createElement(g.ModalBody,null,D),c.default.createElement(g.ModalFooter,null,c.default.createElement(g.Button,{color:"primary",onClick:this.import,disabled:!A},B)," ",c.default.createElement(g.Button,{color:"secondary",onClick:o},U))):"TODO: not modal import wizard..."}}]),t}(),i.propTypes={saveIdPrefix:p.default.string.isRequired,modal:p.default.bool,isOpen:p.default.bool,closeModal:p.default.func,targetObjects:p.default.arrayOf(p.default.shape({label:p.default.string,key:p.default.any,fieldId:p.default.number,relationId:p.default.number,relationIsBack:p.default.bool})).isRequired,onImport:p.default.func.isRequired},l),N={updateUserPreferences:T.updateUserPreferences};t.default=(0,f.connect)(function(e,t){var a=e.auth.user,n=a&&a.preferences||{};return{context:e.context,preferences:n}},N)((0,h.injectIntl)(F)),e.exports=t.default}).call(t,a(10).Buffer)},605:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){if(!e)return"";var t=e.fieldId,a=(e.relationId,e.relationIsBack,e.key);return(t||"")+"-"+(e.relationId||"")+"-"+(e.relationId?importColumn.relationIsBack?"t":"f":"")+"-"+a}function i(e){if(!e)return null;var t,a=e.split("-"),n=(t=a,Array.isArray(t)?t:Array.from(t)),r=n[0],o=n[1],i=n[2];return{key:n.slice(3).join("-"),fieldId:parseInt(r,10),relationId:o?parseInt(o,10):void 0,relationIsBack:i?"t"===i:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,s,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.dateFormatToMomentFormat=function(e,t){return e?[(e=e.replace(/M/,"MM").replace(/D/,"DD")).replace(/Y/,"YY"),e.replace(/Y/,"YYYY")].map(function(e){return t?e+" h:m:s":e}):e};var f=a(0),p=n(f),m=n(a(1)),h=a(91),g=n(a(3)),b=a(6),v=a(5),y=a(8),E=n(a(2)),w=[{value:"DMY",label:"D/M/Y"},{value:"MDY",label:"M/D/Y"},{value:"YMD",label:"Y/M/D"},{value:"YDM",label:"Y/D/M"},{value:"MYD",label:"M/Y/D"},{value:"DYM",label:"D/Y/M"}],C=(s=l=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n._getData=n._getData.bind(n),n._headerRenderer=n._headerRenderer.bind(n),n._noRowsRenderer=n._noRowsRenderer.bind(n),n._rowClassName=n._rowClassName.bind(n),n._rowGetter=n._rowGetter.bind(n),n._cellRenderer=n._cellRenderer.bind(n),n._rowNumberCellRenderer=n._rowNumberCellRenderer.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),c(t,[{key:"changeImportColumn",value:function(e,t){var a=d({},this.props.importColumns);t?a[e]=i(t):delete a[e],this.props.onChangeImportColumns(a)}},{key:"changeImportColumnKey",value:function(e,t,a){var n=d({},this.props.importColumns);a?n[e][t]=a:delete n[e][t],this.props.onChangeImportColumns(n)}},{key:"_getData",value:function(){return this.props.data||[]}},{key:"_headerRenderer",value:function(e){var t=this,a=e.dataKey,n=this.props,r=n.importColumns,i=n.targetObjects,l=n.context,s=r[a],u=o(s),d=s&&s.fieldId&&l.fields[s.fieldId],c=d&&("DATE"===d.type1||"DATETIME"===d.type1),f=d&&"BOOLEAN"===d.type1,m=d&&"TEXT_ARRAY"===d.type1;return p.default.createElement("div",{className:"column-import-form"},p.default.createElement(y.FormGroup,{row:!0},p.default.createElement(y.Col,{md:12},p.default.createElement(y.Label,{style:{marginBottom:2}},p.default.createElement(b.FormattedMessage,{id:"ImportWizardTable.column.importLabel",defaultMessage:"Import column"}))),p.default.createElement(y.Col,{md:12},p.default.createElement(y.Input,{type:"select",value:u,onChange:function(e){return t.changeImportColumn(a,e.target.value)}},p.default.createElement(b.FormattedMessage,{key:"no-import",id:"ImportWizardTable.column.noImport",defaultMessage:"Don't import"},function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return p.default.createElement("option",{value:""},t)}),i.map(function(e){var t=o(e);return p.default.createElement("option",{key:t,value:t},e.label)}))),c&&p.default.createElement(y.Col,null,p.default.createElement("hr",{style:{margin:"10px 0px"}}),p.default.createElement("div",null,p.default.createElement(b.FormattedMessage,{id:"ImportWizardTable.column.dateFormat.label",defaultMessage:"Date format"}),p.default.createElement(y.Input,{type:"select",value:s.dateFormat||"",onChange:function(e){return t.changeImportColumnKey(a,"dateFormat",e.target.value)}},p.default.createElement(b.FormattedMessage,{key:"automatic-date-format",id:"ImportWizardTable.column.dateFormat.automaticOption",defaultMessage:"Auto"},function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return p.default.createElement("option",{value:""},t)}),w.map(function(e){return p.default.createElement("option",{key:e.value,value:e.value},e.label)})))),f&&p.default.createElement(y.Col,null,p.default.createElement("hr",{style:{margin:"10px 0px"}}),p.default.createElement(y.Row,null,p.default.createElement(y.Col,{md:6},p.default.createElement(b.FormattedMessage,{id:"ImportWizardTable.column.boolean.trueLabel",defaultMessage:"True"}),p.default.createElement("br",null),p.default.createElement(y.Input,{type:"text",value:s.trueValue||"",onChange:function(e){return t.changeImportColumnKey(a,"trueValue",e.target.value)}})),p.default.createElement(y.Col,{md:6},p.default.createElement(b.FormattedMessage,{id:"ImportWizardTable.column.boolean.falseLabel",defaultMessage:"False"}),p.default.createElement("br",null),p.default.createElement(y.Input,{type:"text",value:s.falseValue||"",onChange:function(e){return t.changeImportColumnKey(a,"falseValue",e.target.value)}})))),m&&p.default.createElement(y.Col,null,p.default.createElement("hr",{style:{margin:"10px 0px"}}),p.default.createElement("div",null,p.default.createElement(b.FormattedMessage,{id:"ImportWizardTable.column.textArray.separator.label",defaultMessage:"Separator"}),p.default.createElement(y.Input,{type:"text",value:s.separator||"",onChange:function(e){return t.changeImportColumnKey(a,"separator",e.target.value)}})))))}},{key:"_noRowsRenderer",value:function(){return p.default.createElement("div",{className:"noRows"},p.default.createElement(b.FormattedMessage,{id:"ImportWizardTable.noRows",defaultMessage:"No rows"}))}},{key:"_rowClassName",value:function(e){var t=e.index,a=this.props,n=a.startAtRow,r=a.excludeRows,o=a.errors;return t<0?"headerRow":(0,g.default)(t%2==0?"evenRow":"oddRow",(t<n||r[t])&&"not-imported",r[t]&&"not-imported-excluded",o[t]&&"row-with-error")}},{key:"_rowGetter",value:function(e){var t=e.index;return this._getData()[t]}},{key:"_cellRenderer",value:function(e){var t=e.cellData,a=e.dataKey,n=e.rowIndex,r=this.props,o=r.errors,i=r.decimalSeparator,l=void 0;return l=null==t?"":"number"==typeof t?String(t).replace(".",i):"object"===(void 0===t?"undefined":u(t))&&t instanceof Date?(0,E.default)(t).format("L LTS"):String(t),p.default.createElement("span",{className:(0,g.default)(o[n]&&o[n][a]&&"cell-with-error")},l)}},{key:"_rowNumberCellRenderer",value:function(e){var t=this,a=e.rowIndex,n=this.props,r=n.startAtRow,o=n.excludeRows,i=n.onChangeExcludeRows,l=a<r,s=a>=r&&!o[a];return p.default.createElement("span",null,p.default.createElement("input",{type:"checkbox",checked:s,disabled:l,onChange:function(e){var n=d({},t.props.excludeRows);e.target.checked?delete n[a]:n[a]=!0,i(n)}}),a+1)}},{key:"render",value:function(){var e=this,t=this._getData(),a=t&&t.length||0,n=t&&(0,v.max)(t.map(function(e){return e.length}))||0,o=200*n,i=[];i.push(p.default.createElement(h.Column,{key:-1,dataKey:"",className:(0,g.default)("column","rowNumberCell"),headerRenderer:function(){return""},cellRenderer:this._rowNumberCellRenderer,width:60,disableSort:!0}));for(var l=0;l<n;l++)!function(t){var a,n=p.default.createElement(h.Column,(r(a={key:t,className:"column",headerRenderer:e._headerRenderer,width:200,cellDataGetter:function(e){return e.rowData[t]},dataKey:t},"headerRenderer",e._headerRenderer),r(a,"cellRenderer",e._cellRenderer),r(a,"disableSort",!0),a));i.push(n)}(l);return p.default.createElement("div",{className:"import-wizard-table-wrapper"},p.default.createElement(h.Table,{className:"import-wizard-table",headerClassName:"headerColumn",headerHeight:135,height:300,noRowsRenderer:this._noRowsRenderer,rowClassName:this._rowClassName,rowHeight:26,rowGetter:this._rowGetter,rowCount:a,width:o},i))}}]),t}(),l.propTypes={context:m.default.object,intl:m.default.object,data:m.default.arrayOf(m.default.array),importColumns:m.default.objectOf(m.default.shape({key:m.default.any,fieldId:m.default.number,relationId:m.default.number,relationIsBack:m.default.bool})).isRequired,targetObjects:m.default.arrayOf(m.default.shape({label:m.default.string,key:m.default.any,fieldId:m.default.number,relationId:m.default.number,relationIsBack:m.default.bool})).isRequired,startAtRow:m.default.number,decimalSeparator:m.default.string,excludeRows:m.default.object,errors:m.default.object,onChangeImportColumns:m.default.func.isRequired,onChangeExcludeRows:m.default.func.isRequired},s);t.default=C},606:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=n(a(286)),l=a(0),s=n(l),u=n(a(1)),d=a(5),c=a(1339),f=i.default.acequire("ace/range").Range,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.editorEvents.forEach(function(e){a[e]=a[e].bind(a)}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.className,n=t.onBeforeLoad,r=t.onValidate,o=t.mode,l=t.focus,s=t.theme,u=t.fontSize,d=t.value,f=t.defaultValue,p=t.cursorStart,m=t.showGutter,h=t.wrapEnabled,g=t.showPrintMargin,b=t.scrollMargin,v=void 0===b?[0,0,0,0]:b,y=t.keyboardHandler,E=t.onLoad,w=t.commands,C=t.annotations,k=t.markers;this.editor=i.default.edit(this.refEditor),n&&n(i.default);for(var S=Object.keys(this.props.editorProps),_=0;_<S.length;_++)this.editor[S[_]]=this.props.editorProps[S[_]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),this.editor.getSession().setMode("string"==typeof o?"ace/mode/"+o:o),this.editor.setTheme("ace/theme/"+s),this.editor.setFontSize(u),this.editor.getSession().setValue(f||d,p),this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(m),this.editor.getSession().setUseWrapMode(h),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),r&&this.editor.getSession().on("changeAnnotation",function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(C||[]),k&&k.length>0&&this.handleMarkers(k);for(var x=this.editor.$options,T=0;T<c.editorOptions.length;T++){var M=c.editorOptions[T];x.hasOwnProperty(M)?this.editor.setOption(M,this.props[M]):this.props[M]&&console.warn("ReaceAce: editor option "+M+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}this.handleOptions(this.props),Array.isArray(w)&&w.forEach(function(t){"string"==typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)}),y&&this.editor.setKeyboardHandler("ace/keyboard/"+y),this.props.customEditorSettings&&this.props.customEditorSettings(this.editor),a&&(this.refEditor.className+=" "+a),l&&this.editor.focus(),E&&E(this.editor),this.editor.resize()}},{key:"debounce",value:function(e,t){var a=null;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,r)},t)}}},{key:"componentWillReceiveProps",value:function(e){for(var t=this.props,a=0;a<c.editorOptions.length;a++){var n=c.editorOptions[a];e[n]!==t[n]&&this.editor.setOption(n,e[n])}if(e.className!==t.className){var r=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach(function(e){var t=r.indexOf(e);r.splice(t,1)}),this.refEditor.className=" "+e.className+" "+r.join(" ")}if(e.mode!==t.mode&&this.editor.getSession().setMode("string"==typeof e.mode?"ace/mode/"+e.mode:e.mode),e.theme!==t.theme&&this.editor.setTheme("ace/theme/"+e.theme),e.keyboardHandler!==t.keyboardHandler&&(e.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):this.editor.setKeyboardHandler(null)),e.fontSize!==t.fontSize&&this.editor.setFontSize(e.fontSize),e.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(e.showPrintMargin),e.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(e.showGutter),(0,d.isEqual)(e.setOptions,t.setOptions)||this.handleOptions(e),(0,d.isEqual)(e.annotations,t.annotations)||this.editor.getSession().setAnnotations(e.annotations||[]),!(0,d.isEqual)(e.markers,t.markers)&&Array.isArray(e.markers)&&this.handleMarkers(e.markers),(0,d.isEqual)(e.scrollMargin,t.scrollMargin)||this.handleScrollMargins(e.scrollMargin),this.editor&&this.editor.getValue()!==e.value){this.silent=!0;var o=this.editor.session.selection.toJSON();this.editor.setValue(e.value,e.cursorStart),this.editor.session.selection.fromJSON(o),this.silent=!1}e.focus&&!t.focus&&this.editor.focus()}},{key:"componentDidUpdate",value:function(e){e.height===this.props.height&&e.width===this.props.width||this.editor.resize()}},{key:"handleScrollMargins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0];this.editor.renderer.setScrollMargins(e[0],e[1],e[2],e[3])}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}}},{key:"onSelectionChange",value:function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}}},{key:"onCursorChange",value:function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}}},{key:"onInput",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e){for(var t=Object.keys(e.setOptions),a=0;a<t.length;a++)this.editor.setOption(t[a],e.setOptions[t[a]])}},{key:"handleMarkers",value:function(e){var t=this,a=this.editor.getSession().getMarkers(!0);for(var n in a)a.hasOwnProperty(n)&&this.editor.getSession().removeMarker(a[n].id);for(var r in a=this.editor.getSession().getMarkers(!1))a.hasOwnProperty(r)&&this.editor.getSession().removeMarker(a[r].id);e.forEach(function(e){var a=e.startRow,n=e.startCol,r=e.endRow,o=e.endCol,i=e.className,l=e.type,s=e.inFront,u=void 0!==s&&s,d=new f(a,n,r,o);t.editor.getSession().addMarker(d,i,l,u)})}},{key:"updateRef",value:function(e){this.refEditor=e}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.width,n=e.height,o=e.style,i=r({width:a,height:n},o);return s.default.createElement("div",{ref:this.updateRef,id:t,style:i})}}]),t}();t.default=p,p.propTypes={mode:u.default.oneOfType([u.default.string,u.default.object]),focus:u.default.bool,theme:u.default.string,name:u.default.string,className:u.default.string,height:u.default.string,width:u.default.string,fontSize:u.default.oneOfType([u.default.number,u.default.string]),showGutter:u.default.bool,onChange:u.default.func,onCopy:u.default.func,onPaste:u.default.func,onFocus:u.default.func,onInput:u.default.func,onBlur:u.default.func,onScroll:u.default.func,value:u.default.string,defaultValue:u.default.string,onLoad:u.default.func,onSelectionChange:u.default.func,onCursorChange:u.default.func,onBeforeLoad:u.default.func,onValidate:u.default.func,minLines:u.default.number,maxLines:u.default.number,readOnly:u.default.bool,highlightActiveLine:u.default.bool,tabSize:u.default.number,showPrintMargin:u.default.bool,cursorStart:u.default.number,debounceChangePeriod:u.default.number,editorProps:u.default.object,setOptions:u.default.object,style:u.default.object,scrollMargin:u.default.array,annotations:u.default.array,markers:u.default.array,keyboardHandler:u.default.string,wrapEnabled:u.default.bool,enableBasicAutocompletion:u.default.oneOfType([u.default.bool,u.default.array]),enableLiveAutocompletion:u.default.oneOfType([u.default.bool,u.default.array]),commands:u.default.array},p.defaultProps={name:"brace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},e.exports=t.default},607:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DragAndDropContext=void 0;var l,s,u,d,c,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a(0),h=n(m),g=a(279),b=n(a(1)),v=n(a(3)),y=a(5),E=a(14),w={hover:function(e,t,a){var n=t.getItem(),r=n.index,o=n.listId,i=a.isList,l=i?e.items.length:e.index,s=i?e.id:e.listId,u=i?a.context.onDragEnd:e.onDragEnd;if(!(i&&o===s||r===l&&o===s)){var d=e.items.length;if(o!==s&&d++,!(e.maxItems&&d>e.maxItems)){var c=(0,E.findDOMNode)(a).getBoundingClientRect(),f=(c.right-c.left)/2,p=t.getClientOffset().x-c.left;o===s&&r<l&&p<f||o===s&&r>l&&p>f||(n.index=l,n.listId=s,u({source:{droppableId:o,index:r},destination:{droppableId:s,index:l}}))}}},canDrop:function(e){return!0}},C=function(e){return{connectDropTarget:e.dropTarget()}},k=(s=l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.Component),p(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.connectDragSource,n=e.isDragging;return a((0,e.connectDropTarget)(h.default.createElement("span",{className:(0,v.default)("dragAndDropList_item",n&&"dragAndDropList_item_dragging")},t)))}}]),t}(),l.propTypes={item:b.default.object.isRequired,on:b.default.func,connectDragSource:b.default.func.isRequired,isDragging:b.default.bool.isRequired,connectDropTarget:b.default.func.isRequired,items:b.default.array,maxItems:b.default.number},s),S=(0,y.flow)((0,g.DragSource)("item",{beginDrag:function(e){return{index:e.index,listId:e.listId}},canDrag:function(e){return!0},isDragging:function(e,t){var a=t.getItem();return a.index===e.index&&a.listId===e.listId}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}),(0,g.DropTarget)("item",w,C))(k),_=(d=u=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.isList=!0,a.getItems=function(){var e=a.props,t=e.id,n=e.items,r=e.children,o=e.maxItems;return n.map(function(e,i){return h.default.createElement(S,{key:i,index:i,listId:t,item:e,onDragEnd:a.context.onDragEnd,items:n,maxItems:o},r({item:e,index:i}))})},a}return i(t,m.Component),p(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.connectDropTarget,n=this.getItems();return a(h.default.createElement("div",{className:(0,v.default)("dragAndDropList_container",t)},h.default.createElement("div",{className:"dragAndDropList_list"},n)))}}]),t}(),u.propTypes={id:b.default.string,items:b.default.array.isRequired,className:b.default.string,children:b.default.func.isRequired,maxItems:b.default.number},u.contextTypes={onDragEnd:b.default.func},d),x=(0,g.DropTarget)("item",w,C)(_);t.default=x,t.DragAndDropContext=(f=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.Component),p(t,[{key:"getChildContext",value:function(){return{onDragEnd:this.props.onDragEnd}}},{key:"render",value:function(){return this.props.children}}]),t}(),c.propTypes={onDragEnd:b.default.func.isRequired},c.childContextTypes={onDragEnd:b.default.func},f)},608:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=n(a(0)),i=(n(a(1)),n(a(3)),a(6)),l=n(a(19)),s=a(8),u=a(5),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.github.com/repos/nicoladefranceschi/selfware-electron/releases/latest",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json().then(function(e){var t=(0,u.find)(e.assets,function(e){return/\.dmg$/.test(e.name)}),a=(0,u.find)(e.assets,function(e){return/\.exe$/.test(e.name)});return{version:e.name,windowsLink:a.browser_download_url,macLink:t.browser_download_url,windowsFileName:a.name,macFileName:t.name}})}).then(function(t){var a=t.windowsLink,n=t.macLink,r=t.windowsFileName,o=t.macFileName;e.setState({linksAvailable:!0,windowsLink:a,macLink:n,windowsFileName:r,macFileName:o})})}},{key:"componentWillUnmount",value:function(){this._asyncRequest&&this._asyncRequest.cancel()}},{key:"render",value:function(){var e=this,t=this.state,a=t.closed,n=t.linksAvailable,r=t.windowsLink,u=t.macLink;if(t.windowsFileName,t.macFileName,a||!n)return null;var d=-1!==window.navigator.userAgent.indexOf("Mac"),c={size:"2x"},f=d?o.default.createElement(l.default.AppleLogo,c):o.default.createElement(l.default.WindowsLogo,c),p=o.default.createElement(s.Button,{color:"primary",className:"px-4 download-app-main-download",onClick:function(){var e=document.createElement("a");e.href=d?u:r,e.click()}},f," ",o.default.createElement(i.FormattedMessage,{id:"DownloadApp.mainDownload",defaultMessage:"Download the desktop app"})),m=o.default.createElement("a",{className:"download-app-secondary-download",href:d?r:u},o.default.createElement(i.FormattedMessage,{id:"DownloadApp.secondaryDownload",defaultMessage:"or download the {os} version",values:{os:d?"Windows":"macOS"}}));return o.default.createElement("div",{className:"download-app-container"},o.default.createElement("a",{className:"close",onClick:function(){return e.setState({closed:!0})}},"×"),p,m)}}]),t}();t.default=d,e.exports=t.default},618:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e){var t=e||{},a=t.style,n=r(t,["style"]);return c.default.createElement("div",d({style:d({position:"relative"},a)},n),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -5 10 10",preserveAspectRatio:"none",style:{position:"absolute",left:5,width:"calc(100% - 15px)",height:10}},c.default.createElement("path",{strokeWidth:1,fill:"none",stroke:"black",d:"M0,0 L10,0"})),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 5 10",style:{position:"absolute",right:5,width:5,height:10}},c.default.createElement("path",{d:"M0,0 V10 L5,5 Z",fill:"black"})))}function i(e){var t=e||{},a=t.height,n=t.style,o=r(t,["height","style"]);if(!a||"number"!=typeof a)throw new Error("Arrow: height required as pixels (number)");return c.default.createElement("div",d({style:d({position:"relative",height:a+5},n)},o),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-5 0 10 "+a,preserveAspectRatio:"none",style:{position:"absolute",right:"50%",width:10,height:a}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,0 L0,"+(a-5)+" L5,"+(a-5)})),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -"+(a-5)+" 10 "+a,preserveAspectRatio:"none",style:{position:"absolute",left:"50%",width:"50%",height:a}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,0 L10,0"})))}function l(e){var t=e||{},a=t.height,n=t.style,o=r(t,["height","style"]);if(!a||"number"!=typeof a)throw new Error("Arrow: height required as pixels (number)");return c.default.createElement("div",d({style:d({position:"relative",height:a+5},n)},o),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -"+(a-5)+" 10 "+a,preserveAspectRatio:"none",style:{position:"absolute",left:0,width:"100%",height:a}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,0 L10,0"})))}function s(e){var t=e||{},a=t.height,n=t.style,o=r(t,["height","style"]);if(!a||"number"!=typeof a)throw new Error("Arrow: height required as pixels (number)");return c.default.createElement("div",d({style:d({position:"relative",height:a+5},n)},o),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -"+(a-5)+" 10 "+a,preserveAspectRatio:"none",style:{position:"absolute",left:0,width:"50%",height:a}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,0 L10,0"})),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-5 0 10 "+a,style:{position:"absolute",left:"50%",width:10,height:a}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,5 L0,"+(a-5)+" L-5,"+(a-5)}),c.default.createElement("path",{d:"M-5,5 L5,5 L0,0 Z",fill:"black"})))}function u(e){var t=e||{},a=t.height,n=t.style,o=r(t,["height","style"]);return c.default.createElement("div",d({style:d({position:"relative",height:a+5,marginTop:10},n)},o),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-8 0 16 "+a,style:{position:"absolute",left:"50%",width:16,height:a}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,8 L0,"+(a-5)}),c.default.createElement("path",{strokeWidth:"1",stroke:"black",d:"M-8,8 L8,8 L0,0 Z",fill:"none"})))}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.Arrow=o,t.ArrowBottomLeft=i,t.ArrowBottomCenter=l,t.ArrowBottomRight=s,t.ArrowVerticalBig=u,t.TwoStepRelationDiagram=function(e){var t=e||{},a=t.className,n=t.info,u=r(t,["className","info"]);return c.default.createElement(p.Table,d({className:(0,f.default)("two-steps-relation-graph",a)},u),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{style:{paddingTop:12}},n.model1.name),c.default.createElement("td",null,c.default.createElement("span",{style:{display:"block",textAlign:"center",paddingLeft:25,paddingRight:25}},n.relation1Name||" "),c.default.createElement(o,{style:{width:"100%"}})),c.default.createElement("td",{style:{paddingTop:12}},n.model2.name),c.default.createElement("td",null,c.default.createElement("span",{style:{display:"block",textAlign:"center",paddingLeft:25,paddingRight:25}},n.relation2Name||" "),c.default.createElement(o,{style:{width:"100%"}})),c.default.createElement("td",{style:{paddingTop:12}},n.model3.name)),c.default.createElement("tr",null,c.default.createElement("td",null,c.default.createElement(i,{height:20,style:{width:"100%"}})),c.default.createElement("td",{colSpan:3},c.default.createElement(l,{height:20,style:{width:"100%"}})),c.default.createElement("td",null,c.default.createElement(s,{height:20,style:{width:"100%"}})))))},t.CreateFromVirtualRelationDiagram=function(e){var t=e||{},a=t.className,n=t.info,i=r(t,["className","info"]);return c.default.createElement(p.Table,d({className:(0,f.default)("create-from-virtual-relation-graph",a)},i),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{style:{paddingTop:12,textAlign:"center"}},n.virtualModel.name),c.default.createElement("td",null,c.default.createElement("span",{style:{display:"block",textAlign:"center",paddingLeft:25,paddingRight:25}},n.virtualToOtherModelRelationName||" "),c.default.createElement(o,{style:{width:"100%"}})),c.default.createElement("td",{style:{paddingTop:12}},n.otherModel.name)),c.default.createElement("tr",null,c.default.createElement("td",null,c.default.createElement(u,{height:40,style:{width:"100%"}}),c.default.createElement("span",{style:{display:"block",textAlign:"center",paddingLeft:25,paddingRight:25}},n.model.name||" ")),c.default.createElement("td",null,c.default.createElement(l,{height:70,style:{width:"100%"}})),c.default.createElement("td",null,c.default.createElement(s,{height:70,style:{width:"100%"}})))))};var c=n(a(0)),f=n(a(3)),p=a(8)},619:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,a(6).defineMessages)({TEXT:{id:"DataType.locale.TEXT",defaultMessage:"Text"},INTEGER:{id:"DataType.locale.INTEGER",defaultMessage:"Integer number"},DOUBLE:{id:"DataType.locale.DOUBLE",defaultMessage:"Decimal number"},DECIMAL:{id:"DataType.locale.DECIMAL",defaultMessage:"Decimal number (rounded)"},BOOLEAN:{id:"DataType.locale.BOOLEAN",defaultMessage:"Boolean"},DATE:{id:"DataType.locale.DATE",defaultMessage:"Date"},TIME:{id:"DataType.locale.TIME",defaultMessage:"Time"},DATETIME:{id:"DataType.locale.DATETIME",defaultMessage:"Date and time"},ENUM:{id:"DataType.locale.ENUM",defaultMessage:"Enumerative"},TEXT_ARRAY:{id:"DataType.locale.TEXT_ARRAY",defaultMessage:"Multiple text"}});t.default=n,e.exports=t.default},65:function(e,t,a){"use strict";function n(e){return e.ui?e.ui.tabs:e.tabs?e.tabs:e}function r(e){return function(e){return e.ui?e.ui:e.tabs?e:null}(e).selectedTab}function o(e,t){return n(e).byId[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectedTabId=r,t.getTabsFromState=function(e){return n(e)},t.getTab=o,t.getSelectedTabFromState=function(e){return o(e,r(e))},t.getTabGroupIndex=function(e,t){var a=n(e),r=a.byId[t];return(0,i.findIndex)(a.groups,function(e){return e===r.groupId})},t.getTabIndexInGroup=function(e,t){var a=n(e),r=a.byId[t],o=a.groupsById[r.groupId];return(0,i.findIndex)(o.tabs,function(e){return e===t})},t.getGroupTabs=function(e,t){var a=n(e);return a.groupsById[t].tabs.map(function(e){return a.byId[e]})},t.forEachTab=function(e,t,a){"function"==typeof t&&(a=t,t=null),t=t||{};for(var r=n(e),o=0;o<r.groups.length;o++)for(var i=r.groups[o],l=r.groupsById[i],s=0;s<l.tabs.length;s++){var u=t.reverseGroupTabs?l.tabs.length-s-1:s,d=l.tabs[u],c=r.byId[d];a(c,o,u)}},t.findTab=function(e,t){for(var a=n(e),r=0;r<a.groups.length;r++)for(var o=a.groups[r],i=a.groupsById[o],l=0;l<i.tabs.length;l++){var s=i.tabs[l],u=a.byId[s];if(t(u,r,l))return u}return null},t.someTab=function(e,t){for(var a=n(e),r=0;r<a.groups.length;r++)for(var o=a.groups[r],i=a.groupsById[o],l=0;l<i.tabs.length;l++){var s=i.tabs[l],u=a.byId[s];if(t(u,r,l))return!0}return!1},t.everyTab=function(e,t){for(var a=n(e),r=0;r<a.groups.length;r++)for(var o=a.groups[r],i=a.groupsById[o],l=0;l<i.tabs.length;l++){var s=i.tabs[l],u=a.byId[s];if(!t(u,r,l))return!1}return!0};var i=a(5)},655:function(e,t,a){a(656),e.exports=a(657)},657:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(e.deltaX<0&&t.scrollLeft>0)return!0;if(e.deltaX>0&&t.scrollLeft<t.scrollWidth-t.offsetWidth){var a=window.getComputedStyle(t).getPropertyValue("overflow-x");if("auto"===a||"scroll"===a)return!0}return!1}function o(e){E.dispatch((0,v.selectTab)(e))}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(a(0)),s=n(a(14)),u=a(18),d=a(199),c=n(a(710)),f=n(a(329)),p=a(780),m=n(a(801));a(809);var h=n(a(810));a(811),a(815);var g=n(a(817)),b=n(a(1562)),v=a(22);"object"===i(window.__REACT_DEVTOOLS_GLOBAL_HOOK__)&&(__REACT_DEVTOOLS_GLOBAL_HOOK__.inject=function(){}),a(1563)("https://4fa4b9c298ab4d6eacb6d2c232bd3bec@sentry.io/297714"),document.addEventListener("dragover",function(e){return e.preventDefault()}),document.addEventListener("drop",function(e){return e.preventDefault()}),document.oncontextmenu=function(){return!1},window.addEventListener("mousewheel",function(e){if(0!==e.deltaX&&!(Math.abs(e.deltaY)>Math.abs(e.deltaX))){for(var t=e.target,a=!1;t;){if(r(e,t)){a=!0;break}t=t.parentNode}a||e.preventDefault()}});var y=new h.default(window.navigator.userAgent);y.mobile()&&document.body.classList.add("app-mobile"),y.phone()&&document.body.classList.add("app-phone"),y.tablet()&&document.body.classList.add("app-tablet"),y.version("Chrome")&&document.body.classList.add("app-chrome");var E=(0,c.default)();window.appName=E.getState().server.appName,(0,p.init)(E),window.onbeforeunload=function(e){var t=!1;if(window.__tabControllerCheckAllTabsCanBeClosed&&(t=!window.__tabControllerCheckAllTabsCanBeClosed(o)),t)return e.returnValue=!1,"The changes that you made may not be saved."},window.showExitPrompt=function(){setTimeout(function(){E.dispatch((0,v.showExitPrompt)())},1)},window.openPreferences=function(){var e=E.getState();e.auth&&e.auth.user&&E.dispatch((0,v.showSettings)())};var w=function(e){var t=l.default.createElement(u.Provider,{store:E},l.default.createElement(m.default,null,l.default.createElement(d.ConnectedRouter,{history:f.default},l.default.createElement(e,null))));s.default.render(t,document.getElementById("root"),function(){return(0,b.default)()})};if(!window.intl&&!window.Intl){var C=w;w=function(e){a.e(0).then(function(t){a(652),a(653),a(654),C(e)}.bind(null,a)).catch(a.oe)}}w(g.default)},710:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.createStore)(l.default,f,r.applyMiddleware.apply(void 0,c))};var r=a(197),o=a(199),i=n(a(711)),l=n(a(712)),s=n(a(329)),u=n(a(110)),d=n(a(319)),c=[(0,o.routerMiddleware)(s.default),i.default,u.default,d.default],f=window.__PRELOADED_STATE__||{};delete window.__PRELOADED_STATE__;var p=localStorage&&localStorage.selfwareLanguage||navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"en";p=p.substring(0,2),f.intl={language:p},f.auth&&f.auth.user&&f.auth.user.preferences&&("light"===(f.auth.user.preferences.sidebarColor||"light")?document.body.classList.add("sidebar-style-light"):document.body.classList.remove("sidebar-style-light")),e.exports=t.default},712:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(197),o=(a(199),n(a(713))),i=n(a(719)),l=n(a(720)),s=n(a(776)),u=n(a(777)),d=(0,r.combineReducers)({intl:o.default,auth:i.default,server:l.default,context:s.default,ui:u.default});t.default=d,e.exports=t.default},713:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n.INTL_LANGUAGE_CHANGE:return localStorage&&(localStorage.selfwareLanguage=t.language),{language:t.language};default:return e}};var n=a(22);e.exports=t.default},714:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.INTL_LANGUAGE_CHANGE="INTL_LANGUAGE_CHANGE";t.changeLanguage=function(e){return function(t,a){return t({type:n,language:e})}}},715:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserPreferences=t.toggleIgnoreAdming=t.logout=t.login=t.USER_UPDATE_PREFERENCES_FAILURE=t.USER_UPDATE_PREFERENCES_SUCCESS=t.USER_UPDATE_PREFERENCES_REQUEST=t.USER_TOGGLE_IGNORE_ADMIN=t.USER_LOGOUT_FAILURE=t.USER_LOGOUT_SUCCESS=t.USER_LOGOUT_REQUEST=t.USER_LOGIN_FAILURE=t.USER_LOGIN_SUCCESS=t.USER_LOGIN_REQUEST=void 0;var r=a(110),o=a(5),i=t.USER_LOGIN_REQUEST="USER_LOGIN_REQUEST",l=t.USER_LOGIN_SUCCESS="USER_LOGIN_SUCCESS",s=t.USER_LOGIN_FAILURE="USER_LOGIN_FAILURE",u=t.USER_LOGOUT_REQUEST="USER_LOGOUT_REQUEST",d=t.USER_LOGOUT_SUCCESS="USER_LOGOUT_SUCCESS",c=t.USER_LOGOUT_FAILURE="USER_LOGOUT_FAILURE",f=t.USER_TOGGLE_IGNORE_ADMIN="USER_TOGGLE_IGNORE_ADMIN",p=t.USER_UPDATE_PREFERENCES_REQUEST="USER_UPDATE_PREFERENCES_REQUEST",m=t.USER_UPDATE_PREFERENCES_SUCCESS="USER_UPDATE_PREFERENCES_SUCCESS",h=t.USER_UPDATE_PREFERENCES_FAILURE="USER_UPDATE_PREFERENCES_FAILURE",g=(t.login=function(e){return function(t,a){return t(n({},r.CALL_API,{types:[i,l,s],endpoint:"/login",method:"POST",body:e}))}},t.logout=function(){return function(e,t){return e(n({},r.CALL_API,{types:[u,d,c],endpoint:"/logout",method:"POST"}))}},t.toggleIgnoreAdming=function(){return function(e,t){return e({type:f})}},0);t.updateUserPreferences=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a,i){var l=i(),s=l.server,u=s.location+"/database/"+s.databaseId,d=l.auth.user.id;return a(n({requestId:++g,updateStateOnRequest:t,preferencesToChange:e,oldPreferencesValues:(0,o.mapValues)(e,function(e,t){return l.auth.user&&l.auth.user.preferences&&l.auth.user.preferences[t]})},r.CALL_API,{types:[p,m,h],endpoint:u+"/user/"+d+"/updatePreferences/incremental",method:"POST",body:e}))}}},716:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBackup=t.saveBackup=t.updateUser=t.deleteUser=t.createUser=t.createRole=t.updateSettingsModelOrder=t.updateSettingsViewOrder=t.fetchSettings=t.fetchBackups=t.fetchExternalSources=t.fetchRoles=t.fetchUsers=t.serverDisconnected=t.serverConnected=t.serverInfoChange=t.SERVER_DELETE_BACKUP_FAILURE=t.SERVER_DELETE_BACKUP_SUCCESS=t.SERVER_DELETE_BACKUP_REQUEST=t.SERVER_SAVE_BACKUP_FAILURE=t.SERVER_SAVE_BACKUP_SUCCESS=t.SERVER_SAVE_BACKUP_REQUEST=t.SERVER_DELETE_USER_FAILURE=t.SERVER_DELETE_USER_SUCCESS=t.SERVER_DELETE_USER_REQUEST=t.SERVER_UPDATE_USER_FAILURE=t.SERVER_UPDATE_USER_SUCCESS=t.SERVER_UPDATE_USER_REQUEST=t.SERVER_CREATE_USER_FAILURE=t.SERVER_CREATE_USER_SUCCESS=t.SERVER_CREATE_USER_REQUEST=t.SERVER_CREATE_ROLE_FAILURE=t.SERVER_CREATE_ROLE_SUCCESS=t.SERVER_CREATE_ROLE_REQUEST=t.SERVER_UPDATE_SETTINGS_FAILURE=t.SERVER_UPDATE_SETTINGS_SUCCESS=t.SERVER_UPDATE_SETTINGS_REQUEST=t.SERVER_FETCH_SETTINGS_FAILURE=t.SERVER_FETCH_SETTINGS_SUCCESS=t.SERVER_FETCH_SETTINGS_REQUEST=t.SERVER_FETCH_BACKUPS_FAILURE=t.SERVER_FETCH_BACKUPS_SUCCESS=t.SERVER_FETCH_BACKUPS_REQUEST=t.SERVER_FETCH_EXTERNAL_SOURCES_FAILURE=t.SERVER_FETCH_EXTERNAL_SOURCES_SUCCESS=t.SERVER_FETCH_EXTERNAL_SOURCES_REQUEST=t.SERVER_FETCH_ROLES_FAILURE=t.SERVER_FETCH_ROLES_SUCCESS=t.SERVER_FETCH_ROLES_REQUEST=t.SERVER_FETCH_USERS_FAILURE=t.SERVER_FETCH_USERS_SUCCESS=t.SERVER_FETCH_USERS_REQUEST=t.SERVER_DISCONNECTED=t.SERVER_CONNECTED=t.SERVER_INFO_CHANGE=void 0;var r=a(110);a(203);var o=t.SERVER_INFO_CHANGE="SERVER_INFO_CHANGE",i=t.SERVER_CONNECTED="SERVER_CONNECTED",l=t.SERVER_DISCONNECTED="SERVER_DISCONNECTED",s=(t.SERVER_FETCH_USERS_REQUEST="SERVER_FETCH_USERS_REQUEST",t.SERVER_FETCH_USERS_SUCCESS="SERVER_FETCH_USERS_SUCCESS",t.SERVER_FETCH_USERS_FAILURE="SERVER_FETCH_USERS_FAILURE",t.SERVER_FETCH_ROLES_REQUEST="SERVER_FETCH_ROLES_REQUEST",t.SERVER_FETCH_ROLES_SUCCESS="SERVER_FETCH_ROLES_SUCCESS",t.SERVER_FETCH_ROLES_FAILURE="SERVER_FETCH_ROLES_FAILURE",t.SERVER_FETCH_EXTERNAL_SOURCES_REQUEST="SERVER_FETCH_EXTERNAL_SOURCES_REQUEST",t.SERVER_FETCH_EXTERNAL_SOURCES_SUCCESS="SERVER_FETCH_EXTERNAL_SOURCES_SUCCESS",t.SERVER_FETCH_EXTERNAL_SOURCES_FAILURE="SERVER_FETCH_EXTERNAL_SOURCES_FAILURE",t.SERVER_FETCH_BACKUPS_REQUEST="SERVER_FETCH_BACKUPS_REQUEST",t.SERVER_FETCH_BACKUPS_SUCCESS="SERVER_FETCH_BACKUPS_SUCCESS",t.SERVER_FETCH_BACKUPS_FAILURE="SERVER_FETCH_BACKUPS_FAILURE",t.SERVER_FETCH_SETTINGS_REQUEST="SERVER_FETCH_SETTINGS_REQUEST",t.SERVER_FETCH_SETTINGS_SUCCESS="SERVER_FETCH_SETTINGS_SUCCESS",t.SERVER_FETCH_SETTINGS_FAILURE="SERVER_FETCH_SETTINGS_FAILURE",t.SERVER_UPDATE_SETTINGS_REQUEST="SERVER_UPDATE_SETTINGS_REQUEST"),u=t.SERVER_UPDATE_SETTINGS_SUCCESS="SERVER_UPDATE_SETTINGS_SUCCESS",d=t.SERVER_UPDATE_SETTINGS_FAILURE="SERVER_UPDATE_SETTINGS_FAILURE",c=t.SERVER_CREATE_ROLE_REQUEST="SERVER_CREATE_ROLE_REQUEST",f=t.SERVER_CREATE_ROLE_SUCCESS="SERVER_CREATE_ROLE_SUCCESS",p=t.SERVER_CREATE_ROLE_FAILURE="SERVER_CREATE_ROLE_FAILURE",m=t.SERVER_CREATE_USER_REQUEST="SERVER_CREATE_USER_REQUEST",h=t.SERVER_CREATE_USER_SUCCESS="SERVER_CREATE_USER_SUCCESS",g=t.SERVER_CREATE_USER_FAILURE="SERVER_CREATE_USER_FAILURE",b=t.SERVER_UPDATE_USER_REQUEST="SERVER_UPDATE_USER_REQUEST",v=t.SERVER_UPDATE_USER_SUCCESS="SERVER_UPDATE_USER_SUCCESS",y=t.SERVER_UPDATE_USER_FAILURE="SERVER_UPDATE_USER_FAILURE",E=t.SERVER_DELETE_USER_REQUEST="SERVER_DELETE_USER_REQUEST",w=t.SERVER_DELETE_USER_SUCCESS="SERVER_DELETE_USER_SUCCESS",C=t.SERVER_DELETE_USER_FAILURE="SERVER_DELETE_USER_FAILURE",k=t.SERVER_SAVE_BACKUP_REQUEST="SERVER_SAVE_BACKUP_REQUEST",S=t.SERVER_SAVE_BACKUP_SUCCESS="SERVER_SAVE_BACKUP_SUCCESS",_=t.SERVER_SAVE_BACKUP_FAILURE="SERVER_SAVE_BACKUP_FAILURE",x=t.SERVER_DELETE_BACKUP_REQUEST="SERVER_DELETE_BACKUP_REQUEST",T=t.SERVER_DELETE_BACKUP_SUCCESS="SERVER_DELETE_BACKUP_SUCCESS",M=t.SERVER_DELETE_BACKUP_FAILURE="SERVER_DELETE_BACKUP_FAILURE",R=(t.serverInfoChange=function(e){return function(t,a){return t({type:o,serverInfo:e})}},t.serverConnected=function(){return function(e,t){return e({type:i})}},t.serverDisconnected=function(){return function(e,t){return e({type:l})}},function(e,t){return function(a,o){var i=o().server,l=i.location+"/database/"+i.databaseId;return a(n({},r.CALL_API,{types:["SERVER_FETCH_"+e+"_REQUEST","SERVER_FETCH_"+e+"_SUCCESS","SERVER_FETCH_"+e+"_FAILURE"],endpoint:l+t,method:"GET"}))}}),I=(t.fetchUsers=function(){return R("USERS","/user")},t.fetchRoles=function(){return R("ROLES","/role")},t.fetchExternalSources=function(){return R("EXTERNAL_SOURCES","/external-source")},t.fetchBackups=function(){return R("BACKUPS","/backupWithLogs")},t.fetchSettings=function(){return R("SETTINGS","/settings")},function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({},r.CALL_API,{types:[s,u,d],endpoint:i+"/settings",method:"POST",body:e}))}});t.updateSettingsViewOrder=function(e){return I({viewOrder:e})},t.updateSettingsModelOrder=function(e){return I({modelOrder:e})},t.createRole=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({},r.CALL_API,{types:[c,f,p],endpoint:i+"/role",method:"POST",body:{name:e}}))}},t.createUser=function(e,t){return function(a,o){var i=o().server,l=i.location+"/database/"+i.databaseId;return a(n({},r.CALL_API,{types:[m,h,g],endpoint:l+"/user",method:"POST",body:{username:e,password:t}}))}},t.deleteUser=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({userId:e.id},r.CALL_API,{types:[E,w,C],endpoint:i+"/user/"+e.id,method:"DELETE"}))}},t.updateUser=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({userId:e.id},r.CALL_API,{types:[b,v,y],endpoint:i+"/user/"+e.id,method:"PUT",body:e}))}},t.saveBackup=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({backupId:e.id},r.CALL_API,{types:[k,S,_],endpoint:i+(e.id?"/backup/"+e.id:"/backup"),method:e.id?"PUT":"POST",body:e}))}},t.deleteBackup=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({backupId:e.id},r.CALL_API,{types:[x,T,M],endpoint:i+"/backup/"+e.id,method:"DELETE"}))}}},717:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteModel=t.saveModel=t.deleteView=t.saveView=t.fetchContext=t.MODEL_DELETE_FAILURE=t.MODEL_DELETE_SUCCESS=t.MODEL_DELETE_REQUEST=t.MODEL_SAVE_FAILURE=t.MODEL_SAVE_SUCCESS=t.MODEL_SAVE_REQUEST=t.VIEW_DELETE_FAILURE=t.VIEW_DELETE_SUCCESS=t.VIEW_DELETE_REQUEST=t.VIEW_SAVE_FAILURE=t.VIEW_SAVE_SUCCESS=t.VIEW_SAVE_REQUEST=t.CONTEXT_FETCH_FAILURE=t.CONTEXT_FETCH_SUCCESS=t.CONTEXT_FETCH_REQUEST=void 0;var r=a(110),o=t.CONTEXT_FETCH_REQUEST="CONTEXT_FETCH_REQUEST",i=t.CONTEXT_FETCH_SUCCESS="CONTEXT_FETCH_SUCCESS",l=t.CONTEXT_FETCH_FAILURE="CONTEXT_FETCH_FAILURE",s=t.VIEW_SAVE_REQUEST="VIEW_SAVE_REQUEST",u=t.VIEW_SAVE_SUCCESS="VIEW_SAVE_SUCCESS",d=t.VIEW_SAVE_FAILURE="VIEW_SAVE_FAILURE",c=t.VIEW_DELETE_REQUEST="VIEW_DELETE_REQUEST",f=t.VIEW_DELETE_SUCCESS="VIEW_DELETE_SUCCESS",p=t.VIEW_DELETE_FAILURE="VIEW_DELETE_FAILURE",m=t.MODEL_SAVE_REQUEST="MODEL_SAVE_REQUEST",h=t.MODEL_SAVE_SUCCESS="MODEL_SAVE_SUCCESS",g=t.MODEL_SAVE_FAILURE="MODEL_SAVE_FAILURE",b=t.MODEL_DELETE_REQUEST="MODEL_DELETE_REQUEST",v=t.MODEL_DELETE_SUCCESS="MODEL_DELETE_SUCCESS",y=t.MODEL_DELETE_FAILURE="MODEL_DELETE_FAILURE";t.fetchContext=function(){return function(e,t){var a=t().server,s=a.location+"/database/"+a.databaseId;return e(n({},r.CALL_API,{types:[o,i,l],endpoint:s+"/context",method:"GET"}))}},t.saveView=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId,l=!e.id;return t(n({},r.CALL_API,{types:[s,u,d],endpoint:i+(l?"/view":"/view/"+e.id),method:l?"POST":"PUT",body:e}))}},t.deleteView=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({},r.CALL_API,{types:[c,f,p],endpoint:i+"/view/"+e,method:"DELETE"}))}},t.saveModel=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId,l=!e.id;return t(n({},r.CALL_API,{types:[m,h,g],endpoint:i+(l?"/model":"/model/"+e.id),method:l?"POST":"PUT",body:e}))}},t.deleteModel=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({},r.CALL_API,{types:[b,v,y],endpoint:i+"/model/"+e,method:"DELETE"}))}}},718:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchToTabOptions=t.simpleFetch=t.updateTabOptions=t.openBackup=t.openUsersAndRoles=t.openNewModel=t.openCloneModel=t.openEditModel=t.openNewView=t.openCloneView=t.openEditView=t.openView=t.openSecondSidebar=t._tabsMiddlewareForceSelectTab=t.selectTab=t.detachTab=t.closeTabsRight=t.closeTabsLeft=t.closeAllTabs=t.closeOtherTabs=t.closeTab=t._tabsMiddlewareForceCloseTabs=t.closeSettings=t.showSettings=t.closeExitPrompt=t.showExitPrompt=t.UI_TAB_SIMPLE_FETCH_FAILURE=t.UI_TAB_SIMPLE_FETCH_SUCCESS=t.UI_TAB_SIMPLE_FETCH_REQUEST=t.UI_TAB_FETCH_TO_OPTIONS_FAILURE=t.UI_TAB_FETCH_TO_OPTIONS_SUCCESS=t.UI_TAB_FETCH_TO_OPTIONS_REQUEST=t.UI_TAB_UPDATE_OPTIONS=t.UI_OPEN_SECOND_SIDEBAR=t.UI_SELECT_TAB=t.UI_DETACH_TAB=t.UI_CLOSE_TAB_RIGHT=t.UI_CLOSE_TAB_LEFT=t.UI_CLOSE_ALL_TABS=t.UI_CLOSE_OTHER_TABS=t.UI_CLOSE_TAB=t.UI_OPEN_TAB=t.UI_CLOSE_SETTINGS=t.UI_SHOW_SETTINGS=t.UI_CLOSE_EXIT_PROMPT=t.UI_SHOW_EXIT_PROMPT=void 0;var r=a(110),o=a(319),i=a(5),l=a(65),s=t.UI_SHOW_EXIT_PROMPT="UI_SHOW_EXIT_PROMPT",u=t.UI_CLOSE_EXIT_PROMPT="UI_CLOSE_EXIT_PROMPT",d=t.UI_SHOW_SETTINGS="UI_SHOW_SETTINGS",c=t.UI_CLOSE_SETTINGS="UI_CLOSE_SETTINGS",f=t.UI_OPEN_TAB="UI_OPEN_TAB",p=t.UI_CLOSE_TAB="UI_CLOSE_TAB",m=t.UI_CLOSE_OTHER_TABS="UI_CLOSE_OTHER_TABS",h=t.UI_CLOSE_ALL_TABS="UI_CLOSE_ALL_TABS",g=t.UI_CLOSE_TAB_LEFT="UI_CLOSE_TAB_LEFT",b=t.UI_CLOSE_TAB_RIGHT="UI_CLOSE_TAB_RIGHT",v=t.UI_DETACH_TAB="UI_DETACH_TAB",y=t.UI_SELECT_TAB="UI_SELECT_TAB",E=t.UI_OPEN_SECOND_SIDEBAR="UI_OPEN_SECOND_SIDEBAR",w=t.UI_TAB_UPDATE_OPTIONS="UI_TAB_UPDATE_OPTIONS",C=t.UI_TAB_FETCH_TO_OPTIONS_REQUEST="UI_TAB_FETCH_TO_OPTIONS_REQUEST",k=t.UI_TAB_FETCH_TO_OPTIONS_SUCCESS="UI_TAB_FETCH_TO_OPTIONS_SUCCESS",S=t.UI_TAB_FETCH_TO_OPTIONS_FAILURE="UI_TAB_FETCH_TO_OPTIONS_FAILURE",_=t.UI_TAB_SIMPLE_FETCH_REQUEST="UI_TAB_SIMPLE_FETCH_REQUEST",x=t.UI_TAB_SIMPLE_FETCH_SUCCESS="UI_TAB_SIMPLE_FETCH_SUCCESS",T=t.UI_TAB_SIMPLE_FETCH_FAILURE="UI_TAB_SIMPLE_FETCH_FAILURE";t.showExitPrompt=function(){return function(e,t){return e({type:s})}},t.closeExitPrompt=function(){return function(e,t){return e({type:u})}},t.showSettings=function(){return function(e,t){return e({type:d})}},t.closeSettings=function(){return function(e,t){return e({type:c})}};var M={EDIT_VIEW:!0,EDIT_MODEL:!0,USERS_AND_ROLES:!0,BACKUP:!0},R=function(e,t,a){return function(n,r){var o=t&&(t.ctrlKey||t.metaKey),i=t&&t.sameGroup,s=!1;if(o)s=!0,i=!1;else{var u=r();if(!i&&function(e){var t=e.auth.user;return!t||!t.preferences||void 0===t.preferences.alwaysOpenNewTab||t.preferences.alwaysOpenNewTab}(u))s=!0;else{var d=(0,l.getSelectedTabFromState)(u);d&&M[d.type]&&(s=!0,i=!1)}}return document.body.classList.remove("sidebar-mobile-show"),n({type:f,newTab:s,sameGroup:i,tabType:e,options:a})}},I=function(e,t,a){return function(n,r){var o=r(),s=(0,l.findTab)(o,function(a){if(a.type===e)return!t||(0,i.every)(t,function(e,t){return a.options&&a.options[t]===e})});s?O(s.id)(n,r):a(n,r)}},O=(t._tabsMiddlewareForceCloseTabs=function(e){return function(t,a){return t({type:p,tabId:e})}},t.closeTab=function(e){return function(t,a){var r;return t((n(r={type:p},o.CLOSE_TAB_MIDDLEWARE,!0),n(r,"tabId",e),r))}},t.closeOtherTabs=function(e){return function(t,a){var r;return t((n(r={type:m},o.CLOSE_TAB_MIDDLEWARE,!0),n(r,"tabId",e),r))}},t.closeAllTabs=function(){return function(e,t){return e(n({type:h},o.CLOSE_TAB_MIDDLEWARE,!0))}},t.closeTabsLeft=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a,r){var i;return a((n(i={type:g},o.CLOSE_TAB_MIDDLEWARE,!0),n(i,"tabId",e),n(i,"onlyInsideGroup",t),i))}},t.closeTabsRight=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a,r){var i;return a((n(i={type:b},o.CLOSE_TAB_MIDDLEWARE,!0),n(i,"tabId",e),n(i,"onlyInsideGroup",t),i))}},t.detachTab=function(e){return function(t,a){return t({type:v,tabId:e})}},t.selectTab=function(e){return function(t,a){var r;return t((n(r={type:y},o.CLOSE_TAB_MIDDLEWARE,!0),n(r,"tabId",e),r))}});t._tabsMiddlewareForceSelectTab=function(e){return function(t,a){return t({type:y,tabId:e})}},t.openSecondSidebar=function(e){return function(t,a){return t({type:E,secondSidebar:e})}},t.openView=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.filter;return a.sameGroup,R("VIEW",t,{viewId:e,filter:n})},t.openEditView=function(e,t){var a={viewId:e};return I("EDIT_VIEW",a,R("EDIT_VIEW",t,a))},t.openCloneView=function(e,t){return R("EDIT_VIEW",t,{newView:{cloneViewId:e}})},t.openNewView=function(e,t){return R("EDIT_VIEW",t,{newView:e})},t.openEditModel=function(e,t){var a={modelId:e};return I("EDIT_MODEL",a,R("EDIT_MODEL",t,a))},t.openCloneModel=function(e,t){return R("EDIT_MODEL",t,{newModel:{cloneModelId:e}})},t.openNewModel=function(e,t){return R("EDIT_MODEL",t,{newModel:e})},t.openUsersAndRoles=function(e){return I("USERS_AND_ROLES",null,R("USERS_AND_ROLES",e))},t.openBackup=function(e,t){return I("BACKUP",null,R("BACKUP",t,{selectedBackupId:e&&e.selectedBackupId}))},t.updateTabOptions=function(e,t){return function(a,n){return a({type:w,tabId:e,options:t})}},t.simpleFetch=function(e){return function(t,a){var o=a().server,i=o.location+"/database/"+o.databaseId;return t(n({},r.CALL_API,{types:[_,x,T],endpoint:i+e.endpoint,method:e.method,body:e.body}))}},t.fetchToTabOptions=function(e,t,a){return function(o,i){var l,s=i().server,u=s.location+"/database/"+s.databaseId;return o((n(l={},r.CALL_API,{types:[C,k,S],endpoint:u+a.endpoint,method:a.method,body:a.body}),n(l,"tabId",e),n(l,"requestKey",t),l))}}},719:function(e,t,a){"use strict";(function(n){function r(e,t){return t&&t._originalAdmin?(e._originalAdmin=!0,e.admin=t.admin):e._originalAdmin=e._originalAdmin||e.admin,n.Raven&&Raven.setUserContext({user:e,ignoreAdmin:e._originalAdmin&&!e.admin}),e&&e.preferences&&("light"===(e.preferences.sidebarColor||"light")?document.body.classList.add("sidebar-style-light"):document.body.classList.remove("sidebar-style-light")),e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.USER_LOGIN_REQUEST:return{loggingIn:!0};case i.USER_LOGIN_SUCCESS:return{loggedIn:!0,user:r(t.response)};case i.USER_LOGIN_FAILURE:return{};case i.USER_LOGOUT_REQUEST:return{loggedIn:e.loggedIn,user:e.user,loggingOut:!0};case i.USER_LOGOUT_SUCCESS:return n.Raven&&Raven.setUserContext(),{};case i.USER_LOGOUT_FAILURE:return window.deleteCookies&&window.deleteCookies()?{}:{loggedIn:e.loggedIn,user:e.user};case i.USER_TOGGLE_IGNORE_ADMIN:return function(e){if(e.user&&e.user._originalAdmin)return o({},e,{user:o({},e.user,{admin:!e.user.admin})})}(e);case i.USER_UPDATE_PREFERENCES_REQUEST:return l=t.requestId,t.updateStateOnRequest?o({},e,{user:o({},e.user,{preferences:o({},e.user.preferences,t.preferencesToChange)})}):e;case i.USER_UPDATE_PREFERENCES_SUCCESS:return o({},e,{user:r(t.response,e.user)});case i.USER_UPDATE_PREFERENCES_FAILURE:return t.updateStateOnRequest&&l===t.requestId?o({},e,{user:o({},e.user,{preferences:o({},e.user.preferences,t.oldPreferencesValues)})}):e;default:return e}};var i=a(22),l=void 0;e.exports=t.default}).call(t,a(9))},720:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(e=i({},e,function(e,t){var a=t.type&&t.type.match(/SERVER_FETCH_(USERS|ROLES|EXTERNAL_SOURCES|BACKUPS|SETTINGS)_(REQUEST|SUCCESS|FAILURE)/);if(a){var n,r=(0,u.camelCase)(a[1]),l=a[2],s=e[r]||("settings"===r?{}:[]),d=s,c=!1;switch(l){case"REQUEST":c=!0;break;case"SUCCESS":d=t.response;break;case"FAILURE":e.response}return i({},e,(o(n={},r,d),o(n,r+"Fetching",c),o(n,r+"FetchFailed",null),n))}}(e,t)),t.type){case l.SERVER_CONNECTED:return i({},e,{connected:!0,info:null});case l.SERVER_DISCONNECTED:return i({},e,{connected:!1,info:null});case l.SERVER_INFO_CHANGE:return function(e){var t=e.version;f.default.lt("3.4.3",t)&&(m&&d.toast.isActive(m)||h&&h.getTime()+p>(new Date).getTime()||(m=d.toast.info(function(e){return e.closeToast,s.default.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),window.location.reload()}},s.default.createElement(c.FormattedMessage,{id:"Toast.newServerVersion.message",defaultMessage:"New {appName} version available.",values:{appName:window.appName}}),s.default.createElement("br",null),s.default.createElement(c.FormattedMessage,{id:"Toast.newServerVersion.action",defaultMessage:"Click to update."}))},{autoClose:!1,onClose:function(e){h=new Date}})))}(t.serverInfo),i({},e,{info:t.serverInfo});case l.USER_LOGOUT_SUCCESS:case l.USER_TOGGLE_IGNORE_ADMIN:return{appName:e.appName,location:e.location,databaseId:e.databaseId,connected:!1};case l.SERVER_UPDATE_SETTINGS_REQUEST:return i({},e,{settingsUpdating:!0});case l.SERVER_UPDATE_SETTINGS_SUCCESS:return i({},e,{settings:t.response,settingsUpdating:!1});case l.SERVER_UPDATE_SETTINGS_FAILURE:return i({},e,{settingsUpdating:!1});case l.SERVER_CREATE_ROLE_SUCCESS:return i({},e,{roles:[].concat(r(e.roles),[t.response])});case l.SERVER_CREATE_USER_SUCCESS:return i({},e,{users:[].concat(r(e.users),[t.response])});case l.SERVER_DELETE_USER_SUCCESS:return i({},e,{users:(e.users||[]).filter(function(e){return e.id!==t.userId})});case l.SERVER_UPDATE_USER_SUCCESS:return i({},e,{users:(e.users||[]).map(function(e){return e.id!==t.userId?e:t.response})});default:return e}};var l=a(22),s=n(a(0)),u=a(5),d=a(47),c=a(6),f=n(a(775)),p=6e5,m=null,h=null;e.exports=t.default},74:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.datetimeFormats=t.fieldTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.canChangeToType=function(e,t){var a=d[e];return a&&-1!==a.canChangeToType.indexOf(t)},t.changeDataValue=function(e,t,a,o,l){var s=void 0;if(s=void 0===l?function(e,t){return r({},e,n({},o,t&&t[o]))}:function(e){return r({},e,n({},o,l))},"model_id"===o){var u={},d={},c=s;s=function(t,a){var n=(t=c(t,a)).model_id;return n&&(0,i.each)(t,function(a,r){if(a){var o=function(t,a){var n=void 0;if(0===a.indexOf("vcol_"))n=!0;else if(0!==a.indexOf("col_"))return;if(!u[a]){u[a]={};var r=void 0;if(n){var o=a.substring(5);r=e.viewColumns[o].field_id}else r=a.substring(4);var l=e.fields[r];(0,i.each)(l&&l.mappedFields,function(t){var n=e.fields[t];if(n){var r="col_"+n.id;u[a][n.data_model_id]=r,d[r]="ENUM"===n.type1&&n.enumList}})}var s=u[a][t];return s&&d[s]}(n,r);o&&-1===o.indexOf(a)&&(t[r]=null)}}),t}}return Array.isArray(t)?t.map(function(e,t){return s(e,a&&a[t])}):s(t,a)},t.parseValue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=a.returnErrors,r=a.decimalSeparator,o=a.dateFormat,i=a.trueValue,l=a.falseValue,u=a.separator,d=e.type1;switch(d){case"TEXT":case"ENUM":return t;case"INTEGER":case"DOUBLE":case"DECIMAL":return"string"==typeof t?t?new RegExp("^[0-9]*["+(r||".")+"]?[0-9]*$").test(t)?(r&&"."!==r&&(t=t.replace(r,".")),"DECIMAL"===d?t:"INTEGER"===d?parseInt(t,10):parseFloat(t)):n?new Error("Error parsing "+d):null:null:"number"==typeof t?t:null;case"BOOLEAN":return!0===t||!1===t?t:i&&l?t==i||t!=l&&(n?new Error("Error parsing "+d):null):i?t==i:l?t!=i:!!t;case"TIME":case"DATE":case"DATETIME":if(!t)return null;var f;"TIME"===d?f=o||"h:m:s":"DATE"!==d&&"DATETIME"!==d||(f=o||void 0);var p=(0,s.default)(t,f);if(!p.isValid())return n?new Error("Error parsing "+d):null;var m=c[d];return p.format(m);case"TEXT_ARRAY":return t&&u?t.split(u).map(function(e){return e.trim()}):t}return null};var o,i=a(5),l=a(2),s=(o=l)&&o.__esModule?o:{default:o},u=[{type:"TEXT",canChangeToType:["TEXT","ENUM"]},{type:"INTEGER",canChangeToType:["INTEGER","DOUBLE","DECIMAL"]},{type:"DOUBLE",canChangeToType:["INTEGER","DOUBLE","DECIMAL"]},{type:"DECIMAL",canChangeToType:["INTEGER","DOUBLE","DECIMAL"]},{type:"BOOLEAN",canChangeToType:["BOOLEAN"]},{type:"DATE",canChangeToType:["DATE","DATETIME"]},{type:"TIME",canChangeToType:["TIME"]},{type:"DATETIME",canChangeToType:["DATE","DATETIME"]},{type:"ENUM",canChangeToType:["TEXT","ENUM"]},{type:"TEXT_ARRAY",canChangeToType:["TEXT_ARRAY"]}],d={};u.forEach(function(e){d[e.type]=e}),t.fieldTypes=u.map(function(e){return e.type});var c=t.datetimeFormats={DATE:"YYYY-MM-DD",DATETIME:"YYYY-MM-DD HH:mm:ssZ",TIME:"HH:mm:ss"}},756:function(e,t){},764:function(e,t){},77:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(77)),o=n(a(500)),i=n(a(158)),l=n(a(285)),s=n(a(132)),u=n(a(256)),d=n(a(98)),c=n(a(121)),f=n(a(43)),p=n(a(605)),m=n(a(604)),h=n(a(469)),g=n(a(470)),b=n(a(189)),v=n(a(144)),y=n(a(607)),E=n(a(608)),w=n(a(157)),C=n(a(258)),k=n(a(602)),S=n(a(257)),_=n(a(99)),x=n(a(546)),T=n(a(601)),M=n(a(1342)),R=n(a(1343)),I=n(a(618)),O=n(a(606)),F={};F.Index=r.default,F.TabModalDraggable=o.default,F.TabModal=i.default,F.SearchTemplateEditor=l.default,F.SearchTemplate=s.default,F.OnClickOutside=u.default,F.NumberInput=d.default,F.Loading=c.default,F.Link=f.default,F.ImportWizardTable=p.default,F.ImportWizard=m.default,F.IconWithPicker=h.default,F.IconPicker=g.default,F.FunctionEditor=b.default,F.EditableText=v.default,F.DragAndDropList=y.default,F.DownloadApp=E.default,F.Dialog=w.default,F.DatetimePicker=C.default,F.DataValidationWrapper=k.default,F.DataTypeOutput=S.default,F.DataTypeInput=_.default,F.DataTypeFilter=x.default,F.DataRelationInput=T.default,F.Container=M.default,F.ColorInput=R.default,F.ArrowUtils=I.default,F.AceEditor=O.default,e.exports=F},771:function(e,t){},776:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.CONTEXT_FETCH_REQUEST:return n({},e,{fetching:!0});case r.CONTEXT_FETCH_SUCCESS:return n({},function(e){l("model",e),l("field",e),l("relation",e);var t=e.models,a=e.fields,n=e.relations,r=e.externalSource,s=e.views,u=e.viewColumns,d=e.viewUserPermissions;(0,o.each)(a,function(e){var a=t[e.data_model_id];a&&(a.fields=a.fields||[],a.fields.push(e))}),(0,o.each)(t,function(e){e.fields=(0,o.sortBy)(e.fields||[],"order").map(function(e){return e.id})}),(0,o.each)(n,function(e){var a=t[e.model_from_id],n=t[e.model_to_id];a&&(a.relations=a.relations||[],a.relations.push(e)),n&&a!==n&&(n.relations=n.relations||[],n.relations.push(e))}),(0,o.each)(t,function(e){e.relations=(0,o.sortBy)(e.relations||[],"order").map(function(e){return e.id})}),(0,o.each)(r,function(e){var a=t[e.data_model_id];a&&(a.externalSource=e)});var c=[];(0,o.each)(e.viewPermissions,function(e){(0,o.each)(e,function(e){c.push(e)})}),(0,o.each)(s,function(e){e.permissions=e.permissions||[]}),(0,o.each)(c,function(e){var t=s[e.data_view_id];t&&t.permissions.push(e)}),(0,o.each)(s,function(e){var t=d&&d[e.id];e.userPermissions=t?[t]:[]});var f={models:t,fields:a,relations:n,externalSources:r,views:s,viewColumns:u,viewPermissions:c};return(0,o.each)(n,function(e){return(0,i.parseRelationFunction)(f,e)}),f}(t.response));case r.CONTEXT_FETCH_FAILURE:return n({},e,{fetchFailed:e.response,fetching:!1});case r.USER_LOGOUT_SUCCESS:case r.USER_TOGGLE_IGNORE_ADMIN:return{};default:return e}};var r=a(22),o=a(5),i=a(54),l=function(e,t){var a=e+"s",n="mapped"+(0,o.upperFirst)(a),r="inverseMapped"+(0,o.upperFirst)(a),i="virtual_"+e+"_id",l="mapped_"+e+"_id";_.each(t[a],function(e){e[n]=[],e[r]=[]}),_.each(t["mapped"+(0,o.upperFirst)(a)],function(e){_.each(e,function(e){var o=e[i],s=e[l];t[a][o][n].push(s),t[a][s][r].push(o)})}),"field"===e&&_.each(t[a],function(e){var a=t.models[e.data_model_id];if(a.mappedModels.length){var i=a.mappedModels.map(function(e){return null});(0,o.each)(e[n],function(e){var n=t.fields[e].data_model_id,r=a.mappedModels.indexOf(n);-1!==r&&(i[r]=e)}),e[n]=i}if(a.inverseMappedModels.length){var l=a.inverseMappedModels.map(function(e){return null});(0,o.each)(e[r],function(e){var n=t.fields[e].data_model_id,r=a.inverseMappedModels.indexOf(n);-1!==r&&(l[r]=e)}),e[r]=l}})};e.exports=t.default},777:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){var t=(0,s.getSelectedTabFromState)(e);return!t||"EDIT_VIEW"!==t.type&&"EDIT_MODEL"!==t.type?e.secondSidebar?o({},e,{secondSidebar:null}):e:"MODELS"!==e.secondSidebar?o({},e,{secondSidebar:"MODELS"}):e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];try{switch(t.type){case i.USER_LOGOUT_SUCCESS:case i.USER_TOGGLE_IGNORE_ADMIN:return{tabs:{byId:{},groups:[],groupsById:{}}};case i.UI_SHOW_EXIT_PROMPT:case i.UI_CLOSE_EXIT_PROMPT:return o({},e,{showExitPrompt:t.type===i.UI_SHOW_EXIT_PROMPT});case i.UI_SHOW_SETTINGS:case i.UI_CLOSE_SETTINGS:return o({},e,{showSettings:t.type===i.UI_SHOW_SETTINGS});case i.UI_OPEN_TAB:return r(function(e,t){var a=(0,l.clone)(e.tabs);a.byId=(0,l.clone)(a.byId),a.groups=(0,l.clone)(a.groups),a.groupsById=(0,l.clone)(a.groupsById);var n=void 0,r=void 0,i=void 0;t.newTab||!e.selectedTab?(n=a.groups.length,r=d++,i={tabs:[]},a.groups.push(r),a.groupsById[r]=i):t.sameGroup?(n=(0,s.getTabGroupIndex)(a,e.selectedTab),r=a.groups[n],(i=(0,l.clone)(a.groupsById[r])).tabs=(0,l.clone)(i.tabs),a.groupsById[r]=i):(n=(0,s.getTabGroupIndex)(a,e.selectedTab),r=a.groups[n],(i=(0,l.clone)(a.groupsById[r])).tabs.map(function(e){return a.byId[e]}),i.tabs.forEach(function(e){delete a.byId[e]}),i.tabs=[],a.groupsById[r]=i);var c={id:u++,type:t.tabType,groupId:r,options:t.options};return i.tabs.push(c.id),a.byId[c.id]=c,o({},e,{selectedTab:c.id,tabs:a})}(e,t));case i.UI_CLOSE_TAB:return r(function(e,t){e=(0,l.clone)(e);var a=(0,l.clone)(e.tabs);e.tabs=a,a.byId=(0,l.clone)(a.byId),a.groups=(0,l.clone)(a.groups),a.groupsById=(0,l.clone)(a.groupsById);var n=t.tabId;return Array.isArray(n)||(n=[n]),n.forEach(function(t){var n=(0,s.getTabGroupIndex)(e,t);if(-1!==n){var r=a.groups[n],o=a.groupsById[r];if(a.byId[t],o.tabs=o.tabs.filter(function(e){return e!==t}),delete a.byId[t],0===o.tabs.length&&(delete a.groupsById[r],a.groups.splice(n,1)),t===e.selectedTab){var i=null;if(n<a.groups.length?i=a.groups[n]:a.groups.length>0&&(i=a.groups[a.groups.length-1]),i){var l=a.groupsById[i].tabs,u=l.length-1;e.selectedTab=l[u]}else e.selectedTab=null}}}),e}(e,t));case i.UI_DETACH_TAB:return r(function(e,t){var a=(0,l.clone)(e.tabs);a.byId=(0,l.clone)(a.byId),a.groups=(0,l.clone)(a.groups),a.groupsById=(0,l.clone)(a.groupsById);var n=(0,s.getTabIndexInGroup)(a,t.tabId),r=(0,s.getTabGroupIndex)(a,t.tabId),i=a.groups[r],u=(0,l.clone)(a.groupsById[i]),c=u.tabs;u.tabs=[],a.groupsById[i]=u;var f=r+1,p=d++,m={tabs:[]};return a.groups.splice(f,0,p),a.groupsById[p]=m,c.forEach(function(e,t){if(t<n)u.tabs.push(e);else{m.tabs.push(e);var r=a.byId[e],o=(0,l.clone)(r);o.groupId=p,a.byId[o.id]=o}}),o({},e,{tabs:a})}(e,t));case i.UI_SELECT_TAB:return r(function(e,t){return o({},e,{selectedTab:t.tabId})}(e,t));case i.UI_OPEN_SECOND_SIDEBAR:return o({},e,{secondSidebar:t.secondSidebar});case i.UI_TAB_UPDATE_OPTIONS:return function(e,t){var a=t.tabId,r=t.options,i=e.tabs.byId[a];if(i){(i=(0,l.clone)(i)).options=o({},i.options,r);var s=(0,l.clone)(e.tabs);return s.byId=o({},s.byId,n({},a,i)),o({},e,{tabs:s})}return e}(e,t);case i.UI_TAB_FETCH_TO_OPTIONS_REQUEST:case i.UI_TAB_FETCH_TO_OPTIONS_SUCCESS:case i.UI_TAB_FETCH_TO_OPTIONS_FAILURE:return function(e,t){var a=t.tabId,r=t.requestKey,s=e.tabs.byId[a];if(s){var u,d=!1,c=!1;switch(t.type){case i.UI_TAB_FETCH_TO_OPTIONS_REQUEST:d=!0;break;case i.UI_TAB_FETCH_TO_OPTIONS_SUCCESS:u=t.response;break;case i.UI_TAB_FETCH_TO_OPTIONS_FAILURE:c=t.response&&t.response.message}(s=(0,l.clone)(s)).options=(0,l.clone)(s.options),void 0!==u&&(s.options[r]=u),s.options[r+"Loading"]=d,s.options[r+"Failed"]=c;var f=(0,l.clone)(e.tabs);return f.byId=o({},f.byId,n({},a,s)),o({},e,{tabs:f})}return e}(e,t);default:return e}}catch(e){console.log(e)}};var i=a(22),l=a(5),s=a(65),u=1,d=1,c={tabs:{byId:{},groups:[],groupsById:{}}};e.exports=t.default},780:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.init=function(e){new s(e).startIfNeeded()},a(5);var r,o=a(22),i=a(781),l=(r=i)&&r.__esModule?r:{default:r},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.started=!1,this.loggedIn=!1,this.onStoreChanged=this.onStoreChanged.bind(this),this.onConnect=this.onConnect.bind(this),this.onDisconnect=this.onDisconnect.bind(this),this.onModelsChanged=this.onModelsChanged.bind(this),this.onViewsChanged=this.onViewsChanged.bind(this),this.onContextChanged=this.onContextChanged.bind(this),this.onUsersChanged=this.onUsersChanged.bind(this),this.onRolesChanged=this.onRolesChanged.bind(this),this.onExternalSourcesChanged=this.onExternalSourcesChanged.bind(this),this.onBackupSettingsChanged=this.onBackupSettingsChanged.bind(this),this.onServerInfoChanged=this.onServerInfoChanged.bind(this),this.onSettingsChanged=this.onSettingsChanged.bind(this);var a={leading:!1,trailing:!0};this.onContextChanged=_.throttle(this.onContextChanged,50,a),this.onUsersChanged=_.throttle(this.onUsersChanged,50,a),this.onRolesChanged=_.throttle(this.onRolesChanged,50,a),this.onExternalSourcesChanged=_.throttle(this.onExternalSourcesChanged,50,a),this.onBackupSettingsChanged=_.throttle(this.onBackupSettingsChanged,50,a),this.store.subscribe(this.onStoreChanged)}return n(e,[{key:"onStoreChanged",value:function(){var e=this.store.getState().auth,t=e.loggedIn,a=e.user,n=this.loggedIn,r=this.user;this.loggedIn=t,this.user=a,n!==t?t?this.start():this.stop():a&&r&&a.admin!==r.admin&&(this.stop(),this.start())}},{key:"startIfNeeded",value:function(){this.onStoreChanged()}},{key:"start",value:function(){if(!this.started){console.log("NotificationListener: starting notification listener");var e=this.store.getState().server,t=e.location,a=e.databaseId;this.socket=(0,l.default)(t+"/socket/notifications",{multiplex:!1,reconnection:!0,query:"dbId="+a}),this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisconnect),this.socket.on("models_changed",this.onContextChanged),this.socket.on("views_changed",this.onContextChanged),this.socket.on("users_changed",this.onUsersChanged),this.socket.on("roles_changed",this.onRolesChanged),this.socket.on("external_source_changed",this.onExternalSourcesChanged),this.socket.on("backup_settings_changed",this.onBackupSettingsChanged),this.socket.on("server_info",this.onServerInfoChanged),this.socket.on("settings_changed",this.onSettingsChanged),this.started=!0}}},{key:"stop",value:function(){this.started&&(console.log("NotificationListener: stopping notification listener"),this.socket.disconnect(!0),this.onDisconnect(),this.started=!1)}},{key:"isAdmin",value:function(){var e=this.store.getState().auth.user;return e&&e.admin}},{key:"onConnect",value:function(){this.store.dispatch((0,o.serverConnected)()),this.onContextChanged(),this.onUsersChanged(),this.onRolesChanged(),this.onExternalSourcesChanged(),this.onBackupSettingsChanged(),this.onSettingsChanged()}},{key:"onDisconnect",value:function(){this.store.dispatch((0,o.serverDisconnected)())}},{key:"onModelsChanged",value:function(){this.onContextChanged()}},{key:"onViewsChanged",value:function(){this.onContextChanged()}},{key:"onContextChanged",value:function(){this.store.dispatch((0,o.fetchContext)())}},{key:"onUsersChanged",value:function(){this.isAdmin()&&this.store.dispatch((0,o.fetchUsers)())}},{key:"onRolesChanged",value:function(){this.isAdmin()&&this.store.dispatch((0,o.fetchRoles)())}},{key:"onExternalSourcesChanged",value:function(){this.store.dispatch((0,o.fetchExternalSources)())}},{key:"onBackupSettingsChanged",value:function(){this.store.dispatch((0,o.fetchBackups)())}},{key:"onServerInfoChanged",value:function(e){this.store.dispatch((0,o.serverInfoChange)(e))}},{key:"onSettingsChanged",value:function(){this.store.dispatch((0,o.fetchSettings)())}}]),e}();t.default=s},798:function(e,t){},801:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),l=n(i),s=a(18),u=n(a(49)),d=(n(a(802)),n(a(2))),c=a(6),f=n(a(804)),p=n(a(805)),m=n(a(806));(0,c.addLocaleData)([].concat(r(f.default),r(p.default)));var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state=a.initLanguage(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.props.language!==e.language&&this.setState(this.initLanguage(e))}},{key:"initLanguage",value:function(e){var t=e.language;u.default.locale(t),d.default.locale(t);var a=t.toLowerCase().split(/[_-]+/)[0];return{messages:m.default[t]||m.default[a]||m.default.en}}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.language,n=this.state.messages;return l.default.createElement(c.IntlProvider,{locale:a,key:a,messages:n},t)}}]),t}();t.default=(0,s.connect)(function(e,t){return{language:e.intl.language}})(h),e.exports=t.default},806:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(807),r=a(808);t.default={en:n,it:r},e.exports=t.default},807:function(e,t){e.exports={"App.settings.closeButton":"Close","App.settings.title":"Settings","App.confirmClose.title":"Confirm close","App.confirmClose.message":"Unsaved data will be lost. Are you sure you want to quit?","App.confirmClose.closeButton":"Close","App.confirmClose.cancelButton":"Cancel","DownloadApp.mainDownload":"Download the desktop app","DownloadApp.secondaryDownload":"or download the {os} version","Login.title":"Login","Login.description":"Enter your credentials:","Login.username":"Username","Login.password":"Password","Login.errors.invalidCredential":"Invalid credentials","Login.errors.changePasswordRequired":"Change of password required","Login.errors.newVersionAvailable":"New version available","Login.errors.genericError":"There was an error trying to login","Login.rememberMe":"Remember me","Login.loginButton":"Login","Login.changeOfPassword.cancelButton":"Cancel","Login.changeOfPassword.description":"Your password is expired. Please enter a new password.","Login.changeOfPassword.loginButton":"Login","Login.changeOfPassword.title":"Enter a new password","Login.newPassword":"New password","Login.repeatPassword":"Repeat password","Login.backToDiscovery.message":"Find another server","User.disableAdminMode":"Disable admin mode","User.enableAdminMode":"Enable admin mode","User.logout":"Logout","Dialog.successButton":"Ok","Dialog.cancelButton":"Cancel","Tab.closeTab.confirmDialog.closeButton":"Close tab","Tab.closeTab.confirmDialog.message":"Are you sure you want to close this tab and lose any unsaved changes?","Tab.closeTab.confirmDialog.title":"Confirm close tab","Tab.error.message":"This tab has crashed. Please try again","Tab.error.reloadButton":"Reload","Tab.error.title":"Something went wrong","TabController.contextMenu.closeAllTabs":"Close all tabs","TabController.contextMenu.closeOtherTabs":"Close other tabs","TabController.contextMenu.closeTab":"Close tab","TabController.contextMenu.closeTabsLeft":"Close tabs on the left","TabController.contextMenu.closeTabsRight":"Close tabs on the right","TabController.contextMenu.detachTab":"Detach tab","Tab.tabTitle.newExternalSource":"New external source","Tab.tabTitle.newModel":"New model","Tab.tabTitle.newView":"New view","Tab.tabTitle.newVirtualModel":"New virtual model","Tab.tabTitle.backup":"Backup settings","Tab.tabTitle.usersAndRoles":"Users and roles","DataType.locale.BOOLEAN":"Boolean","DataType.locale.DATE":"Date","DataType.locale.DATETIME":"Date and time","DataType.locale.DECIMAL":"Decimal number (rounded)","DataType.locale.DOUBLE":"Decimal number","DataType.locale.ENUM":"Enumerative","DataType.locale.INTEGER":"Integer number","DataType.locale.TEXT":"Text","DataType.locale.TEXT_ARRAY":"Multiple text","DataType.locale.TIME":"Time","DataTypeInput.fieldNotGiven":"Error generating attribute's input element","DataTypeInput.unknownFieldType":"Error generating attribute's input element: unknown field type: {fieldType}","DataTypeOutput.fieldNotGiven":"Error generating attribute's text","DataTypeOutput.unknownFieldType":"Error generating attribute's output text: unknown field type: {fieldType}","EditView.newViewBaseName":"New View","EditView.delete.confirmTitle":"Confirm deletion","EditView.delete.confirmMessage":"Are you sure to delete the view?","EditView.delete.confirmButton":"Delete the view","EditView.error.title":"Error","EditView.error.createErrorMessage":"Error trying to create the view.","EditView.error.deleteErrorMessage":"Error trying to delete the view","EditView.serverUpdateReceivedTitle":"Changes detected","EditView.serverUpdateReceivedMessage":"The view has been reloaded because the server sent some changes.","EditView.title.tableView":"Table view","EditView.deleteView":"Delete view","EditView.save":"Save","EditView.cancel":"Cancel","EditView.viewName":"View name","EditView.icon":"Icon","EditView.modelName":"Model","EditView.columnsSectionTitle":"Columns","EditView.addColumn":"Add column","EditView.column.selectColumnToEditMessage":"Select a column to edit","EditView.editingFormSectionTitle":"Editing form","EditView.filtersSectionTitle":"Filters","EditView.permissionsSectionTitle":"Permissions","EditView.cloneViewBaseName":"Copy","EditView.editingFormSection.button":"Open layout editor","EditView.editingFormSection.help":"The form contains {fields, plural, one {1 attribute} other {# attributes}} and {relations, plural, one {1 relation} other {# relations}}.","EditView.editingFormSection.noEditingForm.help":"You haven't specified an editing form yet. Users will not be able to create/edit rows.","EditView.emptyView":"Empty view","EditView.emptyView.helper":"Start by adding a column...","EditView.title.pivotTable":"Pivot table view","EditView.pivotTableSectionTitle":"Pivot table settings","EditView.pivotInfo.downloadingModelData":"Downloading model data...","EditView.pivotInfo.downloadingModelDataError":"There was an error downloading the model data. Please retry","EditView.pivotInfo.downloadingModelDataError.retry":"Retry","EditView.pivotInfo.noDataForPreview":"There is no data in the model to build a preview. Please populate the model to see a preview of the Pivot Table.","EditView.pivotInfo.setPivotSettings":"Please select at least one row attribute, the value attribute, and either choose at least one column attribute or to show the total value for each row.","EditView.editingListSection.searchTemplate.previewTitle":"Preview","EditView.editingListSection.searchTemplate.previewWarningMessage":"Please select at least one detail","EditView.editingListSection.title":'Select the details of the model "{modelName}" you want to see in the list',"EditView.formSection.button":"Open layout editor","EditView.formSection.noEditingForm.help":"You haven't specified a form yet. Users will see an empty form.","EditView.formSectionTitle":"Form","EditView.listSectionTitle":"List","EditView.title.formView":"Form View","EditColumn.addLinkToOtherViewLabel":"Add link to other view","EditColumn.addLinkToOtherViewSelectViewLabel":"Open view","EditColumn.booleanValue.falseValue":'Display value for "false"',"EditColumn.booleanValue.trueValue":'Display value for "true"',"EditColumn.columnNameLabel":"Column name","EditColumn.conditionalFormatting.checkboxLabel":"Apply cell formatting","EditColumn.conditionalFormatting.label":"Cell formatting","EditColumn.deleteColumn":"Delete column","EditColumn.modelFieldSelectorLabel":"Attribute/Value","EditColumn.noLinkOption":"No link","EditColumn.staticTextLabel":"Static text","EditColumn.staticTextOption":"Static text","EditColumn.addLinkToOtherView.warnRelationNotEditableInLinkedView":"The relation {linkedModelName}.{inverseRelationName} is not editable in the selected view. This means that you will not be able to create a new row in the {relationName} relation once the view is open.","EditColumn.addLinkToOtherView.warnRelationNotEditableInLinkedView.help":"If you want to be able to create new rows, add the relation {inverseRelationName} as an input in the edit form of the view {viewName}","EditColumn.inlineEditing.checkboxLabel":"Allow cell editing","EditColumn.inlineEditing.label":"Cell editing","EditColumn.addLinkToOtherView.basedOnRealModel":"Different view based on real model","EditColumn.addLinkToOtherView.basedOnRealModel.checkboxLabel":"Select a different view for each child model","EditColumn.link.sameEntryInDifferentView":"Same entry in a different view","EditPivotInfo.pivotInfo.availableFields.search.placeholder":"Search...","EditPivotInfo.pivotInfo.columnFields.title":"Columns","EditPivotInfo.pivotInfo.rowFields.title":"Rows","EditPivotInfo.pivotInfo.subtitle":"Choose the fields to show in the pivot table by dragging them into the areas below.","EditPivotInfo.pivotInfo.title":"Pivot fields","EditPivotInfo.pivotInfo.valueField.aggregationType":"Aggregation type","EditPivotInfo.pivotInfo.valueField.title":"Value (aggregated)","EditPivotInfo.pivotInfo.valueTotalColumn.checkbox":"Show total value for each row","EditPivotInfo.pivotInfo.valueTotalColumn.columnName":"Total column name:","SearchTemplate.warningMessage":"Select the details in the view's settings","SearchTemplateEditor.button.addRow":"Add row","SearchTemplateEditor.format.bold":"Bold","SearchTemplateEditor.format.italic":"Italic","SearchTemplateEditor.format.underline":"Underline","SearchTemplateEditor.table.header.attribute":"Attribute","SearchTemplateEditor.table.header.font":"Font","EditConditionalFormatting.bar.hideValue":"Hide value (only show the bar)","EditConditionalFormatting.general.format.background":"Background color","EditConditionalFormatting.general.format.bold":"Bold","EditConditionalFormatting.general.format.color":"Text color","EditConditionalFormatting.general.format.italic":"Italic","EditConditionalFormatting.general.format.textStyle":"Text style","EditConditionalFormatting.general.format.underline":"Underline","EditConditionalFormatting.general.max":"Max","EditConditionalFormatting.general.middle":"Middle","EditConditionalFormatting.general.min":"Min","EditConditionalFormatting.general.negativeNumbers":"Negative numbers","EditConditionalFormatting.general.positiveNumbers":"Positive numbers","EditConditionalFormatting.general.valueType.auto":"Auto","EditConditionalFormatting.general.valueType.manual":"Manual","EditConditionalFormatting.ranges.columnTitleRanges":"Ranges","EditConditionalFormatting.ranges.fromValue":"From","EditConditionalFormatting.ranges.toValue":"To","EditConditionalFormatting.table.header.options":"Options","EditConditionalFormatting.table.header.rule":"Rule","EditConditionalFormatting.values.addValue":"Add value","EditConditionalFormatting.values.columnTitleFormat":"Format","EditConditionalFormatting.values.columnTitleValue":"Value","EditConditionalFormatting.values.ifValue":"If","EditConditionalFormatting.values.noneOfTheAbove":"None of the above","EditFilters.permanentFilter.title":"Permanent filter","EditFilters.userFilterEnableCantBeEnabled":"Can't enable filter based on user because there is no user's model.","EditFilters.userFilterEnableLabel":"Filter based on user","EditFilters.userFiltertable.header.userAttribute":"User's attribute","EditFilters.userFiltertable.header.valuerAttribute":"Value","EditPermissions.addRoleButton":"Add role","EditPermissions.newRole.prompt.button":"Create","EditPermissions.newRole.prompt.errorMessage":"Error creating the new role.","EditPermissions.newRole.prompt.errorTitle":"Error","EditPermissions.newRole.prompt.label":"Name of the role","EditPermissions.newRole.prompt.title":"Create a new role","EditPermissions.tableHeader.permission.delete":"Delete","EditPermissions.tableHeader.permission.read":"Read","EditPermissions.tableHeader.permission.write":"Write","EditPermissions.tableHeader.role":"Role","EditorTools.cancelChanges":"Cancel","EditorTools.saveChanges":"Save","LayoutEditor.element.column":"Layout: Column","LayoutEditor.element.input":"Data input","LayoutEditor.element.input.multipleValues":"Multiple values","LayoutEditor.element.input.multipleValues.help":"Click to edit","LayoutEditor.element.input.multipleValues.undoChanges":"Click to undo changes","LayoutEditor.element.input.render.checkSettings":"Please check the settings","LayoutEditor.element.input.render.modelId.label":"Model","LayoutEditor.element.input.settings.inputType.field":"Model's attribute","LayoutEditor.element.input.settings.inputType.relation":"Model's relation","LayoutEditor.element.input.settings.modelFieldName.label":"Name","LayoutEditor.element.input.settings.modelFieldSelector.label":"Attribute","LayoutEditor.element.input.settings.relationName.label":"Name","LayoutEditor.element.input.settings.relationSearchTemplate.previewTitle":"Preview","LayoutEditor.element.input.settings.relationSearchTemplate.previewWarningMessage":"Please select at least one detail","LayoutEditor.element.input.settings.relationSearchTemplate.title":'Select the details of the model "{modelName}" you want to see when you are searching for the entry you want to select',"LayoutEditor.element.input.settings.relationSelector.label":"Relation","LayoutEditor.element.input.settings.selectInputType":"Input type","LayoutEditor.element.input.readOnlyLabel":"read only","LayoutEditor.element.row":"Layout: Row","LayoutEditor.element.settings.popover.title":"Settings","LayoutEditor.tools.help":"Drag and drop elements in the layout area","LayoutEditor.tools.help2":"Start creating the layout by adding rows, then add column in them. You can change the width of the columns and insert components in them to create the layout you prefer.","LayoutEditor.tools.title":"UI Elements","ModalEditForm.create.saveButton":"Create","ModalEditForm.create.title":"Create new entry","ModalEditForm.duplicate.saveButton":"Duplicate","ModalEditForm.duplicate.title":"Duplicate entry","ModalEditForm.edit.multipleEntriesAlert":"The selected items may contain different values for some input. If you edit an attribute's value, all entries will be updated with the new value. Otherwise they will retain their initial values.","ModalEditForm.edit.saveButton":"Update","ModalEditForm.edit.title":"Edit {numberOfEntries, plural, one {entry} other {# entries}}","ModalEditForm.general.cancelButton":"Cancel","EditModel.attributesSectionTitle":"Attributes","EditModel.cancel":"Cancel","EditModel.delete.confirmButton":"Delete this model","EditModel.delete.confirmMessage":"Are you sure to delete this model?","EditModel.delete.confirmTitle":"Confirm deletion","EditModel.deleteModel":"Delete model","EditModel.removeExternalSource":"Remove external source","EditModel.removeExternalSource.confirmButton":"Remove the external source","EditModel.removeExternalSource.confirmMessage":"Are you sure to remove the external source from this model?","EditModel.removeExternalSource.confirmMessage.moreInfo":"The model's data will not be deleted but it will not be synced with the external source anymore.","EditModel.removeExternalSource.confirmTitle":"Confirm to remove the external source","EditModel.error.createErrorMessage":"Error trying to create the model.","EditModel.error.deleteErrorMessage":"Error trying to delete the model","EditModel.error.title":"Error","EditModel.externalSourceSectionTitle":"External data source","EditModel.modelName":"Model name","EditModel.newExternalSourceBaseName":"NewExternalSource","EditModel.newModelBaseName":"NewModel","EditModel.newVirtualModelBaseName":"NewVirtualModel","EditModel.relationsSectionTitle":"Relations","EditModel.save":"Save","EditModel.serverUpdateReceivedMessage":"The model has been reloaded because the server sent some changes.","EditModel.serverUpdateReceivedTitle":"Changes detected","EditModel.title.externalSourceModel":"Model from an external data source","EditModel.title.model":"Model","EditModel.title.virtualModel":"Virtual model","EditModel.virtualModel.mappedModelsSectionTitle":"Child models","EditModel.cloneModelBaseName":"Copy","EditModel.specialModel.USER_MODEL.help":"This model represents all users that can login to {appName} and allows you to add attributes or relations to other models to better describe the users of your company.","EditModel.specialModel.USER_MODEL.help2":"To add users, edit the user's roles, or change password, go to {link}.","EditModel.specialModel.USER_MODEL.help2.linkUserAndRoles":"Settings → Users and roles","EditChildModels.childModel.help":"A virtual model represents the union of all its child models. It will contain all their rows, with their attributes mapped to this model's attributes based on the following table. You can also add access to a child model's relations with other models.","EditChildModels.childModel.label":"Child models","EditFields.addAttribute":"Add attribute","EditFields.dataValidation.checkbox":"Suggestions with values from another model","EditFields.dataValidation.sourceGroupOptions.noGroup":"No group","EditFields.tableHeader.fieldName":"Attribute name","EditFields.tableHeader.type":"Type","EditFields.type.autoType":"Auto","EditFields.type.functionType":"Formula","EditFields.type.returnedValue":"Returned value","EditFields.uniqueFieldValue":"Unique value","EditFields.dataValidation.groupWithOtherFields":"Group more attributes together","EditFields.dataValidation.help":"While typing, you will be prompted with suggested values for this attribute. Use this feature if you have a list of possible options for this attribute stored in another model.","EditFields.dataValidation.sourceAttribute":"Source attribute:","EditFields.dataValidation.sourceModel":"Source model:","EditFields.decimalDigits":"Decimal digits:","EditFields.enumValues":"Possible values:","EditFields.uniqueFieldValue.help":"Check unique if you know that every data entry will have a different value for this attribute.","EditFields.mappedFields.noMappedModels":"No child models selected","EditFields.mappedFields.title":"Select the corresponding field for each child model","EditFields.readOnlyAttribute":"This attribute is read-only","EditFields.readOnlyAttribute.externalSource":"This attribute is read-only. It's imported from the external source's column: `{columnName}`","EditRelations.newRelation":"New relation","EditRelationsGroup.advancedType.autoFields":"Automatic relation based on the value of some attributes","EditRelationsGroup.advancedType.autoFields.notPossible":"No attribute available in the selected model","EditRelationsGroup.advancedType.createFromVirtualRelation":"Use an existing relation in a virtual model","EditRelationsGroup.advancedType.createFromVirtualRelation.notPossible":"No relations in virtual models","EditRelationsGroup.advancedType.filterExistingRelation":"Filter existing relation","EditRelationsGroup.advancedType.no":"No","EditRelationsGroup.advancedType.selectLabel":"Advanced relation","EditRelationsGroup.advancedType.suggestions.subtitle":"Check the suggestion available below by choosing one of these options:","EditRelationsGroup.advancedType.suggestions.title":"You may want to create a relation between {firstModel} and {secondModel} using existing relations.","EditRelationsGroup.advancedType.twoSteps":"Automatic relation following the chain of two existing relations","EditRelationsGroup.advancedType.twoSteps.notPossible":"There are no chain of relations available","EditRelationsGroup.autoFieldsRelation.description.future":"Create an automatic relation between two row that satisfy this rule","EditRelationsGroup.autoFieldsRelation.description.present":"This automatic relation creates link between two row that satisfy this rule","EditRelationsGroup.createFromVirtualRelation.description.future":"This relation will be automatically associated with the relations {relation} between {model1} and {model2} as shown in the figure.","EditRelationsGroup.createFromVirtualRelation.description.present":"This relation is automatically associated with the relations {relation} between {model1} and {model2} as shown in the figure.","EditRelationsGroup.createFromVirtualRelation.selectLabel":"Link to virtual relation:","EditRelationsGroup.editing.inverseRelationLabel":"Inverse relation","EditRelationsGroup.filterExistingRelation.filter.label":"Filter","EditRelationsGroup.filterExistingRelation.help":"This relation will select the first entry in the existing relation, ordered by the given attribute, that satisfies the filter condition.","EditRelationsGroup.filterExistingRelation.order.label":"Order by","EditRelationsGroup.filterExistingRelation.relationToFilter.label":"Existing relation","EditRelationsGroup.otherOptionsButton.advancedOptions":"Advanced options","EditRelationsGroup.otherOptionsButton.linkedRelations":"Linked relations","EditRelationsGroup.twoStepRelation.description":"This relation is automatically generated using the relations {relation1} and {relation2}, following the path described in the figure.","EditRelationsGroup.relation.readOnly.badge":"Read only","EditRelationsGroup.relation.advanced.removeAdvancedOptions":"Remove advanced options","EditRelationsGroup.relation.advanced.removeAdvancedOptions.helper":"The relation will become a manual relation between the two model. The current relations between the data will not be lost.","Relations.locale.inverseRelation":"Inverse relation","Relations.locale.type.many":"Many","Relations.locale.type.one":"One","Relations.locale.virtualModel":"Virtual model","EditExternalSource.connection.address":"Address","EditExternalSource.connection.checkInterval":"Check interval","EditExternalSource.connection.checkInterval.help":"This model will check for new or updated data in the external source after this time interval is elapsed from the last synchronization","EditExternalSource.connection.checkInterval.seconds":"seconds","EditExternalSource.connection.database":"Database name","EditExternalSource.connection.password":"Password","EditExternalSource.connection.port":"Port","EditExternalSource.connection.type":"Type","EditExternalSource.connection.username":"Username","EditExternalSource.connectionButton":"Test connection","EditExternalSource.connectionButton.help":"Use this button to verify the connection to the external source and retrieve the available columns/fields returned by the query","EditExternalSource.connectionButton.testNotDoneWarning":'The following columns list could be different from the real list until you click the "Test connection" button',"EditExternalSource.connectionError.title":"Connection error","EditExternalSource.query.advanced":"Advanced query","EditExternalSource.query.advanced.query.help":"This query must select all the columns/fields that you want to sync","EditExternalSource.query.advanced.querySql":"Query (sql)","EditExternalSource.query.simple":"Simple query","EditExternalSource.query.simple.tableName":"Table name","EditExternalSource.query.simple.whereSql":"WHERE filter (sql)","EditExternalSource.rowsFound":"{numberOfRows, plural, one {# row} other {# rows}} found","EditExternalSource.table.attributeName":"Attribute name","EditExternalSource.table.columnName":"Column name","EditExternalSource.table.columnOptions.creation.description":"Column with the row's creation timestamp","EditExternalSource.table.columnOptions.creation.short":"C","EditExternalSource.table.columnOptions.id.description":"Column with the row's identifier","EditExternalSource.table.columnOptions.id.short":"ID","EditExternalSource.table.columnOptions.update.description":"Column with the row's update timestamp","EditExternalSource.table.columnOptions.update.short":"U","EditExternalSource.table.import":"Import","EditExternalSource.table.type":"Type","ExternalSource.lastSync.last":"Last synchronization","ExternalSource.lastSync.never":"Never synchronized","ExternalSource.locale.errors.SqlAnywhere.noFromSupport":"SqlAnywhere doesn't support FROM parameter","ExternalSource.locale.errors.expectedParamenter":"Expected parameter: {parameter}","ExternalSource.locale.errors.queryError.noColumns":"Wrong query: no columns returned","ExternalSource.locale.errors.queryError.withMessage":"Query error:\n\n{message}","ExternalSource.locale.errors.tableNotFound":"Table not found: {tableName}","ExternalSource.locale.errors.whereError.withMessage":"Possible error in WHERE clause:\n\n{message}","View.buttons.createRow":"Create","View.buttons.deleteRow":"Delete","View.buttons.duplicateRow":"Duplicate","View.buttons.editRow":"Edit","View.buttons.export":"Export","View.buttons.export.copy":"Copy","View.buttons.export.print":"Print","View.buttons.import":"Import","View.deleteRow.button":"Delete","View.deleteRow.message":"Are you sure to delete {numberOfRows, number} {numberOfRows, plural, one {row} other {rows}}?","View.deleteRow.title":"Delete {numberOfRows, number} {numberOfRows, plural, one {row} other {rows}}","View.globalSearch.placeholder":"Search...","View.saving.error.generic":"Error while saving.","View.emptyView":"Empty view","View.pivot.valueAggregationType.AVG":"Average","View.pivot.valueAggregationType.COUNT":"Count","View.pivot.valueAggregationType.MAX":"Max","View.pivot.valueAggregationType.MIN":"Min","View.pivot.valueAggregationType.SUM":"Sum","View.warning.saveOrCancel.creating":"You have not saved your new entry. Save or cancel your changes before selecting a new one.","View.warning.saveOrCancel.editing":"You have not saved your changes. Save or cancel your changes before selecting a new entry.","CreateOrUpdateRow.locale.errors.relationObjectAlreadyExists":'The selected object in the relation "{relationName}" already has an object associated for the relation "{inverseRelationName}".',"Toast.copy.error.browserNotSupported":"Error trying to copy. Your browser is not supported.","Toast.newServerVersion.message":"New {appName} version available.","Toast.newServerVersion.action":"Click to update.","TableView.contextMenu.blockColumn":"Block column","TableView.contextMenu.copyRow":"Copy row","TableView.contextMenu.copyValue":"Copy value","TableView.contextMenu.filterColumn":"Filter column with this value","TableView.contextMenu.unblockColumns":"Unblock columns","TableView.copyRow.success":"Copied {numberOfRows, plural, one {one row} other {# rows}} to clipboard","TableView.copyValue.success":"Copied value to clipboard","TableView.empty.loading":"Loading...","TableView.empty.noRows":"No rows","TableView.export.success.csv":"CSV file exported","TableView.export.success.excel":"Excel file exported","TableView.export.success.pdf":"PDF file exported","TableView.footer.aggregations.AVG":"Average","TableView.footer.aggregations.COUNT":"Count","TableView.footer.aggregations.MAX":"Max","TableView.footer.aggregations.MIN":"Min","TableView.footer.aggregations.SUM":"Sum","TableView.inlineEditing.buttons.cancel":"Cancel","TableView.inlineEditing.buttons.save":"Save","TableView.inlineEditing.save.error":"Error while saving.","Form.create.saveButton":"Create","Form.duplicate.saveButton":"Duplicate","Form.edit.multipleEntriesAlert":"The selected items may contain different values for some input. If you edit an attribute's value, all entries will be updated with the new value. Otherwise they will retain their initial values.","Form.edit.saveButton":"Update","Form.general.cancelButton":"Cancel","Form.selectData.helpMessage":"Select a row from the list","List.empty.loading":"Loading...","List.empty.noRows":"No rows","ImportWizard.askFile.button":"Select a file","ImportWizard.askFile.label":"Import file","ImportWizard.buttons.cancel":"Cancel","ImportWizard.buttons.import":"Import","ImportWizard.decimalSeparator.label":"Decimal separator","ImportWizard.delimiter.comma":"Comma","ImportWizard.delimiter.label":"Delimiter","ImportWizard.delimiter.semicolon":"Semicolon","ImportWizard.delimiter.space":"Space","ImportWizard.delimiter.tab":"Tab","ImportWizard.errors.message":"There are errors parsing the table's data. Please fix the parsing options or exclude the rows with errors before importing.","ImportWizard.import.error":"Error during import","ImportWizard.import.success":"Successfully imported {numberOfRows, plural, one {# entry} other {# entries}}","ImportWizard.saveTemplate.checkboxLabel":"Save import settings","ImportWizard.saveTemplate.templateNameExists":"Same import settings have been already saved with this name and will be overridden","ImportWizard.saveTemplate.templateNameLabel":"Insert name","ImportWizard.sheets.label":"Select sheet","ImportWizard.startAtRow.label":"Start at row","ImportWizard.title":"Import file","ImportWizard.useTemplate.label":"Use existing import settings","ImportWizardTable.column.boolean.falseLabel":"False","ImportWizardTable.column.boolean.trueLabel":"True","ImportWizardTable.column.dateFormat.automaticOption":"Auto","ImportWizardTable.column.dateFormat.label":"Date format","ImportWizardTable.column.importLabel":"Import column","ImportWizardTable.column.noImport":"Don't import","ImportWizardTable.column.textArray.separator.label":"Separator","ImportWizardTable.noRows":"No rows","ConnectionInfo.connected":"Connected","ConnectionInfo.disconnected":"Disconnected","ConnectionInfo.address":"Address:","ConnectionInfo.version":"Version:","AbstractSidebar.cancelChanges":"Cancel","AbstractSidebar.saveChanges":"Save","AbstractSidebar.saveError":"Error while saving","AbstractSidebar.saving":"Saving...","AbstractSidebar.search.placeholder":"Search...","Sidebar.settings":"Settings","Sidebar.settings.models":"Data Models","Sidebar.settings.usersAndRoles":"Users and roles","Sidebar.settings.backups":"Backups","Sidebar.settings.backup":"Backup settings","Sidebar.newFolderName":"New folder","Sidebar.contextMenu.openView":"Open view","Sidebar.contextMenu.openViewInNewTab":"Open view in a new tab","Sidebar.contextMenu.editView":"Edit view","Sidebar.contextMenu.editOrdering":"Edit order","Sidebar.contextMenu.newFolder":"New folder","Sidebar.contextMenu.removeFolder":"Remove folder","ModelsSidebar.createExternalSource":"Create external source","ModelsSidebar.createModel":"Create model","ModelsSidebar.createView":"Create (Table)","ModelsSidebar.createPivotView":"Create (Pivot table)","ModelsSidebar.createFormView":"Create (Form)","ModelsSidebar.createVirtualModel":"Create virtual model","ModelsSidebar.editModel":"Edit model","ModelsSidebar.userModel.editModel":"Edit users model","ModelsSidebar.userModel.name":"Users Model","ModelsSidebar.views":"Views","Header.backup.backingUp":"Backing up...","Header.backup.backupNow":"Backup now","Header.backup.configure":"Configure backup","Header.backup.genericError":"Backup error","Header.backup.lastError":"Last error","Header.backup.notConfigure.message":"Backup is not configured","Header.backup.notConfigure.title":"Warning","Header.backup.title":"Backup","Header.User.settings":"Settings","Header.externalSource.genericError":"Syncing error","Header.externalSources.lastError":"Last error","Header.externalSources.syncNow":"Sync now","Header.externalSources.syncing":"Synchronizing now...","Header.externalSources.title":"External sources","DataRelationInput.loading.error":"Error loading the options","IconPicker.footer.countMessage":"{from} - {to} of {total}","EditableText.emptyPlaceholder":"Empty","Backup.disabled":"Disabled","Backup.enabled":"Enabled","Backup.lastBackup.last":"Last backup","Backup.lastBackup.never":"No backups","Backup.local.description":"On {appName}'s server","Backup.local.name":"Local backup","Backup.smb.address":"Address","Backup.smb.name":"SMB","Backup.smb.password":"Password","Backup.smb.path":"Path","Backup.smb.username":"Username","Backup.unknown.name":"Unknown type","DataTypeFilter.clearFilter":"Clear filter","DataTypeFilter.fieldNotGiven":"You can't filter this column","DataTypeFilter.noValues":"No values","DataTypeFilter.ok":"Ok","DataTypeFilter.text.options.empty":"Empty","DataTypeFilter.text.options.selectAll":"Select all","DataTypeFilter.text.options.selectAllFiltered":"Select all search results","DataTypeFilter.text.search":"Search...","DataTypeFilter.unknownDataType":"Error generating filter: unknown data type: {type}","Backup.addBackup":"Add backup","Backup.list.backingUp":"Backing up...","Backup.list.notSaved":"Not saved","Backup.noBackups":"No backups","Backup.title":"Backup settings","BackupCard.backupPlanning":"Planning","BackupCard.backupPlanning.daily":"Keep daily backups for the previous {inputElement} days","BackupCard.backupPlanning.hourly":"Keep hourly backups for the past {inputElement} hours","BackupCard.backupPlanning.weekly":"Keep weekly backups for the previous {inputElement} weeks","BackupCard.cancel":"Cancel","BackupCard.delete.deleteButton":"Delete backup","BackupCard.delete.message":"Are you sure to delete this backup?","BackupCard.delete.title":"Delete backup","BackupCard.deleteBackup":"Delete backup","BackupCard.enabled":"Enabled","BackupCard.save":"Save","BackupCard.type":"Type","DiscoveryPage.connectByName":"Or connect by name:","DiscoveryPage.connectByName.checking":"Checking...","DiscoveryPage.connectByName.notAvailable":"Server not available","DiscoveryPage.connectByName.notInitialized":"Database not initialized","DiscoveryPage.connectByName.success":"Successfully connected to {serverName}","DiscoveryPage.serverList":"Select a server:","DiscoveryPage.title":"Connect to Selfware","Server.unsecure.warning":"The connection is unsecure","Settings.tab.general":"General","Settings.tab.user":"User","GeneralSettings.language":"Language","GeneralSettings.sidebarColor":"Sidebar color","GeneralSettings.sidebarColor.dark":"Dark","GeneralSettings.sidebarColor.light":"Light","GeneralSettings.tabOpening":"Open tab","GeneralSettings.tabOpening.alwaysNewTab":"Always open new tab by default","GeneralSettings.tabOpening.help":"You can always use Ctrl/⌘ + click to open a new tab","UserSettings.currentPassword.label":"Current password","UserSettings.newPassword.label":"New password","UserSettings.newPasswordRepeat.label":"Repeat new password","UserSettings.resetPassword.button":"Reset password","UserSettings.resetPassword.genericError":"Error updating the password","UserSettings.resetPassword.success":"Password changed with success!","UserSettings.resetPassword.title":"Reset password","UserSettings.username.label":"Username","UsersAndRoles.createNewUser":"Create a new user","UsersAndRoles.createUser.genericError":"Error creating the user","UsersAndRoles.createUser.inputError":"Username and password required","UsersAndRoles.createUser.password":"Password","UsersAndRoles.createUser.password.help":"This password is temporary. The user will be asked to change the password at their next login.","UsersAndRoles.createUser.successButton":"Create user","UsersAndRoles.createUser.title":"Create user","UsersAndRoles.createUser.username":"Username","UsersAndRoles.deleteUser.genericError":"Error removing the user","UsersAndRoles.deleteUser.message":'Are you sure to remove user "{username}"?',"UsersAndRoles.deleteUser.successButton":"Remove user","UsersAndRoles.deleteUser.title":"Remove user","UsersAndRoles.resetPassword":"Reset password","UsersAndRoles.resetPassword.genericError":"Error updating user password","UsersAndRoles.resetPassword.inputError":"Password required","UsersAndRoles.resetPassword.message":'Insert a new temporary password for the user "{username}":',"UsersAndRoles.resetPassword.password":"Password","UsersAndRoles.resetPassword.successButton":"Reset password","UsersAndRoles.resetPassword.title":"Reset password","UsersAndRoles.table.column.adminRole":"Admin","UsersAndRoles.table.column.resetPassword":"Reset password","UsersAndRoles.table.column.username":"Username","UsersAndRoles.title":"Users and roles"}},808:function(e,t){e.exports={"App.settings.closeButton":"Chiudi","App.settings.title":"Impostazioni","App.confirmClose.title":"Conferma chiusura","App.confirmClose.message":"I dati non salvati andranno persi. Sei sicuro di voler uscire?","App.confirmClose.closeButton":"Chiudi","App.confirmClose.cancelButton":"Annulla","DownloadApp.mainDownload":"Scarica l'applicazione","DownloadApp.secondaryDownload":"oppure la versione per {os}","Login.username":"Nome utente","Login.password":"Password","Login.errors.invalidCredential":"Nome utente o password errati","Login.errors.changePasswordRequired":"È richiesto il cambio password","Login.errors.newVersionAvailable":"Nuova versione disponibile","Login.errors.genericError":"Errore durante il login","Login.title":"Login","Login.description":"Inserisci le tue credenziali:","Login.loginButton":"Login","Login.rememberMe":"Ricorda credenziali","Login.changeOfPassword.cancelButton":"Annulla","Login.changeOfPassword.description":"Password scaduta. Inserisci una nuova password.","Login.changeOfPassword.loginButton":"Login","Login.changeOfPassword.title":"Inserisci una nuova password","Login.newPassword":"Nuova password","Login.repeatPassword":"Ripeti password","Login.backToDiscovery.message":"Trova un altro server","Dialog.successButton":"Ok","Dialog.cancelButton":"Annulla","Tab.closeTab.confirmDialog.closeButton":"Chiudi scheda","Tab.closeTab.confirmDialog.message":"Sei sicuro di voler chiudere questa scheda? Perderai le modifiche non salvate.","Tab.closeTab.confirmDialog.title":"Conferma chiusura scheda","Tab.error.message":"C'è stato un problema in questa scheda.","Tab.error.reloadButton":"Ricarica","Tab.error.title":"Qualcosa è andato storto","TabController.contextMenu.closeAllTabs":"Chiudi tutte le schede","TabController.contextMenu.closeOtherTabs":"Chiudi le altre schede","TabController.contextMenu.closeTab":"Chiudi scheda","TabController.contextMenu.closeTabsLeft":"Chiudi schede a sinistra","TabController.contextMenu.closeTabsRight":"Chiudi schede a destra","TabController.contextMenu.detachTab":"Sposta in una nuova scheda","Tab.tabTitle.newExternalSource":"Nuova sorgente esterna","Tab.tabTitle.newModel":"Nuovo modello","Tab.tabTitle.newView":"Nuova vista","Tab.tabTitle.newVirtualModel":"Nuovo modello virtuale","Tab.tabTitle.backup":"Impostazioni Backup","Tab.tabTitle.usersAndRoles":"Utenti e ruoli","DataType.locale.BOOLEAN":"Booleano","DataType.locale.DATE":"Data","DataType.locale.DATETIME":"Data e ora","DataType.locale.DECIMAL":"Numero decimale (arrotondato)","DataType.locale.DOUBLE":"Numero decimale","DataType.locale.ENUM":"Enumerativo","DataType.locale.INTEGER":"Numero intero","DataType.locale.TEXT":"Testo","DataType.locale.TEXT_ARRAY":"Testo multiplo","DataType.locale.TIME":"Ora","DataTypeInput.fieldNotGiven":"Errore dell'attributo","DataTypeInput.unknownFieldType":"Errore dell'attributo: tipo sconosciuto: {fieldType}","DataTypeOutput.fieldNotGiven":"Errore dell'attributo","DataTypeOutput.unknownFieldType":"Errore dell'attributo: tipo sconosciuto: {fieldType}","EditView.newViewBaseName":"Nuova Vista","EditView.delete.confirmTitle":"Conferma eliminazione","EditView.delete.confirmMessage":"Se sicuro di voler eliminare la vista?","EditView.delete.confirmButton":"Elimina la vista","EditView.error.title":"Errore","EditView.error.createErrorMessage":"Errore durante la creazione della vista.","EditView.error.deleteErrorMessage":"Errore durante l'eliminazione della vista","EditView.serverUpdateReceivedTitle":"Cambiamenti riscontrati","EditView.serverUpdateReceivedMessage":"La vista è stata ricaricata perché il server ha inviato dei cambiamenti.","EditView.title.tableView":"Vista tabella","EditView.deleteView":"Elimina vista","EditView.save":"Salva","EditView.cancel":"Annulla","EditView.viewName":"Nome vista","EditView.icon":"Icona","EditView.modelName":"Modello","EditView.columnsSectionTitle":"Colonne","EditView.addColumn":"Aggiungi colonna","EditView.column.selectColumnToEditMessage":"Seleziona una colonna da editare","EditView.editingFormSectionTitle":"Schermata di modifica","EditView.filtersSectionTitle":"Filtri","EditView.permissionsSectionTitle":"Permessi","EditView.cloneViewBaseName":"Copia","EditView.editingFormSection.button":"Apri schermata di modifica della scheda di inserimento","EditView.editingFormSection.help":"La scheda di modifica contiene {fields, plural, one {1 attributo} other {# attributi}} e {relations, plural, one {1 relazione} other {# relazioni}}.","EditView.editingFormSection.noEditingForm.help":"Non hai creato una scheda di modifica. Gli utenti non saranno in grado di creare/modificare righe di questa vista.","EditView.emptyView":"Vista vuota","EditView.emptyView.helper":"Inizia aggiungendo una colonna...","EditView.title.pivotTable":"Vista tabella Pivot","EditView.pivotTableSectionTitle":"Impostazioni tabella Pivot","EditView.pivotInfo.downloadingModelData":"Scarico dati del modello...","EditView.pivotInfo.downloadingModelDataError":"Errore nello scaricare i dati del modello.","EditView.pivotInfo.downloadingModelDataError.retry":"Riprova","EditView.pivotInfo.noDataForPreview":"Non ci sono dati del modello con cui costruire una anteprima. Popola il modello per poter vedere un'anteprima della tabella pivot.","EditView.pivotInfo.setPivotSettings":"Seleziona almeno un attributo per le righe, l'attributo per il valore, e scegli almeno un attributo per le colonne o di mostrare il totale per ogni riga.","EditView.editingListSection.searchTemplate.previewTitle":"Anteprima","EditView.editingListSection.searchTemplate.previewWarningMessage":"Seleziona almeno un dettaglio","EditView.editingListSection.title":'Seleziona i dettagli del modello "{modelName}" che vuoi vedere nella lista',"EditView.formSection.button":"Apri editor della scheda","EditView.formSection.noEditingForm.help":"Non hai specificato nessun campo per questa vista. Gli utenti vedranno una scheda vuota.","EditView.formSectionTitle":"Scheda","EditView.listSectionTitle":"Lista","EditView.title.formView":"Vista a scheda","EditColumn.addLinkToOtherViewLabel":"Aggiungi collegamento ad altra vista","EditColumn.addLinkToOtherViewSelectViewLabel":"Apri vista","EditColumn.booleanValue.falseValue":'Valore visualizzato per "falso"',"EditColumn.booleanValue.trueValue":'Valore visualizzato per "vero"',"EditColumn.columnNameLabel":"Nome colonna","EditColumn.conditionalFormatting.checkboxLabel":"Applica formattazione cella","EditColumn.conditionalFormatting.label":"Formattazione cella","EditColumn.deleteColumn":"Cancella colonna","EditColumn.modelFieldSelectorLabel":"Attributo/Valore","EditColumn.noLinkOption":"Nessun collegamento","EditColumn.staticTextLabel":"Testo fisso","EditColumn.staticTextOption":"Testo fisso","EditColumn.addLinkToOtherView.warnRelationNotEditableInLinkedView":"La relazione {linkedModelName}.{inverseRelationName} non è editabile nella vista selezionata. Questo significa che non sarai in grado di creare nuove righe nella relazione {relationName} in quella vista.","EditColumn.addLinkToOtherView.warnRelationNotEditableInLinkedView.help":"Se vuoi essere in grado di creare nuove righe, aggiungi la relazione {inverseRelationName} come campo di selezione nella scheda di modifica della vista {viewName}","EditColumn.inlineEditing.checkboxLabel":"Permetti di modificare il valore direttamente nella cella","EditColumn.inlineEditing.label":"Modifica valore nella cella","EditColumn.addLinkToOtherView.basedOnRealModel":"Vista in base al modello","EditColumn.addLinkToOtherView.basedOnRealModel.checkboxLabel":"Seleziona una vista diversa per ogni possibile modello reale","EditColumn.link.sameEntryInDifferentView":"Apri la stessa voce in un'altra vista","EditPivotInfo.pivotInfo.availableFields.search.placeholder":"Cerca...","EditPivotInfo.pivotInfo.columnFields.title":"Colonne","EditPivotInfo.pivotInfo.rowFields.title":"Righe","EditPivotInfo.pivotInfo.subtitle":"Scegli gli attributi da mostrare nella tabella pivot trascinandoli nelle area qui sotto.","EditPivotInfo.pivotInfo.title":"Attributi Pivot","EditPivotInfo.pivotInfo.valueField.aggregationType":"Tipo di aggregazione","EditPivotInfo.pivotInfo.valueField.title":"Valore (aggregato)","EditPivotInfo.pivotInfo.valueTotalColumn.checkbox":"Mostra il totale per ogni riga","EditPivotInfo.pivotInfo.valueTotalColumn.columnName":"Nome della colonna dei totali:","SearchTemplate.warningMessage":"Seleziona i dettagli nelle impostazioni della vista","SearchTemplateEditor.button.addRow":"Aggiungi riga","SearchTemplateEditor.format.bold":"Grassetto","SearchTemplateEditor.format.italic":"Corsivo","SearchTemplateEditor.format.underline":"Sottolineato","SearchTemplateEditor.table.header.attribute":"Attributo","SearchTemplateEditor.table.header.font":"Font","EditConditionalFormatting.bar.hideValue":"Nascondi valore (Mostra solo la barra)","EditConditionalFormatting.general.format.background":"Colore sfondo","EditConditionalFormatting.general.format.bold":"Grassetto","EditConditionalFormatting.general.format.color":"Colore testo","EditConditionalFormatting.general.format.italic":"Corsivo","EditConditionalFormatting.general.format.textStyle":"Stile testo","EditConditionalFormatting.general.format.underline":"Sottolineato","EditConditionalFormatting.general.max":"Massimo","EditConditionalFormatting.general.middle":"Valore centrale","EditConditionalFormatting.general.min":"Minimo","EditConditionalFormatting.general.negativeNumbers":"Numeri negativi","EditConditionalFormatting.general.positiveNumbers":"Numeri positivi","EditConditionalFormatting.general.valueType.auto":"Automatico","EditConditionalFormatting.general.valueType.manual":"Manuale","EditConditionalFormatting.ranges.columnTitleRanges":"Intervalli","EditConditionalFormatting.ranges.fromValue":"Da","EditConditionalFormatting.ranges.toValue":"A","EditConditionalFormatting.table.header.options":"Opzioni","EditConditionalFormatting.table.header.rule":"Regola","EditConditionalFormatting.values.addValue":"Aggiungi valore","EditConditionalFormatting.values.columnTitleFormat":"Formato","EditConditionalFormatting.values.columnTitleValue":"Valore","EditConditionalFormatting.values.ifValue":"Se","EditConditionalFormatting.values.noneOfTheAbove":"Nessuno dei precedenti","EditFilters.permanentFilter.title":"Filtro permanente","EditFilters.userFilterEnableCantBeEnabled":"Non puoi creare un filtro basato sull'utente.","EditFilters.userFilterEnableLabel":"Filtro basato sull'utente","EditFilters.userFiltertable.header.userAttribute":"Attributo dell'utente","EditFilters.userFiltertable.header.valuerAttribute":"Valore","EditPermissions.addRoleButton":"Aggiungi ruolo","EditPermissions.newRole.prompt.button":"Crea","EditPermissions.newRole.prompt.errorMessage":"Errore nella creazione del ruolo.","EditPermissions.newRole.prompt.errorTitle":"Errore","EditPermissions.newRole.prompt.label":"Nome del ruolo","EditPermissions.newRole.prompt.title":"Crea un nuovo ruolo","EditPermissions.tableHeader.permission.delete":"Elimina","EditPermissions.tableHeader.permission.read":"Leggi","EditPermissions.tableHeader.permission.write":"Scrivi","EditPermissions.tableHeader.role":"Ruolo","EditorTools.cancelChanges":"Annulla","EditorTools.saveChanges":"Salva","LayoutEditor.element.column":"Layout: Colonna","LayoutEditor.element.input":"Campo di inserimento","LayoutEditor.element.input.multipleValues":"Valori multipli","LayoutEditor.element.input.multipleValues.help":"Clicca per modificare","LayoutEditor.element.input.multipleValues.undoChanges":"Clicca per annullare le modifiche","LayoutEditor.element.input.render.checkSettings":"Controlla le impostazioni","LayoutEditor.element.input.render.modelId.label":"Modello","LayoutEditor.element.input.settings.inputType.field":"Attributo del modello","LayoutEditor.element.input.settings.inputType.relation":"Relazione del modello","LayoutEditor.element.input.settings.modelFieldName.label":"Nome","LayoutEditor.element.input.settings.modelFieldSelector.label":"Attributo","LayoutEditor.element.input.settings.relationName.label":"Nome","LayoutEditor.element.input.settings.relationSearchTemplate.previewTitle":"Preview","LayoutEditor.element.input.settings.relationSearchTemplate.previewWarningMessage":"Seleziona almeno un dettaglio","LayoutEditor.element.input.settings.relationSearchTemplate.title":'Seleziona i dettagli del modello "{modelName}" che vuoi vedere quando cercherai le voci da selezionare',"LayoutEditor.element.input.settings.relationSelector.label":"Relazione","LayoutEditor.element.input.settings.selectInputType":"Tipo di input","LayoutEditor.element.input.readOnlyLabel":"sola lettura","LayoutEditor.element.row":"Layout: Riga","LayoutEditor.element.settings.popover.title":"Impostazioni","LayoutEditor.tools.help":"Trascina un elemento per aggiungerlo","LayoutEditor.tools.help2":"Crea il layout aggiungendo righe, e al loro interno aggiungi colonne. Puoi modificare la larghezza delle colonne e inserire componenti al loro interno per creare il layout che preferisci.","LayoutEditor.tools.title":"Elementi","ModalEditForm.create.saveButton":"Crea","ModalEditForm.create.title":"Crea nuova voce","ModalEditForm.duplicate.saveButton":"Duplica","ModalEditForm.duplicate.title":"Duplica voce","ModalEditForm.edit.multipleEntriesAlert":"Le voci selezionate possono contenere valori diversi per alcuni campi. Se modifiche un valore, tutte le voci selezionate verranno salvate con il nuovo valore. Altrimenti, il loro valore iniziale verrà mantenuto.","ModalEditForm.edit.saveButton":"Salva modifica","ModalEditForm.edit.title":"Modifica {numberOfEntries, plural, one {voce} other {# voci}}","ModalEditForm.general.cancelButton":"Annulla","EditModel.attributesSectionTitle":"Attributi","EditModel.cancel":"Annulla","EditModel.delete.confirmButton":"Elimina questo modello","EditModel.delete.confirmMessage":"Sei sicuro di voler eliminare questo modello?","EditModel.delete.confirmTitle":"Conferma eliminazione","EditModel.deleteModel":"Elimina modello","EditModel.removeExternalSource":"Rimuovi sorgente dati","EditModel.removeExternalSource.confirmButton":"Rimuovi la sorgente dati","EditModel.removeExternalSource.confirmMessage":"Sei sicuro di voler rimuovere la sorgente esterna dei dati da questo modello?","EditModel.removeExternalSource.confirmMessage.moreInfo":"I dati di questo modello non verranno eliminati ma perderai la possibilità di sincronizzarli con la sorgente esterna.","EditModel.removeExternalSource.confirmTitle":"Conferma la rimozione della sorgente dati","EditModel.error.createErrorMessage":"Errore nella creazione del modello.","EditModel.error.deleteErrorMessage":"Errore nella eliminazione del modello","EditModel.error.title":"Errore","EditModel.externalSourceSectionTitle":"Sorgente di dati esterna","EditModel.modelName":"Nome del modello","EditModel.newExternalSourceBaseName":"NuovaSorgenteDati","EditModel.newModelBaseName":"NuovoModello","EditModel.newVirtualModelBaseName":"NuovoModelloVirtuale","EditModel.relationsSectionTitle":"Relazioni","EditModel.save":"Salva","EditModel.serverUpdateReceivedMessage":"Questo modello è stato ricaricato perchè il server ha ricevuto qualche cambianto.","EditModel.serverUpdateReceivedTitle":"Cambiamenti ricevuti","EditModel.title.externalSourceModel":"Modello da una sorgente esterna","EditModel.title.model":"Modello","EditModel.title.virtualModel":"Modello virtuale","EditModel.virtualModel.mappedModelsSectionTitle":"Modelli figli","EditModel.cloneModelBaseName":"Copia","EditModel.specialModel.USER_MODEL.help":"Questo modello rappresenta tutti gli utenti che possono effettuare il login in {appName} e permette di aggiungere attributi e relazioni con altri modelli per descrivere meglio il ruolo degli utenti nella tua azienda.","EditModel.specialModel.USER_MODEL.help2":"Per aggiungere utenti, modificare i loro ruoli, o cambiare la password di accesso, vai a {link}.","EditModel.specialModel.USER_MODEL.help2.linkUserAndRoles":"Impostazioni → Utenti e ruoli","EditChildModels.childModel.help":"Un modello virtuale rappresenta l'unione di tutti i suoi modelli figli. Contiene tutte le loro righe, con gli attributi selezionati nella seguente tabella. Puoi anche permettere l'accesso alle relazioni che i modelli figli hanno con altri modelli.","EditChildModels.childModel.label":"Modelli figli","EditFields.addAttribute":"Aggiungi attributo","EditFields.dataValidation.checkbox":"Suggerimenti con valori da altro modello","EditFields.dataValidation.sourceGroupOptions.noGroup":"Nessun gruppo","EditFields.tableHeader.fieldName":"Nome attributo","EditFields.tableHeader.type":"Tipo","EditFields.type.autoType":"Auto","EditFields.type.functionType":"Formula","EditFields.type.returnedValue":"Valore ritornato","EditFields.uniqueFieldValue":"Valore unico","EditFields.dataValidation.groupWithOtherFields":"Raggruppa attributi","EditFields.dataValidation.help":"Mentre scrivi, riceverai suggerimenti con i valori presenti in un altro modello. Usa questa funzionalità se hai una lista di opzioni memorizzata in un altro modello.","EditFields.dataValidation.sourceAttribute":"Attributo di riferimento:","EditFields.dataValidation.sourceModel":"Modello di riferimento:","EditFields.decimalDigits":"Numero di decimali:","EditFields.enumValues":"Valori possibili:","EditFields.uniqueFieldValue.help":'Seleziona "unico" se ogni riga inserita ha un valore diverso per questo attributo.',"EditFields.mappedFields.noMappedModels":"Nessun modello figlio selezionato","EditFields.mappedFields.title":"Seleziona l'attributo corrispondente per ogni modello figlio","EditFields.readOnlyAttribute":"Questo attributo è di sola lettura","EditFields.readOnlyAttribute.externalSource":"Questo attributo è di sola lettura. È importato dalla colonna `{columnName}` della sorgente esterna","EditRelations.newRelation":"Nuova relazione","EditRelationsGroup.advancedType.autoFields":"Relazione automatica in base al valore degli attributi","EditRelationsGroup.advancedType.autoFields.notPossible":"Nessun attributo disponibile nel modello selezionato","EditRelationsGroup.advancedType.createFromVirtualRelation":"Usa una relazione esistente in un modello virtuale","EditRelationsGroup.advancedType.createFromVirtualRelation.notPossible":"Nessuna relazione nel modello virtuale","EditRelationsGroup.advancedType.filterExistingRelation":"Filtra una relazione esistente","EditRelationsGroup.advancedType.no":"No","EditRelationsGroup.advancedType.selectLabel":"Relazione avanzata","EditRelationsGroup.advancedType.suggestions.title":"Potresti voler creare una relazione tra {firstModel} e {secondModel} usando relazioni esistenti.","EditRelationsGroup.advancedType.suggestions.subtitle":"Controlla i suggerimenti disponibili qui sotto e scegli una di queste opzioni:","EditRelationsGroup.advancedType.twoSteps":"Relazione automatica come concatenazione di due relazioni esistenti","EditRelationsGroup.advancedType.twoSteps.notPossible":"Non ci sono catene di relazioni disponibili","EditRelationsGroup.autoFieldsRelation.description.future":"Crea una relazione automatica tra due righe che soddisfano questa regola","EditRelationsGroup.autoFieldsRelation.description.present":"Questa relazione automatica associa due righe che soddisfano questa regola","EditRelationsGroup.createFromVirtualRelation.description.future":"Questa relazione associerà automaticamente due elementi seguendo la relazione {relation} tra {model1} a {model2} come mostrato in figura.","EditRelationsGroup.createFromVirtualRelation.description.present":"Questa relazione associa automaticamente due elementi seguendo la relazione {relation} tra {model1} a {model2} come mostrato in figura.","EditRelationsGroup.createFromVirtualRelation.selectLabel":"Associa a relazione virtuale:","EditRelationsGroup.editing.inverseRelationLabel":"Relazione inversa","EditRelationsGroup.filterExistingRelation.filter.label":"Filtro","EditRelationsGroup.filterExistingRelation.help":"Questa relazione selezionerà la prima riga della relazione associata, ordinata per l'attributo specificato, che soddisfa la condizione di filtro indicata.","EditRelationsGroup.filterExistingRelation.order.label":"Ordina per","EditRelationsGroup.filterExistingRelation.relationToFilter.label":"Relazione esistente associata","EditRelationsGroup.otherOptionsButton.advancedOptions":"Opzioni avanzate","EditRelationsGroup.otherOptionsButton.linkedRelations":"Relazioni associate","EditRelationsGroup.twoStepRelation.description":"Questa relazione è automaticamente generata usando le relazioni {relation1} e {relation2} come indicato nella figura.","EditRelationsGroup.relation.readOnly.badge":"Sola lettura","EditRelationsGroup.relation.advanced.removeAdvancedOptions":"Rimuovi opzioni avanzate","EditRelationsGroup.relation.advanced.removeAdvancedOptions.helper":"La relazione diventerà una relazione manuale tra i due modelli. Le relazioni tra i dati esistenti non verranno perse.","Relations.locale.inverseRelation":"Relazione inversa","Relations.locale.type.many":"Molti","Relations.locale.type.one":"Uno","Relations.locale.virtualModel":"Modello virtuale","EditExternalSource.connection.address":"Indirizzo","EditExternalSource.connection.checkInterval":"Intervallo di controllo","EditExternalSource.connection.checkInterval.help":"Questo modello controllerà l'esistenza di nuove righe nella sorgente esterna dopo che questo intervallo di tempo sarà passato dall'ultima sincronizzazione","EditExternalSource.connection.checkInterval.seconds":"secondi","EditExternalSource.connection.database":"Nome database","EditExternalSource.connection.password":"Password","EditExternalSource.connection.port":"Porta","EditExternalSource.connection.type":"Tipo","EditExternalSource.connection.username":"Nome utente","EditExternalSource.connectionButton":"Test connessione","EditExternalSource.connectionButton.help":"Usa questo pulsante per verificare che sia possibile una connessione verso la sorgente esterna. Verranno raccolte informazioni sulle colonne disponibili in base alle opzioni indicate","EditExternalSource.connectionButton.testNotDoneWarning":"La seguente lista di colonne potrebbe essere diversa dalla lista effettiva se non esegui il test di connessione","EditExternalSource.connectionError.title":"Errore di connessione","EditExternalSource.query.advanced":"Query avanzata","EditExternalSource.query.advanced.query.help":"Questa query deve selezionare tutte le colonne che vuoi sincronizzare con questo modello","EditExternalSource.query.advanced.querySql":"Query (sql)","EditExternalSource.query.simple":"Query semplice","EditExternalSource.query.simple.tableName":"Nome tabella","EditExternalSource.query.simple.whereSql":"Filtro WHERE (sql)","EditExternalSource.rowsFound":"{numberOfRows, plural, one {# riga} other {# righe}} found","EditExternalSource.table.attributeName":"Nome attributo","EditExternalSource.table.columnName":"Nome colonna","EditExternalSource.table.columnOptions.creation.description":"Colonna con la data di creazione della riga","EditExternalSource.table.columnOptions.creation.short":"C","EditExternalSource.table.columnOptions.id.description":"Colonna con l'identificativo della riga","EditExternalSource.table.columnOptions.id.short":"ID","EditExternalSource.table.columnOptions.update.description":"Column con la data di modifica della riga","EditExternalSource.table.columnOptions.update.short":"U","EditExternalSource.table.import":"Importa","EditExternalSource.table.type":"Tipo","ExternalSource.lastSync.last":"Ultima sincronizzazione","ExternalSource.lastSync.never":"Mai sincronizzato","ExternalSource.locale.errors.SqlAnywhere.noFromSupport":"SqlAnywhere non supporta parametri FROM","ExternalSource.locale.errors.expectedParamenter":"Parametro atteso: {parameter}","ExternalSource.locale.errors.queryError.noColumns":"Errore nella query: nessuna colonna trovata","ExternalSource.locale.errors.queryError.withMessage":"Errore nella query:\n\n{message}","ExternalSource.locale.errors.tableNotFound":"Tabella non trovata: {tableName}","ExternalSource.locale.errors.whereError.withMessage":"Possibile errore nella clausola WHERE:\n\n{message}","View.buttons.createRow":"Crea","View.buttons.deleteRow":"Elimina","View.buttons.duplicateRow":"Duplica","View.buttons.editRow":"Modifica","View.buttons.export":"Esporta","View.buttons.export.copy":"Copia","View.buttons.export.print":"Stampa","View.buttons.import":"Importa","View.deleteRow.button":"Elimina","View.deleteRow.message":"Sei sicuro di voler eliminare {numberOfRows, number} {numberOfRows, plural, one {riga} other {righe}}?","View.deleteRow.title":"Elimina {numberOfRows, number} {numberOfRows, plural, one {riga} other {righe}}","View.globalSearch.placeholder":"Cerca...","View.saving.error.generic":"Errore durante il salvataggio.","View.emptyView":"Vista vuota","View.pivot.valueAggregationType.AVG":"Media","View.pivot.valueAggregationType.COUNT":"Conta","View.pivot.valueAggregationType.MAX":"Massimo","View.pivot.valueAggregationType.MIN":"Minimo","View.pivot.valueAggregationType.SUM":"Somma","View.warning.saveOrCancel.creating":"Non hai salvato la nuova voce inserita. Salva o annulla i cambiamenti prima di selezionare un'altra riga.","View.warning.saveOrCancel.editing":"Non hai salvato le modifiche. Salva o annulla i cambiamenti prima di selezionare un'altra riga.","CreateOrUpdateRow.locale.errors.relationObjectAlreadyExists":'L\'elemento selezionato per la relazione "{relationName}" ha già un oggetto associato per la relazione "{inverseRelationName}".',"Toast.copy.error.browserNotSupported":"Errore durante la copia. Il tuo browser non è supportato.","Toast.newServerVersion.message":"Nuova versione di {appName} disponibile.","Toast.newServerVersion.action":"Clicca per scaricare la nuova versione.","TableView.contextMenu.blockColumn":"Blocca colonna","TableView.contextMenu.copyRow":"Copia riga","TableView.contextMenu.copyValue":"Copia valore","TableView.contextMenu.filterColumn":"Filtra colonna per questo valore","TableView.contextMenu.unblockColumns":"Sblocca colonne","TableView.copyRow.success":"{numberOfRows, plural, one {Una riga copiata} other {# righe copiate}}","TableView.copyValue.success":"Copia","TableView.empty.loading":"Caricamento...","TableView.empty.noRows":"Nessuna riga","TableView.export.success.csv":"File CSV esportato","TableView.export.success.excel":"File Excel esportato","TableView.export.success.pdf":"File PDF esportato","TableView.footer.aggregations.AVG":"Media","TableView.footer.aggregations.COUNT":"Conta","TableView.footer.aggregations.MAX":"Massimo","TableView.footer.aggregations.MIN":"Minimo","TableView.footer.aggregations.SUM":"Somma","TableView.inlineEditing.buttons.cancel":"Annulla","TableView.inlineEditing.buttons.save":"Salva","TableView.inlineEditing.save.error":"Errore durante il salvataggio.","Form.create.saveButton":"Crea","Form.duplicate.saveButton":"Duplica","Form.edit.multipleEntriesAlert":"Le voci selezionate possono contenere valori diversi per alcuni campi. Se modifiche un valore, tutte le voci selezionate verranno salvate con il nuovo valore. Altrimenti, il loro valore iniziale verrà mantenuto.","Form.edit.saveButton":"Salva Modifiche","Form.general.cancelButton":"Annulla","Form.selectData.helpMessage":"Seleziona una riga nella lista","List.empty.loading":"Caricamento...","List.empty.noRows":"Nessuna riga","ImportWizard.askFile.button":"Seleziona un file","ImportWizard.askFile.label":"Importa un file","ImportWizard.buttons.cancel":"Annulla","ImportWizard.buttons.import":"Importa","ImportWizard.decimalSeparator.label":"Separatore decimali","ImportWizard.delimiter.comma":"Virgola","ImportWizard.delimiter.label":"Separatore","ImportWizard.delimiter.semicolon":"Punto e virgola","ImportWizard.delimiter.space":"Spazio","ImportWizard.delimiter.tab":"Tab","ImportWizard.errors.message":"Ci sono errori nel processare i dati. Cambia le opzioni di importazioni o escludi le righe con errori per poter procedere con l'importazione","ImportWizard.import.error":"Errore durante l'importazione","ImportWizard.import.success":"{numberOfRows, plural, one {# riga importata} other {# righe importate}} con successo","ImportWizard.saveTemplate.checkboxLabel":"Salva le opzioni di importazione","ImportWizard.saveTemplate.templateNameExists":"Esistono già opzioni di importazione salvate con questo nome e verranno sovrascritte","ImportWizard.saveTemplate.templateNameLabel":"Inserisci un nome","ImportWizard.sheets.label":"Seleziona il foglio","ImportWizard.startAtRow.label":"Inizia a importare dalla riga","ImportWizard.title":"Importa file","ImportWizard.useTemplate.label":"Usa opzioni di importazione salvate in precedenza","ImportWizardTable.column.boolean.falseLabel":"Falso","ImportWizardTable.column.boolean.trueLabel":"Vero","ImportWizardTable.column.dateFormat.automaticOption":"Auto","ImportWizardTable.column.dateFormat.label":"Formato date","ImportWizardTable.column.importLabel":"Importa colonna","ImportWizardTable.column.noImport":"Non importare","ImportWizardTable.column.textArray.separator.label":"Separatore","ImportWizardTable.noRows":"Nessuna riga","User.disableAdminMode":"Disabilita modalità amministratore","User.enableAdminMode":"Abilita modalità amministratore","User.logout":"Logout","ConnectionInfo.connected":"Connesso","ConnectionInfo.disconnected":"Non connesso","ConnectionInfo.address":"Indirizzo:","ConnectionInfo.version":"Versione:","AbstractSidebar.cancelChanges":"Annulla","AbstractSidebar.saveChanges":"Salva","AbstractSidebar.saveError":"Errore durante il salvataggio","AbstractSidebar.saving":"Salvataggio in corso","AbstractSidebar.search.placeholder":"Cerca...","Sidebar.settings":"Impostazioni","Sidebar.settings.models":"Modelli dei dati","Sidebar.settings.usersAndRoles":"Utenti e ruoli","Sidebar.settings.backups":"Backup","Sidebar.settings.backup":"Impostazioni backup","Sidebar.newFolderName":"Nuova cartella","Sidebar.contextMenu.openView":"Apri vista","Sidebar.contextMenu.openViewInNewTab":"Apri vista in una nuova scheda","Sidebar.contextMenu.editView":"Modifica vista","Sidebar.contextMenu.editOrdering":"Modifica ordinamento","Sidebar.contextMenu.newFolder":"Nuova cartella","Sidebar.contextMenu.removeFolder":"Rimuovi cartella","ModelsSidebar.createExternalSource":"Crea sorgente esterna","ModelsSidebar.createModel":"Crea modello","ModelsSidebar.createView":"Crea (tabella)","ModelsSidebar.createPivotView":"Crea (tabella pivot)","ModelsSidebar.createFormView":"Crea (scheda)","ModelsSidebar.createVirtualModel":"Crea modello virtuale","ModelsSidebar.editModel":"Modifica modello","ModelsSidebar.userModel.editModel":"Modifica modello utenti","ModelsSidebar.userModel.name":"Modello utenti","ModelsSidebar.views":"Viste","Header.backup.backingUp":"Eseguendo backup...","Header.backup.backupNow":"Esegui backup","Header.backup.configure":"Configura backup","Header.backup.genericError":"Errore durante il backup","Header.backup.lastError":"Ultimo errore","Header.backup.notConfigure.message":"Backup non configurato","Header.backup.notConfigure.title":"Attenzione","Header.backup.title":"Backup","Header.User.settings":"Impostazioni","Header.externalSource.genericError":"Errore nella sincronizzazione","Header.externalSources.lastError":"Ultimo errore","Header.externalSources.syncNow":"Sincronizza ora","Header.externalSources.syncing":"Sincronizzazione in corso...","Header.externalSources.title":"Sorgenti esterne","DataRelationInput.loading.error":"Errore nel caricare le opzioni","IconPicker.footer.countMessage":"{from} - {to} di {total}","EditableText.emptyPlaceholder":"Empty","Backup.disabled":"Disabilitato","Backup.enabled":"Abilitato","Backup.lastBackup.last":"Ultimo backup","Backup.lastBackup.never":"Nessun backup","Backup.local.description":"Sul server di {appName}","Backup.local.name":"Backup locale","Backup.smb.address":"Indirizzo","Backup.smb.name":"SMB","Backup.smb.password":"Password","Backup.smb.path":"Percorso","Backup.smb.username":"Nome utente","Backup.unknown.name":"Tipo sconosciuto","DataTypeFilter.clearFilter":"Rimuovi filtri","DataTypeFilter.fieldNotGiven":"Non puoi filtrare questa colonna","DataTypeFilter.noValues":"Nessun valore","DataTypeFilter.ok":"Ok","DataTypeFilter.text.options.empty":"Vuoto","DataTypeFilter.text.options.selectAll":"Seleziona tutti","DataTypeFilter.text.options.selectAllFiltered":"Seleziona tutti i risultati della ricerca","DataTypeFilter.text.search":"Cerca...","DataTypeFilter.unknownDataType":"Errore nella generazione del filtro: tipo sconosciuto: {type}","Backup.addBackup":"Aggiungi backup","Backup.list.backingUp":"Backup in corso...","Backup.list.notSaved":"Non salvato","Backup.noBackups":"Nessun backup","Backup.title":"Impostazioni backup","BackupCard.backupPlanning":"Pianificazione","BackupCard.backupPlanning.daily":"Mantieni backup giornalieri per i precedenti {inputElement} giorni","BackupCard.backupPlanning.hourly":"Mantieni backup orari per le ultime {inputElement} ore","BackupCard.backupPlanning.weekly":"Mantieni backup settimanali per le precedenti {inputElement} settimane","BackupCard.cancel":"Annulla","BackupCard.delete.deleteButton":"Cancella backup","BackupCard.delete.message":"Sei sicuro di voler eliminare questo backup?","BackupCard.delete.title":"Cancella backup","BackupCard.deleteBackup":"Cancella backup","BackupCard.enabled":"Abilitato","BackupCard.save":"Salva","BackupCard.type":"Tipo","DiscoveryPage.connectByName":"Oppure usa il seguente nome:","DiscoveryPage.connectByName.checking":"Connessione in corso...","DiscoveryPage.connectByName.notAvailable":"Server non disponibile","DiscoveryPage.connectByName.notInitialized":"Database non inizializzato","DiscoveryPage.connectByName.success":"Connesso con successo al server: {serverName}","DiscoveryPage.serverList":"Seleziona un server:","DiscoveryPage.title":"Connessione a Selfware","Server.unsecure.warning":"La connessione non è sicura","Settings.tab.general":"Generale","Settings.tab.user":"Utente","GeneralSettings.language":"Lingua","GeneralSettings.sidebarColor":"Colore barra laterale","GeneralSettings.sidebarColor.dark":"Scuro","GeneralSettings.sidebarColor.light":"Chiaro","GeneralSettings.tabOpening":"Apri scheda","GeneralSettings.tabOpening.alwaysNewTab":"Apri sempre una nuova scheda","GeneralSettings.tabOpening.help":"Puoi sempre usare Ctrl/⌘ + click per aprire una nuova scheda","UserSettings.currentPassword.label":"Password attuale","UserSettings.newPassword.label":"Nuova password","UserSettings.newPasswordRepeat.label":"Ripeti nuova password","UserSettings.resetPassword.button":"Reset password","UserSettings.resetPassword.genericError":"Errore nella modifica della password","UserSettings.resetPassword.success":"Password cambiata con successo!","UserSettings.resetPassword.title":"Reset password","UserSettings.username.label":"Nome utente","UsersAndRoles.createNewUser":"Crea un nuovo utente","UsersAndRoles.createUser.genericError":"Errore nella creazione dell'utente","UsersAndRoles.createUser.inputError":"Nome utente e password richiesti","UsersAndRoles.createUser.password":"Password","UsersAndRoles.createUser.password.help":"Questa password è temporanea. L'utente dovrà cambiarla al suo prossimo login.","UsersAndRoles.createUser.successButton":"Crea utente","UsersAndRoles.createUser.title":"Crea utente","UsersAndRoles.createUser.username":"Nome utente","UsersAndRoles.deleteUser.genericError":"Errore nell'eliminare l'utente","UsersAndRoles.deleteUser.message":'Sei sicuro di voler rimuovere l\'utente "{username}"?',"UsersAndRoles.deleteUser.successButton":"Elimina utente","UsersAndRoles.deleteUser.title":"Elimina utente","UsersAndRoles.resetPassword":"Reset password","UsersAndRoles.resetPassword.genericError":"Errore nella modifica della password","UsersAndRoles.resetPassword.inputError":"Password richiesta","UsersAndRoles.resetPassword.message":'Inserisci una nuova password temporanea per l\'utente "{username}":',"UsersAndRoles.resetPassword.password":"Password","UsersAndRoles.resetPassword.successButton":"Reset password","UsersAndRoles.resetPassword.title":"Reset password","UsersAndRoles.table.column.adminRole":"Admin","UsersAndRoles.table.column.resetPassword":"Reset password","UsersAndRoles.table.column.username":"Nome utente","UsersAndRoles.title":"Utenti e ruoli"}},809:function(e,t,a){"use strict";var n,r=a(49),o=(n=r)&&n.__esModule?n:{default:n},i="",l=!!(navigator&&navigator.userAgent&&navigator.userAgent.match(/Opera|OPR\//));document.addEventListener("keydown",function(e){var t=e.target;if("text"===t.type){var a=t.tagName&&t.tagName.toLowerCase();"input"!==a&&"textarea"!==a||(i=e.keyCode)}}),document.addEventListener("keypress",function(e){var t=e.target;if("text"===t.type){var a=t.tagName&&t.tagName.toLowerCase();if(!("input"!==a&&"textarea"!==a||(l?78!=i:110!=i)||e.shiftKey||e.ctrlKey||e.altKey)){var n=o.default.localeData().delimiters.decimal;e.key!==n&&(function(e,t){if("selectionStart"in e){var a=e.selectionStart+1;e.value=e.value.substr(0,e.selectionStart)+t+e.value.substr(e.selectionEnd,e.value.length),e.selectionStart=a,e.selectionEnd=a,e.focus()}else if(document.selection){e.focus();var n=document.selection.createRange();n.text=t,n.moveStart("character",-e.value.length),n.moveStart("character",n.text.length),n.moveEnd("character",0),n.select()}else e.value+=t}(t,n),e.preventDefault())}}})},811:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(210)),o=(n(a(460)),n(a(812))),i=n(a(813)),l=n(a(814));r.default.library.add(o.default,i.default,l.default)},815:function(e,t){},817:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return u.default.createElement("span",null,"×")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=n(a(0)),d=a(18),c=a(108),f=a(47),p=a(461),m=n(a(819)),h=(n(a(1539)),a(8)),g=a(22),b=a(6),v=a(279),y=n(a(1552));(0,f.style)({colorDefault:"#fff",colorInfo:"#63c2de",colorSuccess:"#4dbd74",colorWarning:"#ffc107",colorError:"#f86c6b"});var E=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.close=a.close.bind(a),a}return i(t,u.default.Component),s(t,[{key:"close",value:function(){window.onbeforeunload=null,window.close()}},{key:"render",value:function(){var e=this.props,t=e.showExitPrompt,a=e.closeExitPrompt;return u.default.createElement(h.Modal,{centered:!0,isOpen:t,toggle:a},u.default.createElement(h.ModalHeader,{toggle:a},u.default.createElement(b.FormattedMessage,{id:"App.confirmClose.title",defaultMessage:"Confirm close"})),u.default.createElement(h.ModalBody,null,u.default.createElement(b.FormattedMessage,{id:"App.confirmClose.message",defaultMessage:"Unsaved data will be lost. Are you sure you want to quit?"})),u.default.createElement(h.ModalFooter,null,u.default.createElement(h.Button,{color:"primary",onClick:this.close},u.default.createElement(b.FormattedMessage,{id:"App.confirmClose.closeButton",defaultMessage:"Close"}))," ",u.default.createElement(h.Button,{color:"secondary",onClick:a},u.default.createElement(b.FormattedMessage,{id:"App.confirmClose.cancelButton",defaultMessage:"Cancel"}))))}}]),t}(),w={closeExitPrompt:g.closeExitPrompt},C=(0,d.connect)(function(e,t){return{showExitPrompt:e.ui.showExitPrompt||!1}},w)(E),k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u.default.Component),s(t,[{key:"render",value:function(){var e=this.props.location.pathname;return(0,p.pageForPath)(e),u.default.createElement("div",{className:"app-main"},null,u.default.createElement(m.default,null),u.default.createElement(f.ToastContainer,{toastClassName:"app-toast",closeButton:u.default.createElement(l,null)}),u.default.createElement(C,null))}}]),t}();t.default=(0,c.withRouter)((0,v.DragDropContext)(y.default)(k)),e.exports=t.default},819:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=n(a(0)),l=a(108),s=a(18),u=a(461),d=n(a(820)),c=n(a(1455)),f=n(a(1537)),p=n(a(1538)),m={};m.PortalPage=d.default,m.LoginPage=c.default,m.Greeting=f.default,m.ErrorPage=p.default;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props.component;if(!this.props.user)return i.default.createElement(l.Redirect,{to:{pathname:"/app/login",state:{from:this.props.location}},push:!0});var t=Object.assign({},this.props);return delete t.component,delete t.dispatch,delete t.user,delete t.page,i.default.createElement(e,t)}}]),t}(),g=(0,s.connect)(function(e,t){return{user:e.auth.user}})(h);t.default=function(){var e=u.pages.map(function(e,t){var a=m[e.component],n=a;return e.requireLogin&&(n=function(t){return i.default.createElement(g,r({},t,{component:a,page:e}))}),e.path?i.default.createElement(l.Route,{key:t,exact:e.exact,path:e.path,component:n}):i.default.createElement(l.Route,{key:t,component:n})});return i.default.createElement(l.Switch,null,e)},e.exports=t.default},820:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=n(o),l=(a(8),a(18)),s=n(a(3)),u=n(a(835)),d=n(a(842)),c=n(a(946)),f=n(a(498)),p=n(a(1451)),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.secondSidebar;return i.default.createElement("div",{className:(0,s.default)("app",e&&"has-two-sidebars")},i.default.createElement(u.default,null),i.default.createElement("div",{className:"app-body"},i.default.createElement(d.default,null),e&&function(e){switch(e){case"MODELS":return i.default.createElement(c.default,null)}return null}(e),i.default.createElement("main",{className:"main"},i.default.createElement(f.default,null))),i.default.createElement(p.default,null))}}]),t}();t.default=(0,l.connect)(function(e,t){return{secondSidebar:e.ui.secondSidebar}},{})(m),e.exports=t.default},835:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=(n(a(1)),a(18)),d=a(6),c=a(8),f=n(a(3)),p=n(a(463)),m=a(22),h=a(5),g=n(a(43)),b=a(211),v=a(837),y=a(212),E=a(213),w=n(a(2)),C=n(a(19)),k=n(a(840)),S=n(a(841)),_={it:k.default,en:S.default},x={style:{marginRight:8,marginLeft:-8}},T={style:{height:15,width:20,marginRight:10,marginLeft:-10,marginTop:4,marginBottom:-4},viewBox:"0 0 480 640"};E.availableLanguages.forEach(function(e){if(!_[e])throw new Error("Header: no flags for lang: "+e)});var M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleAdmin=a.toggleAdmin.bind(a),a.logout=a.logout.bind(a),a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e&&e.backups&&e.backups.forEach(function(e){var a=t.props.backups&&(0,h.find)(t.props.backups,function(t){return t.id===e.id});a&&a.currentCheckId&&!e.currentCheckId&&t.dismissBackupLocalError(e)}),e&&e.externalSources&&e.externalSources.forEach(function(e){t.dismissExternalSourceLocalError(e)})}},{key:"sidebarToggle",value:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-hidden")}},{key:"mobileSidebarToggle",value:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-mobile-show")}},{key:"toggleAdmin",value:function(){this.props.toggleIgnoreAdmingAction()}},{key:"logout",value:function(){this.props.logoutAction()}},{key:"openBackup",value:function(e){this.props.openBackup({selectedBackupId:e.id})}},{key:"openBackupSettings",value:function(){this.props.openBackup()}},{key:"isBackingUp",value:function(e){var t=this.state["backupsInfo"+e.id];return t&&t.backingUp}},{key:"backupNow",value:function(e){var t=this;this.setState(r({},"backupsInfo"+e.id,{backingUp:!0}));var a=(0,b.getBackupNowQuery)(e);this.props.simpleFetch(a).then(function(a){a.type===m.UI_TAB_SIMPLE_FETCH_SUCCESS&&a.response&&a.response.success||t.onBackupError(e,a.response&&a.response.error||s.default.createElement(d.FormattedMessage,{id:"Header.backup.genericError",defaultMessage:"Backup error"}))})}},{key:"onBackupError",value:function(e,t){this.setState(r({},"backupsInfo"+e.id,{error:t}))}},{key:"getBackupLocalError",value:function(e){var t=this.state["backupsInfo"+e.id];return t&&t.error}},{key:"dismissBackupLocalError",value:function(e){this.setState(r({},"backupsInfo"+e.id,null))}},{key:"openExternalSource",value:function(e){this.props.openEditModel(e.data_model_id)}},{key:"isSyncingExternalSource",value:function(e){var t=this.state["externalSourcesInfo"+e.id];return t&&t.syncing}},{key:"syncExternalSourceNow",value:function(e){var t=this;this.setState(r({},"externalSourcesInfo"+e.id,{syncing:!0}));var a=(0,y.syncExternalSourceQuery)(e);this.props.simpleFetch(a).then(function(a){a.type===m.UI_TAB_SIMPLE_FETCH_SUCCESS&&a.response&&a.response.success||t.onExternalSourceError(e,a.response&&a.response.error||s.default.createElement(d.FormattedMessage,{id:"Header.externalSource.genericError",defaultMessage:"Syncing error"}))})}},{key:"onExternalSourceError",value:function(e,t){this.setState(r({},"externalSourcesInfo"+e.id,{error:t}))}},{key:"getExternalSourceLocalError",value:function(e){var t=this.state["externalSourcesInfo"+e.id];return t&&t.error}},{key:"dismissExternalSourceLocalError",value:function(e){this.setState(r({},"externalSourcesInfo"+e.id,null))}},{key:"render",value:function(){var e=this,t=this.props,a=t.appName,n=t.language,r=t.username,i=t.canBeAdmin,l=t.isAdmin,u=t.externalSources,m=t.backups,y=t.intl,k=t.showSettings,S=t.connected,M=t.serverInfo,R=t.serverAddress,I=y.formatMessage,O=m,F=u.length>0,N=O&&m.filter(function(e){return e.enabled}),A=O&&0===N.length||(0,h.some)(N,function(e){return e.error}),P=void 0;O&&(P=N.length>0?N.map(function(t,a){var n=e.isBackingUp(t)||!!t.currentCheckId,r=(0,b.getTitle)(t,I),o=(0,b.getDescription)(t,I),i=void 0;i=n?s.default.createElement(d.FormattedMessage,{id:"Header.backup.backingUp",defaultMessage:"Backing up..."}):(0,b.getLastBackupDescription)(t,I);var u=e.getBackupLocalError(t),f=t.error;return s.default.createElement(c.DropdownItem,{key:a,tag:"div",style:{cursor:"default",minHeight:n?50:0},disabled:!0},s.default.createElement("p",null,s.default.createElement("strong",{style:{cursor:"pointer"},onClick:function(){return l&&e.openBackup(t)}},r),s.default.createElement("br",null),s.default.createElement("span",null,o),s.default.createElement("br",null),s.default.createElement("span",{className:"text-muted"},i),!n&&s.default.createElement("span",{className:"pull-right",style:{marginBottom:10}},s.default.createElement(g.default,{className:"btn btn-sm btn-outline-secondary",onClick:function(a){a.preventDefault(),e.backupNow(t)}},s.default.createElement(d.FormattedMessage,{id:"Header.backup.backupNow",defaultMessage:"Backup now"})))),n&&s.default.createElement("div",{style:{width:"100%"}},s.default.createElement(c.Progress,{animated:!0,value:100})),s.default.createElement(c.Alert,{color:"danger",isOpen:!n&&!!u,toggle:function(a){a.preventDefault(),e.dismissBackupLocalError(t)}},s.default.createElement("p",null,u)),!n&&!u&&f&&s.default.createElement(c.Alert,{color:"warning"},s.default.createElement("strong",{style:{paddingRight:3}},s.default.createElement(d.FormattedMessage,{id:"Header.backup.lastError",defaultMessage:"Last error"}),":"),s.default.createElement("small",null,(0,w.default)(t.timestamp||t.lastCheckEnd).fromNow()),s.default.createElement("br",null),s.default.createElement("p",null,f)))}):s.default.createElement(c.DropdownItem,{key:-1,disabled:!0,tag:"div",style:{cursor:"default"}},s.default.createElement("div",null,s.default.createElement(c.Alert,{color:"warning"},s.default.createElement("strong",null,s.default.createElement(d.FormattedMessage,{id:"Header.backup.notConfigure.title",defaultMessage:"Warning"})),s.default.createElement("br",null),s.default.createElement(d.FormattedMessage,{id:"Header.backup.notConfigure.message",defaultMessage:"Backup is not configured"}),l&&s.default.createElement("p",null,s.default.createElement(g.default,{className:"btn btn-sm btn-outline-secondary",style:{marginTop:20},onClick:function(t){t.preventDefault(),e.openBackupSettings()}},s.default.createElement(d.FormattedMessage,{id:"Header.backup.configure",defaultMessage:"Configure backup"})))))));var V=void 0,L=void 0;F&&(V=(0,h.some)(u,function(e){return e.error}),L=[],u.forEach(function(t){var a=e.isSyncingExternalSource(t)||!!t.currentCheckId,n=t.model_name,r=void 0;r=a?s.default.createElement(d.FormattedMessage,{id:"Header.externalSources.syncing",defaultMessage:"Synchronizing now..."}):(0,v.getLastExternalSourceSyncDescription)(t,I);var o=e.getExternalSourceLocalError(t),i=t.error;L.push(s.default.createElement(c.DropdownItem,{key:t.id,tag:"div",style:{cursor:"default",minHeight:a?50:0},disabled:!0},s.default.createElement("p",null,s.default.createElement("strong",{style:{cursor:"pointer"},onClick:function(){return l&&e.openExternalSource(t)}},n),s.default.createElement("br",null),s.default.createElement("span",{className:"text-muted"},r),!a&&s.default.createElement("span",{className:"pull-right",style:{marginBottom:10}},s.default.createElement(g.default,{className:"btn btn-sm btn-outline-secondary",onClick:function(a){a.preventDefault(),e.syncExternalSourceNow(t)}},s.default.createElement(d.FormattedMessage,{id:"Header.externalSources.syncNow",defaultMessage:"Sync now"})))),s.default.createElement(c.Alert,{color:"danger",isOpen:!a&&!!o,toggle:function(a){a.preventDefault(),e.dismissExternalSourceLocalError(t)}},s.default.createElement("p",null,o)),!a&&!o&&i&&s.default.createElement(c.Alert,{color:"warning"},s.default.createElement("strong",{style:{paddingRight:3}},s.default.createElement(d.FormattedMessage,{id:"Header.externalSources.lastError",defaultMessage:"Last error"}),":"),s.default.createElement("small",null,(0,w.default)(t.timestamp||t.lastCheckEnd).fromNow()),s.default.createElement("br",null),s.default.createElement("p",null,i))))}));var D=_[n.substring(0,2)],B=n.substring(0,2).toUpperCase();return s.default.createElement("header",{className:"app-header navbar"},s.default.createElement(c.NavbarToggler,{className:"d-lg-none",onClick:this.mobileSidebarToggle},s.default.createElement("span",{className:"navbar-toggler-icon"})),s.default.createElement(c.NavbarBrand,null,s.default.createElement("div",{className:"icon"},s.default.createElement(p.default,null)),s.default.createElement("span",null,a)),s.default.createElement(c.NavbarToggler,{className:"d-md-down-none",onClick:this.sidebarToggle},s.default.createElement("span",{className:"navbar-toggler-icon"})),s.default.createElement(c.Nav,{className:"ml-auto",navbar:!0},O&&s.default.createElement(c.UncontrolledDropdown,{nav:!0,inNavbar:!0,className:"backup-dropdown"},s.default.createElement(c.DropdownToggle,{nav:!0,caret:!0},A?s.default.createElement(C.default.Warning,{fixedWidth:!0,className:"text-danger"}):s.default.createElement(C.default.Clock,{fixedWidth:!0}),s.default.createElement(d.FormattedMessage,{id:"Header.backup.title",defaultMessage:"Backup"})),s.default.createElement(c.DropdownMenu,null,P)),F&&s.default.createElement(c.UncontrolledDropdown,{nav:!0,inNavbar:!0,className:"external-sources-dropdown"},s.default.createElement(c.DropdownToggle,{nav:!0,caret:!0},V?s.default.createElement(C.default.Warning,{fixedWidth:!0,className:"text-danger"}):s.default.createElement(C.default.ExternalSource,{fixedWidth:!0}),s.default.createElement(d.FormattedMessage,{id:"Header.externalSources.title",defaultMessage:"External sources"})),s.default.createElement(c.DropdownMenu,null,L)),s.default.createElement(c.UncontrolledDropdown,{nav:!0,inNavbar:!0,className:"user-dropdown"},s.default.createElement(c.DropdownToggle,{nav:!0,caret:!0},s.default.createElement(C.default.User,{fixedWidth:!0}),r),s.default.createElement(c.DropdownMenu,null,i&&s.default.createElement(c.DropdownItem,{onClick:this.toggleAdmin},s.default.createElement(C.default.DisableAdmin,o({fixedWidth:!0},x)),l?s.default.createElement(d.FormattedMessage,{id:"User.disableAdminMode",defaultMessage:"Disable admin mode"}):s.default.createElement(d.FormattedMessage,{id:"User.enableAdminMode",defaultMessage:"Enable admin mode"})),s.default.createElement(c.DropdownItem,{tag:"a",onClick:function(e){e.preventDefault(),e.target.blur()}},s.default.createElement(D,T),B,s.default.createElement(c.DropdownMenu,{className:"language-dropdown"},E.availableLanguages.map(function(t){var a=_[t],n=t.toUpperCase();return s.default.createElement(c.DropdownItem,{key:t,onClick:function(){return e.props.changeLanguage(t)}},s.default.createElement(a,T),n)}))),s.default.createElement(c.DropdownItem,{onClick:k},s.default.createElement(C.default.Settings,o({fixedWidth:!0},x)),s.default.createElement(d.FormattedMessage,{id:"Header.User.settings",defaultMessage:"Settings"})),s.default.createElement(c.DropdownItem,{onClick:this.logout},s.default.createElement(C.default.Signout,o({fixedWidth:!0},x)),s.default.createElement(d.FormattedMessage,{id:"User.logout",defaultMessage:"Logout"})))),s.default.createElement(c.UncontrolledDropdown,{nav:!0,inNavbar:!0,className:"connection-status-dropdown"},s.default.createElement(c.DropdownToggle,{nav:!0},s.default.createElement(C.default.ConnectionStatus,{className:(0,f.default)("connection-status",S?"text-success":"text-danger")})),s.default.createElement(c.DropdownMenu,null,s.default.createElement(c.DropdownItem,{disabled:!0},s.default.createElement("div",{className:"connection-info-container"},S?s.default.createElement(d.FormattedMessage,{id:"ConnectionInfo.connected",defaultMessage:"Connected",tagName:"strong"}):s.default.createElement(d.FormattedMessage,{id:"ConnectionInfo.disconnected",defaultMessage:"Disconnected",tagName:"strong"}),s.default.createElement("br",null),s.default.createElement("div",{style:{height:4}}),s.default.createElement(d.FormattedMessage,{id:"ConnectionInfo.address",defaultMessage:"Address:",tagName:"i"}),R,M&&s.default.createElement("br",null),M&&s.default.createElement(d.FormattedMessage,{id:"ConnectionInfo.version",defaultMessage:"Version:",tagName:"i"}),M&&M.version)),M&&s.default.createElement(c.DropdownItem,{disabled:!0},s.default.createElement("div",{className:"connection-info-container"},s.default.createElement("i",null,"CPU:")," ",Math.round(100*M.cpuUsage),"% ",s.default.createElement("br",null),s.default.createElement("i",null,"RAM:"),"  ",Math.round(M.memoryUsed/M.memoryTotal*100),"% ",s.default.createElement("br",null),s.default.createElement("i",null,"Disk Used:")," ",Math.round(M.diskUsed/M.diskTotal*100),"%"))))))}}]),t}(),R={logoutAction:m.logout,toggleIgnoreAdmingAction:m.toggleIgnoreAdming,changeLanguage:m.changeLanguage,openBackup:m.openBackup,openEditModel:m.openEditModel,showSettings:m.showSettings,simpleFetch:m.simpleFetch};t.default=(0,u.connect)(function(e,t){return{appName:e.server.appName,language:e.intl.language,username:e.auth.user&&e.auth.user.username,isAdmin:e.auth.user&&e.auth.user.admin,canBeAdmin:e.auth.user&&e.auth.user._originalAdmin,externalSources:e.server.externalSources||[],connected:e.server.connected,serverInfo:e.server.info,serverAddress:e.server.location||window.location.origin,backups:e.server.backups}},R)((0,d.injectIntl)(M)),e.exports=t.default},836:function(e,t,a){function n(e){return r.createElement("svg",e,r.createElement("g",null,r.createElement("g",null,[r.createElement("circle",{cx:"0",cy:"0",r:"45",fill:"#333333",key:0}),r.createElement("path",{strokeWidth:"11.4669",fill:"none",stroke:"#ff9933",d:"M -6.869 -39.92067153846159 L -17.87634311025901 -8.151785884852464 C -20.372671555129507 -0.9469979424262274 -15.514375716311378 4.245297355099756 -8.159751432622755 2.2328047101995026 L 8.159751432622754 -2.2328047101995026 C 15.514375716311378 -4.245297355099756 20.372671555129507 0.9469979424262274 17.87634311025901 8.151785884852464 L 6.869 39.92067153846159 ",key:1}),r.createElement("path",{fill:"#ff9933",d:"\n      M-8.869,-34.14836384615389 \n      L-22.692999999999998,-38.93812930457606\n      L-3.4392400000000016,-49.81948655384621 \n      L4.955,-29.358598387731725\n      Z\n    ",key:2}),r.createElement("path",{fill:"#ff9933",d:"\n      M8.869,34.14836384615389 \n      L-4.955,29.358598387731725\n      L3.4392400000000016,49.81948655384621 \n      L22.692999999999998,38.93812930457606\n      Z\n    ",key:3})])))}var r=a(0);n.displayName="Icon",n.defaultProps={version:"1.1",x:"0px",y:"0px",width:"512px",height:"512px",viewBox:"-50 -50 100 100",xmlSpace:"preserve"},e.exports=n,n.default=n},837:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastExternalSourceSyncDescription=function(e,t){if(!e.id)return"-";var a=function(e){return e.lastSuccessfulSync}(e);return a?t(l.lastSync)+": "+(0,i.default)(a).fromNow():t(l.noSync)};var n,r=a(6),o=a(2),i=(n=o)&&n.__esModule?n:{default:n},l=(0,r.defineMessages)({noSync:{id:"ExternalSource.lastSync.never",defaultMessage:"Never synchronized"},lastSync:{id:"ExternalSource.lastSync.last",defaultMessage:"Last synchronization"}});t.default=l},838:function(e,t,a){"use strict";function n(e){return(e||"").split(" ").filter(function(e){return e&&"fa-fw"!==e&&"fa"!==e&&-1!==e.indexOf("fa-")}).join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.extractIconName=n,t.default=function(e){return(e=(e=n(e))&&e.substring(3))?o[e]||{prefix:"fas",iconName:e}:null};var r;(r=a(210))&&r.__esModule;var o=a(839)},839:function(e,t){e.exports={glass:{prefix:"fas",iconName:"glass-martini"},meetup:{prefix:"fab",iconName:"meetup"},"star-o":{prefix:"far",iconName:"star"},remove:{prefix:"fas",iconName:"times"},close:{prefix:"fas",iconName:"times"},gear:{prefix:"fas",iconName:"cog"},"trash-o":{prefix:"far",iconName:"trash-alt"},"file-o":{prefix:"far",iconName:"file"},"clock-o":{prefix:"far",iconName:"clock"},"arrow-circle-o-down":{prefix:"far",iconName:"arrow-alt-circle-down"},"arrow-circle-o-up":{prefix:"far",iconName:"arrow-alt-circle-up"},"play-circle-o":{prefix:"far",iconName:"play-circle"},repeat:{prefix:"fas",iconName:"redo"},"rotate-right":{prefix:"fas",iconName:"redo"},refresh:{prefix:"fas",iconName:"sync"},"list-alt":{prefix:"far",iconName:"list-alt"},dedent:{prefix:"fas",iconName:"outdent"},"video-camera":{prefix:"fas",iconName:"video"},"picture-o":{prefix:"far",iconName:"image"},photo:{prefix:"far",iconName:"image"},image:{prefix:"far",iconName:"image"},pencil:{prefix:"fas",iconName:"pencil-alt"},"map-marker":{prefix:"fas",iconName:"map-marker-alt"},"pencil-square-o":{prefix:"far",iconName:"edit"},"share-square-o":{prefix:"far",iconName:"share-square"},"check-square-o":{prefix:"far",iconName:"check-square"},arrows:{prefix:"fas",iconName:"arrows-alt"},"times-circle-o":{prefix:"far",iconName:"times-circle"},"check-circle-o":{prefix:"far",iconName:"check-circle"},"mail-forward":{prefix:"fas",iconName:"share"},"eye-slash":{prefix:"far",iconName:"eye-slash"},warning:{prefix:"fas",iconName:"exclamation-triangle"},calendar:{prefix:"far",iconName:"calendar-alt"},"arrows-v":{prefix:"fas",iconName:"arrows-alt-v"},"arrows-h":{prefix:"fas",iconName:"arrows-alt-h"},"bar-chart":{prefix:"far",iconName:"chart-bar"},"bar-chart-o":{prefix:"far",iconName:"chart-bar"},"twitter-square":{prefix:"fab",iconName:"twitter-square"},"facebook-square":{prefix:"fab",iconName:"facebook-square"},gears:{prefix:"fas",iconName:"cogs"},"thumbs-o-up":{prefix:"far",iconName:"thumbs-up"},"thumbs-o-down":{prefix:"far",iconName:"thumbs-down"},"heart-o":{prefix:"far",iconName:"heart"},"sign-out":{prefix:"fas",iconName:"sign-out-alt"},"linkedin-square":{prefix:"fab",iconName:"linkedin"},"thumb-tack":{prefix:"fas",iconName:"thumbtack"},"external-link":{prefix:"fas",iconName:"external-link-alt"},"sign-in":{prefix:"fas",iconName:"sign-in-alt"},"github-square":{prefix:"fab",iconName:"github-square"},"lemon-o":{prefix:"far",iconName:"lemon"},"square-o":{prefix:"far",iconName:"square"},"bookmark-o":{prefix:"far",iconName:"bookmark"},twitter:{prefix:"fab",iconName:"twitter"},facebook:{prefix:"fab",iconName:"facebook-f"},"facebook-f":{prefix:"fab",iconName:"facebook-f"},github:{prefix:"fab",iconName:"github"},"credit-card":{prefix:"far",iconName:"credit-card"},feed:{prefix:"fas",iconName:"rss"},"hdd-o":{prefix:"far",iconName:"hdd"},"hand-o-right":{prefix:"far",iconName:"hand-point-right"},"hand-o-left":{prefix:"far",iconName:"hand-point-left"},"hand-o-up":{prefix:"far",iconName:"hand-point-up"},"hand-o-down":{prefix:"far",iconName:"hand-point-down"},"arrows-alt":{prefix:"fas",iconName:"expand-arrows-alt"},group:{prefix:"fas",iconName:"users"},chain:{prefix:"fas",iconName:"link"},scissors:{prefix:"fas",iconName:"cut"},"files-o":{prefix:"far",iconName:"copy"},"floppy-o":{prefix:"far",iconName:"save"},navicon:{prefix:"fas",iconName:"bars"},reorder:{prefix:"fas",iconName:"bars"},pinterest:{prefix:"fab",iconName:"pinterest"},"pinterest-square":{prefix:"fab",iconName:"pinterest-square"},"google-plus-square":{prefix:"fab",iconName:"google-plus-square"},"google-plus":{prefix:"fab",iconName:"google-plus-g"},money:{prefix:"far",iconName:"money-bill-alt"},unsorted:{prefix:"fas",iconName:"sort"},"sort-desc":{prefix:"fas",iconName:"sort-down"},"sort-asc":{prefix:"fas",iconName:"sort-up"},linkedin:{prefix:"fab",iconName:"linkedin-in"},"rotate-left":{prefix:"fas",iconName:"undo"},legal:{prefix:"fas",iconName:"gavel"},tachometer:{prefix:"fas",iconName:"tachometer-alt"},dashboard:{prefix:"fas",iconName:"tachometer-alt"},"comment-o":{prefix:"far",iconName:"comment"},"comments-o":{prefix:"far",iconName:"comments"},flash:{prefix:"fas",iconName:"bolt"},clipboard:{prefix:"far",iconName:"clipboard"},paste:{prefix:"far",iconName:"clipboard"},"lightbulb-o":{prefix:"far",iconName:"lightbulb"},exchange:{prefix:"fas",iconName:"exchange-alt"},"cloud-download":{prefix:"fas",iconName:"cloud-download-alt"},"cloud-upload":{prefix:"fas",iconName:"cloud-upload-alt"},"bell-o":{prefix:"far",iconName:"bell"},cutlery:{prefix:"fas",iconName:"utensils"},"file-text-o":{prefix:"far",iconName:"file-alt"},"building-o":{prefix:"far",iconName:"building"},"hospital-o":{prefix:"far",iconName:"hospital"},tablet:{prefix:"fas",iconName:"tablet-alt"},mobile:{prefix:"fas",iconName:"mobile-alt"},"mobile-phone":{prefix:"fas",iconName:"mobile-alt"},"circle-o":{prefix:"far",iconName:"circle"},"mail-reply":{prefix:"fas",iconName:"reply"},"github-alt":{prefix:"fab",iconName:"github-alt"},"folder-o":{prefix:"far",iconName:"folder"},"folder-open-o":{prefix:"far",iconName:"folder-open"},"smile-o":{prefix:"far",iconName:"smile"},"frown-o":{prefix:"far",iconName:"frown"},"meh-o":{prefix:"far",iconName:"meh"},"keyboard-o":{prefix:"far",iconName:"keyboard"},"flag-o":{prefix:"far",iconName:"flag"},"mail-reply-all":{prefix:"fas",iconName:"reply-all"},"star-half-o":{prefix:"far",iconName:"star-half"},"star-half-empty":{prefix:"far",iconName:"star-half"},"star-half-full":{prefix:"far",iconName:"star-half"},"code-fork":{prefix:"fas",iconName:"code-branch"},"chain-broken":{prefix:"fas",iconName:"unlink"},shield:{prefix:"fas",iconName:"shield-alt"},"calendar-o":{prefix:"far",iconName:"calendar"},maxcdn:{prefix:"fab",iconName:"maxcdn"},html5:{prefix:"fab",iconName:"html5"},css3:{prefix:"fab",iconName:"css3"},ticket:{prefix:"fas",iconName:"ticket-alt"},"minus-square-o":{prefix:"far",iconName:"minus-square"},"level-up":{prefix:"fas",iconName:"level-up-alt"},"level-down":{prefix:"fas",iconName:"level-down-alt"},"pencil-square":{prefix:"fas",iconName:"pen-square"},"external-link-square":{prefix:"fas",iconName:"external-link-square-alt"},compass:{prefix:"far",iconName:"compass"},"caret-square-o-down":{prefix:"far",iconName:"caret-square-down"},"toggle-down":{prefix:"far",iconName:"caret-square-down"},"caret-square-o-up":{prefix:"far",iconName:"caret-square-up"},"toggle-up":{prefix:"far",iconName:"caret-square-up"},"caret-square-o-right":{prefix:"far",iconName:"caret-square-right"},"toggle-right":{prefix:"far",iconName:"caret-square-right"},eur:{prefix:"fas",iconName:"euro-sign"},euro:{prefix:"fas",iconName:"euro-sign"},gbp:{prefix:"fas",iconName:"pound-sign"},usd:{prefix:"fas",iconName:"dollar-sign"},dollar:{prefix:"fas",iconName:"dollar-sign"},inr:{prefix:"fas",iconName:"rupee-sign"},rupee:{prefix:"fas",iconName:"rupee-sign"},jpy:{prefix:"fas",iconName:"yen-sign"},cny:{prefix:"fas",iconName:"yen-sign"},rmb:{prefix:"fas",iconName:"yen-sign"},yen:{prefix:"fas",iconName:"yen-sign"},rub:{prefix:"fas",iconName:"ruble-sign"},ruble:{prefix:"fas",iconName:"ruble-sign"},rouble:{prefix:"fas",iconName:"ruble-sign"},krw:{prefix:"fas",iconName:"won-sign"},won:{prefix:"fas",iconName:"won-sign"},btc:{prefix:"fab",iconName:"btc"},bitcoin:{prefix:"fab",iconName:"btc"},"file-text":{prefix:"far",iconName:"file-alt"},"sort-alpha-asc":{prefix:"fas",iconName:"sort-alpha-down"},"sort-alpha-desc":{prefix:"fas",iconName:"sort-alpha-up"},"sort-amount-asc":{prefix:"fas",iconName:"sort-amount-down"},"sort-amount-desc":{prefix:"fas",iconName:"sort-amount-up"},"sort-numeric-asc":{prefix:"fas",iconName:"sort-numeric-down"},"sort-numeric-desc":{prefix:"fas",iconName:"sort-numeric-up"},"youtube-square":{prefix:"fab",iconName:"youtube-square"},youtube:{prefix:"fab",iconName:"youtube"},xing:{prefix:"fab",iconName:"xing"},"xing-square":{prefix:"fab",iconName:"xing-square"},"youtube-play":{prefix:"fab",iconName:"youtube"},dropbox:{prefix:"fab",iconName:"dropbox"},"stack-overflow":{prefix:"fab",iconName:"stack-overflow"},instagram:{prefix:"fab",iconName:"instagram"},flickr:{prefix:"fab",iconName:"flickr"},adn:{prefix:"fab",iconName:"adn"},bitbucket:{prefix:"fab",iconName:"bitbucket"},"bitbucket-square":{prefix:"fab",iconName:"bitbucket"},tumblr:{prefix:"fab",iconName:"tumblr"},"tumblr-square":{prefix:"fab",iconName:"tumblr-square"},"long-arrow-down":{prefix:"fas",iconName:"long-arrow-alt-down"},"long-arrow-up":{prefix:"fas",iconName:"long-arrow-alt-up"},"long-arrow-left":{prefix:"fas",iconName:"long-arrow-alt-left"},"long-arrow-right":{prefix:"fas",iconName:"long-arrow-alt-right"},apple:{prefix:"fab",iconName:"apple"},windows:{prefix:"fab",iconName:"windows"},android:{prefix:"fab",iconName:"android"},linux:{prefix:"fab",iconName:"linux"},dribbble:{prefix:"fab",iconName:"dribbble"},skype:{prefix:"fab",iconName:"skype"},foursquare:{prefix:"fab",iconName:"foursquare"},trello:{prefix:"fab",iconName:"trello"},gratipay:{prefix:"fab",iconName:"gratipay"},gittip:{prefix:"fab",iconName:"gratipay"},"sun-o":{prefix:"far",iconName:"sun"},"moon-o":{prefix:"far",iconName:"moon"},vk:{prefix:"fab",iconName:"vk"},weibo:{prefix:"fab",iconName:"weibo"},renren:{prefix:"fab",iconName:"renren"},pagelines:{prefix:"fab",iconName:"pagelines"},"stack-exchange":{prefix:"fab",iconName:"stack-exchange"},"arrow-circle-o-right":{prefix:"far",iconName:"arrow-alt-circle-right"},"arrow-circle-o-left":{prefix:"far",iconName:"arrow-alt-circle-left"},"caret-square-o-left":{prefix:"far",iconName:"caret-square-left"},"toggle-left":{prefix:"far",iconName:"caret-square-left"},"dot-circle-o":{prefix:"far",iconName:"dot-circle"},"vimeo-square":{prefix:"fab",iconName:"vimeo-square"},try:{prefix:"fas",iconName:"lira-sign"},"turkish-lira":{prefix:"fas",iconName:"lira-sign"},"plus-square-o":{prefix:"far",iconName:"plus-square"},slack:{prefix:"fab",iconName:"slack"},wordpress:{prefix:"fab",iconName:"wordpress"},openid:{prefix:"fab",iconName:"openid"},institution:{prefix:"fas",iconName:"university"},bank:{prefix:"fas",iconName:"university"},"mortar-board":{prefix:"fas",iconName:"graduation-cap"},yahoo:{prefix:"fab",iconName:"yahoo"},google:{prefix:"fab",iconName:"google"},reddit:{prefix:"fab",iconName:"reddit"},"reddit-square":{prefix:"fab",iconName:"reddit-square"},"stumbleupon-circle":{prefix:"fab",iconName:"stumbleupon-circle"},stumbleupon:{prefix:"fab",iconName:"stumbleupon"},delicious:{prefix:"fab",iconName:"delicious"},digg:{prefix:"fab",iconName:"digg"},"pied-piper-pp":{prefix:"fab",iconName:"pied-piper-pp"},"pied-piper-alt":{prefix:"fab",iconName:"pied-piper-alt"},drupal:{prefix:"fab",iconName:"drupal"},joomla:{prefix:"fab",iconName:"joomla"},spoon:{prefix:"fas",iconName:"utensil-spoon"},behance:{prefix:"fab",iconName:"behance"},"behance-square":{prefix:"fab",iconName:"behance-square"},steam:{prefix:"fab",iconName:"steam"},"steam-square":{prefix:"fab",iconName:"steam-square"},automobile:{prefix:"fas",iconName:"car"},cab:{prefix:"fas",iconName:"taxi"},spotify:{prefix:"fab",iconName:"spotify"},"envelope-o":{prefix:"far",iconName:"envelope"},soundcloud:{prefix:"fab",iconName:"soundcloud"},"file-pdf-o":{prefix:"far",iconName:"file-pdf"},"file-word-o":{prefix:"far",iconName:"file-word"},"file-excel-o":{prefix:"far",iconName:"file-excel"},"file-powerpoint-o":{prefix:"far",iconName:"file-powerpoint"},"file-image-o":{prefix:"far",iconName:"file-image"},"file-photo-o":{prefix:"far",iconName:"file-image"},"file-picture-o":{prefix:"far",iconName:"file-image"},"file-archive-o":{prefix:"far",iconName:"file-archive"},"file-zip-o":{prefix:"far",iconName:"file-archive"},"file-audio-o":{prefix:"far",iconName:"file-audio"},"file-sound-o":{prefix:"far",iconName:"file-audio"},"file-video-o":{prefix:"far",iconName:"file-video"},"file-movie-o":{prefix:"far",iconName:"file-video"},"file-code-o":{prefix:"far",iconName:"file-code"},vine:{prefix:"fab",iconName:"vine"},codepen:{prefix:"fab",iconName:"codepen"},jsfiddle:{prefix:"fab",iconName:"jsfiddle"},"life-ring":{prefix:"far",iconName:"life-ring"},"life-bouy":{prefix:"far",iconName:"life-ring"},"life-buoy":{prefix:"far",iconName:"life-ring"},"life-saver":{prefix:"far",iconName:"life-ring"},support:{prefix:"far",iconName:"life-ring"},"circle-o-notch":{prefix:"fas",iconName:"circle-notch"},rebel:{prefix:"fab",iconName:"rebel"},ra:{prefix:"fab",iconName:"rebel"},resistance:{prefix:"fab",iconName:"rebel"},empire:{prefix:"fab",iconName:"empire"},ge:{prefix:"fab",iconName:"empire"},"git-square":{prefix:"fab",iconName:"git-square"},git:{prefix:"fab",iconName:"git"},"hacker-news":{prefix:"fab",iconName:"hacker-news"},"y-combinator-square":{prefix:"fab",iconName:"hacker-news"},"yc-square":{prefix:"fab",iconName:"hacker-news"},"tencent-weibo":{prefix:"fab",iconName:"tencent-weibo"},qq:{prefix:"fab",iconName:"qq"},weixin:{prefix:"fab",iconName:"weixin"},wechat:{prefix:"fab",iconName:"weixin"},send:{prefix:"far",iconName:"paper-plane"},"paper-plane-o":{prefix:"far",iconName:"paper-plane"},"send-o":{prefix:"far",iconName:"paper-plane"},"circle-thin":{prefix:"far",iconName:"circle"},header:{prefix:"fas",iconName:"heading"},sliders:{prefix:"fas",iconName:"sliders-h"},"futbol-o":{prefix:"far",iconName:"futbol"},"soccer-ball-o":{prefix:"far",iconName:"futbol"},slideshare:{prefix:"fab",iconName:"slideshare"},twitch:{prefix:"fab",iconName:"twitch"},yelp:{prefix:"fab",iconName:"yelp"},"newspaper-o":{prefix:"far",iconName:"newspaper"},paypal:{prefix:"fab",iconName:"paypal"},"google-wallet":{prefix:"fab",iconName:"google-wallet"},"cc-visa":{prefix:"fab",iconName:"cc-visa"},"cc-mastercard":{prefix:"fab",iconName:"cc-mastercard"},"cc-discover":{prefix:"fab",iconName:"cc-discover"},"cc-amex":{prefix:"fab",iconName:"cc-amex"},"cc-paypal":{prefix:"fab",iconName:"cc-paypal"},"cc-stripe":{prefix:"fab",iconName:"cc-stripe"},"bell-slash-o":{prefix:"far",iconName:"bell-slash"},trash:{prefix:"far",iconName:"trash-alt"},copyright:{prefix:"far",iconName:"copyright"},eyedropper:{prefix:"fas",iconName:"eye-dropper"},"area-chart":{prefix:"fas",iconName:"chart-area"},"pie-chart":{prefix:"fas",iconName:"chart-pie"},"line-chart":{prefix:"fas",iconName:"chart-line"},lastfm:{prefix:"fab",iconName:"lastfm"},"lastfm-square":{prefix:"fab",iconName:"lastfm-square"},ioxhost:{prefix:"fab",iconName:"ioxhost"},angellist:{prefix:"fab",iconName:"angellist"},cc:{prefix:"far",iconName:"closed-captioning"},ils:{prefix:"fas",iconName:"shekel-sign"},shekel:{prefix:"fas",iconName:"shekel-sign"},sheqel:{prefix:"fas",iconName:"shekel-sign"},meanpath:{prefix:"fab",iconName:"font-awesome"},buysellads:{prefix:"fab",iconName:"buysellads"},connectdevelop:{prefix:"fab",iconName:"connectdevelop"},dashcube:{prefix:"fab",iconName:"dashcube"},forumbee:{prefix:"fab",iconName:"forumbee"},leanpub:{prefix:"fab",iconName:"leanpub"},sellsy:{prefix:"fab",iconName:"sellsy"},shirtsinbulk:{prefix:"fab",iconName:"shirtsinbulk"},simplybuilt:{prefix:"fab",iconName:"simplybuilt"},skyatlas:{prefix:"fab",iconName:"skyatlas"},diamond:{prefix:"far",iconName:"gem"},intersex:{prefix:"fas",iconName:"transgender"},"facebook-official":{prefix:"fab",iconName:"facebook"},"pinterest-p":{prefix:"fab",iconName:"pinterest-p"},whatsapp:{prefix:"fab",iconName:"whatsapp"},hotel:{prefix:"fas",iconName:"bed"},viacoin:{prefix:"fab",iconName:"viacoin"},medium:{prefix:"fab",iconName:"medium"},"y-combinator":{prefix:"fab",iconName:"y-combinator"},yc:{prefix:"fab",iconName:"y-combinator"},"optin-monster":{prefix:"fab",iconName:"optin-monster"},opencart:{prefix:"fab",iconName:"opencart"},expeditedssl:{prefix:"fab",iconName:"expeditedssl"},"battery-4":{prefix:"fas",iconName:"battery-full"},battery:{prefix:"fas",iconName:"battery-full"},"battery-3":{prefix:"fas",iconName:"battery-three-quarters"},"battery-2":{prefix:"fas",iconName:"battery-half"},"battery-1":{prefix:"fas",iconName:"battery-quarter"},"battery-0":{prefix:"fas",iconName:"battery-empty"},"object-group":{prefix:"far",iconName:"object-group"},"object-ungroup":{prefix:"far",iconName:"object-ungroup"},"sticky-note-o":{prefix:"far",iconName:"sticky-note"},"cc-jcb":{prefix:"fab",iconName:"cc-jcb"},"cc-diners-club":{prefix:"fab",iconName:"cc-diners-club"},clone:{prefix:"far",iconName:"clone"},"hourglass-o":{prefix:"far",iconName:"hourglass"},"hourglass-1":{prefix:"fas",iconName:"hourglass-start"},"hourglass-2":{prefix:"fas",iconName:"hourglass-half"},"hourglass-3":{prefix:"fas",iconName:"hourglass-end"},"hand-rock-o":{prefix:"far",iconName:"hand-rock"},"hand-grab-o":{prefix:"far",iconName:"hand-rock"},"hand-paper-o":{prefix:"far",iconName:"hand-paper"},"hand-stop-o":{prefix:"far",iconName:"hand-paper"},"hand-scissors-o":{prefix:"far",iconName:"hand-scissors"},"hand-lizard-o":{prefix:"far",iconName:"hand-lizard"},"hand-spock-o":{prefix:"far",iconName:"hand-spock"},"hand-pointer-o":{prefix:"far",iconName:"hand-pointer"},"hand-peace-o":{prefix:"far",iconName:"hand-peace"},registered:{prefix:"far",iconName:"registered"},"creative-commons":{prefix:"fab",iconName:"creative-commons"},gg:{prefix:"fab",iconName:"gg"},"gg-circle":{prefix:"fab",iconName:"gg-circle"},tripadvisor:{prefix:"fab",iconName:"tripadvisor"},odnoklassniki:{prefix:"fab",iconName:"odnoklassniki"},"odnoklassniki-square":{prefix:"fab",iconName:"odnoklassniki-square"},"get-pocket":{prefix:"fab",iconName:"get-pocket"},"wikipedia-w":{prefix:"fab",iconName:"wikipedia-w"},safari:{prefix:"fab",iconName:"safari"},chrome:{prefix:"fab",iconName:"chrome"},firefox:{prefix:"fab",iconName:"firefox"},opera:{prefix:"fab",iconName:"opera"},"internet-explorer":{prefix:"fab",iconName:"internet-explorer"},television:{prefix:"fas",iconName:"tv"},contao:{prefix:"fab",iconName:"contao"},"500px":{prefix:"fab",iconName:"500px"},amazon:{prefix:"fab",iconName:"amazon"},"calendar-plus-o":{prefix:"far",iconName:"calendar-plus"},"calendar-minus-o":{prefix:"far",iconName:"calendar-minus"},"calendar-times-o":{prefix:"far",iconName:"calendar-times"},"calendar-check-o":{prefix:"far",iconName:"calendar-check"},"map-o":{prefix:"far",iconName:"map"},commenting:{prefix:"far",iconName:"comment-alt"},"commenting-o":{prefix:"far",iconName:"comment-alt"},houzz:{prefix:"fab",iconName:"houzz"},vimeo:{prefix:"fab",iconName:"vimeo-v"},"black-tie":{prefix:"fab",iconName:"black-tie"},fonticons:{prefix:"fab",iconName:"fonticons"},"reddit-alien":{prefix:"fab",iconName:"reddit-alien"},edge:{prefix:"fab",iconName:"edge"},"credit-card-alt":{prefix:"far",iconName:"credit-card"},codiepie:{prefix:"fab",iconName:"codiepie"},modx:{prefix:"fab",iconName:"modx"},"fort-awesome":{prefix:"fab",iconName:"fort-awesome"},usb:{prefix:"fab",iconName:"usb"},"product-hunt":{prefix:"fab",iconName:"product-hunt"},mixcloud:{prefix:"fab",iconName:"mixcloud"},scribd:{prefix:"fab",iconName:"scribd"},"pause-circle-o":{prefix:"far",iconName:"pause-circle"},"stop-circle-o":{prefix:"far",iconName:"stop-circle"},bluetooth:{prefix:"fab",iconName:"bluetooth"},"bluetooth-b":{prefix:"fab",iconName:"bluetooth-b"},gitlab:{prefix:"fab",iconName:"gitlab"},wpbeginner:{prefix:"fab",iconName:"wpbeginner"},wpforms:{prefix:"fab",iconName:"wpforms"},envira:{prefix:"fab",iconName:"envira"},"wheelchair-alt":{prefix:"fab",iconName:"accessible-icon"},"question-circle-o":{prefix:"far",iconName:"question-circle"},"volume-control-phone":{prefix:"fas",iconName:"phone-volume"},"asl-interpreting":{prefix:"fas",iconName:"american-sign-language-interpreting"},deafness:{prefix:"fas",iconName:"deaf"},"hard-of-hearing":{prefix:"fas",iconName:"deaf"},glide:{prefix:"fab",iconName:"glide"},"glide-g":{prefix:"fab",iconName:"glide-g"},signing:{prefix:"fas",iconName:"sign-language"},viadeo:{prefix:"fab",iconName:"viadeo"},"viadeo-square":{prefix:"fab",iconName:"viadeo-square"},snapchat:{prefix:"fab",iconName:"snapchat"},"snapchat-ghost":{prefix:"fab",iconName:"snapchat-ghost"},"snapchat-square":{prefix:"fab",iconName:"snapchat-square"},"pied-piper":{prefix:"fab",iconName:"pied-piper"},"first-order":{prefix:"fab",iconName:"first-order"},yoast:{prefix:"fab",iconName:"yoast"},themeisle:{prefix:"fab",iconName:"themeisle"},"google-plus-official":{prefix:"fab",iconName:"google-plus"},"google-plus-circle":{prefix:"fab",iconName:"google-plus"},"font-awesome":{prefix:"fab",iconName:"font-awesome"},fa:{prefix:"fab",iconName:"font-awesome"},"handshake-o":{prefix:"far",iconName:"handshake"},"envelope-open-o":{prefix:"far",iconName:"envelope-open"},linode:{prefix:"fab",iconName:"linode"},"address-book-o":{prefix:"far",iconName:"address-book"},vcard:{prefix:"far",iconName:"address-card"},"address-card-o":{prefix:"far",iconName:"address-card"},"vcard-o":{prefix:"far",iconName:"address-card"},"user-circle-o":{prefix:"far",iconName:"user-circle"},"user-o":{prefix:"far",iconName:"user"},"id-badge":{prefix:"far",iconName:"id-badge"},"drivers-license":{prefix:"far",iconName:"id-card"},"id-card-o":{prefix:"far",iconName:"id-card"},"drivers-license-o":{prefix:"far",iconName:"id-card"},quora:{prefix:"fab",iconName:"quora"},"free-code-camp":{prefix:"fab",iconName:"free-code-camp"},telegram:{prefix:"fab",iconName:"telegram"},"thermometer-4":{prefix:"fas",iconName:"thermometer-full"},thermometer:{prefix:"fas",iconName:"thermometer-full"},"thermometer-3":{prefix:"fas",iconName:"thermometer-three-quarters"},"thermometer-2":{prefix:"fas",iconName:"thermometer-half"},"thermometer-1":{prefix:"fas",iconName:"thermometer-quarter"},"thermometer-0":{prefix:"fas",iconName:"thermometer-empty"},bathtub:{prefix:"fas",iconName:"bath"},s15:{prefix:"fas",iconName:"bath"},"window-maximize":{prefix:"far",iconName:"window-maximize"},"window-restore":{prefix:"far",iconName:"window-restore"},"times-rectangle":{prefix:"far",iconName:"window-close"},"window-close-o":{prefix:"far",iconName:"window-close"},"times-rectangle-o":{prefix:"far",iconName:"window-close"},bandcamp:{prefix:"fab",iconName:"bandcamp"},grav:{prefix:"fab",iconName:"grav"},etsy:{prefix:"fab",iconName:"etsy"},imdb:{prefix:"fab",iconName:"imdb"},ravelry:{prefix:"fab",iconName:"ravelry"},eercast:{prefix:"fab",iconName:"sellcast"},"snowflake-o":{prefix:"far",iconName:"snowflake"},superpowers:{prefix:"fab",iconName:"superpowers"},wpexplorer:{prefix:"fab",iconName:"wpexplorer"},deviantart:{prefix:"fab",iconName:"deviantart"}}},842:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){k=C(e);var a=Object.assign({},t),n=function e(t,a){return(t=t||[]).map(function(t){if("view"===t.type){var n=a[t.viewId];if(!n)return null;t.key="view-"+n.id,t.name=n.name,t.icon=n.icon||v.defaultViewIcon,delete a[n.id]}else"folder"===t.type&&(t.folderId||(t.folderId=++k),t.key="folder-"+t.folderId,t.icon=t.icon||v.defaultFolderIcon,t.children=e(t.children,a),t.canChangeIcon=!0,t.canChangeName=!0);return t}).filter(function(e){return e})}(e=(0,g.cloneDeep)(e),a);return(0,g.each)(a,function(e){n.push({type:"view",key:"view-"+e.id,viewId:e.id,name:e.name,icon:e.icon||v.defaultViewIcon})}),n}function i(e){return function e(t){return t.map(function(t){return"view"===t.type?{type:"view",viewId:t.viewId}:"folder"===t.type?{type:"folder",folderId:t.folderId,icon:t.icon||v.defaultFolderIcon,name:t.name,children:e(t.children)}:void 0})}(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),d=n(u),c=n(a(1)),f=(a(8),n(a(3)),a(18)),p=a(6),m=a(116),h=n(a(468)),g=a(5),b=a(22),v=a(90),y=(n(a(19)),a(120)),E=a(65),w=(0,p.defineMessages)({settings:{id:"Sidebar.settings",defaultMessage:"Settings"},models:{id:"Sidebar.settings.models",defaultMessage:"Data Models"},users:{id:"Sidebar.settings.usersAndRoles",defaultMessage:"Users and roles"},backup:{id:"Sidebar.settings.backup",defaultMessage:"Backup settings"},newFolder:{id:"Sidebar.newFolderName",defaultMessage:"New folder"}}),C=function e(t){var a=0;return(t=t||[]).forEach(function(t){"folder"===t.type&&(t.folderId&&(a=Math.max(a,t.folderId)),a=Math.max(a,e(t.children)))}),a},k=0,S=function(e){var t=e.id,a=e.editing,n=e.canEditOrdering,r=e.startEditing,o=e.canEditViews,i=e.addNewFolder,l=e.removeFolder,s=e.trigger,u=e.openView,c=e.openEditView,f=(s||{}).item,h=[];return f&&"view"===f.type&&(h.push(d.default.createElement(m.MenuItem,{key:"open",onClick:function(e){return u(f.viewId,e)}},d.default.createElement(p.FormattedMessage,{id:"Sidebar.contextMenu.openView",defaultMessage:"Open view"})),d.default.createElement(m.MenuItem,{key:"open_new",onClick:function(e){e.ctrlKey=!0,u(f.viewId,e)}},d.default.createElement(p.FormattedMessage,{id:"Sidebar.contextMenu.openViewInNewTab",defaultMessage:"Open view in a new tab"}))),o&&h.push(d.default.createElement(m.MenuItem,{key:"edit_view",onClick:function(e){return c(f.viewId,e)}},d.default.createElement(p.FormattedMessage,{id:"Sidebar.contextMenu.editView",defaultMessage:"Edit view"})))),!a&&n&&(h.length&&h.push(d.default.createElement(m.MenuItem,{key:h.length,divider:!0})),h.push(d.default.createElement(m.MenuItem,{key:"change_order",onClick:r},d.default.createElement(p.FormattedMessage,{id:"Sidebar.contextMenu.editOrdering",defaultMessage:"Edit order"})))),a&&(h.length&&h.push(d.default.createElement(m.MenuItem,{key:h.length,divider:!0})),h.push(d.default.createElement(m.MenuItem,{key:"new_folder",onClick:function(){return i(f)}},d.default.createElement(p.FormattedMessage,{id:"Sidebar.contextMenu.newFolder",defaultMessage:"New folder"}))),f&&"folder"===f.type&&h.push(d.default.createElement(m.MenuItem,{key:"remove_folder",onClick:function(){return l(f)}},d.default.createElement(p.FormattedMessage,{id:"Sidebar.contextMenu.removeFolder",defaultMessage:"Remove folder"})))),d.default.createElement(m.ContextMenu,{id:t},h)};S.propTypes={id:c.default.string.isRequired,editing:c.default.bool,canEditOrdering:c.default.bool,canEditViews:c.default.bool,startEditing:c.default.func.isRequired,addNewFolder:c.default.func.isRequired,removeFolder:c.default.func.isRequired,trigger:c.default.shape({item:c.default.object}),openView:c.default.func,openEditView:c.default.func};var _=(0,m.connectMenu)("sidebar-context-menu")((0,p.injectIntl)(S)),x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.startEditing=a.startEditing.bind(a),a.saveItems=a.saveItems.bind(a),a.cancelChanges=a.cancelChanges.bind(a),a.addNewFolder=a.addNewFolder.bind(a),a.removeFolder=a.removeFolder.bind(a),a.onItemClick=a.onItemClick.bind(a),a.isItemActive=a.isItemActive.bind(a),a.isItemOpen=a.isItemOpen.bind(a),a.onItemOpen=a.onItemOpen.bind(a),a.onItemClose=a.onItemClose.bind(a);var n=a.initFoldersAndViews(e);return a.state={editing:!1,saving:!1,error:null,foldersAndViews:(0,g.clone)(n),originalFoldersAndViews:n},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"initFoldersAndViews",value:function(e){var t=e.ordering,a=e.views;return a?o(t,a):[]}},{key:"componentWillReceiveProps",value:function(e){if(e.ordering!==this.props.ordering||e.views!==this.props.views){var t=this.initFoldersAndViews(e);this.setState({foldersAndViews:(0,g.clone)(t),originalFoldersAndViews:t})}}},{key:"startEditing",value:function(){this.setState({editing:!0})}},{key:"saveItems",value:function(e){var t=this;e=e.filter(function(e){return!e.noEdit}),this.setState({saving:!0,foldersAndViews:e});var a=i(e);this.props.updateSettingsViewOrder(a).then(function(e){e.type===b.SERVER_UPDATE_SETTINGS_SUCCESS?setTimeout(function(){var e=t.initFoldersAndViews(t.props);t.setState({editing:!1,saving:!1,foldersAndViews:(0,g.clone)(e),originalFoldersAndViews:e})},1e3):e.type===b.SERVER_UPDATE_SETTINGS_FAILURE&&(t.setState({error:!0}),setTimeout(function(){t.setState({editing:!1,saving:!1,error:!1,foldersAndViews:t.state.originalFoldersAndViews})},1e3))})}},{key:"cancelChanges",value:function(){this.setState({editing:!1,saving:!1,error:null,foldersAndViews:this.state.originalFoldersAndViews})}},{key:"addNewFolder",value:function(e){var t=this.props.intl,a=this.state.foldersAndViews,n=t.formatMessage,r={type:"folder",folderId:C(a)+1,icon:v.defaultFolderIcon,name:n(w.newFolder),canChangeName:!0,canChangeIcon:!0,children:[]};this.internalSidebar.addNewItem(r,e)}},{key:"_addBackViews",value:function(e){var t=this;e.forEach(function(e){"folder"===e.type&&e.children&&e.children.length&&t._addBackViews(e.children),"view"===e.type&&t.internalSidebar.addNewItem(e)})}},{key:"removeFolder",value:function(e){var t=e.children;this.internalSidebar.removeItem(e),t&&this._addBackViews(t)}},{key:"onItemClick",value:function(e,t){"view"===e.type&&this.props.openView(e.viewId,t),"models"==e.type&&this.props.openSecondSidebar("MODELS"),"usersAndRoles"===e.type&&this.props.openUsersAndRoles(),"backup"===e.type&&this.props.openBackup()}},{key:"isItemActive",value:function(e){return"view"===e.type?this.props.selectedTabViewId===e.viewId:"models"===e.type?this.props.modelsSidebarOpen:"usersAndRoles"===e.type?"USERS_AND_ROLES"===this.props.selectedTabType:"backup"===e.type?"BACKUP"===this.props.selectedTabType:void 0}},{key:"isItemOpen",value:function(e){return!this.props.closedFolders[e.folderId]}},{key:"onItemOpen",value:function(e){var t=l({},this.props.closedFolders);delete t[e.folderId],this._saveClosedFolders(t)}},{key:"onItemClose",value:function(e){var t,a,n,r=l({},this.props.closedFolders,(t={},a=e.folderId,n=!0,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t));this._saveClosedFolders(r)}},{key:"_saveClosedFolders",value:function(e){this.props.updateUserPreferences({"navbar-ordering-closedFolders":e},!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.isAdmin,n=t.intl,o=t.openView,i=t.openEditView,l=n.formatMessage,s=this.state,u=s.editing,c=s.saving,f=s.error,p=a,g=this.state.foldersAndViews,b=a&&[{key:"settings-divider",divider:!0,noEdit:!0},{key:"settings",name:l(w.settings),icon:"fas-wrench",noEdit:!0,children:[{type:"models",key:"models",name:l(w.models),icon:"fas-sitemap"},{type:"usersAndRoles",key:"usersAndRoles",name:l(w.users),icon:"fas-users"},{type:"backup",key:"backup",name:l(w.backup),icon:"far-clock"}]}],v=[].concat(r(g||[]),r(b||[]));return d.default.createElement("div",null,d.default.createElement(m.ContextMenuTrigger,{id:"sidebar-context-menu",collect:function(e){return e},holdToDisplay:u?-1:(0,y.getDefaultHoldToDisplayValue)()},d.default.createElement(h.default,{ref:function(t){e.internalSidebar=t},items:v,itemWrapper:function(e){return{element:m.ContextMenuTrigger,attributes:{id:"sidebar-context-menu",item:e,collect:function(e){return e},holdToDisplay:u?-1:(0,y.getDefaultHoldToDisplayValue)()}}},saveChanges:this.saveItems,cancelChanges:this.cancelChanges,editing:u,saving:c,savingError:f,onItemClick:this.onItemClick,isItemActive:this.isItemActive,isItemOpen:this.isItemOpen,onItemOpen:this.onItemOpen,onItemClose:this.onItemClose})),!c&&d.default.createElement(_,{id:"sidebar-context-menu",editing:u,canEditOrdering:p,canEditViews:a,startEditing:this.startEditing,addNewFolder:this.addNewFolder,removeFolder:this.removeFolder,openView:o,openEditView:i}))}}]),t}(),T={updateSettingsViewOrder:b.updateSettingsViewOrder,openView:b.openView,openEditView:b.openEditView,openSecondSidebar:b.openSecondSidebar,openUsersAndRoles:b.openUsersAndRoles,openBackup:b.openBackup,updateUserPreferences:b.updateUserPreferences};t.default=(0,f.connect)(function(e,t){var a=e.server.settings&&e.server.settings.viewOrder,n=e.auth.user,r=n&&n.preferences&&n.preferences["navbar-ordering-closedFolders"]||{},o=e.context.views,i="MODELS"===e.ui.secondSidebar,l=(0,E.getSelectedTabFromState)(e),s=l&&"VIEW"===l.type&&l.options.viewId,u=l&&l.type;return{ordering:a,closedFolders:r,views:o,isAdmin:e.auth.user&&e.auth.user.admin,modelsSidebarOpen:i,selectedTabViewId:s,selectedTabType:u}},T)((0,p.injectIntl)(x)),e.exports=t.default},852:function(e,t){e.exports=[{id:"fab-500px",n:"500px",s:"500px 500px"},{id:"fab-accessible-icon",n:"Accessible Icon",s:"accessible-icon Accessible Icon accessibility wheelchair handicap person wheelchair-alt"},{id:"fab-accusoft",n:"Accusoft",s:"accusoft Accusoft"},{id:"fas-address-book",n:"Address Book",s:"address-book Address Book"},{id:"far-address-book",n:"Address Book",s:"address-book Address Book"},{id:"fas-address-card",n:"Address Card",s:"address-card Address Card"},{id:"far-address-card",n:"Address Card",s:"address-card Address Card"},{id:"fas-adjust",n:"adjust",s:"adjust adjust contrast"},{id:"fab-adn",n:"App.net",s:"adn App.net"},{id:"fab-adversal",n:"Adversal",s:"adversal Adversal"},{id:"fab-affiliatetheme",n:"affiliatetheme",s:"affiliatetheme affiliatetheme"},{id:"fab-algolia",n:"Algolia",s:"algolia Algolia"},{id:"fas-align-center",n:"align-center",s:"align-center align-center middle text"},{id:"fas-align-justify",n:"align-justify",s:"align-justify align-justify text"},{id:"fas-align-left",n:"align-left",s:"align-left align-left text"},{id:"fas-align-right",n:"align-right",s:"align-right align-right text"},{id:"fab-amazon",n:"Amazon",s:"amazon Amazon"},{id:"fab-amazon-pay",n:"Amazon Pay",s:"amazon-pay Amazon Pay"},{id:"fas-ambulance",n:"ambulance",s:"ambulance ambulance vehicle support help"},{id:"fas-american-sign-language-interpreting",n:"American Sign Language Interpreting",s:"american-sign-language-interpreting American Sign Language Interpreting"},{id:"fab-amilia",n:"Amilia",s:"amilia Amilia"},{id:"fas-anchor",n:"Anchor",s:"anchor Anchor link"},{id:"fab-android",n:"Android",s:"android Android robot"},{id:"fab-angellist",n:"AngelList",s:"angellist AngelList"},{id:"fas-angle-double-down",n:"Angle Double Down",s:"angle-double-down Angle Double Down arrows"},{id:"fas-angle-double-left",n:"Angle Double Left",s:"angle-double-left Angle Double Left laquo quote previous back arrows"},{id:"fas-angle-double-right",n:"Angle Double Right",s:"angle-double-right Angle Double Right raquo quote next forward arrows"},{id:"fas-angle-double-up",n:"Angle Double Up",s:"angle-double-up Angle Double Up arrows"},{id:"fas-angle-down",n:"angle-down",s:"angle-down angle-down arrow"},{id:"fas-angle-left",n:"angle-left",s:"angle-left angle-left previous back arrow"},{id:"fas-angle-right",n:"angle-right",s:"angle-right angle-right next forward arrow"},{id:"fas-angle-up",n:"angle-up",s:"angle-up angle-up arrow"},{id:"fab-angrycreative",n:"Angry Creative",s:"angrycreative Angry Creative"},{id:"fab-angular",n:"Angular",s:"angular Angular"},{id:"fab-app-store",n:"App Store",s:"app-store App Store"},{id:"fab-app-store-ios",n:"iOS App Store",s:"app-store-ios iOS App Store"},{id:"fab-apper",n:"Apper Systems AB",s:"apper Apper Systems AB"},{id:"fab-apple",n:"Apple",s:"apple Apple osx food"},{id:"fab-apple-pay",n:"Apple Pay",s:"apple-pay Apple Pay"},{id:"fas-archive",n:"Archive",s:"archive Archive box storage package"},{id:"fas-arrow-alt-circle-down",n:"Alternate Arrow Circle Down",s:"arrow-alt-circle-down Alternate Arrow Circle Down download arrow-circle-o-down"},{id:"far-arrow-alt-circle-down",n:"Alternate Arrow Circle Down",s:"arrow-alt-circle-down Alternate Arrow Circle Down download arrow-circle-o-down"},{id:"fas-arrow-alt-circle-left",n:"Alternate Arrow Circle Left",s:"arrow-alt-circle-left Alternate Arrow Circle Left previous back arrow-circle-o-left"},{id:"far-arrow-alt-circle-left",n:"Alternate Arrow Circle Left",s:"arrow-alt-circle-left Alternate Arrow Circle Left previous back arrow-circle-o-left"},{id:"fas-arrow-alt-circle-right",n:"Alternate Arrow Circle Right",s:"arrow-alt-circle-right Alternate Arrow Circle Right next forward arrow-circle-o-right"},{id:"far-arrow-alt-circle-right",n:"Alternate Arrow Circle Right",s:"arrow-alt-circle-right Alternate Arrow Circle Right next forward arrow-circle-o-right"},{id:"fas-arrow-alt-circle-up",n:"Alternate Arrow Circle Up",s:"arrow-alt-circle-up Alternate Arrow Circle Up arrow-circle-o-up"},{id:"far-arrow-alt-circle-up",n:"Alternate Arrow Circle Up",s:"arrow-alt-circle-up Alternate Arrow Circle Up arrow-circle-o-up"},{id:"fas-arrow-circle-down",n:"Arrow Circle Down",s:"arrow-circle-down Arrow Circle Down download"},{id:"fas-arrow-circle-left",n:"Arrow Circle Left",s:"arrow-circle-left Arrow Circle Left previous back"},{id:"fas-arrow-circle-right",n:"Arrow Circle Right",s:"arrow-circle-right Arrow Circle Right next forward"},{id:"fas-arrow-circle-up",n:"Arrow Circle Up",s:"arrow-circle-up Arrow Circle Up"},{id:"fas-arrow-down",n:"arrow-down",s:"arrow-down arrow-down download"},{id:"fas-arrow-left",n:"arrow-left",s:"arrow-left arrow-left previous back"},{id:"fas-arrow-right",n:"arrow-right",s:"arrow-right arrow-right next forward"},{id:"fas-arrow-up",n:"arrow-up",s:"arrow-up arrow-up"},{id:"fas-arrows-alt",n:"Alternate Arrows",s:"arrows-alt Alternate Arrows expand enlarge fullscreen bigger move reorder resize arrow arrows"},{id:"fas-arrows-alt-h",n:"Alternate Arrows Horizontal",s:"arrows-alt-h Alternate Arrows Horizontal resize arrows-h"},{id:"fas-arrows-alt-v",n:"Alternate Arrows Vertical",s:"arrows-alt-v Alternate Arrows Vertical resize arrows-v"},{id:"fas-assistive-listening-systems",n:"Assistive Listening Systems",s:"assistive-listening-systems Assistive Listening Systems"},{id:"fas-asterisk",n:"asterisk",s:"asterisk asterisk details"},{id:"fab-asymmetrik",n:"Asymmetrik, Ltd.",s:"asymmetrik Asymmetrik, Ltd."},{id:"fas-at",n:"At",s:"at At email e-mail"},{id:"fab-audible",n:"Audible",s:"audible Audible"},{id:"fas-audio-description",n:"Audio Description",s:"audio-description Audio Description"},{id:"fab-autoprefixer",n:"Autoprefixer",s:"autoprefixer Autoprefixer"},{id:"fab-avianex",n:"avianex",s:"avianex avianex"},{id:"fab-aviato",n:"Aviato",s:"aviato Aviato"},{id:"fab-aws",n:"Amazon Web Services (AWS)",s:"aws Amazon Web Services (AWS)"},{id:"fas-backward",n:"backward",s:"backward backward rewind previous"},{id:"fas-balance-scale",n:"Balance Scale",s:"balance-scale Balance Scale"},{id:"fas-ban",n:"ban",s:"ban ban delete remove trash hide block stop abort cancel ban prohibit"},{id:"fas-band-aid",n:"Band-Aid",s:"band-aid Band-Aid bandage ouch boo boo"},{id:"fab-bandcamp",n:"Bandcamp",s:"bandcamp Bandcamp"},{id:"fas-barcode",n:"barcode",s:"barcode barcode scan"},{id:"fas-bars",n:"Bars",s:"bars Bars menu drag reorder settings list ul ol checklist todo list hamburger"},{id:"fas-baseball-ball",n:"Baseball Ball",s:"baseball-ball Baseball Ball"},{id:"fas-basketball-ball",n:"Basketball Ball",s:"basketball-ball Basketball Ball"},{id:"fas-bath",n:"Bath",s:"bath Bath"},{id:"fas-battery-empty",n:"Battery Empty",s:"battery-empty Battery Empty power status"},{id:"fas-battery-full",n:"Battery Full",s:"battery-full Battery Full power status"},{id:"fas-battery-half",n:"Battery 1/2 Full",s:"battery-half Battery 1/2 Full power status"},{id:"fas-battery-quarter",n:"Battery 1/4 Full",s:"battery-quarter Battery 1/4 Full power status"},{id:"fas-battery-three-quarters",n:"Battery 3/4 Full",s:"battery-three-quarters Battery 3/4 Full power status"},{id:"fas-bed",n:"Bed",s:"bed Bed travel"},{id:"fas-beer",n:"beer",s:"beer beer alcohol stein drink mug bar liquor"},{id:"fab-behance",n:"Behance",s:"behance Behance"},{id:"fab-behance-square",n:"Behance Square",s:"behance-square Behance Square"},{id:"fas-bell",n:"bell",s:"bell bell alert reminder notification"},{id:"far-bell",n:"bell",s:"bell bell alert reminder notification"},{id:"fas-bell-slash",n:"Bell Slash",s:"bell-slash Bell Slash"},{id:"far-bell-slash",n:"Bell Slash",s:"bell-slash Bell Slash"},{id:"fas-bicycle",n:"Bicycle",s:"bicycle Bicycle vehicle bike gears"},{id:"fab-bimobject",n:"BIMobject",s:"bimobject BIMobject"},{id:"fas-binoculars",n:"Binoculars",s:"binoculars Binoculars"},{id:"fas-birthday-cake",n:"Birthday Cake",s:"birthday-cake Birthday Cake"},{id:"fab-bitbucket",n:"Bitbucket",s:"bitbucket Bitbucket git bitbucket-square"},{id:"fab-bitcoin",n:"Bitcoin",s:"bitcoin Bitcoin"},{id:"fab-bity",n:"Bity",s:"bity Bity"},{id:"fab-black-tie",n:"Font Awesome Black Tie",s:"black-tie Font Awesome Black Tie"},{id:"fab-blackberry",n:"BlackBerry",s:"blackberry BlackBerry"},{id:"fas-blind",n:"Blind",s:"blind Blind"},{id:"fab-blogger",n:"Blogger",s:"blogger Blogger"},{id:"fab-blogger-b",n:"Blogger B",s:"blogger-b Blogger B"},{id:"fab-bluetooth",n:"Bluetooth",s:"bluetooth Bluetooth"},{id:"fab-bluetooth-b",n:"Bluetooth",s:"bluetooth-b Bluetooth"},{id:"fas-bold",n:"bold",s:"bold bold"},{id:"fas-bolt",n:"Lightning Bolt",s:"bolt Lightning Bolt lightning weather"},{id:"fas-bomb",n:"Bomb",s:"bomb Bomb"},{id:"fas-book",n:"book",s:"book book read documentation"},{id:"fas-bookmark",n:"bookmark",s:"bookmark bookmark save"},{id:"far-bookmark",n:"bookmark",s:"bookmark bookmark save"},{id:"fas-bowling-ball",n:"Bowling Ball",s:"bowling-ball Bowling Ball"},{id:"fas-box",n:"Box",s:"box Box"},{id:"fas-boxes",n:"Boxes",s:"boxes Boxes"},{id:"fas-braille",n:"Braille",s:"braille Braille"},{id:"fas-briefcase",n:"Briefcase",s:"briefcase Briefcase work business office luggage bag"},{id:"fab-btc",n:"BTC",s:"btc BTC"},{id:"fas-bug",n:"Bug",s:"bug Bug report insect"},{id:"fas-building",n:"Building",s:"building Building work business apartment office company"},{id:"far-building",n:"Building",s:"building Building work business apartment office company"},{id:"fas-bullhorn",n:"bullhorn",s:"bullhorn bullhorn announcement share broadcast louder megaphone"},{id:"fas-bullseye",n:"Bullseye",s:"bullseye Bullseye target"},{id:"fab-buromobelexperte",n:"Büromöbel-Experte GmbH & Co. KG.",s:"buromobelexperte Büromöbel-Experte GmbH & Co. KG."},{id:"fas-bus",n:"Bus",s:"bus Bus vehicle"},{id:"fab-buysellads",n:"BuySellAds",s:"buysellads BuySellAds"},{id:"fas-calculator",n:"Calculator",s:"calculator Calculator"},{id:"fas-calendar",n:"Calendar",s:"calendar Calendar date time when event calendar-o"},{id:"far-calendar",n:"Calendar",s:"calendar Calendar date time when event calendar-o"},{id:"fas-calendar-alt",n:"Alternate Calendar",s:"calendar-alt Alternate Calendar date time when event calendar"},{id:"far-calendar-alt",n:"Alternate Calendar",s:"calendar-alt Alternate Calendar date time when event calendar"},{id:"fas-calendar-check",n:"Calendar Check",s:"calendar-check Calendar Check ok"},{id:"far-calendar-check",n:"Calendar Check",s:"calendar-check Calendar Check ok"},{id:"fas-calendar-minus",n:"Calendar Minus",s:"calendar-minus Calendar Minus"},{id:"far-calendar-minus",n:"Calendar Minus",s:"calendar-minus Calendar Minus"},{id:"fas-calendar-plus",n:"Calendar Plus",s:"calendar-plus Calendar Plus"},{id:"far-calendar-plus",n:"Calendar Plus",s:"calendar-plus Calendar Plus"},{id:"fas-calendar-times",n:"Calendar Times",s:"calendar-times Calendar Times"},{id:"far-calendar-times",n:"Calendar Times",s:"calendar-times Calendar Times"},{id:"fas-camera",n:"camera",s:"camera camera photo picture record"},{id:"fas-camera-retro",n:"Retro Camera",s:"camera-retro Retro Camera photo picture record"},{id:"fas-car",n:"Car",s:"car Car vehicle"},{id:"fas-caret-down",n:"Caret Down",s:"caret-down Caret Down more dropdown menu triangle down arrow"},{id:"fas-caret-left",n:"Caret Left",s:"caret-left Caret Left previous back triangle left arrow"},{id:"fas-caret-right",n:"Caret Right",s:"caret-right Caret Right next forward triangle right arrow"},{id:"fas-caret-square-down",n:"Caret Square Down",s:"caret-square-down Caret Square Down more dropdown menu caret-square-o-down"},{id:"far-caret-square-down",n:"Caret Square Down",s:"caret-square-down Caret Square Down more dropdown menu caret-square-o-down"},{id:"fas-caret-square-left",n:"Caret Square Left",s:"caret-square-left Caret Square Left previous back caret-square-o-left"},{id:"far-caret-square-left",n:"Caret Square Left",s:"caret-square-left Caret Square Left previous back caret-square-o-left"},{id:"fas-caret-square-right",n:"Caret Square Right",s:"caret-square-right Caret Square Right next forward caret-square-o-right"},{id:"far-caret-square-right",n:"Caret Square Right",s:"caret-square-right Caret Square Right next forward caret-square-o-right"},{id:"fas-caret-square-up",n:"Caret Square Up",s:"caret-square-up Caret Square Up caret-square-o-up"},{id:"far-caret-square-up",n:"Caret Square Up",s:"caret-square-up Caret Square Up caret-square-o-up"},{id:"fas-caret-up",n:"Caret Up",s:"caret-up Caret Up triangle up arrow"},{id:"fas-cart-arrow-down",n:"Shopping Cart Arrow Down",s:"cart-arrow-down Shopping Cart Arrow Down shopping"},{id:"fas-cart-plus",n:"Add to Shopping Cart",s:"cart-plus Add to Shopping Cart add shopping"},{id:"fab-cc-amazon-pay",n:"Amazon Pay Credit Card",s:"cc-amazon-pay Amazon Pay Credit Card"},{id:"fab-cc-amex",n:"American Express Credit Card",s:"cc-amex American Express Credit Card amex"},{id:"fab-cc-apple-pay",n:"Apple Pay Credit Card",s:"cc-apple-pay Apple Pay Credit Card"},{id:"fab-cc-diners-club",n:"Diner's Club Credit Card",s:"cc-diners-club Diner's Club Credit Card"},{id:"fab-cc-discover",n:"Discover Credit Card",s:"cc-discover Discover Credit Card"},{id:"fab-cc-jcb",n:"JCB Credit Card",s:"cc-jcb JCB Credit Card"},{id:"fab-cc-mastercard",n:"MasterCard Credit Card",s:"cc-mastercard MasterCard Credit Card"},{id:"fab-cc-paypal",n:"Paypal Credit Card",s:"cc-paypal Paypal Credit Card"},{id:"fab-cc-stripe",n:"Stripe Credit Card",s:"cc-stripe Stripe Credit Card"},{id:"fab-cc-visa",n:"Visa Credit Card",s:"cc-visa Visa Credit Card"},{id:"fab-centercode",n:"Centercode",s:"centercode Centercode"},{id:"fas-certificate",n:"certificate",s:"certificate certificate badge star"},{id:"fas-chart-area",n:"Area Chart",s:"chart-area Area Chart graph analytics area-chart"},{id:"fas-chart-bar",n:"Bar Chart",s:"chart-bar Bar Chart graph analytics bar-chart"},{id:"far-chart-bar",n:"Bar Chart",s:"chart-bar Bar Chart graph analytics bar-chart"},{id:"fas-chart-line",n:"Line Chart",s:"chart-line Line Chart graph analytics line-chart dashboard"},{id:"fas-chart-pie",n:"Pie Chart",s:"chart-pie Pie Chart graph analytics pie-chart"},{id:"fas-check",n:"Check",s:"check Check checkmark done todo agree accept confirm tick ok select"},{id:"fas-check-circle",n:"Check Circle",s:"check-circle Check Circle todo done agree accept confirm ok select"},{id:"far-check-circle",n:"Check Circle",s:"check-circle Check Circle todo done agree accept confirm ok select"},{id:"fas-check-square",n:"Check Square",s:"check-square Check Square checkmark done todo agree accept confirm ok select"},{id:"far-check-square",n:"Check Square",s:"check-square Check Square checkmark done todo agree accept confirm ok select"},{id:"fas-chess",n:"Chess",s:"chess Chess"},{id:"fas-chess-bishop",n:"Chess Bishop",s:"chess-bishop Chess Bishop"},{id:"fas-chess-board",n:"Chess Board",s:"chess-board Chess Board"},{id:"fas-chess-king",n:"Chess King",s:"chess-king Chess King"},{id:"fas-chess-knight",n:"Chess Knight",s:"chess-knight Chess Knight"},{id:"fas-chess-pawn",n:"Chess Pawn",s:"chess-pawn Chess Pawn"},{id:"fas-chess-queen",n:"Chess Queen",s:"chess-queen Chess Queen"},{id:"fas-chess-rook",n:"Chess Rook",s:"chess-rook Chess Rook"},{id:"fas-chevron-circle-down",n:"Chevron Circle Down",s:"chevron-circle-down Chevron Circle Down more dropdown menu arrow"},{id:"fas-chevron-circle-left",n:"Chevron Circle Left",s:"chevron-circle-left Chevron Circle Left previous back arrow"},{id:"fas-chevron-circle-right",n:"Chevron Circle Right",s:"chevron-circle-right Chevron Circle Right next forward arrow"},{id:"fas-chevron-circle-up",n:"Chevron Circle Up",s:"chevron-circle-up Chevron Circle Up arrow"},{id:"fas-chevron-down",n:"chevron-down",s:"chevron-down chevron-down"},{id:"fas-chevron-left",n:"chevron-left",s:"chevron-left chevron-left bracket previous back"},{id:"fas-chevron-right",n:"chevron-right",s:"chevron-right chevron-right bracket next forward"},{id:"fas-chevron-up",n:"chevron-up",s:"chevron-up chevron-up"},{id:"fas-child",n:"Child",s:"child Child"},{id:"fab-chrome",n:"Chrome",s:"chrome Chrome browser"},{id:"fas-circle",n:"Circle",s:"circle Circle dot notification circle-thin"},{id:"far-circle",n:"Circle",s:"circle Circle dot notification circle-thin"},{id:"fas-circle-notch",n:"Circle Notched",s:"circle-notch Circle Notched circle-o-notch"},{id:"fas-clipboard",n:"Clipboard",s:"clipboard Clipboard paste"},{id:"far-clipboard",n:"Clipboard",s:"clipboard Clipboard paste"},{id:"fas-clipboard-check",n:"Clipboard Check",s:"clipboard-check Clipboard Check"},{id:"fas-clipboard-list",n:"Clipboard List",s:"clipboard-list Clipboard List"},{id:"fas-clock",n:"Clock",s:"clock Clock watch timer late timestamp date"},{id:"far-clock",n:"Clock",s:"clock Clock watch timer late timestamp date"},{id:"fas-clone",n:"Clone",s:"clone Clone copy"},{id:"far-clone",n:"Clone",s:"clone Clone copy"},{id:"fas-closed-captioning",n:"Closed Captioning",s:"closed-captioning Closed Captioning cc"},{id:"far-closed-captioning",n:"Closed Captioning",s:"closed-captioning Closed Captioning cc"},{id:"fas-cloud",n:"Cloud",s:"cloud Cloud save"},{id:"fas-cloud-download-alt",n:"Cloud Download Alternate",s:"cloud-download-alt Cloud Download Alternate cloud-download"},{id:"fas-cloud-upload-alt",n:"Cloud Upload Alternate",s:"cloud-upload-alt Cloud Upload Alternate cloud-upload"},{id:"fab-cloudscale",n:"cloudscale.ch",s:"cloudscale cloudscale.ch"},{id:"fab-cloudsmith",n:"Cloudsmith",s:"cloudsmith Cloudsmith"},{id:"fab-cloudversify",n:"cloudversify",s:"cloudversify cloudversify"},{id:"fas-code",n:"Code",s:"code Code html brackets"},{id:"fas-code-branch",n:"Code Branch",s:"code-branch Code Branch git fork vcs svn github rebase version branch code-fork"},{id:"fab-codepen",n:"Codepen",s:"codepen Codepen"},{id:"fab-codiepie",n:"Codie Pie",s:"codiepie Codie Pie"},{id:"fas-coffee",n:"Coffee",s:"coffee Coffee morning mug breakfast tea drink cafe"},{id:"fas-cog",n:"cog",s:"cog cog settings"},{id:"fas-cogs",n:"cogs",s:"cogs cogs settings gears"},{id:"fas-columns",n:"Columns",s:"columns Columns split panes dashboard"},{id:"fas-comment",n:"comment",s:"comment comment speech notification note chat bubble feedback message texting sms conversation"},{id:"far-comment",n:"comment",s:"comment comment speech notification note chat bubble feedback message texting sms conversation"},{id:"fas-comment-alt",n:"Alternate Comment",s:"comment-alt Alternate Comment speech notification note chat bubble feedback message texting sms conversation commenting commenting"},{id:"far-comment-alt",n:"Alternate Comment",s:"comment-alt Alternate Comment speech notification note chat bubble feedback message texting sms conversation commenting commenting"},{id:"fas-comments",n:"comments",s:"comments comments speech notification note chat bubble feedback message texting sms conversation"},{id:"far-comments",n:"comments",s:"comments comments speech notification note chat bubble feedback message texting sms conversation"},{id:"fas-compass",n:"Compass",s:"compass Compass safari directory menu location"},{id:"far-compass",n:"Compass",s:"compass Compass safari directory menu location"},{id:"fas-compress",n:"Compress",s:"compress Compress collapse combine contract merge smaller"},{id:"fab-connectdevelop",n:"Connect Develop",s:"connectdevelop Connect Develop"},{id:"fab-contao",n:"Contao",s:"contao Contao"},{id:"fas-copy",n:"Copy",s:"copy Copy duplicate clone file files-o"},{id:"far-copy",n:"Copy",s:"copy Copy duplicate clone file files-o"},{id:"fas-copyright",n:"Copyright",s:"copyright Copyright"},{id:"far-copyright",n:"Copyright",s:"copyright Copyright"},{id:"fab-cpanel",n:"cPanel",s:"cpanel cPanel"},{id:"fab-creative-commons",n:"Creative Commons",s:"creative-commons Creative Commons"},{id:"fas-credit-card",n:"Credit Card",s:"credit-card Credit Card money buy debit checkout purchase payment credit-card-alt"},{id:"far-credit-card",n:"Credit Card",s:"credit-card Credit Card money buy debit checkout purchase payment credit-card-alt"},{id:"fas-crop",n:"crop",s:"crop crop design"},{id:"fas-crosshairs",n:"Crosshairs",s:"crosshairs Crosshairs picker gpd"},{id:"fab-css3",n:"CSS 3 Logo",s:"css3 CSS 3 Logo code"},{id:"fab-css3-alt",n:"Alternate CSS3 Logo",s:"css3-alt Alternate CSS3 Logo"},{id:"fas-cube",n:"Cube",s:"cube Cube package"},{id:"fas-cubes",n:"Cubes",s:"cubes Cubes packages"},{id:"fas-cut",n:"Cut",s:"cut Cut scissors scissors"},{id:"fab-cuttlefish",n:"Cuttlefish",s:"cuttlefish Cuttlefish"},{id:"fab-d-and-d",n:"Dungeons & Dragons",s:"d-and-d Dungeons & Dragons"},{id:"fab-dashcube",n:"DashCube",s:"dashcube DashCube"},{id:"fas-database",n:"Database",s:"database Database"},{id:"fas-deaf",n:"Deaf",s:"deaf Deaf"},{id:"fab-delicious",n:"Delicious Logo",s:"delicious Delicious Logo"},{id:"fab-deploydog",n:"deploy.dog",s:"deploydog deploy.dog"},{id:"fab-deskpro",n:"Deskpro",s:"deskpro Deskpro"},{id:"fas-desktop",n:"Desktop",s:"desktop Desktop monitor screen desktop computer demo device pc"},{id:"fab-deviantart",n:"deviantART",s:"deviantart deviantART"},{id:"fab-digg",n:"Digg Logo",s:"digg Digg Logo"},{id:"fab-digital-ocean",n:"Digital Ocean",s:"digital-ocean Digital Ocean"},{id:"fab-discord",n:"Discord",s:"discord Discord"},{id:"fab-discourse",n:"Discourse",s:"discourse Discourse"},{id:"fas-dna",n:"DNA",s:"dna DNA double helix helix"},{id:"fab-dochub",n:"DocHub",s:"dochub DocHub"},{id:"fab-docker",n:"Docker",s:"docker Docker"},{id:"fas-dollar-sign",n:"Dollar Sign",s:"dollar-sign Dollar Sign usd price"},{id:"fas-dolly",n:"Dolly",s:"dolly Dolly"},{id:"fas-dolly-flatbed",n:"Dolly Flatbed",s:"dolly-flatbed Dolly Flatbed"},{id:"fas-dot-circle",n:"Dot Circle",s:"dot-circle Dot Circle target bullseye notification"},{id:"far-dot-circle",n:"Dot Circle",s:"dot-circle Dot Circle target bullseye notification"},{id:"fas-download",n:"Download",s:"download Download import"},{id:"fab-draft2digital",n:"Draft2digital",s:"draft2digital Draft2digital"},{id:"fab-dribbble",n:"Dribbble",s:"dribbble Dribbble"},{id:"fab-dribbble-square",n:"Dribbble Square",s:"dribbble-square Dribbble Square"},{id:"fab-dropbox",n:"Dropbox",s:"dropbox Dropbox"},{id:"fab-drupal",n:"Drupal Logo",s:"drupal Drupal Logo"},{id:"fab-dyalog",n:"Dyalog",s:"dyalog Dyalog"},{id:"fab-earlybirds",n:"Earlybirds",s:"earlybirds Earlybirds"},{id:"fab-edge",n:"Edge Browser",s:"edge Edge Browser browser ie"},{id:"fas-edit",n:"Edit",s:"edit Edit write edit update pencil pen"},{id:"far-edit",n:"Edit",s:"edit Edit write edit update pencil pen"},{id:"fas-eject",n:"eject",s:"eject eject"},{id:"fab-elementor",n:"Elementor",s:"elementor Elementor"},{id:"fas-ellipsis-h",n:"Horizontal Ellipsis",s:"ellipsis-h Horizontal Ellipsis dots"},{id:"fas-ellipsis-v",n:"Vertical Ellipsis",s:"ellipsis-v Vertical Ellipsis dots"},{id:"fab-ember",n:"Ember",s:"ember Ember"},{id:"fab-empire",n:"Galactic Empire",s:"empire Galactic Empire"},{id:"fas-envelope",n:"Envelope",s:"envelope Envelope email e-mail letter support mail message notification"},{id:"far-envelope",n:"Envelope",s:"envelope Envelope email e-mail letter support mail message notification"},{id:"fas-envelope-open",n:"Envelope Open",s:"envelope-open Envelope Open email e-mail letter support mail message notification"},{id:"far-envelope-open",n:"Envelope Open",s:"envelope-open Envelope Open email e-mail letter support mail message notification"},{id:"fas-envelope-square",n:"Envelope Square",s:"envelope-square Envelope Square email e-mail letter support mail message notification"},{id:"fab-envira",n:"Envira Gallery",s:"envira Envira Gallery leaf"},{id:"fas-eraser",n:"eraser",s:"eraser eraser remove delete"},{id:"fab-erlang",n:"Erlang",s:"erlang Erlang"},{id:"fab-ethereum",n:"Ethereum",s:"ethereum Ethereum"},{id:"fab-etsy",n:"Etsy",s:"etsy Etsy"},{id:"fas-euro-sign",n:"Euro Sign",s:"euro-sign Euro Sign eur eur"},{id:"fas-exchange-alt",n:"Alternate Exchange",s:"exchange-alt Alternate Exchange transfer arrows arrow exchange swap"},{id:"fas-exclamation",n:"exclamation",s:"exclamation exclamation warning error problem notification notify alert danger"},{id:"fas-exclamation-circle",n:"Exclamation Circle",s:"exclamation-circle Exclamation Circle warning error problem notification notify alert danger"},{id:"fas-exclamation-triangle",n:"Exclamation Triangle",s:"exclamation-triangle Exclamation Triangle warning error problem notification notify alert danger"},{id:"fas-expand",n:"Expand",s:"expand Expand enlarge bigger resize"},{id:"fas-expand-arrows-alt",n:"Alternate Expand Arrows",s:"expand-arrows-alt Alternate Expand Arrows enlarge bigger resize move arrows-alt"},{id:"fab-expeditedssl",n:"ExpeditedSSL",s:"expeditedssl ExpeditedSSL"},{id:"fas-external-link-alt",n:"Alternate External Link",s:"external-link-alt Alternate External Link open new external-link"},{id:"fas-external-link-square-alt",n:"Alternate External Link Square",s:"external-link-square-alt Alternate External Link Square open new external-link-square"},{id:"fas-eye",n:"Eye",s:"eye Eye show visible views"},{id:"fas-eye-dropper",n:"Eye Dropper",s:"eye-dropper Eye Dropper eyedropper"},{id:"fas-eye-slash",n:"Eye Slash",s:"eye-slash Eye Slash toggle show hide visible visiblity views"},{id:"far-eye-slash",n:"Eye Slash",s:"eye-slash Eye Slash toggle show hide visible visiblity views"},{id:"fab-facebook",n:"Facebook",s:"facebook Facebook social network facebook-official"},{id:"fab-facebook-f",n:"Facebook F",s:"facebook-f Facebook F facebook"},{id:"fab-facebook-messenger",n:"Facebook Messenger",s:"facebook-messenger Facebook Messenger"},{id:"fab-facebook-square",n:"Facebook Square",s:"facebook-square Facebook Square social network"},{id:"fas-fast-backward",n:"fast-backward",s:"fast-backward fast-backward rewind previous beginning start first"},{id:"fas-fast-forward",n:"fast-forward",s:"fast-forward fast-forward next end last"},{id:"fas-fax",n:"Fax",s:"fax Fax"},{id:"fas-female",n:"Female",s:"female Female woman human user person profile"},{id:"fas-fighter-jet",n:"fighter-jet",s:"fighter-jet fighter-jet fly plane airplane quick fast travel"},{id:"fas-file",n:"File",s:"file File new page pdf document"},{id:"far-file",n:"File",s:"file File new page pdf document"},{id:"fas-file-alt",n:"Alternate File",s:"file-alt Alternate File new page pdf document file-text"},{id:"far-file-alt",n:"Alternate File",s:"file-alt Alternate File new page pdf document file-text"},{id:"fas-file-archive",n:"Archive File",s:"file-archive Archive File"},{id:"far-file-archive",n:"Archive File",s:"file-archive Archive File"},{id:"fas-file-audio",n:"Audio File",s:"file-audio Audio File"},{id:"far-file-audio",n:"Audio File",s:"file-audio Audio File"},{id:"fas-file-code",n:"Code File",s:"file-code Code File"},{id:"far-file-code",n:"Code File",s:"file-code Code File"},{id:"fas-file-excel",n:"Excel File",s:"file-excel Excel File"},{id:"far-file-excel",n:"Excel File",s:"file-excel Excel File"},{id:"fas-file-image",n:"Image File",s:"file-image Image File"},{id:"far-file-image",n:"Image File",s:"file-image Image File"},{id:"fas-file-pdf",n:"PDF File",s:"file-pdf PDF File"},{id:"far-file-pdf",n:"PDF File",s:"file-pdf PDF File"},{id:"fas-file-powerpoint",n:"Powerpoint File",s:"file-powerpoint Powerpoint File"},{id:"far-file-powerpoint",n:"Powerpoint File",s:"file-powerpoint Powerpoint File"},{id:"fas-file-video",n:"Video File",s:"file-video Video File"},{id:"far-file-video",n:"Video File",s:"file-video Video File"},{id:"fas-file-word",n:"Word File",s:"file-word Word File"},{id:"far-file-word",n:"Word File",s:"file-word Word File"},{id:"fas-film",n:"Film",s:"film Film movie"},{id:"fas-filter",n:"Filter",s:"filter Filter funnel options"},{id:"fas-fire",n:"fire",s:"fire fire flame hot popular"},{id:"fas-fire-extinguisher",n:"fire-extinguisher",s:"fire-extinguisher fire-extinguisher"},{id:"fab-firefox",n:"Firefox",s:"firefox Firefox browser"},{id:"fas-first-aid",n:"First Aid",s:"first-aid First Aid"},{id:"fab-first-order",n:"First Order",s:"first-order First Order"},{id:"fab-firstdraft",n:"firstdraft",s:"firstdraft firstdraft"},{id:"fas-flag",n:"flag",s:"flag flag report notification notify"},{id:"far-flag",n:"flag",s:"flag flag report notification notify"},{id:"fas-flag-checkered",n:"flag-checkered",s:"flag-checkered flag-checkered report notification notify"},{id:"fas-flask",n:"Flask",s:"flask Flask science beaker experimental labs"},{id:"fab-flickr",n:"Flickr",s:"flickr Flickr"},{id:"fab-flipboard",n:"Flipboard",s:"flipboard Flipboard"},{id:"fab-fly",n:"Fly",s:"fly Fly"},{id:"fas-folder",n:"Folder",s:"folder Folder"},{id:"far-folder",n:"Folder",s:"folder Folder"},{id:"fas-folder-open",n:"Folder Open",s:"folder-open Folder Open"},{id:"far-folder-open",n:"Folder Open",s:"folder-open Folder Open"},{id:"fas-font",n:"font",s:"font font text"},{id:"fab-font-awesome",n:"Font Awesome",s:"font-awesome Font Awesome meanpath"},{id:"fab-font-awesome-alt",n:"Alternate Font Awesome",s:"font-awesome-alt Alternate Font Awesome"},{id:"fab-font-awesome-flag",n:"Font Awesome Flag",s:"font-awesome-flag Font Awesome Flag"},{id:"fab-fonticons",n:"Fonticons",s:"fonticons Fonticons"},{id:"fab-fonticons-fi",n:"Fonticons Fi",s:"fonticons-fi Fonticons Fi"},{id:"fas-football-ball",n:"Football Ball",s:"football-ball Football Ball"},{id:"fab-fort-awesome",n:"Fort Awesome",s:"fort-awesome Fort Awesome castle"},{id:"fab-fort-awesome-alt",n:"Alternate Fort Awesome",s:"fort-awesome-alt Alternate Fort Awesome castle"},{id:"fab-forumbee",n:"Forumbee",s:"forumbee Forumbee"},{id:"fas-forward",n:"forward",s:"forward forward forward next"},{id:"fab-foursquare",n:"Foursquare",s:"foursquare Foursquare"},{id:"fab-free-code-camp",n:"Free Code Camp",s:"free-code-camp Free Code Camp"},{id:"fab-freebsd",n:"FreeBSD",s:"freebsd FreeBSD"},{id:"fas-frown",n:"Frown",s:"frown Frown face emoticon sad disapprove rating"},{id:"far-frown",n:"Frown",s:"frown Frown face emoticon sad disapprove rating"},{id:"fas-futbol",n:"Futbol",s:"futbol Futbol"},{id:"far-futbol",n:"Futbol",s:"futbol Futbol"},{id:"fas-gamepad",n:"Gamepad",s:"gamepad Gamepad controller"},{id:"fas-gavel",n:"Gavel",s:"gavel Gavel judge lawyer opinion hammer"},{id:"fas-gem",n:"Gem",s:"gem Gem diamond"},{id:"far-gem",n:"Gem",s:"gem Gem diamond"},{id:"fas-genderless",n:"Genderless",s:"genderless Genderless"},{id:"fab-get-pocket",n:"Get Pocket",s:"get-pocket Get Pocket"},{id:"fab-gg",n:"GG Currency",s:"gg GG Currency"},{id:"fab-gg-circle",n:"GG Currency Circle",s:"gg-circle GG Currency Circle"},{id:"fas-gift",n:"gift",s:"gift gift present"},{id:"fab-git",n:"Git",s:"git Git"},{id:"fab-git-square",n:"Git Square",s:"git-square Git Square"},{id:"fab-github",n:"GitHub",s:"github GitHub octocat"},{id:"fab-github-alt",n:"Alternate GitHub",s:"github-alt Alternate GitHub octocat"},{id:"fab-github-square",n:"GitHub Square",s:"github-square GitHub Square octocat"},{id:"fab-gitkraken",n:"GitKraken",s:"gitkraken GitKraken"},{id:"fab-gitlab",n:"GitLab",s:"gitlab GitLab Axosoft"},{id:"fab-gitter",n:"Gitter",s:"gitter Gitter"},{id:"fas-glass-martini",n:"Martini Glass",s:"glass-martini Martini Glass martini drink bar alcohol liquor glass"},{id:"fab-glide",n:"Glide",s:"glide Glide"},{id:"fab-glide-g",n:"Glide G",s:"glide-g Glide G"},{id:"fas-globe",n:"Globe",s:"globe Globe world planet map place travel earth global translate all language localize location coordinates country gps"},{id:"fab-gofore",n:"Gofore",s:"gofore Gofore"},{id:"fas-golf-ball",n:"Golf Ball",s:"golf-ball Golf Ball"},{id:"fab-goodreads",n:"Goodreads",s:"goodreads Goodreads"},{id:"fab-goodreads-g",n:"Goodreads G",s:"goodreads-g Goodreads G"},{id:"fab-google",n:"Google Logo",s:"google Google Logo"},{id:"fab-google-drive",n:"Google Drive",s:"google-drive Google Drive"},{id:"fab-google-play",n:"Google Play",s:"google-play Google Play"},{id:"fab-google-plus",n:"Google Plus",s:"google-plus Google Plus google-plus-circle google-plus-official"},{id:"fab-google-plus-g",n:"Google Plus G",s:"google-plus-g Google Plus G social network google-plus"},{id:"fab-google-plus-square",n:"Google Plus Square",s:"google-plus-square Google Plus Square social network"},{id:"fab-google-wallet",n:"Google Wallet",s:"google-wallet Google Wallet"},{id:"fas-graduation-cap",n:"Graduation Cap",s:"graduation-cap Graduation Cap learning school student"},{id:"fab-gratipay",n:"Gratipay (Gittip)",s:"gratipay Gratipay (Gittip) heart like favorite love"},{id:"fab-grav",n:"Grav",s:"grav Grav"},{id:"fab-gripfire",n:"Gripfire, Inc.",s:"gripfire Gripfire, Inc."},{id:"fab-grunt",n:"Grunt",s:"grunt Grunt"},{id:"fab-gulp",n:"Gulp",s:"gulp Gulp"},{id:"fas-h-square",n:"H Square",s:"h-square H Square hospital hotel"},{id:"fab-hacker-news",n:"Hacker News",s:"hacker-news Hacker News"},{id:"fab-hacker-news-square",n:"Hacker News Square",s:"hacker-news-square Hacker News Square"},{id:"fas-hand-lizard",n:"Lizard (Hand)",s:"hand-lizard Lizard (Hand)"},{id:"far-hand-lizard",n:"Lizard (Hand)",s:"hand-lizard Lizard (Hand)"},{id:"fas-hand-paper",n:"Paper (Hand)",s:"hand-paper Paper (Hand) stop"},{id:"far-hand-paper",n:"Paper (Hand)",s:"hand-paper Paper (Hand) stop"},{id:"fas-hand-peace",n:"Peace (Hand)",s:"hand-peace Peace (Hand)"},{id:"far-hand-peace",n:"Peace (Hand)",s:"hand-peace Peace (Hand)"},{id:"fas-hand-point-down",n:"Hand Pointing Down",s:"hand-point-down Hand Pointing Down point finger hand-o-down"},{id:"far-hand-point-down",n:"Hand Pointing Down",s:"hand-point-down Hand Pointing Down point finger hand-o-down"},{id:"fas-hand-point-left",n:"Hand Pointing Left",s:"hand-point-left Hand Pointing Left point left previous back finger hand-o-left"},{id:"far-hand-point-left",n:"Hand Pointing Left",s:"hand-point-left Hand Pointing Left point left previous back finger hand-o-left"},{id:"fas-hand-point-right",n:"Hand Pointing Right",s:"hand-point-right Hand Pointing Right point right next forward finger hand-o-right"},{id:"far-hand-point-right",n:"Hand Pointing Right",s:"hand-point-right Hand Pointing Right point right next forward finger hand-o-right"},{id:"fas-hand-point-up",n:"Hand Pointing Up",s:"hand-point-up Hand Pointing Up point finger hand-o-up"},{id:"far-hand-point-up",n:"Hand Pointing Up",s:"hand-point-up Hand Pointing Up point finger hand-o-up"},{id:"fas-hand-pointer",n:"Pointer (Hand)",s:"hand-pointer Pointer (Hand) select"},{id:"far-hand-pointer",n:"Pointer (Hand)",s:"hand-pointer Pointer (Hand) select"},{id:"fas-hand-rock",n:"Rock (Hand)",s:"hand-rock Rock (Hand)"},{id:"far-hand-rock",n:"Rock (Hand)",s:"hand-rock Rock (Hand)"},{id:"fas-hand-scissors",n:"Scissors (Hand)",s:"hand-scissors Scissors (Hand)"},{id:"far-hand-scissors",n:"Scissors (Hand)",s:"hand-scissors Scissors (Hand)"},{id:"fas-hand-spock",n:"Spock (Hand)",s:"hand-spock Spock (Hand)"},{id:"far-hand-spock",n:"Spock (Hand)",s:"hand-spock Spock (Hand)"},{id:"fas-handshake",n:"Handshake",s:"handshake Handshake"},{id:"far-handshake",n:"Handshake",s:"handshake Handshake"},{id:"fas-hashtag",n:"Hashtag",s:"hashtag Hashtag"},{id:"fas-hdd",n:"HDD",s:"hdd HDD harddrive hard drive storage save"},{id:"far-hdd",n:"HDD",s:"hdd HDD harddrive hard drive storage save"},{id:"fas-heading",n:"heading",s:"heading heading header header"},{id:"fas-headphones",n:"headphones",s:"headphones headphones sound listen music audio"},{id:"fas-heart",n:"Heart",s:"heart Heart love like favorite"},{id:"far-heart",n:"Heart",s:"heart Heart love like favorite"},{id:"fas-heartbeat",n:"Heartbeat",s:"heartbeat Heartbeat ekg vital signs"},{id:"fab-hips",n:"Hips",s:"hips Hips"},{id:"fab-hire-a-helper",n:"HireAHelper",s:"hire-a-helper HireAHelper"},{id:"fas-history",n:"History",s:"history History"},{id:"fas-hockey-puck",n:"Hockey Puck",s:"hockey-puck Hockey Puck"},{id:"fas-home",n:"home",s:"home home main house"},{id:"fab-hooli",n:"Hooli",s:"hooli Hooli"},{id:"fas-hospital",n:"hospital",s:"hospital hospital building medical center emergency room"},{id:"far-hospital",n:"hospital",s:"hospital hospital building medical center emergency room"},{id:"fas-hospital-symbol",n:"Hospital Symbol",s:"hospital-symbol Hospital Symbol"},{id:"fab-hotjar",n:"Hotjar",s:"hotjar Hotjar"},{id:"fas-hourglass",n:"Hourglass",s:"hourglass Hourglass"},{id:"far-hourglass",n:"Hourglass",s:"hourglass Hourglass"},{id:"fas-hourglass-end",n:"Hourglass End",s:"hourglass-end Hourglass End"},{id:"fas-hourglass-half",n:"Hourglass Half",s:"hourglass-half Hourglass Half"},{id:"fas-hourglass-start",n:"Hourglass Start",s:"hourglass-start Hourglass Start"},{id:"fab-houzz",n:"Houzz",s:"houzz Houzz"},{id:"fab-html5",n:"HTML 5 Logo",s:"html5 HTML 5 Logo"},{id:"fab-hubspot",n:"HubSpot",s:"hubspot HubSpot"},{id:"fas-i-cursor",n:"I Beam Cursor",s:"i-cursor I Beam Cursor"},{id:"fas-id-badge",n:"Identification Badge",s:"id-badge Identification Badge"},{id:"far-id-badge",n:"Identification Badge",s:"id-badge Identification Badge"},{id:"fas-id-card",n:"Identification Card",s:"id-card Identification Card"},{id:"far-id-card",n:"Identification Card",s:"id-card Identification Card"},{id:"fas-image",n:"Image",s:"image Image photo album picture picture"},{id:"far-image",n:"Image",s:"image Image photo album picture picture"},{id:"fas-images",n:"Images",s:"images Images photo album picture"},{id:"far-images",n:"Images",s:"images Images photo album picture"},{id:"fab-imdb",n:"IMDB",s:"imdb IMDB"},{id:"fas-inbox",n:"inbox",s:"inbox inbox"},{id:"fas-indent",n:"Indent",s:"indent Indent"},{id:"fas-industry",n:"Industry",s:"industry Industry factory"},{id:"fas-info",n:"Info",s:"info Info help information more details"},{id:"fas-info-circle",n:"Info Circle",s:"info-circle Info Circle help information more details"},{id:"fab-instagram",n:"Instagram",s:"instagram Instagram"},{id:"fab-internet-explorer",n:"Internet-explorer",s:"internet-explorer Internet-explorer browser ie"},{id:"fab-ioxhost",n:"ioxhost",s:"ioxhost ioxhost"},{id:"fas-italic",n:"italic",s:"italic italic italics"},{id:"fab-itunes",n:"iTunes",s:"itunes iTunes"},{id:"fab-itunes-note",n:"Itunes Note",s:"itunes-note Itunes Note"},{id:"fab-jenkins",n:"Jenkis",s:"jenkins Jenkis"},{id:"fab-joget",n:"Joget",s:"joget Joget"},{id:"fab-joomla",n:"Joomla Logo",s:"joomla Joomla Logo"},{id:"fab-js",n:"JavaScript (JS)",s:"js JavaScript (JS)"},{id:"fab-js-square",n:"JavaScript (JS) Square",s:"js-square JavaScript (JS) Square"},{id:"fab-jsfiddle",n:"jsFiddle",s:"jsfiddle jsFiddle"},{id:"fas-key",n:"key",s:"key key unlock password"},{id:"fas-keyboard",n:"Keyboard",s:"keyboard Keyboard type input"},{id:"far-keyboard",n:"Keyboard",s:"keyboard Keyboard type input"},{id:"fab-keycdn",n:"KeyCDN",s:"keycdn KeyCDN"},{id:"fab-kickstarter",n:"Kickstarter",s:"kickstarter Kickstarter"},{id:"fab-kickstarter-k",n:"Kickstarter K",s:"kickstarter-k Kickstarter K"},{id:"fab-korvue",n:"KORVUE",s:"korvue KORVUE"},{id:"fas-language",n:"Language",s:"language Language"},{id:"fas-laptop",n:"Laptop",s:"laptop Laptop demo computer device pc"},{id:"fab-laravel",n:"Laravel",s:"laravel Laravel"},{id:"fab-lastfm",n:"last.fm",s:"lastfm last.fm"},{id:"fab-lastfm-square",n:"last.fm Square",s:"lastfm-square last.fm Square"},{id:"fas-leaf",n:"leaf",s:"leaf leaf eco nature plant"},{id:"fab-leanpub",n:"Leanpub",s:"leanpub Leanpub"},{id:"fas-lemon",n:"Lemon",s:"lemon Lemon food"},{id:"far-lemon",n:"Lemon",s:"lemon Lemon food"},{id:"fab-less",n:"Less",s:"less Less"},{id:"fas-level-down-alt",n:"Level Down Alternate",s:"level-down-alt Level Down Alternate level-down"},{id:"fas-level-up-alt",n:"Level Up Alternate",s:"level-up-alt Level Up Alternate level-up"},{id:"fas-life-ring",n:"Life Ring",s:"life-ring Life Ring support"},{id:"far-life-ring",n:"Life Ring",s:"life-ring Life Ring support"},{id:"fas-lightbulb",n:"Lightbulb",s:"lightbulb Lightbulb idea inspiration"},{id:"far-lightbulb",n:"Lightbulb",s:"lightbulb Lightbulb idea inspiration"},{id:"fab-line",n:"Line",s:"line Line"},{id:"fas-link",n:"Link",s:"link Link chain"},{id:"fab-linkedin",n:"LinkedIn",s:"linkedin LinkedIn linkedin-square"},{id:"fab-linkedin-in",n:"LinkedIn In",s:"linkedin-in LinkedIn In linkedin"},{id:"fab-linode",n:"Linode",s:"linode Linode"},{id:"fab-linux",n:"Linux",s:"linux Linux tux"},{id:"fas-lira-sign",n:"Turkish Lira Sign",s:"lira-sign Turkish Lira Sign try turkish try"},{id:"fas-list",n:"List",s:"list List ul ol checklist finished completed done todo"},{id:"fas-list-alt",n:"List Alternate",s:"list-alt List Alternate ul ol checklist finished completed done todo"},{id:"far-list-alt",n:"List Alternate",s:"list-alt List Alternate ul ol checklist finished completed done todo"},{id:"fas-list-ol",n:"list-ol",s:"list-ol list-ol ul ol checklist list todo list numbers"},{id:"fas-list-ul",n:"list-ul",s:"list-ul list-ul ul ol checklist todo list"},{id:"fas-location-arrow",n:"location-arrow",s:"location-arrow location-arrow map coordinates location address place where gps"},{id:"fas-lock",n:"lock",s:"lock lock protect admin security"},{id:"fas-lock-open",n:"Lock Open",s:"lock-open Lock Open protect admin password lock open"},{id:"fas-long-arrow-alt-down",n:"Alternate Long Arrow Down",s:"long-arrow-alt-down Alternate Long Arrow Down long-arrow-down"},{id:"fas-long-arrow-alt-left",n:"Alternate Long Arrow Left",s:"long-arrow-alt-left Alternate Long Arrow Left previous back long-arrow-left"},{id:"fas-long-arrow-alt-right",n:"Alternate Long Arrow Right",s:"long-arrow-alt-right Alternate Long Arrow Right long-arrow-right"},{id:"fas-long-arrow-alt-up",n:"Alternate Long Arrow Up",s:"long-arrow-alt-up Alternate Long Arrow Up long-arrow-up"},{id:"fas-low-vision",n:"Low Vision",s:"low-vision Low Vision"},{id:"fab-lyft",n:"lyft",s:"lyft lyft"},{id:"fab-magento",n:"Magento",s:"magento Magento"},{id:"fas-magic",n:"magic",s:"magic magic wizard automatic autocomplete"},{id:"fas-magnet",n:"magnet",s:"magnet magnet"},{id:"fas-male",n:"Male",s:"male Male man human user person profile"},{id:"fas-map",n:"Map",s:"map Map"},{id:"far-map",n:"Map",s:"map Map"},{id:"fas-map-marker",n:"map-marker",s:"map-marker map-marker map pin location coordinates localize address travel where place gps"},{id:"fas-map-marker-alt",n:"Map Marker Alternate",s:"map-marker-alt Map Marker Alternate map-marker gps"},{id:"fas-map-pin",n:"Map Pin",s:"map-pin Map Pin"},{id:"fas-map-signs",n:"Map Signs",s:"map-signs Map Signs"},{id:"fas-mars",n:"Mars",s:"mars Mars male"},{id:"fas-mars-double",n:"Mars Double",s:"mars-double Mars Double"},{id:"fas-mars-stroke",n:"Mars Stroke",s:"mars-stroke Mars Stroke"},{id:"fas-mars-stroke-h",n:"Mars Stroke Horizontal",s:"mars-stroke-h Mars Stroke Horizontal"},{id:"fas-mars-stroke-v",n:"Mars Stroke Vertical",s:"mars-stroke-v Mars Stroke Vertical"},{id:"fab-maxcdn",n:"MaxCDN",s:"maxcdn MaxCDN"},{id:"fab-medapps",n:"MedApps",s:"medapps MedApps"},{id:"fab-medium",n:"Medium",s:"medium Medium"},{id:"fab-medium-m",n:"Medium M",s:"medium-m Medium M"},{id:"fas-medkit",n:"medkit",s:"medkit medkit first aid firstaid help support health"},{id:"fab-medrt",n:"MRT",s:"medrt MRT"},{id:"fab-meetup",n:"Meetup",s:"meetup Meetup"},{id:"fas-meh",n:"Meh",s:"meh Meh face emoticon rating neutral"},{id:"far-meh",n:"Meh",s:"meh Meh face emoticon rating neutral"},{id:"fas-mercury",n:"Mercury",s:"mercury Mercury transgender"},{id:"fas-microchip",n:"Microchip",s:"microchip Microchip"},{id:"fas-microphone",n:"microphone",s:"microphone microphone record voice sound"},{id:"fas-microphone-slash",n:"Microphone Slash",s:"microphone-slash Microphone Slash record voice sound mute"},{id:"fab-microsoft",n:"Microsoft",s:"microsoft Microsoft"},{id:"fas-minus",n:"minus",s:"minus minus hide minify delete remove trash hide collapse"},{id:"fas-minus-circle",n:"Minus Circle",s:"minus-circle Minus Circle delete remove trash hide"},{id:"fas-minus-square",n:"Minus Square",s:"minus-square Minus Square hide minify delete remove trash hide collapse"},{id:"far-minus-square",n:"Minus Square",s:"minus-square Minus Square hide minify delete remove trash hide collapse"},{id:"fab-mix",n:"Mix",s:"mix Mix"},{id:"fab-mixcloud",n:"Mixcloud",s:"mixcloud Mixcloud"},{id:"fab-mizuni",n:"Mizuni",s:"mizuni Mizuni"},{id:"fas-mobile",n:"Mobile Phone",s:"mobile Mobile Phone cell phone cellphone text call iphone number telephone"},{id:"fas-mobile-alt",n:"Alternate Mobile",s:"mobile-alt Alternate Mobile mobile"},{id:"fab-modx",n:"MODX",s:"modx MODX"},{id:"fab-monero",n:"Monero",s:"monero Monero"},{id:"fas-money-bill-alt",n:"Money Bill Alternate",s:"money-bill-alt Money Bill Alternate cash money buy checkout purchase payment price"},{id:"far-money-bill-alt",n:"Money Bill Alternate",s:"money-bill-alt Money Bill Alternate cash money buy checkout purchase payment price"},{id:"fas-moon",n:"Moon",s:"moon Moon night darker contrast"},{id:"far-moon",n:"Moon",s:"moon Moon night darker contrast"},{id:"fas-motorcycle",n:"Motorcycle",s:"motorcycle Motorcycle vehicle bike"},{id:"fas-mouse-pointer",n:"Mouse Pointer",s:"mouse-pointer Mouse Pointer select"},{id:"fas-music",n:"Music",s:"music Music note sound"},{id:"fab-napster",n:"Napster",s:"napster Napster"},{id:"fas-neuter",n:"Neuter",s:"neuter Neuter"},{id:"fas-newspaper",n:"Newspaper",s:"newspaper Newspaper press article"},{id:"far-newspaper",n:"Newspaper",s:"newspaper Newspaper press article"},{id:"fab-nintendo-switch",n:"Nintendo Switch",s:"nintendo-switch Nintendo Switch"},{id:"fab-node",n:"Node.js",s:"node Node.js"},{id:"fab-node-js",n:"Node.js JS",s:"node-js Node.js JS"},{id:"fab-npm",n:"npm",s:"npm npm"},{id:"fab-ns8",n:"NS8",s:"ns8 NS8"},{id:"fab-nutritionix",n:"Nutritionix",s:"nutritionix Nutritionix"},{id:"fas-object-group",n:"Object Group",s:"object-group Object Group design"},{id:"far-object-group",n:"Object Group",s:"object-group Object Group design"},{id:"fas-object-ungroup",n:"Object Ungroup",s:"object-ungroup Object Ungroup design"},{id:"far-object-ungroup",n:"Object Ungroup",s:"object-ungroup Object Ungroup design"},{id:"fab-odnoklassniki",n:"Odnoklassniki",s:"odnoklassniki Odnoklassniki"},{id:"fab-odnoklassniki-square",n:"Odnoklassniki Square",s:"odnoklassniki-square Odnoklassniki Square"},{id:"fab-opencart",n:"OpenCart",s:"opencart OpenCart"},{id:"fab-openid",n:"OpenID",s:"openid OpenID"},{id:"fab-opera",n:"Opera",s:"opera Opera"},{id:"fab-optin-monster",n:"Optin Monster",s:"optin-monster Optin Monster"},{id:"fab-osi",n:"Open Source Initiative",s:"osi Open Source Initiative"},{id:"fas-outdent",n:"Outdent",s:"outdent Outdent"},{id:"fab-page4",n:"page4 Corporation",s:"page4 page4 Corporation"},{id:"fab-pagelines",n:"Pagelines",s:"pagelines Pagelines leaf leaves tree plant eco nature"},{id:"fas-paint-brush",n:"Paint Brush",s:"paint-brush Paint Brush"},{id:"fab-palfed",n:"Palfed",s:"palfed Palfed"},{id:"fas-pallet",n:"Pallet",s:"pallet Pallet"},{id:"fas-paper-plane",n:"Paper Plane",s:"paper-plane Paper Plane"},{id:"far-paper-plane",n:"Paper Plane",s:"paper-plane Paper Plane"},{id:"fas-paperclip",n:"Paperclip",s:"paperclip Paperclip attachment"},{id:"fas-paragraph",n:"paragraph",s:"paragraph paragraph"},{id:"fas-paste",n:"Paste",s:"paste Paste copy clipboard"},{id:"fab-patreon",n:"Patreon",s:"patreon Patreon"},{id:"fas-pause",n:"pause",s:"pause pause wait"},{id:"fas-pause-circle",n:"Pause Circle",s:"pause-circle Pause Circle"},{id:"far-pause-circle",n:"Pause Circle",s:"pause-circle Pause Circle"},{id:"fas-paw",n:"Paw",s:"paw Paw pet"},{id:"fab-paypal",n:"Paypal",s:"paypal Paypal"},{id:"fas-pen-square",n:"Pen Square",s:"pen-square Pen Square write edit update pencil-square"},{id:"fas-pencil-alt",n:"Alternate Pencil",s:"pencil-alt Alternate Pencil write edit update pencil design"},{id:"fas-percent",n:"Percent",s:"percent Percent"},{id:"fab-periscope",n:"Periscope",s:"periscope Periscope"},{id:"fab-phabricator",n:"Phabricator",s:"phabricator Phabricator"},{id:"fab-phoenix-framework",n:"Phoenix Framework",s:"phoenix-framework Phoenix Framework"},{id:"fas-phone",n:"Phone",s:"phone Phone call voice number support earphone telephone"},{id:"fas-phone-square",n:"Phone Square",s:"phone-square Phone Square call voice number support telephone"},{id:"fas-phone-volume",n:"Phone Volume",s:"phone-volume Phone Volume telephone volume-control-phone"},{id:"fab-php",n:"PHP",s:"php PHP"},{id:"fab-pied-piper",n:"Pied Piper Logo",s:"pied-piper Pied Piper Logo"},{id:"fab-pied-piper-alt",n:"Alternate Pied Piper Logo",s:"pied-piper-alt Alternate Pied Piper Logo"},{id:"fab-pied-piper-pp",n:"Pied Piper PP Logo (Old)",s:"pied-piper-pp Pied Piper PP Logo (Old)"},{id:"fas-pills",n:"Pills",s:"pills Pills medicine drugs"},{id:"fab-pinterest",n:"Pinterest",s:"pinterest Pinterest"},{id:"fab-pinterest-p",n:"Pinterest P",s:"pinterest-p Pinterest P"},{id:"fab-pinterest-square",n:"Pinterest Square",s:"pinterest-square Pinterest Square"},{id:"fas-plane",n:"plane",s:"plane plane travel trip location destination airplane fly mode"},{id:"fas-play",n:"play",s:"play play start playing music sound"},{id:"fas-play-circle",n:"Play Circle",s:"play-circle Play Circle start playing"},{id:"far-play-circle",n:"Play Circle",s:"play-circle Play Circle start playing"},{id:"fab-playstation",n:"PlayStation",s:"playstation PlayStation"},{id:"fas-plug",n:"Plug",s:"plug Plug power connect"},{id:"fas-plus",n:"plus",s:"plus plus add new create expand"},{id:"fas-plus-circle",n:"Plus Circle",s:"plus-circle Plus Circle add new create expand"},{id:"fas-plus-square",n:"Plus Square",s:"plus-square Plus Square add new create expand"},{id:"far-plus-square",n:"Plus Square",s:"plus-square Plus Square add new create expand"},{id:"fas-podcast",n:"Podcast",s:"podcast Podcast"},{id:"fas-pound-sign",n:"Pound Sign",s:"pound-sign Pound Sign gbp gbp"},{id:"fas-power-off",n:"Power Off",s:"power-off Power Off on"},{id:"fas-print",n:"print",s:"print print"},{id:"fab-product-hunt",n:"Product Hunt",s:"product-hunt Product Hunt"},{id:"fab-pushed",n:"Pushed",s:"pushed Pushed"},{id:"fas-puzzle-piece",n:"Puzzle Piece",s:"puzzle-piece Puzzle Piece addon add-on section"},{id:"fab-python",n:"Python",s:"python Python"},{id:"fab-qq",n:"QQ",s:"qq QQ"},{id:"fas-qrcode",n:"qrcode",s:"qrcode qrcode scan"},{id:"fas-question",n:"Question",s:"question Question help information unknown support"},{id:"fas-question-circle",n:"Question Circle",s:"question-circle Question Circle help information unknown support"},{id:"far-question-circle",n:"Question Circle",s:"question-circle Question Circle help information unknown support"},{id:"fas-quidditch",n:"Quidditch",s:"quidditch Quidditch"},{id:"fab-quinscape",n:"QuinScape",s:"quinscape QuinScape"},{id:"fab-quora",n:"Quora",s:"quora Quora"},{id:"fas-quote-left",n:"quote-left",s:"quote-left quote-left"},{id:"fas-quote-right",n:"quote-right",s:"quote-right quote-right"},{id:"fas-random",n:"random",s:"random random sort shuffle"},{id:"fab-ravelry",n:"Ravelry",s:"ravelry Ravelry"},{id:"fab-react",n:"React",s:"react React"},{id:"fab-rebel",n:"Rebel Alliance",s:"rebel Rebel Alliance"},{id:"fas-recycle",n:"Recycle",s:"recycle Recycle"},{id:"fab-red-river",n:"red river",s:"red-river red river"},{id:"fab-reddit",n:"reddit Logo",s:"reddit reddit Logo"},{id:"fab-reddit-alien",n:"reddit Alien",s:"reddit-alien reddit Alien"},{id:"fab-reddit-square",n:"reddit Square",s:"reddit-square reddit Square"},{id:"fas-redo",n:"Redo",s:"redo Redo forward repeat repeat"},{id:"fas-redo-alt",n:"Alternate Redo",s:"redo-alt Alternate Redo forward repeat"},{id:"fas-registered",n:"Registered Trademark",s:"registered Registered Trademark"},{id:"far-registered",n:"Registered Trademark",s:"registered Registered Trademark"},{id:"fab-rendact",n:"Rendact",s:"rendact Rendact"},{id:"fab-renren",n:"Renren",s:"renren Renren"},{id:"fas-reply",n:"Reply",s:"reply Reply"},{id:"fas-reply-all",n:"reply-all",s:"reply-all reply-all"},{id:"fab-replyd",n:"replyd",s:"replyd replyd"},{id:"fab-resolving",n:"Resolving",s:"resolving Resolving"},{id:"fas-retweet",n:"Retweet",s:"retweet Retweet refresh reload share swap"},{id:"fas-road",n:"road",s:"road road street"},{id:"fas-rocket",n:"rocket",s:"rocket rocket app"},{id:"fab-rocketchat",n:"Rocket.Chat",s:"rocketchat Rocket.Chat"},{id:"fab-rockrms",n:"Rockrms",s:"rockrms Rockrms"},{id:"fas-rss",n:"rss",s:"rss rss blog"},{id:"fas-rss-square",n:"RSS Square",s:"rss-square RSS Square feed blog"},{id:"fas-ruble-sign",n:"Ruble Sign",s:"ruble-sign Ruble Sign rub rub"},{id:"fas-rupee-sign",n:"Indian Rupee Sign",s:"rupee-sign Indian Rupee Sign indian inr"},{id:"fab-safari",n:"Safari",s:"safari Safari browser"},{id:"fab-sass",n:"Sass",s:"sass Sass"},{id:"fas-save",n:"Save",s:"save Save floppy floppy-o"},{id:"far-save",n:"Save",s:"save Save floppy floppy-o"},{id:"fab-schlix",n:"SCHLIX",s:"schlix SCHLIX"},{id:"fab-scribd",n:"Scribd",s:"scribd Scribd"},{id:"fas-search",n:"Search",s:"search Search magnify zoom enlarge bigger"},{id:"fas-search-minus",n:"Search Minus",s:"search-minus Search Minus magnify minify zoom smaller"},{id:"fas-search-plus",n:"Search Plus",s:"search-plus Search Plus magnify zoom enlarge bigger"},{id:"fab-searchengin",n:"Searchengin",s:"searchengin Searchengin"},{id:"fab-sellcast",n:"Sellcast",s:"sellcast Sellcast eercast"},{id:"fab-sellsy",n:"Sellsy",s:"sellsy Sellsy"},{id:"fas-server",n:"Server",s:"server Server"},{id:"fab-servicestack",n:"Servicestack",s:"servicestack Servicestack"},{id:"fas-share",n:"Share",s:"share Share"},{id:"fas-share-alt",n:"Alternate Share",s:"share-alt Alternate Share"},{id:"fas-share-alt-square",n:"Alternate Share Square",s:"share-alt-square Alternate Share Square"},{id:"fas-share-square",n:"Share Square",s:"share-square Share Square social send"},{id:"far-share-square",n:"Share Square",s:"share-square Share Square social send"},{id:"fas-shekel-sign",n:"Shekel Sign",s:"shekel-sign Shekel Sign ils ils"},{id:"fas-shield-alt",n:"Alternate Shield",s:"shield-alt Alternate Shield shield"},{id:"fas-ship",n:"Ship",s:"ship Ship boat sea"},{id:"fas-shipping-fast",n:"Shipping Fast",s:"shipping-fast Shipping Fast"},{id:"fab-shirtsinbulk",n:"Shirts in Bulk",s:"shirtsinbulk Shirts in Bulk"},{id:"fas-shopping-bag",n:"Shopping Bag",s:"shopping-bag Shopping Bag"},{id:"fas-shopping-basket",n:"Shopping Basket",s:"shopping-basket Shopping Basket"},{id:"fas-shopping-cart",n:"shopping-cart",s:"shopping-cart shopping-cart checkout buy purchase payment"},{id:"fas-shower",n:"Shower",s:"shower Shower"},{id:"fas-sign-in-alt",n:"Alternate Sign In",s:"sign-in-alt Alternate Sign In enter join log in login sign up sign in signin signup arrow sign-in"},{id:"fas-sign-language",n:"Sign Language",s:"sign-language Sign Language"},{id:"fas-sign-out-alt",n:"Alternate Sign Out",s:"sign-out-alt Alternate Sign Out log out logout leave exit arrow sign-out"},{id:"fas-signal",n:"signal",s:"signal signal graph bars status"},{id:"fab-simplybuilt",n:"SimplyBuilt",s:"simplybuilt SimplyBuilt"},{id:"fab-sistrix",n:"SISTRIX",s:"sistrix SISTRIX"},{id:"fas-sitemap",n:"Sitemap",s:"sitemap Sitemap directory hierarchy organization"},{id:"fab-skyatlas",n:"skyatlas",s:"skyatlas skyatlas"},{id:"fab-skype",n:"Skype",s:"skype Skype"},{id:"fab-slack",n:"Slack Logo",s:"slack Slack Logo hashtag anchor hash"},{id:"fab-slack-hash",n:"Slack Hashtag",s:"slack-hash Slack Hashtag hashtag anchor hash"},{id:"fas-sliders-h",n:"Horizontal Sliders",s:"sliders-h Horizontal Sliders settings sliders"},{id:"fab-slideshare",n:"Slideshare",s:"slideshare Slideshare"},{id:"fas-smile",n:"Smile",s:"smile Smile face emoticon happy approve satisfied rating"},{id:"far-smile",n:"Smile",s:"smile Smile face emoticon happy approve satisfied rating"},{id:"fab-snapchat",n:"Snapchat",s:"snapchat Snapchat"},{id:"fab-snapchat-ghost",n:"Snapchat Ghost",s:"snapchat-ghost Snapchat Ghost"},{id:"fab-snapchat-square",n:"Snapchat Square",s:"snapchat-square Snapchat Square"},{id:"fas-snowflake",n:"Snowflake",s:"snowflake Snowflake"},{id:"far-snowflake",n:"Snowflake",s:"snowflake Snowflake"},{id:"fas-sort",n:"Sort",s:"sort Sort order"},{id:"fas-sort-alpha-down",n:"Sort Alpha Down",s:"sort-alpha-down Sort Alpha Down sort-alpha-asc"},{id:"fas-sort-alpha-up",n:"Sort Alpha Up",s:"sort-alpha-up Sort Alpha Up sort-alpha-desc"},{id:"fas-sort-amount-down",n:"Sort Amount Down",s:"sort-amount-down Sort Amount Down sort-amount-asc"},{id:"fas-sort-amount-up",n:"Sort Amount Up",s:"sort-amount-up Sort Amount Up sort-amount-desc"},{id:"fas-sort-down",n:"Sort Down (Descending)",s:"sort-down Sort Down (Descending) arrow descending sort-desc"},{id:"fas-sort-numeric-down",n:"Sort Numeric Down",s:"sort-numeric-down Sort Numeric Down numbers sort-numeric-asc"},{id:"fas-sort-numeric-up",n:"Sort Numeric Up",s:"sort-numeric-up Sort Numeric Up numbers sort-numeric-desc"},{id:"fas-sort-up",n:"Sort Up (Ascending)",s:"sort-up Sort Up (Ascending) arrow ascending sort-asc"},{id:"fab-soundcloud",n:"SoundCloud",s:"soundcloud SoundCloud"},{id:"fas-space-shuttle",n:"Space Shuttle",s:"space-shuttle Space Shuttle"},{id:"fab-speakap",n:"Speakap",s:"speakap Speakap"},{id:"fas-spinner",n:"Spinner",s:"spinner Spinner loading progress"},{id:"fab-spotify",n:"Spotify",s:"spotify Spotify"},{id:"fas-square",n:"Square",s:"square Square block box"},{id:"far-square",n:"Square",s:"square Square block box"},{id:"fas-square-full",n:"Square Full",s:"square-full Square Full"},{id:"fab-stack-exchange",n:"Stack Exchange",s:"stack-exchange Stack Exchange"},{id:"fab-stack-overflow",n:"Stack Overflow",s:"stack-overflow Stack Overflow"},{id:"fas-star",n:"Star",s:"star Star award achievement night rating score favorite"},{id:"far-star",n:"Star",s:"star Star award achievement night rating score favorite"},{id:"fas-star-half",n:"star-half",s:"star-half star-half award achievement rating score star-half-empty star-half-full"},{id:"far-star-half",n:"star-half",s:"star-half star-half award achievement rating score star-half-empty star-half-full"},{id:"fab-staylinked",n:"StayLinked",s:"staylinked StayLinked"},{id:"fab-steam",n:"Steam",s:"steam Steam"},{id:"fab-steam-square",n:"Steam Square",s:"steam-square Steam Square"},{id:"fab-steam-symbol",n:"Steam Symbol",s:"steam-symbol Steam Symbol"},{id:"fas-step-backward",n:"step-backward",s:"step-backward step-backward rewind previous beginning start first"},{id:"fas-step-forward",n:"step-forward",s:"step-forward step-forward next end last"},{id:"fas-stethoscope",n:"Stethoscope",s:"stethoscope Stethoscope"},{id:"fab-sticker-mule",n:"Sticker Mule",s:"sticker-mule Sticker Mule"},{id:"fas-sticky-note",n:"Sticky Note",s:"sticky-note Sticky Note"},{id:"far-sticky-note",n:"Sticky Note",s:"sticky-note Sticky Note"},{id:"fas-stop",n:"stop",s:"stop stop block box square"},{id:"fas-stop-circle",n:"Stop Circle",s:"stop-circle Stop Circle"},{id:"far-stop-circle",n:"Stop Circle",s:"stop-circle Stop Circle"},{id:"fas-stopwatch",n:"Stopwatch",s:"stopwatch Stopwatch time"},{id:"fab-strava",n:"Strava",s:"strava Strava"},{id:"fas-street-view",n:"Street View",s:"street-view Street View map"},{id:"fas-strikethrough",n:"Strikethrough",s:"strikethrough Strikethrough"},{id:"fab-stripe",n:"Stripe",s:"stripe Stripe"},{id:"fab-stripe-s",n:"Stripe S",s:"stripe-s Stripe S"},{id:"fab-studiovinari",n:"Studio Vinari",s:"studiovinari Studio Vinari"},{id:"fab-stumbleupon",n:"StumbleUpon Logo",s:"stumbleupon StumbleUpon Logo"},{id:"fab-stumbleupon-circle",n:"StumbleUpon Circle",s:"stumbleupon-circle StumbleUpon Circle"},{id:"fas-subscript",n:"subscript",s:"subscript subscript"},{id:"fas-subway",n:"Subway",s:"subway Subway"},{id:"fas-suitcase",n:"Suitcase",s:"suitcase Suitcase trip luggage travel move baggage"},{id:"fas-sun",n:"Sun",s:"sun Sun weather contrast lighter brighten day"},{id:"far-sun",n:"Sun",s:"sun Sun weather contrast lighter brighten day"},{id:"fab-superpowers",n:"Superpowers",s:"superpowers Superpowers"},{id:"fas-superscript",n:"superscript",s:"superscript superscript exponential"},{id:"fab-supple",n:"Supple",s:"supple Supple"},{id:"fas-sync",n:"Sync",s:"sync Sync reload refresh refresh"},{id:"fas-sync-alt",n:"Alternate Sync",s:"sync-alt Alternate Sync reload refresh"},{id:"fas-syringe",n:"Syringe",s:"syringe Syringe immunizations needle"},{id:"fas-table",n:"table",s:"table table data excel spreadsheet"},{id:"fas-table-tennis",n:"Table Tennis",s:"table-tennis Table Tennis"},{id:"fas-tablet",n:"tablet",s:"tablet tablet ipad device"},{id:"fas-tablet-alt",n:"Alternate Tablet",s:"tablet-alt Alternate Tablet tablet"},{id:"fas-tachometer-alt",n:"Alternate Tachometer",s:"tachometer-alt Alternate Tachometer tachometer dashboard"},{id:"fas-tag",n:"tag",s:"tag tag label"},{id:"fas-tags",n:"tags",s:"tags tags labels"},{id:"fas-tasks",n:"Tasks",s:"tasks Tasks progress loading downloading downloads settings"},{id:"fas-taxi",n:"Taxi",s:"taxi Taxi vehicle"},{id:"fab-telegram",n:"Telegram",s:"telegram Telegram"},{id:"fab-telegram-plane",n:"Telegram Plane",s:"telegram-plane Telegram Plane"},{id:"fab-tencent-weibo",n:"Tencent Weibo",s:"tencent-weibo Tencent Weibo"},{id:"fas-terminal",n:"Terminal",s:"terminal Terminal command prompt code"},{id:"fas-text-height",n:"text-height",s:"text-height text-height"},{id:"fas-text-width",n:"text-width",s:"text-width text-width"},{id:"fas-th",n:"th",s:"th th blocks squares boxes grid"},{id:"fas-th-large",n:"th-large",s:"th-large th-large blocks squares boxes grid"},{id:"fas-th-list",n:"th-list",s:"th-list th-list ul ol checklist finished completed done todo"},{id:"fab-themeisle",n:"ThemeIsle",s:"themeisle ThemeIsle"},{id:"fas-thermometer",n:"Thermometer",s:"thermometer Thermometer temperature fever"},{id:"fas-thermometer-empty",n:"Thermometer Empty",s:"thermometer-empty Thermometer Empty status"},{id:"fas-thermometer-full",n:"Thermometer Full",s:"thermometer-full Thermometer Full status"},{id:"fas-thermometer-half",n:"Thermometer 1/2 Full",s:"thermometer-half Thermometer 1/2 Full status"},{id:"fas-thermometer-quarter",n:"Thermometer 1/4 Full",s:"thermometer-quarter Thermometer 1/4 Full status"},{id:"fas-thermometer-three-quarters",n:"Thermometer 3/4 Full",s:"thermometer-three-quarters Thermometer 3/4 Full status"},{id:"fas-thumbs-down",n:"thumbs-down",s:"thumbs-down thumbs-down dislike disapprove disagree hand thumbs-o-down"},{id:"far-thumbs-down",n:"thumbs-down",s:"thumbs-down thumbs-down dislike disapprove disagree hand thumbs-o-down"},{id:"fas-thumbs-up",n:"thumbs-up",s:"thumbs-up thumbs-up like favorite approve agree hand thumbs-o-up"},{id:"far-thumbs-up",n:"thumbs-up",s:"thumbs-up thumbs-up like favorite approve agree hand thumbs-o-up"},{id:"fas-thumbtack",n:"Thumbtack",s:"thumbtack Thumbtack marker pin location coordinates thumb-tack"},{id:"fas-ticket-alt",n:"Alternate Ticket",s:"ticket-alt Alternate Ticket ticket"},{id:"fas-times",n:"Times",s:"times Times close exit x cross"},{id:"fas-times-circle",n:"Times Circle",s:"times-circle Times Circle close exit x"},{id:"far-times-circle",n:"Times Circle",s:"times-circle Times Circle close exit x"},{id:"fas-tint",n:"tint",s:"tint tint raindrop waterdrop drop droplet"},{id:"fas-toggle-off",n:"Toggle Off",s:"toggle-off Toggle Off switch"},{id:"fas-toggle-on",n:"Toggle On",s:"toggle-on Toggle On switch"},{id:"fas-trademark",n:"Trademark",s:"trademark Trademark"},{id:"fas-train",n:"Train",s:"train Train"},{id:"fas-transgender",n:"Transgender",s:"transgender Transgender intersex"},{id:"fas-transgender-alt",n:"Alternate Transgender",s:"transgender-alt Alternate Transgender"},{id:"fas-trash",n:"Trash",s:"trash Trash garbage delete remove hide"},{id:"fas-trash-alt",n:"Alternate Trash",s:"trash-alt Alternate Trash garbage delete remove hide trash trash-o"},{id:"far-trash-alt",n:"Alternate Trash",s:"trash-alt Alternate Trash garbage delete remove hide trash trash-o"},{id:"fas-tree",n:"Tree",s:"tree Tree"},{id:"fab-trello",n:"Trello",s:"trello Trello"},{id:"fab-tripadvisor",n:"TripAdvisor",s:"tripadvisor TripAdvisor"},{id:"fas-trophy",n:"trophy",s:"trophy trophy award achievement cup winner game"},{id:"fas-truck",n:"truck",s:"truck truck shipping"},{id:"fas-tty",n:"TTY",s:"tty TTY"},{id:"fab-tumblr",n:"Tumblr",s:"tumblr Tumblr"},{id:"fab-tumblr-square",n:"Tumblr Square",s:"tumblr-square Tumblr Square"},{id:"fas-tv",n:"Television",s:"tv Television display computer monitor television"},{id:"fab-twitch",n:"Twitch",s:"twitch Twitch"},{id:"fab-twitter",n:"Twitter",s:"twitter Twitter tweet social network"},{id:"fab-twitter-square",n:"Twitter Square",s:"twitter-square Twitter Square tweet social network"},{id:"fab-typo3",n:"Typo3",s:"typo3 Typo3"},{id:"fab-uber",n:"Uber",s:"uber Uber"},{id:"fab-uikit",n:"UIkit",s:"uikit UIkit"},{id:"fas-umbrella",n:"Umbrella",s:"umbrella Umbrella"},{id:"fas-underline",n:"Underline",s:"underline Underline"},{id:"fas-undo",n:"Undo",s:"undo Undo back"},{id:"fas-undo-alt",n:"Alternate Undo",s:"undo-alt Alternate Undo back"},{id:"fab-uniregistry",n:"Uniregistry",s:"uniregistry Uniregistry"},{id:"fas-universal-access",n:"Universal Access",s:"universal-access Universal Access"},{id:"fas-university",n:"University",s:"university University bank institution"},{id:"fas-unlink",n:"unlink",s:"unlink unlink remove chain chain-broken"},{id:"fas-unlock",n:"unlock",s:"unlock unlock protect admin password lock"},{id:"fas-unlock-alt",n:"Alternate Unlock",s:"unlock-alt Alternate Unlock protect admin password lock"},{id:"fab-untappd",n:"Untappd",s:"untappd Untappd"},{id:"fas-upload",n:"Upload",s:"upload Upload import"},{id:"fab-usb",n:"USB",s:"usb USB"},{id:"fas-user",n:"User",s:"user User person man head profile account"},{id:"far-user",n:"User",s:"user User person man head profile account"},{id:"fas-user-circle",n:"User Circle",s:"user-circle User Circle person man head profile account"},{id:"far-user-circle",n:"User Circle",s:"user-circle User Circle person man head profile account"},{id:"fas-user-md",n:"user-md",s:"user-md user-md doctor profile medical nurse job occupation"},{id:"fas-user-plus",n:"Add User",s:"user-plus Add User sign up signup"},{id:"fas-user-secret",n:"User Secret",s:"user-secret User Secret whisper spy incognito privacy"},{id:"fas-user-times",n:"Remove User",s:"user-times Remove User"},{id:"fas-users",n:"Users",s:"users Users people profiles persons"},{id:"fab-ussunnah",n:"us-Sunnah Foundation",s:"ussunnah us-Sunnah Foundation"},{id:"fas-utensil-spoon",n:"Utensil Spoon",s:"utensil-spoon Utensil Spoon spoon"},{id:"fas-utensils",n:"Utensils",s:"utensils Utensils food restaurant spoon knife dinner eat cutlery"},{id:"fab-vaadin",n:"Vaadin",s:"vaadin Vaadin"},{id:"fas-venus",n:"Venus",s:"venus Venus female"},{id:"fas-venus-double",n:"Venus Double",s:"venus-double Venus Double"},{id:"fas-venus-mars",n:"Venus Mars",s:"venus-mars Venus Mars"},{id:"fab-viacoin",n:"Viacoin",s:"viacoin Viacoin"},{id:"fab-viadeo",n:"Viadeo",s:"viadeo Viadeo"},{id:"fab-viadeo-square",n:"Viadeo Square",s:"viadeo-square Viadeo Square"},{id:"fab-viber",n:"Viber",s:"viber Viber"},{id:"fas-video",n:"Video",s:"video Video film movie record camera video-camera"},{id:"fab-vimeo",n:"Vimeo",s:"vimeo Vimeo"},{id:"fab-vimeo-square",n:"Vimeo Square",s:"vimeo-square Vimeo Square"},{id:"fab-vimeo-v",n:"Vimeo",s:"vimeo-v Vimeo vimeo"},{id:"fab-vine",n:"Vine",s:"vine Vine"},{id:"fab-vk",n:"VK",s:"vk VK"},{id:"fab-vnv",n:"VNV",s:"vnv VNV"},{id:"fas-volleyball-ball",n:"Volleyball Ball",s:"volleyball-ball Volleyball Ball"},{id:"fas-volume-down",n:"volume-down",s:"volume-down volume-down audio lower quieter sound music"},{id:"fas-volume-off",n:"volume-off",s:"volume-off volume-off audio mute sound music"},{id:"fas-volume-up",n:"volume-up",s:"volume-up volume-up audio higher louder sound music"},{id:"fab-vuejs",n:"Vue.js",s:"vuejs Vue.js"},{id:"fas-warehouse",n:"Warehouse",s:"warehouse Warehouse"},{id:"fab-weibo",n:"Weibo",s:"weibo Weibo"},{id:"fas-weight",n:"Weight",s:"weight Weight scale"},{id:"fab-weixin",n:"Weixin (WeChat)",s:"weixin Weixin (WeChat)"},{id:"fab-whatsapp",n:"What's App",s:"whatsapp What's App"},{id:"fab-whatsapp-square",n:"What's App Square",s:"whatsapp-square What's App Square"},{id:"fas-wheelchair",n:"Wheelchair",s:"wheelchair Wheelchair handicap person"},{id:"fab-whmcs",n:"WHMCS",s:"whmcs WHMCS"},{id:"fas-wifi",n:"WiFi",s:"wifi WiFi"},{id:"fab-wikipedia-w",n:"Wikipedia W",s:"wikipedia-w Wikipedia W"},{id:"fas-window-close",n:"Window Close",s:"window-close Window Close"},{id:"far-window-close",n:"Window Close",s:"window-close Window Close"},{id:"fas-window-maximize",n:"Window Maximize",s:"window-maximize Window Maximize"},{id:"far-window-maximize",n:"Window Maximize",s:"window-maximize Window Maximize"},{id:"fas-window-minimize",n:"Window Minimize",s:"window-minimize Window Minimize"},{id:"far-window-minimize",n:"Window Minimize",s:"window-minimize Window Minimize"},{id:"fas-window-restore",n:"Window Restore",s:"window-restore Window Restore"},{id:"far-window-restore",n:"Window Restore",s:"window-restore Window Restore"},{id:"fab-windows",n:"Windows",s:"windows Windows microsoft"},{id:"fas-won-sign",n:"Won Sign",s:"won-sign Won Sign krw krw"},{id:"fab-wordpress",n:"WordPress Logo",s:"wordpress WordPress Logo"},{id:"fab-wordpress-simple",n:"Wordpress Simple",s:"wordpress-simple Wordpress Simple"},{id:"fab-wpbeginner",n:"WPBeginner",s:"wpbeginner WPBeginner"},{id:"fab-wpexplorer",n:"WPExplorer",s:"wpexplorer WPExplorer"},{id:"fab-wpforms",n:"WPForms",s:"wpforms WPForms"},{id:"fas-wrench",n:"Wrench",s:"wrench Wrench settings fix update spanner tool"},{id:"fab-xbox",n:"Xbox",s:"xbox Xbox"},{id:"fab-xing",n:"Xing",s:"xing Xing"},{id:"fab-xing-square",n:"Xing Square",s:"xing-square Xing Square"},{id:"fab-y-combinator",n:"Y Combinator",s:"y-combinator Y Combinator"},{id:"fab-yahoo",n:"Yahoo Logo",s:"yahoo Yahoo Logo"},{id:"fab-yandex",n:"Yandex",s:"yandex Yandex"},{id:"fab-yandex-international",n:"Yandex International",s:"yandex-international Yandex International"},{id:"fab-yelp",n:"Yelp",s:"yelp Yelp"},{id:"fas-yen-sign",n:"Yen Sign",s:"yen-sign Yen Sign jpy jpy"},{id:"fab-yoast",n:"Yoast",s:"yoast Yoast"},{id:"fab-youtube",n:"YouTube",s:"youtube YouTube video film youtube-play youtube-square"},{id:"fab-youtube-square",n:"YouTube Square",s:"youtube-square YouTube Square"}]},90:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.relationNameRegexp=t.fieldNameRegexp=t.modelNameRegexp=t.defaultFolderIcon=t.defaultViewIcon=void 0;var n,r=a(497),o=(n=r)&&n.__esModule?n:{default:n};t.defaultViewIcon="fas-table",t.defaultFolderIcon="far-folder",t.modelNameRegexp=new o.default("^\\p{Lu}[\\p{L}\\p{N}_]*$"),t.fieldNameRegexp=new o.default("^\\p{Ll}[\\p{L}\\p{N}_]*$"),t.relationNameRegexp=new o.default("^\\p{Ll}[\\p{L}\\p{N}_]*$")},946:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n){var r=Object.assign({},t),o={};(0,c.each)(a,function(e){var t=e.data_model_id;o[t]=o[t]||{},o[t][e.id]=e});var i=[],l=function(t,a){var r=[],i=o[t.id]||{},l=function(e){var t={type:"view",search:!0,key:"view-"+e.id,viewId:e.id,name:e.name,icon:e.icon||p.defaultViewIcon};a||(t.hoverButton="far-copy"),r.push(t)};(0,c.each)(e&&e.views&&e.views[t.id],function(e){var t=i[e];t&&(delete i[e],l(t))}),(0,c.each)(i,function(e){l(e)});var s={type:"model",modelId:t.id,key:"model-"+t.id,name:n(h.editModel),icon:"far-file",noEdit:!0};return a||(s.hoverButton="far-copy"),{type:"modelFolder",search:!0,key:"modelFolder-"+t.id,modelId:t.id,name:t.name,icon:"fas-wrench",children:[s,{type:"modelViewsFolder",name:n(h.views),icon:"fas-wrench",noEdit:!0,children:[{type:"create",key:"createView",modelId:t.id,name:n(h.createView),icon:"far-plus-square",noEdit:!0},{type:"create",key:"createPivotView",modelId:t.id,name:n(h.createPivotView),icon:"far-plus-square",noEdit:!0},{type:"create",key:"createFormView",modelId:t.id,name:n(h.createFormView),icon:"far-plus-square",noEdit:!0}].concat(r)}]}},s=function(e){i.push(l(e))},u=void 0;return(0,c.each)(e&&e.models,function(e){var t=r[e];t&&!t.specialModel&&(delete r[e],s(t))}),(0,c.each)(r,function(e){e.specialModel?"USER_MODEL"==e.specialModel&&function(e){(u=l(e,!0)).name=n(h.userModelName),u.icon="fas-users",u.children[0].name=n(h.userModelEditModel),u.noEdit=!0}(e):s(e)}),i=[{type:"create",key:"createModel",name:n(h.createModel),icon:"far-plus-square",noEdit:!0},{type:"create",key:"createVirtualModel",name:n(h.createVirtualModel),icon:"far-plus-square",noEdit:!0},{type:"create",key:"createExternalSourceModel",name:n(h.createExternalSource),icon:"far-plus-square",noEdit:!0},{key:"create-divider",divider:!0,noEdit:!0},u,{key:"user-model-divider",divider:!0,noEdit:!0}].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(i))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),l=n(i),s=(n(a(1)),a(8),n(a(3)),a(18)),u=a(6),d=n(a(468)),c=a(5),f=a(22),p=a(90),m=(n(a(19)),a(65)),h=(0,u.defineMessages)({createModel:{id:"ModelsSidebar.createModel",defaultMessage:"Create model"},createVirtualModel:{id:"ModelsSidebar.createVirtualModel",defaultMessage:"Create virtual model"},createExternalSource:{id:"ModelsSidebar.createExternalSource",defaultMessage:"Create external source"},editModel:{id:"ModelsSidebar.editModel",defaultMessage:"Edit model"},views:{id:"ModelsSidebar.views",defaultMessage:"Views"},createView:{id:"ModelsSidebar.createView",defaultMessage:"Create (Table)"},createPivotView:{id:"ModelsSidebar.createPivotView",defaultMessage:"Create (Pivot table)"},createFormView:{id:"ModelsSidebar.createFormView",defaultMessage:"Create (Form)"},userModelName:{id:"ModelsSidebar.userModel.name",defaultMessage:"Users Model"},userModelEditModel:{id:"ModelsSidebar.userModel.editModel",defaultMessage:"Edit users model"}}),g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.saveItems=a.saveItems.bind(a),a.onItemClick=a.onItemClick.bind(a),a.onItemHoverButtonClick=a.onItemHoverButtonClick.bind(a),a.isItemActive=a.isItemActive.bind(a),a.isItemOpen=a.isItemOpen.bind(a),a.shouldSortItems=a.shouldSortItems.bind(a);var n=a.initFoldersAndModels(e);return a.state={saving:!1,error:null,foldersAndModels:(0,c.clone)(n),originalFoldersAndModels:n},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"initFoldersAndModels",value:function(e){var t=e.ordering,a=e.models,n=e.views,o=e.intl.formatMessage;return a&&n?r(t,a,n,o):[]}},{key:"componentWillReceiveProps",value:function(e){if(e.ordering!==this.props.ordering||e.models!==this.props.models||e.views!==this.props.views){var t=this.initFoldersAndModels(e);this.setState({foldersAndModels:(0,c.clone)(t),originalFoldersAndModels:t})}}},{key:"saveItems",value:function(e){var t=this,a=[],n={};e.forEach(function(e){if("modelFolder"===e.type){var t=e.modelId;a.push(t);var r=[];n[t]=r,(0,c.find)(e.children,function(e){return"modelViewsFolder"===e.type}).children.forEach(function(e){if("view"===e.type){var t=e.viewId;r.push(t)}})}}),this.setState({saving:!0,foldersAndModels:e});var r={models:a,views:n};this.props.updateSettingsModelOrder(r).then(function(e){e.type===f.SERVER_UPDATE_SETTINGS_SUCCESS?setTimeout(function(){t.setState({saving:!1})},1e3):e.type===f.SERVER_UPDATE_SETTINGS_FAILURE&&(t.setState({error:!0}),setTimeout(function(){t.setState({saving:!1,error:!1,foldersAndModels:(0,c.clone)(t.state.originalFoldersAndModels)})},1e3))})}},{key:"createModel",value:function(e){this.props.openNewModel({},e)}},{key:"createVirtualModel",value:function(e){this.props.openNewModel({virtual:!0},e)}},{key:"createExternalSourceModel",value:function(e){this.props.openNewModel({externalSource:!0},e)}},{key:"createView",value:function(e,t){var a=t.modelId;this.props.openNewView({modelId:a},e)}},{key:"createPivotView",value:function(e,t){var a=t.modelId;this.props.openNewView({modelId:a,type:"PIVOT_TABLE"},e)}},{key:"createFormView",value:function(e,t){var a=t.modelId;this.props.openNewView({modelId:a,type:"FORM"},e)}},{key:"onItemClick",value:function(e,t){"view"===e.type&&this.props.openEditView(e.viewId,t),"model"==e.type&&this.props.openEditModel(e.modelId,t),"create"===e.type&&this[e.key](t,e)}},{key:"onItemHoverButtonClick",value:function(e,t){"view"===e.type&&this.props.openCloneView(e.viewId,t),"model"==e.type&&this.props.openCloneModel(e.modelId,t)}},{key:"isItemActive",value:function(e){return"view"===e.type?this.props.selectedTabViewId===e.viewId:"model"===e.type?this.props.selectedTabModelId===e.modelId:void 0}},{key:"isItemOpen",value:function(e){if("modelViewsFolder"===e.type)return!0;if("modelFolder"===e.type){var t=this.props,a=t.selectedTabModelId,n=t.selectedTabViewId,r=t.views;return e.modelId===a||n&&r[n]&&r[n].data_model_id===e.modelId}return!1}},{key:"shouldSortItems",value:function(e,t){return!t||"modelViewsFolder"===t.type}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl,n=t.selectedTabViewId,r=t.selectedTabModelId,o=(a.formatMessage,this.state),i=o.foldersAndModels,s=o.saving,u=o.error,c=i||[],f=void 0;return n?f="view-"+n:r&&(f="model-"+r),l.default.createElement(d.default,{ref:function(t){e.internalSidebar=t},items:c,saveChanges:this.saveItems,saving:s,savingError:u,search:!0,onItemClick:this.onItemClick,onItemHoverButtonClick:this.onItemHoverButtonClick,isItemActive:this.isItemActive,isItemOpen:this.isItemOpen,shouldSortItems:this.shouldSortItems,scrollToElementKey:f})}}]),t}(),b={updateSettingsModelOrder:f.updateSettingsModelOrder,openEditModel:f.openEditModel,openCloneModel:f.openCloneModel,openNewModel:f.openNewModel,openEditView:f.openEditView,openCloneView:f.openCloneView,openNewView:f.openNewView};t.default=(0,s.connect)(function(e,t){var a=e.server.settings&&e.server.settings.modelOrder,n=e.context.models,r=e.context.views,o=(0,m.getSelectedTabFromState)(e);return{ordering:a,models:n,views:r,selectedTabViewId:o&&"EDIT_VIEW"===o.type&&o.options.viewId,selectedTabModelId:o&&"EDIT_MODEL"===o.type&&o.options.modelId}},b)((0,u.injectIntl)(g)),e.exports=t.default},98:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,a=!1;return"number"!=typeof e&&(e=h,a=!0),0===(e=Math.min(e,50))?t="":(t=m.substring(0,e),t=a?".["+t+"]":"."+t),"0,0"+t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.numberFormat=r;var u=a(0),d=n(u),c=n(a(1)),f=n(a(49)),p=n(a(3)),m="00000000000000000000000000000000000000000000000000",h=10,g=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.onChange=a.onChange.bind(a),a.onFocus=a.onFocus.bind(a),a.onBlur=a.onBlur.bind(a);var n=a.generateFormat(e);return a.state={focused:!1,format:n,value:a.toFormattedString(e.value,n,e.storeNumberAsString)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"generateFormat",value:function(e){return r(e.decimalDigits)}},{key:"editingValueFormat",value:function(){return this.state.format.substring(2)}},{key:"toFormattedString",value:function(e,t,a){if(a){if(!e)return"";try{e=parseFloat(e)}catch(t){e=null}}return"number"!=typeof e?"":(0,f.default)(e).format(t)}},{key:"toNumberValue",value:function(e,t){return(0,f.default)(e).value()}},{key:"toInitialEditingString",value:function(e){if("number"!=typeof e)e="";else{var t=this.editingValueFormat();e=(0,f.default)(e).format(t)}return e}},{key:"constrainedValue",value:function(e){var t=this.props,a=t.min,n=t.max;return"number"!=typeof e?null:"number"==typeof a&&e<a?a:"number"==typeof n&&e>n?n:e}},{key:"toReturnValue",value:function(e){if("number"!=typeof e)return null;if(this.props.storeNumberAsString){var t=this.props.decimalDigits;return"number"!=typeof t&&(t=h),e.toFixed(t)}return e}},{key:"componentWillReceiveProps",value:function(e){if(!this.state.focused&&"value"in e){var t=this.generateFormat(e);this.setState({format:t,value:this.toFormattedString(e.value,t,e.storeNumberAsString)})}}},{key:"onBlur",value:function(e){var t=this.props,a=t.storeNumberAsString,n=t.onBlur,r=t.value,o=this.state.format,i=this.toFormattedString(r,o,a);this.setState({focused:!1,value:i}),n&&n(e)}},{key:"onFocus",value:function(e){var t=this.props.onFocus,a=this.state,n=a.format,r=a.value,o=this.toNumberValue(r,n);this.setState({focused:!0,value:this.toInitialEditingString(o)}),t&&t(e)}},{key:"onChange",value:function(e){var t=e.target.value,a=this.props.onChange;if(this.setState({value:t}),a){var n=this.state.format,r=this.toNumberValue(t,n),o=this.constrainedValue(r);a(this.toReturnValue(o),e)}}},{key:"render",value:function(){var e=this.props,t=e.className,a=(e.value,e.storeNumberAsString,e.onChange,e.onFocus,e.onBlur,e.decimalDigits,e.min,e.max,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["className","value","storeNumberAsString","onChange","onFocus","onBlur","decimalDigits","min","max"])),n=this.state,r=(n.focused,n.value),o=(n.format,r||"");return d.default.createElement("input",l({className:(0,p.default)("form-control",t),value:o,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur},a))}}]),t}(),o.propTypes={value:c.default.oneOfType([c.default.number,c.default.string]),storeNumberAsString:c.default.bool,placeholder:c.default.string,decimalDigits:c.default.number,min:c.default.number,max:c.default.number,onChange:c.default.func,onFocus:c.default.func,onBlur:c.default.func},i);t.default=g},99:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t,a){return"vertical"===a?p.default.createElement(b.FormGroup,null,p.default.createElement(b.Label,null,t||null),e):p.default.createElement(b.FormGroup,null,p.default.createElement(b.Label,{style:{marginTop:0,marginBottom:2}},t||null),p.default.createElement("div",null,e))}function i(e,t){if(!e)return null;var a=x.datetimeFormats[t],n=(0,C.default)(e,a);return n.isValid()?n.toDate():null}function l(e,t){if(!e)return null;var a=x.datetimeFormats[t];return(0,C.default)(e).format(a)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.inputForm=o,t.datetimeParse=i,t.datetimeFormat=l;var f=a(0),p=n(f),m=n(a(1)),h=n(a(3)),g=a(6),b=a(8),v=n(a(98)),y=n(a(258)),E=n(a(45)),w=n(a(537)),C=n(a(2)),k=a(171),S=n(a(230)),_=a(5),x=a(74),T=(u=s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a.renderOption=a.renderOption.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),c(t,[{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"renderOption",value:function(e){var t=e.focusedOption,a=e.focusOption,n=e.key,r=e.labelKey,o=e.option,i=e.selectValue,l=e.style,s=e.valueArray,u=["VirtualizedSelectOption"];o===t&&u.push("VirtualizedSelectFocusedOption"),o.disabled&&u.push("VirtualizedSelectDisabledOption"),s&&s.indexOf(o)>=0&&u.push("VirtualizedSelectSelectedOption"),o.className&&u.push(o.className);var c=o.disabled?{}:{onClick:function(){return i(o)},onMouseEnter:function(){return a(o)}},f=o[r],m=this._inputValue?this._inputValue.match(k.wordsRegexp):[],h=void 0;return h=m&&m.length?p.default.createElement(S.default,{searchWords:m,textToHighlight:f,autoEscape:!0,highlightClassName:"data-validation-options-highlight"}):f,p.default.createElement("div",d({className:u.join(" "),key:n,style:l,title:o.title},c),h)}},{key:"renderDataValidationInputIfNeeded",value:function(){var e,t=this,a=this.props,n=a.field,o=a.value,i=a.placeholder,l=a.className,s=a.disabled,u=n.dataValidation||[];if((u=u.filter(function(e){return n.dataValidationSourceModelId&&n.dataValidationSourceFieldId})).length>0){var d=this.context,c=(d.dataValidationError,d.dataValidationLoading),f=d.getOptionsForField,m=f&&f(n)||[];return p.default.createElement(w.default,(r(e={selectComponent:E.default.Creatable,placeholder:i,className:l,value:o||null,disabled:s,onInputChange:function(e){return t._inputValue=e},onBlurResetsInput:!1,onSelectResetsInput:!1,options:m,clearable:!0,simpleValue:!0,searchable:!0,onChange:function(e){return t.onChange(e)}},"disabled",s),r(e,"isLoading",c),r(e,"optionRenderer",this.renderOption),r(e,"onOpen",this.props.onOpen),e))}}},{key:"renderInput",value:function(){var e=this,t=this.props,a=t.context,n=t.selectedModelId,r=t.value,o=t.placeholder,s=t.className,u=t.disabled,d=this.props.field;if(!d)return p.default.createElement(g.FormattedMessage,{id:"DataTypeInput.fieldNotGiven",defaultMessage:"Error generating attribute's input element"});if(n&&!Array.isArray(n)&&n!==d.data_model_id){var c=a.models[d.data_model_id],f=(0,_.findIndex)(c.mappedModels,function(e){return e==n});if(-1!==f){var m=d.mappedFields&&d.mappedFields[f],w=a.fields[m];w&&(d=w)}}var C=d.type1,k=void 0;if("ENUM"===C)if(n&&Array.isArray(n)){var S=a.models[d.data_model_id];n.forEach(function(e){var t=(0,_.findIndex)(S.mappedModels,function(t){return t==e});if(-1!==t){var n=d.mappedFields&&d.mappedFields[t],r=a.fields[n];r&&r.enumList&&(k=k?r.enumList:(0,_.intersection)(k,r.enumList))}}),k=k||[]}else k=d.enumList||[];switch(C){case"TEXT":return this.renderDataValidationInputIfNeeded()||p.default.createElement(b.Input,{type:"text",placeholder:o,className:s,value:r||"",onChange:function(t){return e.onChange(t.target.value)},disabled:u});case"INTEGER":case"DOUBLE":case"DECIMAL":var x=void 0;return"INTEGER"===C?x=0:"DECIMAL"===C&&(x=d.decimalDigits||0),p.default.createElement(v.default,{placeholder:o,className:s,value:r,decimalDigits:x,storeNumberAsString:"DECIMAL"===C,onChange:function(t){return e.onChange(t)},disabled:u});case"BOOLEAN":return p.default.createElement("span",null,p.default.createElement(b.Input,{type:"checkbox",style:{marginLeft:0},className:s,checked:r||!1,onChange:function(t){return e.onChange(t.target.checked)},disabled:u})," ");case"DATE":case"DATETIME":case"TIME":return p.default.createElement(y.default,{className:s,date:"DATE"===C||"DATETIME"===C,time:"TIME"===C||"DATETIME"===C,value:i(r,C),disabled:u,onChange:function(t){return e.onChange(l(t,C))},onPickerShow:this.props.onPickerShow});case"ENUM":return p.default.createElement(b.Input,{type:"select",className:s,placeholder:o,value:r||"",onChange:function(t){return e.onChange(t.target.value)},disabled:u},p.default.createElement("option",{key:-1,value:""}),k.map(function(e,t){return p.default.createElement("option",{key:t,value:e},e)}));case"TEXT_ARRAY":return p.default.createElement(E.default.Creatable,{className:(0,h.default)("react-select-hide-options",s),multi:!0,placeholder:o,searchable:!0,onChange:function(t){return e.onChange(t&&t.map(function(e){return e.value}))},value:(r||[]).map(function(e){return{value:e,label:e}}),disabled:u})}return p.default.createElement(g.FormattedMessage,{id:"DataTypeInput.unknownFieldType",defaultMessage:"Error generating attribute's input element: unknown field type: {fieldType}",values:{fieldType:C}})}},{key:"render",value:function(){var e=this.props,t=e.inForm,a=e.formLabel,n=e.formLayout,r=this.renderInput();return t?o(r,a,n):r}}]),t}(),s.propTypes={field:m.default.object.isRequired,context:m.default.object.isRequired,selectedModelId:m.default.oneOfType([m.default.number,m.default.array]),value:m.default.any,onChange:m.default.func.isRequired,className:m.default.string,placeholder:m.default.string,disabled:m.default.bool,inForm:m.default.bool,formLayout:m.default.string,formLabel:m.default.string},s.contextTypes={dataValidationLoading:m.default.bool,dataValidationError:m.default.bool,getOptionsForField:m.default.func},u);t.default=T}},[655]);
//# sourceMappingURL=app_4cf88f6fec8e944c2fc3.js.map
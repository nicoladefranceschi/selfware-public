webpackJsonp([1],{102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=t.CALL_API="CALL_API";t.default=function(e){return function(t){return function(n){var o=n[r];if(void 0===o)return t(n);var i=o.endpoint,l=o.method,s=o.body,u=o.types;if("function"==typeof i&&(i=i(e.getState())),l=l||"GET","string"!=typeof i)throw new Error("Specify a string endpoint URL.");if(!Array.isArray(u)||3!==u.length)throw new Error("Expected an array of three action types.");if(!u.every(function(e){return"string"==typeof e}))throw new Error("Expected action types to be strings.");var d=function(e){var t=Object.assign({},n,e);return delete t[r],t},c=a(u,3),f=c[0],p=c[1],m=c[2];return t(d({type:f})),function(e,t,n,a){n&&(n=JSON.stringify(n));var r={Accept:"application/json","Content-Type":"application/json"};return a&&!a.admin&&a._originalAdmin&&(r["x-ignore-admin"]="true"),fetch(e,{method:t,body:n,headers:r,credentials:"same-origin"}).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})}(i,l,s,e.getState().auth.user).then(function(e){return t(d({type:p,response:e}))},function(e){return t(d({type:m,response:e instanceof Error&&"Failed to fetch"===e.message?{message:"Connection error. Try again later."}:e}))})}}}},1030:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),i=a(o),l=(a(n(0)),n(13),a(n(6)),n(26)),s=n(10),u=a(n(446)),d=n(8),c=n(27),f=n(86),p=(0,s.defineMessages)({createModel:{id:"ModelsSidebar.createModel",defaultMessage:"Create model"},createVirtualModel:{id:"ModelsSidebar.createVirtualModel",defaultMessage:"Create virtual model"},createExternalSource:{id:"ModelsSidebar.createExternalSource",defaultMessage:"Create external source"},editModel:{id:"ModelsSidebar.editModel",defaultMessage:"Edit model"},views:{id:"ModelsSidebar.views",defaultMessage:"Views"},createView:{id:"ModelsSidebar.createView",defaultMessage:"Create view"}}),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveItems=n.saveItems.bind(n),n.onItemClick=n.onItemClick.bind(n),n.isItemActive=n.isItemActive.bind(n),n.isItemOpen=n.isItemOpen.bind(n),n.shouldSortItems=n.shouldSortItems.bind(n),n.state={saving:!1,error:null,foldersAndModels:(0,d.clone)(e.foldersAndModels)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.foldersAndModels===this.props.foldersAndModels&&e.selectedTabModelId===this.props.selectedTabModelId&&e.selectedTabViewId===this.props.selectedTabViewId||this.setState({foldersAndModels:(0,d.clone)(e.foldersAndModels)})}},{key:"saveItems",value:function(e){var t=this,n=[],a={};e.forEach(function(e){if("modelFolder"===e.type){var t=e.modelId;n.push(t);var r=[];a[t]=r,(0,d.find)(e.children,function(e){return"modelViewsFolder"===e.type}).children.forEach(function(e){if("view"===e.type){var t=e.viewId;r.push(t)}})}}),this.setState({saving:!0,foldersAndModels:e});var r={models:n,views:a};this.props.updateSettingsModelOrder(r).then(function(e){e.type===c.SERVER_UPDATE_SETTINGS_SUCCESS?setTimeout(function(){t.setState({saving:!1})},1e3):e.type===c.SERVER_UPDATE_SETTINGS_FAILURE&&(t.setState({error:!0}),setTimeout(function(){t.setState({saving:!1,error:!1,foldersAndModels:(0,d.clone)(t.props.foldersAndModels)})},1e3))})}},{key:"createModel",value:function(e){this.props.openNewModel({},e)}},{key:"createVirtualModel",value:function(e){this.props.openNewModel({virtual:!0},e)}},{key:"createExternalSourceModel",value:function(e){this.props.openNewModel({externalSource:!0},e)}},{key:"createView",value:function(e,t){var n=t.modelId;this.props.openNewView({modelId:n},e)}},{key:"onItemClick",value:function(e,t){"view"===e.type&&this.props.openEditView(e.viewId,t),"model"==e.type&&this.props.openEditModel(e.modelId,t),"create"===e.type&&this[e.key](t,e)}},{key:"isItemActive",value:function(e){return"view"===e.type?this.props.selectedTabViewId===e.viewId:"model"===e.type?this.props.selectedTabModelId===e.modelId:void 0}},{key:"isItemOpen",value:function(e){if("modelViewsFolder"===e.type)return!0;if("modelFolder"===e.type){var t=this.props,n=t.selectedTabModelId,a=t.selectedTabViewId,r=t.views;return e.modelId===n||a&&r[a]&&r[a].data_model_id===e.modelId}return!1}},{key:"shouldSortItems",value:function(e,t){return!t||"modelViewsFolder"===t.type}},{key:"render",value:function(){var e=this,t=this.props,n=t.intl,a=t.selectedTabViewId,r=t.selectedTabModelId,o=(n.formatMessage,this.state),l=o.foldersAndModels,s=o.saving,d=o.error,c=l||[],f=void 0;return a?f="view-"+a:r&&(f="model-"+r),i.default.createElement(u.default,{ref:function(t){e.internalSidebar=t},items:c,saveChanges:this.saveItems,saving:s,savingError:d,search:!0,onItemClick:this.onItemClick,isItemActive:this.isItemActive,isItemOpen:this.isItemOpen,shouldSortItems:this.shouldSortItems,scrollToElementKey:f})}}]),t}(),h={updateSettingsModelOrder:c.updateSettingsModelOrder,openEditModel:c.openEditModel,openNewModel:c.openNewModel,openEditView:c.openEditView,openNewView:c.openNewView};t.default=(0,s.injectIntl)((0,l.connect)(function(e,t){var n=t.intl.formatMessage,a=null,r=e.server.settings&&e.server.settings.modelOrder,o=e.context.models,i=e.context.views;o&&i&&(a=function(e,t,n,a){var r=Object.assign({},t),o={};(0,d.each)(n,function(e){var t=e.data_model_id;o[t]=o[t]||{},o[t][e.id]=e});var i=[];i.push({type:"create",key:"createModel",name:a(p.createModel),icon:"fa fa-plus-square fa-fw",noEdit:!0},{type:"create",key:"createVirtualModel",name:a(p.createVirtualModel),icon:"fa fa-plus-square fa-fw",noEdit:!0},{type:"create",key:"createExternalSourceModel",name:a(p.createExternalSource),icon:"fa fa-plus-square fa-fw",noEdit:!0},{key:"create-divider",divider:!0,noEdit:!0});var l=function(t){var n=[],r=o[t.id]||{},l=function(e){n.push({type:"view",search:!0,key:"view-"+e.id,viewId:e.id,name:e.name,icon:"fa fa-fw "+(e.icon||f.defaultViewIcon)})};(0,d.each)(e&&e.views&&e.views[t.id],function(e){var t=r[e];t&&(delete r[e],l(t))}),(0,d.each)(r,function(e){l(e)}),i.push({type:"modelFolder",search:!0,key:"modelFolder-"+t.id,modelId:t.id,name:t.name,icon:"fa fa-wrench fa-fw",children:[{type:"model",modelId:t.id,key:"model-"+t.id,name:a(p.editModel),icon:"fa fa-file fa-fw",noEdit:!0},{type:"modelViewsFolder",name:a(p.views),icon:"fa fa-wrench fa-fw",noEdit:!0,children:[{type:"create",key:"createView",modelId:t.id,name:a(p.createView),icon:"fa fa-plus-square fa-fw",noEdit:!0}].concat(n)}]})};return(0,d.each)(e&&e.models,function(e){var t=r[e];t&&!t.specialModel&&(delete r[e],l(t))}),(0,d.each)(r,function(e){e.specialModel||l(e)}),i}(r,o,i,n));var l=e.ui.selectedTab,s=l&&(0,d.find)(e.ui.tabs,function(e){return e.id===l});return{foldersAndModels:a,views:i,selectedTabViewId:s&&"EDIT_VIEW"===s.type&&s.options.viewId,selectedTabModelId:s&&"EDIT_MODEL"===s.type&&s.options.modelId}},h)(m)),e.exports=t.default},1031:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=a(n(6)),f=n(26),p=n(13),m=n(27),h=n(130),g=n(10),v=n(478),y=a(n(207)),b=n(8),E=a(n(479)),w=a(n(1531)),_="tab-controller-context-menu",C=function(e){var t=e.id,n=e.trigger,a=e.closeTab,r=e.closeOtherTabs,o=e.closeAllTabs,i=e.closeTabsLeft,l=e.closeTabsRight,s=(n||{}).tab,d=[];return s&&d.push(u.default.createElement(h.MenuItem,{key:"close",onClick:function(){return a(s.id)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeTab",defaultMessage:"Close tab"})),u.default.createElement(h.MenuItem,{key:"closeOthers",onClick:function(){return r(s.id)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeOtherTabs",defaultMessage:"Close other tabs"})),u.default.createElement(h.MenuItem,{key:"closeAll",onClick:function(){return o()}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeAllTabs",defaultMessage:"Close all tabs"})),u.default.createElement(h.MenuItem,{key:"divider1",divider:!0}),u.default.createElement(h.MenuItem,{key:"closeLeft",onClick:function(){return i(s.id)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeTabsLeft",defaultMessage:"Close tabs on the left"})),u.default.createElement(h.MenuItem,{key:"closeRight",onClick:function(){return l(s.id)}},u.default.createElement(g.FormattedMessage,{id:"TabController.contextMenu.closeTabsRight",defaultMessage:"Close tabs on the right"}))),u.default.createElement(h.ContextMenu,{id:t},d)};C.propTypes={id:d.default.string.isRequired};var k=(0,h.connectMenu)(_)(C),S=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleShowAllTabs=n.toggleShowAllTabs.bind(n),n.askCloseTab=n.askCloseTab.bind(n),n.checkAllTabsCanBeClosed=n.checkAllTabsCanBeClosed.bind(n),n._tabElements={},n.state={showAllTabs:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"componentWillReceiveProps",value:function(e){e.selectedTab!==this.props.selectedTab&&(this.needsToEnsureTabNavItemVisible=!0,this.state.showAllTabs&&this.setState({showAllTabs:!1}))}},{key:"componentDidMount",value:function(){window.__tabControllerAskCloseTab=this.askCloseTab,window.__tabControllerCheckAllTabsCanBeClosed=this.checkAllTabsCanBeClosed}},{key:"componentWillUnmount",value:function(){window.__tabControllerAskCloseTab==this.askCloseTab&&(window.__tabControllerAskCloseTab=null),window.__tabControllerCheckAllTabsCanBeClosed==this.checkAllTabsCanBeClosed&&(window.__tabControllerCheckAllTabsCanBeClosed=null)}},{key:"componentDidUpdate",value:function(){this.needsToEnsureTabNavItemVisible&&(this.ensureTabNavItemVisible(),this.needsToEnsureTabNavItemVisible=!1)}},{key:"ensureTabNavItemVisible",value:function(){var e=this.scrollElement.getElementsByClassName("active")[0];if(e){var t=this.scrollElement.clientWidth,n=this.scrollElement.scrollLeft,a=e.offsetLeft-this.scrollElement.offsetLeft,r=a+e.clientWidth;a-50<n?this.scrollTabList(a-50):r+10>n+t&&this.scrollTabList(r+10-t)}}},{key:"scrollTabList",value:function(e){e=e<0?0:e,y.default.left(this.scrollElement,e,{duration:200})}},{key:"askCloseTab",value:function(e){var t=this._tabElements[e];return!t||t.askCloseTab()}},{key:"checkAllTabsCanBeClosed",value:function(e){var t=this,n=this.props.tabs,a=null,r=(0,b.every)(n,function(e){var n=t._tabElements[e.id];if(!n)return!0;var r=n.canBeClosed();return r||(a=e),r});return e&&a&&e(a.id),r}},{key:"toggleShowAllTabs",value:function(){this.setState({showAllTabs:!this.state.showAllTabs})}},{key:"wrapInTransition",value:function(e,t){return u.default.createElement(v.CSSTransition,{key:e,timeout:1e3,classNames:"tab-list-animation"},t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.context,a=t.tabs,r=t.selectedTab,o=t.selectTab,l=t.closeTab,s=t.closeOtherTabs,d=t.closeAllTabs,f=t.closeTabsLeft,m=t.closeTabsRight,g=t.intl,y=this.state.showAllTabs,b=[],C=[];return a&&a.map(function(t){var a=u.default.createElement(E.default,{ref:function(n){return e._tabElements[t.id]=n},key:t.id,tab:t,visible:t.id===r,selectTab:o,intl:g,onClick:function(){y&&(e.state.showAllTabs&&e.setState({showAllTabs:!1}),o(t.id))}}),i=u.default.createElement(h.ContextMenuTrigger,{id:_,tab:t,collect:function(e){return e}},u.default.createElement(w.default,{context:n,tab:t,visible:!y&&t.id===r,intl:g,onClick:function(){e.state.showAllTabs&&e.setState({showAllTabs:!1}),o(t.id)},onClose:function(){return l(t.id)}}));b.push(e.wrapInTransition(t.id,i)),C.push(a)}),u.default.createElement("div",{className:(0,c.default)("tab-controller",y&&"show-all-tabs")},u.default.createElement("div",{className:"tab-list"},u.default.createElement("div",{className:"tab-list-container",ref:function(t){return e.scrollElement=t}},u.default.createElement(v.TransitionGroup,{component:p.Nav,tabs:!0},this.wrapInTransition("tab-list-pre",u.default.createElement("div",{className:"tab-list-pre"})),b.length>0&&this.wrapInTransition("show-all-tabs-nav-item",u.default.createElement(p.NavItem,{className:"show-all-tabs-nav-item"},u.default.createElement(p.NavLink,{onClick:this.toggleShowAllTabs,active:y},u.default.createElement("i",{className:"fa fa-th-large","aria-hidden":"true"})))),b,this.wrapInTransition("tab-list-post",u.default.createElement("div",{className:"tab-list-post"}))))),C,u.default.createElement(k,i({id:_},{closeTab:l,closeOtherTabs:s,closeAllTabs:d,closeTabsLeft:f,closeTabsRight:m})))}}]),t}(),r.propTypes={selectedTab:d.default.number,tabs:d.default.array},o),T={selectTab:m.selectTab,closeTab:m.closeTab,closeOtherTabs:m.closeOtherTabs,closeAllTabs:m.closeAllTabs,closeTabsLeft:m.closeTabsLeft,closeTabsRight:m.closeTabsRight};t.default=(0,f.connect)(function(e,t){return{selectedTab:e.ui.selectedTab,context:e.context,tabs:e.ui.tabs}},T)((0,g.injectIntl)(S)),e.exports=t.default},113:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,n=!1;return"number"!=typeof e&&(e=h,n=!0),0===(e=Math.min(e,50))?t="":(t=m.substring(0,e),t=n?".["+t+"]":"."+t),"0,0"+t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.numberFormat=r;var u=n(1),d=a(u),c=a(n(0)),f=a(n(63)),p=a(n(6)),m="00000000000000000000000000000000000000000000000000",h=10,g=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onChange=n.onChange.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n);var a=n.generateFormat(e);return n.state={focused:!1,format:a,value:n.toFormattedString(e.value,a,e.storeNumberAsString)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"generateFormat",value:function(e){return r(e.decimalDigits)}},{key:"editingValueFormat",value:function(){return this.state.format.substring(2)}},{key:"toFormattedString",value:function(e,t,n){if(n){if(!e)return"";try{e=parseFloat(e)}catch(t){e=null}}return"number"!=typeof e?"":(0,f.default)(e).format(t)}},{key:"toNumberValue",value:function(e,t){return(0,f.default)(e).value()}},{key:"toInitialEditingString",value:function(e){if("number"!=typeof e)e="";else{var t=this.editingValueFormat();e=(0,f.default)(e).format(t)}return e}},{key:"constrainedValue",value:function(e){var t=this.props,n=t.min,a=t.max;return"number"!=typeof e?null:"number"==typeof n&&e<n?n:"number"==typeof a&&e>a?a:e}},{key:"toReturnValue",value:function(e){if("number"!=typeof e)return null;if(this.props.storeNumberAsString){var t=this.props.decimalDigits;return"number"!=typeof t&&(t=h),e.toFixed(t)}return e}},{key:"componentWillReceiveProps",value:function(e){if(!this.state.focused&&"value"in e){var t=this.generateFormat(e);this.setState({format:t,value:this.toFormattedString(e.value,t,e.storeNumberAsString)})}}},{key:"onBlur",value:function(e){var t=this.props,n=t.storeNumberAsString,a=t.onBlur,r=t.value,o=this.state.format,i=this.toFormattedString(r,o,n);this.setState({focused:!1,value:i}),a&&a(e)}},{key:"onFocus",value:function(e){var t=this.props.onFocus,n=this.state,a=n.format,r=n.value,o=this.toNumberValue(r,a);this.setState({focused:!0,value:this.toInitialEditingString(o)}),t&&t(e)}},{key:"onChange",value:function(e){var t=e.target.value,n=this.props.onChange;if(this.setState({value:t}),n){var a=this.state.format,r=this.toNumberValue(t,a),o=this.constrainedValue(r);n(this.toReturnValue(o),e)}}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.value,e.storeNumberAsString,e.onChange,e.onFocus,e.onBlur,e.decimalDigits,e.min,e.max,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["className","value","storeNumberAsString","onChange","onFocus","onBlur","decimalDigits","min","max"])),a=this.state,r=(a.focused,a.value),o=(a.format,r||"");return d.default.createElement("input",l({className:(0,p.default)("form-control",t),value:o,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur},n))}}]),t}(),o.propTypes={value:c.default.oneOfType([c.default.number,c.default.string]),storeNumberAsString:c.default.bool,placeholder:c.default.string,decimalDigits:c.default.number,min:c.default.number,max:c.default.number,onChange:c.default.func,onFocus:c.default.func,onBlur:c.default.func},i);t.default=g},114:function(e,t,n){"use strict";function a(e,t,n,a){var r,o=-1;return t.id&&(0,d.some)(a[t.id].relations,function(e){if(void 0!==e.groupIndex)return o=e.groupIndex,!0}),-1!==o?r=n[o]:(r={index:o=n.length,_allRelations:[]},n.push(r)),r._allRelations.push(t),t.id||(r.isNew=!0),t.id&&_.each(a[t.id].relations,function(e){e.groupIndex=o}),r}function r(e,t,n,a){n.otherRelations=[],n.relations=[];var r={},o=function(a){var o=a.id;if(!r[o]){var i=!1,l=!1,s=null;if(a.id&&(a.model_from_id!==t.id?(i=!0,!s&&(0,c.isAncestor)(e,a.model_from_id,t)&&(s="virtualModel")):s="inverseRelation",a.model_to_id!==t.id?(l=!0,!s&&(0,c.isAncestor)(e,a.model_to_id,t)&&(s="virtualModel")):s="inverseRelation"),!l||!i){var u={relation:a,showForward:!i,showBackward:!l};n.relations.push(u)}(l||i)&&(u={relation:a,showForward:i,showBackward:l,associationMessage:s},n.otherRelations.push(u)),r[o]=!0}};_.each(n._allRelations,function(e){o(e)}),n.isNew?(n._allRelations[0].__reactKey||(n._allRelations[0].__reactKey="new-rel-"+f++),n.key=n._allRelations[0].__reactKey):n.key=n._allRelations.map(function(e){return e.id}).join("-"),n.isNew||_.each(n._allRelations,function(e){_.each(a[e.id].relations,function(e){var t=e.rel;o(t)})})}function o(e){var t=e.split("_TO_");return t[1]+"_TO_"+t[0]}function i(e){return!(!e.model_from_auto_field_id||!e.model_to_auto_field_id)}function l(e){return!!e.two_steps_relation1_id}function s(e){return!!e.createFromVirtualRelation}function u(e,t,n){if(n.id){if(e)return e===n.id?n:t.models[e];throw new Error("Error getting model from invalid modelId")}return e?t.models[e]:n}Object.defineProperty(t,"__esModule",{value:!0}),t.createGroups=function(e,t,n){var o={};(0,d.each)(n,function(t){t.id&&(o[t.id]=o[t.id]||{rel:t,relations:[]},o[t.id].relations.push(o[t.id]),(0,d.each)(t.mappedRelations,function(n){var a=e.relations[n];o[a.id]=o[a.id]||{rel:a,relations:[]},o[t.id].relations.push(o[a.id])}),(0,d.each)(t.inverseMappedRelations,function(n){var a=e.relations[n];o[a.id]=o[a.id]||{rel:a,relations:[]},o[t.id].relations.push(o[a.id])}))});var i=[];return(0,d.each)(n,function(e){a(t,e,i,o)}),(0,d.each)(i,function(n){r(e,t,n,o)}),i},t.addNewRelation=function(e,t,n,o){if(n.id)throw new Error("addNewRelations(model, relation, groups): should be a new relation");return o=(0,d.clone)(o),r(e,t,a(t,n,o)),o},t.inverseRelationType=o,t.isRelationMulti=function(e,t){return"MANY_TO_MANY"===e||e===(t?"MANY_TO_ONE":"ONE_TO_MANY")},t.isAdvanced=function(e){return i(e)||l(e)||s(e)},t.isAutoRelation=i,t.isTwoStepsRelation=l,t.isCreateFromVirtualRelation=s,t.getTwoStepsRelationInfo=function(e,t,n,a){var r=u(e.model_from_id,t,n),o=u(e.two_steps_middle_model_id,t,n),i=u(e.model_to_id,t,n),l=(0,d.find)(a,function(t){return t.id===e.two_steps_relation1_id})||(0,d.find)(t.relations,function(t){return t.id===e.two_steps_relation1_id}),s=(0,d.find)(a,function(t){return t.id===e.two_steps_relation2_id})||(0,d.find)(t.relations,function(t){return t.id===e.two_steps_relation2_id}),c=(e.twoStepsRelation1IsBack,e.twoStepsRelation2IsBack);return{model1:r,model2:o,model3:i,relation1:l,relation2:s,relation1Name:e.twoStepsRelation1IsBack?l.nameBackward:l.nameForward,relation2Name:e.twoStepsRelation2IsBack?s.nameBackward:s.nameForward,relation1IsBack:c}},t.getCreateFromVirtualRelationInfo=function(e,t,n,a){var r=t.relations[e.createFromVirtualRelation],i=e.createFromVirtualRelationInverse,l=r.model_from_id!==(i?e.model_to_id:e.model_from_id),s=u(l?r.model_from_id:r.model_to_id,t,n),d=l?r.nameForward:r.nameBackward,c=i?!l:l,f=u(e.model_from_id,t,n),p=u(e.model_to_id,t,n);return{model:c?f:p,otherModel:c?p:f,modelFrom:f,modelTo:p,virtualModel:s,virtualModelRelation:r,virtualToOtherModelRelationName:d,inverse:i,type:i?o(r.type):r.type}},t.getViewRelationSearchQuery=function(e,t,n,a){return{endpoint:"/view/"+t+"/search/"+n+"/"+(e.viewColumns[n].relation_is_back?"true":"false"),method:"GET"}};var d=n(8),c=n(523),f=1},1165:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(a):void 0};t.overscanIndicesGetter=function(e){var t=e.cellCount,n=e.overscanCellsCount,a=(e.scrollDirection,e.startIndex),r=e.stopIndex,o=a-n;o-=o%n;var i=r+n;return i-=i%n,{overscanStartIndex:Math.max(0,Math.min(a,o)),overscanStopIndex:Math.min(t-1,Math.max(r,i))}};var d=a(n(1)),c=a(n(0)),f=n(209),p=(i=o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a._footerLeftGridRef=a._footerLeftGridRef.bind(a),a._footerRightGridRef=a._footerRightGridRef.bind(a),a._cellRendererFooterLeftGrid=a._cellRendererFooterLeftGrid.bind(a),a._cellRendererFooterRightGrid=a._cellRendererFooterRightGrid.bind(a),delete a._rowHeightBottomGrid,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.MultiGrid),s(t,[{key:"componentWillReceiveProps",value:function(e,n){this.props.footerRowCount===e.footerRowCount&&this.props.footerRowHeight===e.footerRowHeight||(this._footerGridHeight=null),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e,n)}},{key:"_getTopGridHeight",value:function(e){return e.headerRowHeight}},{key:"_renderTopLeftGrid",value:function(e){var n=l({},e,{rowHeight:e.headerRowHeight});return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_renderTopLeftGrid",this).call(this,n)}},{key:"_renderTopRightGrid",value:function(e){var n=e.totalHeight>e.height,a=e.totalWidth-this._getLeftGridWidth(e)+(n?10:1),r=l({},e,{rowHeight:e.headerRowHeight,containerStyle:{width:a,maxWidth:a}});return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_renderTopRightGrid",this).call(this,r)}},{key:"_renderBottomLeftGrid",value:function(e){return this._rowHeightBottomGrid=e.rowHeight,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_renderBottomLeftGrid",this).call(this,e)}},{key:"_renderBottomRightGrid",value:function(e){var n=this._getLeftGridWidth(e),a=e.totalWidth-(n?n-1:-1);this._rowHeightBottomGrid=e.rowHeight;var r=l({},e,{noContentRenderer:e.noRowsRenderer,getScrollbarSize:function(){return 10},containerStyle:{width:a,maxWidth:a}});return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_renderBottomRightGrid",this).call(this,r)}},{key:"forceUpdateGrids",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"forceUpdateGrids",this).call(this),this._footerLeftGrid&&this._footerLeftGrid.measureAllCells(),this._footerRightGrid&&this._footerRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.columnIndex,a=void 0===n?0:n,r=e.rowIndex,o=void 0===r?0:r,i=this.props.fixedColumnCount,l=Math.max(0,a-i);this._footerLeftGrid&&this._footerLeftGrid.recomputeGridSize({columnIndex:a,rowIndex:0}),this._footerRightGrid&&this._footerRightGrid.recomputeGridSize({columnIndex:l,rowIndex:0}),this._footerGridHeight=null,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"recomputeGridSize",this).call(this,{columnIndex:a,rowIndex:o})}},{key:"render",value:function(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,a=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),o=(e.scrollTop,e.scrollToRow),i=e.footerRowCount,s=r(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow","footerRowCount"]);if(0===this.props.width||0===this.props.height)return null;var u=this.state,c=u.scrollLeft,f=u.scrollTop;return d.default.createElement("div",{style:this._containerOuterStyle},d.default.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(s),this._renderTopRightGrid(l({},s,{onScroll:t,scrollLeft:c}))),d.default.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(l({},s,{onScroll:t,scrollTop:f})),this._renderBottomRightGrid(l({},s,{onScroll:t,onSectionRendered:n,scrollLeft:c,scrollToColumn:a,scrollToRow:o,scrollTop:f}))),i>0&&d.default.createElement("div",{style:this._containerFooterStyle},this._renderFooterLeftGrid(s),this._renderFooterRightGrid(l({},s,{onScroll:t,scrollLeft:c}))))}},{key:"_maybeCalculateCachedStyles",value:function(e,t){var n=t.columnWidth,a=t.enableFixedColumnScroll,r=t.enableFixedRowScroll,o=t.height,i=t.fixedColumnCount,s=t.fixedRowCount,u=t.headerRowHeight,d=t.footerRowCount,c=t.footerRowHeight,f=t.style,p=t.styleBottomLeftGrid,m=t.styleBottomRightGrid,h=t.styleTopLeftGrid,g=t.styleTopRightGrid,v=t.styleFooterLeftGrid,y=t.styleFooterRightGrid,b=t.width,E=!e,w=E||o!==e.height||b!==e.width,_=E||n!==e.columnWidth||i!==e.fixedColumnCount,C=E||s!==e.fixedRowCount||u!==e.headerRowHeight,k=E||d!==e.footerRowCount||c!==e.footerRowHeight||null===this._footerGridHeight;(E||w||f!==e.style)&&(this._containerOuterStyle=l({height:o,overflow:"visible",width:b},f)),(E||w||C||k)&&(this._containerTopStyle={height:this._getTopGridHeight(t),position:"relative",width:b},this._containerBottomStyle={height:o-this._getTopGridHeight(t)-this._getFooterGridHeight(t),overflow:"visible",position:"relative",width:b},this._containerFooterStyle={height:this._getFooterGridHeight(t),position:"relative",width:b}),(E||p!==e.styleBottomLeftGrid)&&(this._bottomLeftGridStyle=l({left:0,overflowX:"hidden",overflowY:a?"auto":"hidden",position:"absolute"},p)),(E||_||m!==e.styleBottomRightGrid)&&(this._bottomRightGridStyle=l({left:this._getLeftGridWidth(t),position:"absolute"},m)),(E||h!==e.styleTopLeftGrid)&&(this._topLeftGridStyle=l({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},h)),(E||_||g!==e.styleTopRightGrid)&&(this._topRightGridStyle=l({left:this._getLeftGridWidth(t),overflowX:r?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},g)),(E||v!==e.styleFooterLeftGrid)&&(this._footerLeftGridStyle=l({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",bottom:0},v)),(E||_||y!==e.styleFooterRightGrid)&&(this._footerRightGridStyle=l({left:this._getLeftGridWidth(t),overflowX:r?"auto":"hidden",overflowY:"hidden",position:"absolute",bottom:0},y))}},{key:"_footerLeftGridRef",value:function(e){this._footerLeftGrid=e}},{key:"_footerRightGridRef",value:function(e){this._footerRightGrid=e}},{key:"_renderFooterLeftGrid",value:function(e){var t=e.fixedColumnCount,n=e.footerRowCount;return t&&n?d.default.createElement(f.Grid,l({},e,{cellRenderer:this._cellRendererFooterLeftGrid,className:this.props.classNameFooterLeftGrid,columnCount:t,height:this._getFooterGridHeight(e),ref:this._footerLeftGridRef,rowCount:1,style:this._footerLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderFooterRightGrid",value:function(e){var t=e.columnCount,n=e.enableFixedRowScroll,a=e.fixedColumnCount,r=e.scrollLeft,o=this.state.showHorizontalScrollbar,i=this.props.footerRowCount;if(!i)return null;var s=e.totalHeight>e.height,u=e.totalWidth-this._getLeftGridWidth(e)+(s?10:1),c=o?1:0;return d.default.createElement(f.Grid,l({},e,{cellRenderer:this._cellRendererFooterRightGrid,className:this.props.classNameFooterRightGrid,columnCount:Math.max(0,t-a)+c,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:null,height:this._getFooterGridHeight(e),rowHeight:this._rowHeightFooterGrid,onScroll:n?this._onScrollLeft:void 0,ref:this._footerRightGridRef,rowCount:i,scrollLeft:r,style:this._footerRightGridStyle,tabIndex:null,width:this._getRightGridWidth(e),containerStyle:{width:u,maxWidth:u}}))}},{key:"_rowHeightFooterGrid",value:function(e){var t=e.index,n=this.props,a=n.footerRowCount,r=n.footerRowHeight,o=this.state,i=o.scrollbarSize;return o.showVerticalScrollbar&&t===a?i:"function"==typeof r?r({index:t}):r}},{key:"_getFooterGridHeight",value:function(e){var t=e.footerRowCount,n=e.footerRowHeight,a=this.state.showHorizontalScrollbar;if(null==this._footerGridHeight)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._footerGridHeight=r}else this._footerGridHeight=n*t;return this._footerGridHeight+(a?10:0)}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)-this._getFooterGridHeight(e)}},{key:"_cellRendererFooterLeftGrid",value:function(e){var t=e.columnIndex,n=e.rowIndex,a=r(e,["columnIndex","rowIndex"]),o=this.props,i=o.footerCellRenderer;return n===o.footerRowCount?d.default.createElement("div",{key:a.key,style:l({},a.style,{height:20})}):i(l({},a,{parent:this,columnIndex:t,rowIndex:n}))}},{key:"_cellRendererFooterRightGrid",value:function(e){var t=e.columnIndex,n=e.rowIndex,a=r(e,["columnIndex","rowIndex"]),o=this.props,i=o.footerCellRenderer,s=o.columnCount,u=o.fixedColumnCount;return t===s-u?d.default.createElement("div",{key:a.key,style:l({},a.style,{width:20})}):i(l({},a,{rowIndex:n,columnIndex:t+u,parent:this}))}},{key:"_onScrollbarPresenceChange",value:function(e){var t=this,n=e.horizontal,a=e.size,r=e.vertical,o=this.state,i=o.showHorizontalScrollbar,l=o.showVerticalScrollbar;if(n!==i||r!==l){this.setState({scrollbarSize:a,showHorizontalScrollbar:n,showVerticalScrollbar:r},function(){t._footerGridHeight=null,t._maybeCalculateCachedStyles(null,t.props,null,t.state)});var s=this.props.onScrollbarPresenceChange;"function"==typeof s&&s({horizontal:n,size:a,vertical:r})}}}]),t}(),o.propTypes={classNameBottomLeftGrid:c.default.string.isRequired,classNameBottomRightGrid:c.default.string.isRequired,classNameTopLeftGrid:c.default.string.isRequired,classNameTopRightGrid:c.default.string.isRequired,classNameFooterLeftGrid:c.default.string.isRequired,classNameFooterRightGrid:c.default.string.isRequired,enableFixedColumnScroll:c.default.bool.isRequired,enableFixedRowScroll:c.default.bool.isRequired,fixedColumnCount:c.default.number.isRequired,fixedRowCount:c.default.number.isRequired,footerRowCount:c.default.number.isRequired,footerRowHeight:c.default.oneOfType([c.default.number,c.default.func]).isRequired,footerCellRenderer:c.default.func.isRequired,onScrollbarPresenceChange:c.default.func,style:c.default.object.isRequired,styleBottomLeftGrid:c.default.object.isRequired,styleBottomRightGrid:c.default.object.isRequired,styleTopLeftGrid:c.default.object.isRequired,styleTopRightGrid:c.default.object.isRequired},o.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",classNameFooterLeftGrid:"",classNameFooterRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,footerRowCount:0,footerRowHeight:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{}},i);t.default=p},119:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),draggingItem:t.getItem()}}function o(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAvailableElements=function(e){return f.filter(function(t){return-1!==t.allowdIn.indexOf(e)})},t.getElement=function(e){return m[e]};var i=n(683),l=a(n(697)),s=a(n(1407)),u=a(n(1408)),d=a(n(1409)),c=a(n(1410)),f=[s.default,u.default,d.default,c.default],p=f.map(function(e){return e.type}),m={};f.forEach(function(e){return m[e.type]=e});var h={drop:function(e,t,n){t.didDrop()||e.onDroppedItem(t.getItem())},hover:function(e,t,n){e.setDraggingClientOffset(t.getClientOffset())}},g={beginDrag:function(e){var t={content:e.content};return e.setDraggingItem&&e.setDraggingItem(t),t}};f.forEach(function(e){if(!e.type||!e.Element)throw new Error("LayoutEditor: elements needs to specify the type and Element");if("container"!==e.type&&!l.default[e.type])throw new Error('LayoutEditor: no locale message found for type "'+e.type+'"');if(e.DragElement=(0,i.DragSource)(e.type,g,o)(e.Element),e.isContainer){var t=!0===e.canContain?p:e.canContain;e.cannotContain&&e.cannotContain.length&&(t=t.filter(function(t){return-1===e.cannotContain.indexOf(t)})),e.DragElement=(0,i.DropTarget)(t,h,r)(e.DragElement)}})},1213:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=(0,s.datetimeParse)(e,t);if(!n)return"";var a="DATE"===t?"L":"TIME"===t?"LTS":"L LTS";return(0,d.default)(n).format(a)}function o(e,t,n){var a=t.field;if(!a||void 0===e||null===e)return t.defaultText||"";var o=a.type1,i=void 0;switch(o){case"TEXT":case"ENUM":i=e||"";break;case"INTEGER":case"DOUBLE":case"DECIMAL":var s=void 0;"INTEGER"===o?s=0:"DECIMAL"===o&&(s=a.decimalDigits||0),i=function(e,t){if("string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e)return"";var n=(0,l.numberFormat)(t);return(0,u.default)(e).format(n)}(e,s);break;case"BOOLEAN":if(t.options&&t.options.boolean){if(e&&t.options.boolean.true){i=t.options.boolean.true;break}if(!e&&t.options.boolean.false){i=t.options.boolean.false;break}}i=e?"true":"false";break;case"DATE":case"TIME":case"DATETIME":i=r(e,o);break;case"TEXT_ARRAY":i=Array.isArray(e)?e.join(", "):"";break;default:console.error("Export: Unknown type "+o),i=""}return i}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.exportValues=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"copy";switch(a){case"copy":!function(e,t,n,a){var r=(n=i({},v[a],n)).fieldBoundary,l=n.fieldSeparator,s=n.escapeChar,u=r&&new RegExp(r,"g"),d=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"}(n),c="";n.header&&(t.forEach(function(e,t){t>0&&(c+=l);var n=e.name||"";c+=r?r+n.replace(u,s+r)+r:n}),c+=d),e&&!Array.isArray(e)&&(e=[e]);var f=e?e.map(function(e){var a="";return t.forEach(function(t,i){i>0&&(a+=l);var d=o(e[t.key],t,n);a+=r?r+d.replace(u,s+r)+r:d}),a}):"",p=c+f.join(d)+"";(0,m.copy)(p,n.message)}(e,t,n,a);break;case"excel":case"csv":!function(e,t,n,a){n=i({},v[a],n);var o=new c.default.Workbook;o.creator=window.appName,o.lastModifiedBy=window.appName,o.created=new Date,o.modified=new Date,o.lastPrinted=null;var l=o.addWorksheet("Sheet1",{views:[{ySplit:1}]});l.autoFilter={from:{row:1,column:1},to:{row:1,column:t.length}},l.columns=t.map(function(e,t){var a={header:e.name||"",key:e.key,style:{}};n.columnWidths&&n.columnWidths[t]&&(a.width=function(e){var t=void 0;return e<12?t=Math.round(100*e/12):(e>1790&&(e=1790),t=Math.round(100*(1+(e-12)/7))),t/100}(n.columnWidths[t]));var r=e.field;if(r){var o=r.type1;switch(o){case"INTEGER":case"DECIMAL":var i=void 0;"INTEGER"===o?i=0:"DECIMAL"===o&&(i=r.decimalDigits||0),a.style.numFmt="#,##0"+(i?"."+y.substring(0,i):"");break;case"DOUBLE":a.style.numFmt="#,##0.####################";break;case"DATE":case"TIME":case"DATETIME":a.style.numFmt=b[o]}}return a});var u=l.getRow(1);u.font={bold:!0},u.commit();var d=[];if(e&&e.forEach(function(e){var n=t.map(function(t){return function(e,t,n,a){var o=t.field;if(!o||void 0===e||null===e)return t.defaultText||"";var i=o.type1;switch(i){case"TEXT":return{value:e||""};case"ENUM":return{value:e||"",dataValidation:{type:"list",allowBlank:!0,formulae:['"'+function(e){return(e.enumList||[]).map(function(e){return e.replace(/"/g,'""')}).join(",")}(o)+'"']}};case"INTEGER":case"DOUBLE":case"DECIMAL":return{value:function(e,t){return"string"==typeof e&&(e=parseFloat(e)),"number"!=typeof e?null:e}(e)};case"BOOLEAN":if(t.options&&t.options.boolean){if(e&&t.options.boolean.true){text=t.options.boolean.true;break}if(!e&&t.options.boolean.false){text=t.options.boolean.false;break}}return{value:!!e};case"DATE":case"TIME":case"DATETIME":return function(e,t,n){if(!e)return{value:null};if("csv"===n)return{value:r(e,t)};if("TIME"===t){var a=e.split(":");return{value:e=((e=((e=parseInt(a[2],10)/60)+parseInt(a[1],10))/60)+parseInt(a[0],10))/24}}if("DATE"===t){var o=(0,s.datetimeParse)(e,t);return{value:(o.getTime()-60*o.getTimezoneOffset()*1e3)/864e5+25569}}var i=(0,s.datetimeParse)(e,t);return{value:i&&new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)||null}}(e,i,a);case"TEXT_ARRAY":return{value:Array.isArray(e)?e.join(", "):""};default:return console.error("Export: Unknown type "+i),{value:""}}}(e[t.key],t,0,a)});d.push(n)}),d.forEach(function(e){var t=l.addRow(e.map(function(e){return e.value}));e.map(function(e,n){var a=t.getCell(n+1);e.dataValidation&&(a.dataValidation=e.dataValidation),e.type&&(a.type=e.type)}),t.commit()}),"excel"===a){var m=n.filename||window.appName+".xlsx";o.xlsx.writeBuffer().then(function(e){var t=new Blob([e],{type:"application/octet-stream"});(0,p.saveAs)(t,m)})}else if("csv"===a){var h=n.filename||window.appName+".csv",g=new f.default;o.csv.write(g).then(function(){return g.read()}).then(function(e){var t=new Blob([e],{type:"application/octet-stream"});(0,p.saveAs)(t,h)})}}(e,t,n,a);break;case"pdf":case"print":!function(e,t,n,a){var r=t.map(function(e){return e.name||""});e&&!Array.isArray(e)&&(e=[e]);var i=e?e.map(function(e){return t.map(function(t){return o(e[t.key],t,n)})}):[],l=n&&n.filename||window.appName+".pdf",s=new h.default("p","pt");if(s.autoTable(r,i,{styles:{overflow:"linebreak"}}),"pdf"===a)s.save(l);else if("print"===a){s.autoPrint();var u=window.open();u.opener=null,u.location=s.output("bloburl")}}(e,t,n,a)}if(n&&n.message)switch(a){case"excel":case"csv":case"pdf":g.toast.info(n.message)}};var l=n(113),s=n(72),u=a(n(63)),d=a(n(2)),c=a(n(1214)),f=a(n(256)),p=n(1360),m=n(1361),h=a(n(681));n(1363);var g=n(186),v={copy:{fieldBoundary:null,escapeChar:null,fieldSeparator:"\t",footer:null,header:!0},csv:{footer:null,header:!0},excel:{footer:null,header:!0}},y="00000000000000000000000000000000000000000000000000",b={DATE:"dd/mm/yyyy",DATETIME:"dd/mm/yyyy hh:mm:ss",TIME:"hh:mm:ss"}},1218:function(e,t){},1237:function(e,t){},131:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=a(n(6)),c=n(10),f=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.elementClick=n.elementClick.bind(n),n.startEditing=n.startEditing.bind(n),n.finishEditing=n.finishEditing.bind(n),n.cancelEditing=n.cancelEditing.bind(n),n.keyDown=n.keyDown.bind(n),n.textChanged=n.textChanged.bind(n),n.elementBlur=n.elementBlur.bind(n);var a=n.doValidations(e.value,e);return n.state={editing:!1,invalid:!a,value:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"validate",value:function(e){return e&&e.trim().length>0}},{key:"doValidations",value:function(e,t){return((t=t||this.props).validate||this.validate)(e)}},{key:"selectInputText",value:function(e){e.setSelectionRange&&e.setSelectionRange(0,e.value.length)}},{key:"elementClick",value:function(e){this.startEditing()}},{key:"startEditing",value:function(){this.setState({editing:!0,invalid:!1,value:this.props.value})}},{key:"finishEditing",value:function(){var e=this.textInput.value;if(this.doValidations(e),this.props.value!==e){var t=this.props.onChange(e);void 0===t||t?this.setState({editing:!1,value:null,invalid:!1}):this.setState({invalid:!0,value:e})}else this.cancelEditing()}},{key:"cancelEditing",value:function(){var e=this.doValidations(this.props.value);this.setState({editing:!1,invalid:!e,value:null})}},{key:"keyDown",value:function(e){13===e.keyCode?this.finishEditing():27===e.keyCode&&this.cancelEditing()}},{key:"textChanged",value:function(e){var t=e.target.value,n=this.doValidations(t);this.setState({value:t,invalid:!n})}},{key:"elementBlur",value:function(e){this.finishEditing()}},{key:"componentWillReceiveProps",value:function(e){if(e.value!==this.props.value){var t=this.doValidations(e.value,e);this.setState({editing:!1,invalid:!t,value:e.value})}}},{key:"componentDidUpdate",value:function(e,t){this.state.editing&&!t.editing&&(this.textInput.focus(),this.selectInputText(this.textInput))}},{key:"render",value:function(){var e=this,t=this.props.value,n=this.state.invalid,a=t&&t.trim(),r=!a;return this.state.editing?s.default.createElement("input",{ref:function(t){e.textInput=t},className:(0,d.default)("editable-text-input",n&&"editable-text-input-invalid",this.props.className),defaultValue:t,onInput:this.textChanged,onBlur:this.elementBlur,onKeyDown:this.keyDown}):s.default.createElement("span",{className:(0,d.default)("editable-text-value",r&&"editable-text-value-empty",n&&"editable-text-value-invalid",this.props.className),onClick:this.startEditing},a||s.default.createElement(c.FormattedMessage,{id:"EditableText.emptyPlaceholder",defaultMessage:"Empty"}))}}]),t}(),r.propTypes={value:u.default.string.isRequired,onChange:u.default.func.isRequired,validate:u.default.func,className:u.default.string},o);t.default=f,e.exports=t.default},1361:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.copy=function(e,t){!function(e,t){var n,a,r=!1;try{n=(0,o.default)(),(a=document.createElement("div")).style.height="1px",a.style.width="1px",a.style.position="fixed",a.style.top="0px",a.style.left="0px",a.style.overflow="hidden";var i=document.createElement("textarea");i.textContent=e,a.appendChild(i),document.body.appendChild(a),i.select();if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");r=!0}catch(t){s&&console.error("unable to copy using execCommand: ",t),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),r=!0}catch(e){s&&console.error("unable to copy using clipboardData: ",e),s&&console.error("falling back to prompt")}}finally{a&&document.body.removeChild(a),n()}return r}(e)?i.toast.warn(r.default.createElement(l.FormattedMessage,{id:"Toast.copy.error.browserNotSupported",defaultMessage:"Error trying to copy. Your browser is not supported."})):t&&i.toast.info(t)};var r=a(n(1)),o=a(n(1362)),i=n(186),l=n(10),s=!0},1364:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=a(n(54)),f=a(n(234)),p=n(247),m=n(130),h=a(n(6)),g=n(8),v=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.isSelected!==this.props.isSelected||e.cellData!==this.props.cellData||e.rowIndex!==this.props.rowIndex||e.column!==this.props.column||e.cellId!==this.props.cellId||!(0,g.isEqual)(e.style,this.props.style)||!(0,g.isEqual)(e.columnStats,this.props.columnStats)}},{key:"render",value:function(){var e,t=this.props,n=t.cellData,a=t.rowIndex,r=t.column,o=t.cellId,l=t.style,s=t.isSelected,d=t.onLinkClick,g=t.inlineEditing,v=t.startInlineEditing,y=t.onCellSelection,b=t.columnStats,E=t.contextMenuId,w=r.field,_=[],C=!1,k=l;if(w&&void 0!==n&&null!==n?e=u.default.createElement(f.default,{field:w,value:n,options:r.options}):(e=r.defaultText||"",r.link&&(C=!w,e=u.default.createElement(c.default,{title:e,onClick:function(e){e.stopPropagation(),d(e)}},e))),r.canEdit&&g){var S=u.default.createElement(c.default,{key:"edit-button",onClick:function(e){e.stopPropagation(),v()}},u.default.createElement("i",{className:"fa fa fa-pencil","aria-hidden":"true"}));_.push(S)}if(r.link){var T=u.default.createElement(c.default,{className:"button-always-visible",key:"link-button",onClick:function(e){e.stopPropagation(),d(e)}},u.default.createElement("i",{className:"fa fa-arrow-circle-o-right","aria-hidden":"true"}));_.push(T)}return r.conditionalFormatting&&r.conditionalFormatting.forEach(function(e){var t=(0,p.applyFormatting)(e.type,e,n,b);t&&(k=i({},k,t))}),u.default.createElement(m.ContextMenuTrigger,{id:E,rowIndex:a,columnKey:r.key,collect:function(e){return e},renderTag:"div",attributes:{id:o,className:(0,h.default)("table-view-cell",(a+1)%2==1&&"table-view-row-odd",s&&"table-view-row-selected",C&&"buttons-always-visible"),onClick:function(e){return y(e)},style:k}},e," ",_.length>0&&u.default.createElement("div",{className:"cell-buttons-container"},_))}}]),t}(),r.propTypes={cellData:d.default.any,rowIndex:d.default.number.isRequired,column:d.default.object.isRequired,style:d.default.any,onLinkClick:d.default.func.isRequired,inlineEditing:d.default.bool,startInlineEditing:d.default.func,onCellSelection:d.default.func.isRequired,columnStats:d.default.any,contextMenuId:d.default.string.isRequired,cellId:d.default.string.isRequired,isSelected:d.default.bool},o);t.default=v,e.exports=t.default},1365:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=n(10),f=a(n(6)),p=n(8),m=n(13),h=a(n(682)),g=a(n(143)),v=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeInputValue=n.changeInputValue.bind(n),n.state=n.initState(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"componentWillReceiveProps",value:function(e){e.rowData!==this.props.rowData&&this.setState(this.initState(e))}},{key:"initState",value:function(e){var t=this.props,n=t.rowData,a=t.columns,r=t.columnKey,o={},i=[],l=!1;o.id=n.id;var s=(0,p.find)(a,function(e){return e.key===r}),u=s.field,d=_.find(u.dataValidation,function(e){return e.source_group}),c=d&&d.source_group;c?(l=!0,a.forEach(function(e){var t=e.field;if(t){var a=_.find(t.dataValidation,function(e){return e.source_group});(a&&a.source_group)===c&&(o[e.key]=n[e.key],i.push(e))}})):(o[r]=n[r],i.push(s));var f=[{type:"row",children:[{type:"column",children:i.map(function(e){return{type:"input",inputType:"field",fieldId:e.field.id,fieldName:e.name}})}]}];return{loading:!1,rowData:o,hasDataValidation:l,editedColumnKeys:i.map(function(e){return e.key}),form:f}}},{key:"changeInputValue",value:function(e,t){var n=i({},this.state.rowData);void 0===t?delete n[e]:n[e]=t,this.setState({rowData:n})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.context,t.view),a=t.columns,r=(t.rowId,t.columnKey),o=t.save,i=t.cancel,l=this.state,s=l.rowData,d=l.form,v=l.hasDataValidation,y=l.loading,b=(0,p.find)(a,function(e){return e.key===r}).field;return u.default.createElement("div",{className:(0,f.default)("table-inline-editing-container",v?"table-inline-editing-container-data-validation":"table-inline-editing-container-"+b.type1)},u.default.createElement("div",{className:"table-inline-editing-input-container form form-horizontal"},u.default.createElement(h.default,{content:d,type:"INLINE_EDIT_FORM",view:n,formValues:s,changeInputValue:this.changeInputValue}),y&&u.default.createElement("div",null,u.default.createElement(g.default,{size:"sm"}))),u.default.createElement("div",{className:"table-inline-editing-buttons"},u.default.createElement(m.Button,{outline:!0,size:"sm",onClick:function(){o(s)&&e.setState({loading:!0})},disabled:y},u.default.createElement(c.FormattedMessage,{id:"TableView.inlineEditing.buttons.save",defaultMessage:"Save"})),u.default.createElement(m.Button,{outline:!0,size:"sm",onClick:i,disabled:y},u.default.createElement(c.FormattedMessage,{id:"TableView.inlineEditing.buttons.cancel",defaultMessage:"Cancel"}))))}}]),t}(),r.propTypes={context:d.default.object.isRequired,view:d.default.object.isRequired,columns:d.default.array.isRequired,rowId:d.default.any.isRequired,columnKey:d.default.any.isRequired,rowData:d.default.object.isRequired,save:d.default.func.isRequired,cancel:d.default.func.isRequired},o);t.default=v,e.exports=t.default},1407:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=a(n(1)),l=n(167),s=a(l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"renderElement",value:function(){return this.props.isEditor,i.default.createElement("div",{className:this.applyClassName("container-fluid")},this.renderChildren())}}]),t}();t.default=r({},l.defaultInfo,{type:"container",allowdIn:[],isContainer:!0,containerDirection:"y",canContain:["row"],Element:u}),e.exports=t.default},1408:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=a(n(1)),l=n(167),s=a(l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"renderElement",value:function(){return i.default.createElement("div",{className:this.applyClassName("row")},this.renderEditorControlsIfNeeded(),this.renderChildren())}}]),t}();t.default=r({},l.defaultInfo,{type:"row",isContainer:!0,containerDirection:"x",canContain:["column"],Element:u}),e.exports=t.default},1409:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=a(n(1)),l=n(167),s=a(l),u=a(n(6)),d=n(13);n(10);var c={sm:12,md:0,lg:0},f=[0,3,4,6,8,9,12],p=["Auto","1/4","1/3","1/2","3/4","2/3","100%"],m={sm:"fa-mobile",md:"fa-tablet",lg:"fa-desktop"},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"getWidthClass",value:function(e){var t=this.getWidthNumber(e);return t?"col-"+e+"-"+t:"col-"+e}},{key:"getWidthNumber",value:function(e){var t=this.props.content[e];return-1===f.indexOf(t)&&(t=c[e]),t}},{key:"changeWidth",value:function(e,t){var n=this.props.content,a=r({},n,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t));this.updateContent(a)}},{key:"renderElement",value:function(){return i.default.createElement("div",{className:this.applyClassName("col",this.getWidthClass("sm"),this.getWidthClass("md"),this.getWidthClass("lg"))},this.renderEditorControlsIfNeeded(),this.renderChildren())}},{key:"renderWidthSetting",value:function(e){for(var t=this,n=m[e],a=this.getWidthNumber(e),r=[],o=0;o<f.length;o++){var l=f[o],s=p[o];r.push(i.default.createElement("option",{key:l,value:l},s))}return i.default.createElement(d.FormGroup,{row:!0,key:e},i.default.createElement(d.Label,{sm:2},i.default.createElement("i",{className:(0,u.default)("fa fa-fw fa-2x",n)})),i.default.createElement(d.Col,{sm:10},i.default.createElement(d.Input,{type:"select",value:a,onChange:function(n){return t.changeWidth(e,parseInt(n.target.value,10))}},r)))}},{key:"renderSettings",value:function(){return i.default.createElement("div",{style:{width:"100%"}},this.renderWidthSetting("lg"),this.renderWidthSetting("md"),this.renderWidthSetting("sm"))}}]),t}();t.default=r({},l.defaultInfo,{type:"column",isContainer:!0,containerDirection:"y",canContain:!0,cannotContain:["row","column"],Element:h}),e.exports=t.default},1410:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=a(n(1)),u=a(n(0)),d=n(167),c=a(d),f=(a(n(6)),n(13)),p=n(10),m=a(n(49)),h=n(72),g=a(h),v=a(n(239)),y=a(n(698)),b=a(n(243)),E=n(8),w=1,_=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFieldValueChange=n.onFieldValueChange.bind(n),n.onRelationValueChange=n.onRelationValueChange.bind(n),n.onFieldSelected=n.onFieldSelected.bind(n),n.onRelationSelected=n.onRelationSelected.bind(n),n.onSearchTemplateChange=n.onSearchTemplateChange.bind(n),n.editMultipleValues=n.editMultipleValues.bind(n),n.uniqueIdPrefix="InputElement-unique-id-"+w++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),l(t,[{key:"getInputType",value:function(){return this.props.content.inputType||"field"}},{key:"onInputTypeChange",value:function(e){this.updateContent(i({},this.props.content,{inputType:e,fieldId:null,relationId:null,relationIsBack:null,fieldName:null,relationName:null,searchTemplate:null}))}},{key:"multipleDifferentValues",value:function(e,t){var n=this.context.formValues;if(Array.isArray(n)&&n.length>1){var a=n[0][e];return t&&(a=a?a.id:null),(0,E.some)(n,function(n){return t?(n[e]?n[e].id:null)===a:n[e]!==a})}return!1}},{key:"getFieldValue",value:function(e){var t=this.context.formValues;if(Array.isArray(t)){if(0===t.length)return null;t=t[0]}return t[e]||null}},{key:"onFieldValueChange",value:function(e){var t=this.props,n=t.content;if(!t.isEditor){var a=this.context.additionalInfo.keyForField(n.fieldId);this.context.changeInputValue&&this.context.changeInputValue(a,e)}}},{key:"getRelationValue",value:function(e){var t=this.context.formValues;if(Array.isArray(t)){if(0===t.length)return null;t=t[0]}return t[e]&&t[e].id||null}},{key:"onRelationValueChange",value:function(e){var t=this.props,n=t.content;if(!t.isEditor){var a=this.context.additionalInfo.keyForRelation(n.relationId,n.relationIsBack);e&&(e={id:e}),this.context.changeInputValue&&this.context.changeInputValue(a,e)}}},{key:"editMultipleValues",value:function(){}},{key:"renderMultipleValuesAlert",value:function(e){var t="INLINE_EDIT_FORM"===this.context.layoutType?"vertical":"horizontal",n=s.default.createElement(f.Alert,{color:"secondary",style:{padding:"0.375rem 0.75rem"},onClick:this.editMultipleValues},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.multipleValues",defaultMessage:"Multiple values"}),s.default.createElement("small",{className:"pull-right",style:{marginTop:2}},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.multipleValues.help",defaultMessage:"Click to edit"})));return(0,h.inputForm)(n,e,t)}},{key:"renderElement",value:function(){var e=this.props,t=e.content,n=e.isEditor,a=this.getInputType(),r="INLINE_EDIT_FORM"===this.context.layoutType?"vertical":"horizontal",o=void 0;if("field"===a&&t.fieldId){var l=this.context.additionalInfo||{},u=l.context,d=l.keyForField,c=l.getInputAdditionalProps,f=u.fields[t.fieldId],m=null;if(!n){var h=d(t.fieldId);this.multipleDifferentValues(h)?o=this.renderMultipleValuesAlert(t.fieldName):m=this.getFieldValue(h)}if(!o){var y=null;c&&(y=c("field",t.fieldId)),o=s.default.createElement("div",{className:"form form-horizontal"},s.default.createElement(g.default,i({value:m,onChange:this.onFieldValueChange,inForm:!0,formLayout:r,formLabel:t.fieldName,field:f},y)))}}else if("relation"===a&&t.relationId){var b=this.context.additionalInfo||{},E=b.context,w=b.view,_=b.keyForRelation,C=b.getViewColumnForRelation,k=b.getInputAdditionalProps,S=null,T=void 0;if(!n){var O=_(t.relationId,t.relationIsBack);this.multipleDifferentValues(O,!0)?o=this.renderMultipleValuesAlert(t.relationName):(S=this.getRelationValue(O),(T=C(t.relationId,t.relationIsBack))||(o=s.default.createElement("div",null,"Error: unknown column for relation ",t.relationId)))}o||(y=null,k&&(y=k("relation",t.relationId,t.relationIsBack)),o=s.default.createElement("div",{className:"form form-horizontal"},s.default.createElement(v.default,i({value:S,onChange:this.onRelationValueChange,inForm:!0,formLayout:r,formLabel:t.relationName,searchTemplate:t.searchTemplate,useFakeData:n,context:E,view:w,viewColumn:T},y))))}else o=s.default.createElement("div",{className:"text-muted",style:{textAlign:"center",padding:20}},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.render.checkSettings",defaultMessage:"Please check the settings"}));return s.default.createElement("div",{className:this.applyClassName("layout-element-input")},this.renderEditorControlsIfNeeded(),o)}},{key:"additionalPopoverClasses",value:function(){return"editor-element-settings-popover-big"}},{key:"renderSettings",value:function(){var e=this,t=(this.props.content,this.context.additionalInfo),n=(t.context,t.fields,t.relations,this.getInputType()),a=this.uniqueIdPrefix+"-input-type";return s.default.createElement("div",null,s.default.createElement("div",{className:"row"},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.selectInputType",defaultMessage:"Input type"}))),s.default.createElement(f.Col,{md:"9"},s.default.createElement(f.FormGroup,{check:!0,className:"radio"},s.default.createElement(f.Input,{className:"form-check-input",type:"radio",name:a,id:this.uniqueIdPrefix+"-input-type-field",value:"field",checked:"field"===n,onChange:function(t){return e.onInputTypeChange(t.currentTarget.value)}}),s.default.createElement(f.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-input-type-field"},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.inputType.field",defaultMessage:"Model's attribute"}))),s.default.createElement(f.FormGroup,{check:!0,className:"radio"},s.default.createElement(f.Input,{className:"form-check-input",type:"radio",name:a,id:this.uniqueIdPrefix+"-input-type-relation",value:"relation",checked:"relation"===n,onChange:function(t){return e.onInputTypeChange(t.currentTarget.value)}}),s.default.createElement(f.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-input-type-relation"},s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.inputType.relation",defaultMessage:"Model's relation"}))))),s.default.createElement("div",{style:{paddingTop:20}},"field"===n&&this.renderSettingsForTypeField(),"relation"===n&&this.renderSettingsForTypeRelation()))}},{key:"generateOptionsForFields",value:function(){var e=[];return this.context.additionalInfo.fields.forEach(function(t){t.readOnly||e.push({value:""+t.id,label:t.name,disabled:(t.id,!1)})}),e}},{key:"getSelectedFieldValue",value:function(){var e=this.props.content;return e.fieldId?""+e.fieldId:null}},{key:"onFieldSelected",value:function(e){this.updateContent(i({},this.props.content,{fieldId:e?parseInt(e,10):null}))}},{key:"onFieldNameChanged",value:function(e){this.updateContent(i({},this.props.content,{fieldName:e||null}))}},{key:"renderSettingsForTypeField",value:function(){var e=this,t=this.props.content,n=this.generateOptionsForFields();return s.default.createElement("div",null,s.default.createElement(f.FormGroup,{row:!0},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.modelFieldName.label",defaultMessage:"Name"}))),s.default.createElement(f.Col,{xs:"12",md:"9"},s.default.createElement(f.Input,{type:"text",value:t.fieldName||"",onChange:function(t){return e.onFieldNameChanged(t.target.value)}}))),s.default.createElement(f.FormGroup,{row:!0},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.modelFieldSelector.label",defaultMessage:"Attribute"}))),s.default.createElement(f.Col,{xs:"12",md:"9"},s.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:n,simpleValue:!0,clearable:!1,value:this.getSelectedFieldValue(),searchable:!0,onChange:this.onFieldSelected}))))}},{key:"generateOptionsForRelations",value:function(){var e=this.context.additionalInfo,t=e.model,n=[];return e.relations.forEach(function(e){e.model_from_id===t.id&&("ONE_TO_ONE"!==e.type&&"MANY_TO_ONE"!==e.type||n.push({value:e.id+"-f",label:e.nameForward,disabled:(e.id,!1)})),e.model_to_id===t.id&&("ONE_TO_ONE"!==e.type&&"ONE_TO_MANY"!==e.type||n.push({value:e.id+"-b",label:e.nameBackward,disabled:(e.id,!1)}))}),n}},{key:"getSelectedRelationValue",value:function(){var e=this.props.content;return e.relationId?e.relationId+(e.relationIsBack?"-b":"-f"):null}},{key:"onRelationSelected",value:function(e){var t=null,n=null,a=e&&e.split("-");a&&(t=parseInt(a[0],10),n="b"===a[1]),this.updateContent(i({},this.props.content,{relationId:t,relationIsBack:n}))}},{key:"getSelectedRelationModel",value:function(){var e=this.props.content,t=this.context.additionalInfo.context,n=t.relations[e.relationId],a=n&&n[e.relationIsBack?"model_from_id":"model_to_id"];return t.models[a]}},{key:"onRelationNameChanged",value:function(e){this.updateContent(i({},this.props.content,{relationName:e||null}))}},{key:"onSearchTemplateChange",value:function(e){this.updateContent(i({},this.props.content,{searchTemplate:e||null}))}},{key:"renderSettingsForTypeRelation",value:function(){var e=this,t=this.props.content,n=this.context.additionalInfo,a=n.context,r=(n.model,n.fields,n.relations,this.generateOptionsForRelations()),o=t.relationId&&this.getSelectedRelationModel();return s.default.createElement("div",null,s.default.createElement(f.FormGroup,{row:!0},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationName.label",defaultMessage:"Name"}))),s.default.createElement(f.Col,{xs:"12",md:"9"},s.default.createElement(f.Input,{type:"text",value:t.relationName||"",onChange:function(t){return e.onRelationNameChanged(t.target.value)}}))),s.default.createElement(f.FormGroup,{row:!0},s.default.createElement(f.Col,{md:"3"},s.default.createElement(f.Label,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationSelector.label",defaultMessage:"Relation"}))),s.default.createElement(f.Col,{xs:"12",md:"9"},s.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:r,simpleValue:!0,clearable:!1,value:this.getSelectedRelationValue(),searchable:!0,onChange:this.onRelationSelected}))),o&&s.default.createElement("div",null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationSearchTemplate.title",defaultMessage:'Select the details of the model "{modelName}" you want to see when you are searching for the entity you want to select',values:{modelName:o.name}}),s.default.createElement(y.default,{context:a,model:o,searchTemplate:t.searchTemplate,onChange:this.onSearchTemplateChange}),s.default.createElement(f.Card,{style:{marginTop:20}},s.default.createElement(f.CardHeader,null,s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationSearchTemplate.previewTitle",defaultMessage:"Preview"})),s.default.createElement(f.CardBody,null,s.default.createElement(b.default,{className:"model-search-template-preview",context:a,model:o,searchTemplate:t.searchTemplate,useFakeData:!0,warningMessage:s.default.createElement(p.FormattedMessage,{id:"LayoutEditor.element.input.settings.relationSearchTemplate.previewWarningMessage",defaultMessage:"Please select at least one detail"})}))))||null)}}]),t}(),r.contextTypes={additionalInfo:u.default.any,formValues:u.default.oneOfType([u.default.object,u.default.arrayOf(u.default.object)]),changeInputValue:u.default.func,layoutType:u.default.string},o);t.default=i({},d.defaultInfo,{type:"input",isContainer:!1,Element:_}),e.exports=t.default},1411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getViewDataValidationQuery=function(e){return{endpoint:"/view/"+e+"/dataValidation/data",method:"GET"}}},1412:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),c=n(19),f=a(n(0)),p=a(n(6)),m=n(10),h=n(13),g=n(8),v=a(n(208)),y=a(n(682)),b=a(n(207)),E=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeInputValue=n.changeInputValue.bind(n),n.getInputAdditionalProps=n.getInputAdditionalProps.bind(n),n.save=n.save.bind(n),n.cancel=n.cancel.bind(n),n.state={data:(0,g.cloneDeep)(n.props.data)||{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"componentWillReceiveProps",value:function(e){this.props.type!==e.type&&this.setState({data:(0,g.cloneDeep)(e.data)||{}})}},{key:"cancel",value:function(){this.props.onCancel()}},{key:"save",value:function(){var e=this.state.data;this.props.onSave(e)}},{key:"changeInputValue",value:function(e,t){var n=void 0;if(void 0===t)if(Array.isArray(this.state.data)){n=[];for(var a=0;a<this.state.data.length;a++)newObj=(0,g.clone)(this.state.data[a]),newObj[e]=this.props.data[a][e],n.push(newObj)}else t=this.state.data[e],n=l({},this.state.data,r({},e,t));else n=Array.isArray(this.state.data)?this.state.data.map(function(n){return l({},n,r({},e,t))}):l({},this.state.data,r({},e,t));this.setState({data:n})}},{key:"resizeModalBodyAndScrollIfNeeded",value:function(e,t){var n=(0,c.findDOMNode)(e),a=this.modalBodyContainer.parentElement,r=n.offsetTop+n.clientHeight+t+20;if(a.scrollHeight<r&&(this.modalBodyContainer.style.minHeight=r+"px"),a.scrollTop+a.clientHeight<r){var o=r-a.clientHeight;o=o<0?0:o,b.default.top(a,o,{duration:200})}}},{key:"getInputAdditionalProps",value:function(e,t,n){var a=this,r=t;if("relation"===e)return{ref:function(e){return i=e},onOpen:function(){a.resizeModalBodyAndScrollIfNeeded(i,210)}};if("field"===e){var o=this.props.context.fields[r];if(o&&"DATE"===o.type1||"DATETIME"===o.type1||"TIME"===o.type1){var i,l="DATE"===o.type1?260:"TIME"===o.type1?100:350;return{ref:function(e){return i=e},onPickerShow:function(){a.resizeModalBodyAndScrollIfNeeded(i,l)}}}if(o&&"TEXT"===o.type1&&o.dataValidationSourceModelId&&o.dataValidationSourceFieldId)return{ref:function(e){return i=e},onOpen:function(){a.resizeModalBodyAndScrollIfNeeded(i,210)}}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.type,r=t.editForm,o=(t.context,t.view),i=this.state.data,l=d.default.createElement(m.FormattedMessage,{id:"ModalEditForm.general.cancelButton",defaultMessage:"Cancel"}),s=void 0,u=void 0,c=null,f=null,g=!1;return n&&("create"===a?(u=d.default.createElement(m.FormattedMessage,{id:"ModalEditForm.create.title",defaultMessage:"Create new entry"}),s=d.default.createElement(m.FormattedMessage,{id:"ModalEditForm.create.saveButton",defaultMessage:"Create"})):"edit"===a?(g=i&&Array.isArray(i)&&i.length>1,u=d.default.createElement(m.FormattedMessage,{id:"ModalEditForm.edit.title",defaultMessage:"Edit {numberOfEntries, plural, one {entry} other {# entries}}",values:{numberOfEntries:g?i.length:1}}),s=d.default.createElement(m.FormattedMessage,{id:"ModalEditForm.edit.saveButton",defaultMessage:"Update"}),g&&(f=d.default.createElement(h.Alert,{color:"secondary"},d.default.createElement(m.FormattedMessage,{id:"ModalEditForm.edit.multipleEntriesAlert",defaultMessage:"The selected items may contain different values for some input. If you edit an attribute's value, all entries will be updated with the new value. Otherwise they will retain their initial values."})))):"duplicate"===a&&(u=d.default.createElement(m.FormattedMessage,{id:"ModalEditForm.duplicate.title",defaultMessage:"Duplicate entry"}),s=d.default.createElement(m.FormattedMessage,{id:"ModalEditForm.duplicate.saveButton",defaultMessage:"Duplicate"})),c=d.default.createElement("div",{className:"modal-body-container",ref:function(t){return e.modalBodyContainer=t}},d.default.createElement(y.default,{content:r,type:"FORM",view:o,formValues:i,changeInputValue:this.changeInputValue,getInputAdditionalProps:this.getInputAdditionalProps}))),d.default.createElement(v.default,{isOpen:n,toggle:function(){return null},className:(0,p.default)("modal-edit-form","modal-lg",this.props.className)},d.default.createElement(h.ModalHeader,{toggle:this.cancel},u),d.default.createElement(h.ModalBody,null,f,c),d.default.createElement(h.ModalFooter,null,d.default.createElement(h.Button,{color:"primary",onClick:this.save},s)," ",d.default.createElement(h.Button,{color:"secondary",onClick:this.cancel},l)))}}]),t}(),o.propTypes={context:f.default.object.isRequired,view:f.default.object.isRequired,open:f.default.bool.isRequired,type:f.default.oneOf(["create","edit","duplicate",!1]),editForm:f.default.any.isRequired,data:f.default.oneOfType([f.default.object,f.default.arrayOf(f.default.object)]),onCancel:f.default.func.isRequired,onSave:f.default.func.isRequired},i);t.default=(0,m.injectIntl)(E),e.exports=t.default},1413:function(e,t,n){function a(e){return r.createElement("svg",e,r.createElement("g",null,r.createElement("g",null,[r.createElement("path",{strokeWidth:"3",stroke:"#000",fill:"none",d:"M0,0 L35,0 L35,23 L0,23 Z",key:0}),r.createElement("path",{strokeWidth:"2",stroke:"#000",fill:"none",d:"M0,11 L35,11",key:1}),r.createElement("path",{strokeWidth:"2",stroke:"#000",fill:"none",d:"M12,0 L12,23",key:2}),r.createElement("path",{strokeWidth:"2",stroke:"#000",fill:"none",d:"M23,0 L23,23",key:3}),r.createElement("path",{strokeWidth:"2",stroke:"#000",fill:"#000",d:"M0,28 L35,28 L35,35 L0,35 Z",key:4})])))}var r=n(1);a.displayName="FooterIcon",a.defaultProps={version:"1.1",id:"Capa_1",x:"0px",y:"0px",width:"35px",height:"35px",viewBox:"0 0 35 35",style:{enableBackground:"new 0 0 35 35"},xmlSpace:"preserve"},e.exports=a,a.default=a},1414:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n,a,r,o){if(!e)return!!t;if(!t)return!0;if(e.id!=t.id||e.updated_at!==t.updated_at)return!0;if(n.length!==a.length)return!0;for(var i=0;i<n.length;i++){var l=n[i],s=a[i];if(l.id!=s.id||l.updated_at!==s.updated_at)return!0}if(r.length!==o.length)return!0;for(i=0;i<r.length;i++)if(l=r[i],s=o[i],l.id!=s.id||l.updated_at!==s.updated_at)return!0;if(e.permissions.length!==t.permissions.length)return!0;for(i=0;i<e.permissions.length;i++){var u=e.permissions[i],d=t.permissions[i];if(u.id!=d.id||u.updated_at!==d.updated_at)return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});var i,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(1),c=a(d),f=a(n(0)),p=n(26),m=n(8),h=n(10),g=n(13),v=n(168),y=n(86),b=n(27),E=a(n(481)),w=n(480),_=a(n(1504)),C=a(n(1506)),k=a(n(1507)),S=a(n(1508)),T=n(1523),O=(0,h.defineMessages)({newViewBaseName:{id:"EditView.newViewBaseName",defaultMessage:"New View"},deleteTitle:{id:"EditView.delete.confirmTitle",defaultMessage:"Confirm deletion"},deleteMessage:{id:"EditView.delete.confirmMessage",defaultMessage:"Are you sure to delete the view?"},deleteButton:{id:"EditView.delete.confirmButton",defaultMessage:"Delete the view"},errorTitle:{id:"EditView.error.title",defaultMessage:"Error"},createErrorMessage:{id:"EditView.error.createErrorMessage",defaultMessage:"Error trying to create the view."},deleteErrorMessage:{id:"EditView.error.deleteErrorMessage",defaultMessage:"Error trying to delete the view"},serverUpdateReceivedTitle:{id:"EditView.serverUpdateReceivedTitle",defaultMessage:"Changes detected"},serverUpdateReceivedMessage:{id:"EditView.serverUpdateReceivedMessage",defaultMessage:"The view has been reloaded because the server sent some changes."}}),M=(l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.save=n.save.bind(n),n.cancel=n.cancel.bind(n),n.askDelete=n.askDelete.bind(n),n.deleteView=n.deleteView.bind(n),n.changeName=n.changeName.bind(n),n.validateName=n.validateName.bind(n),n.changeIcon=n.changeIcon.bind(n),n.onColumnSortEnd=n.onColumnSortEnd.bind(n),n.onColumnUpdate=n.onColumnUpdate.bind(n),n.onColumnDelete=n.onColumnDelete.bind(n),n.setSelectedColumn=n.setSelectedColumn.bind(n),n.addColumn=n.addColumn.bind(n),n.setPermissions=n.setPermissions.bind(n),n.setFilters=n.setFilters.bind(n),n.startEditForm=n.startEditForm.bind(n),n.saveEditForm=n.saveEditForm.bind(n),n.stopEditForm=n.stopEditForm.bind(n),n.state=n.initialState(e),n.isNew()&&(n.state.changed=!0),n.state.selectedColumn=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"initialState",value:function(e){return{view:e.view||this.state&&this.state.view||this.createNewView(e),columns:e.columns||[],otherColumns:e.otherColumns||[],changed:!1,askDelete:!1,saving:!1,error:null,editingForm:!1}}},{key:"createNewView",value:function(e){var t=e.model,n=e.context,a=(0,e.intl.formatMessage)(O.newViewBaseName),r=new RegExp("^"+a+" ([0-9]+)$"),o=0;return(0,m.each)(n.views,function(e){var t=e.name.match(r);if(t){var n=t[1];o=Math.max(o,n)}}),{name:a+" "+(o+1),data_model_id:t.id,info:{}}}},{key:"checkNameExists",value:function(e){var t=this.props.context,n=this.state.view.id;return(0,m.some)(t.views,function(t){return t.id!==n&&t.name===e})}},{key:"isNew",value:function(){return!this.state.view.id}},{key:"createViewObject",value:function(){return s({},this.state.view,{columns:[].concat(r(this.state.columns),r(this.state.otherColumns))})}},{key:"componentWillReceiveProps",value:function(e){var t,n;t=this.props,n=e,o(t.view,n.view,t.columns||[],n.columns||[],t.otherColumns||[],n.otherColumns||[])&&(this.state.saving?this.setState(this.initialState(e)):this.setState(s({},this.initialState(e),{error:{during:"serverUpdate",error:null}})))}},{key:"save",value:function(){var e=this,t=this.isNew();this.setState({saving:!0,error:null}),this.props.saveView(this.createViewObject()).then(function(n){if(n.response&&n.response.id){var a=n.response;if(t)return void e.props.updateTabOptions(e.props.tabId,{viewId:a.id});i=e.state,l=a,o(i.view,l,i.columns||[],l.columns||[],i.otherColumns||[],l.otherColumns||[])||e.setState(s({},e.initialState(e.props)))}else{var r=n.response;console.log(r),e.setState({saving:!1,error:{during:"create",error:r}})}var i,l})}},{key:"cancel",value:function(){var e=this;this.isNew()?this.setState({changed:!1},function(){e.props.closeTab(e.props.tabId)}):this.setState(this.initialState(this.props))}},{key:"askDelete",value:function(){this.setState({askDelete:!0,error:null})}},{key:"deleteView",value:function(){var e=this;this.props.deleteView(this.state.view.id).then(function(t){if(t.response&&1===t.response.count)e.props.closeTab(e.props.tabId);else{var n=t.response;console.log(n),e.setState({askDelete:!1,error:{during:"delete",error:n}})}})}},{key:"changeName",value:function(e){this.setState({view:s({},this.state.view,{name:e}),changed:!0})}},{key:"validateName",value:function(e){return!this.checkNameExists(e)}},{key:"changeIcon",value:function(e){this.setState({view:s({},this.state.view,{icon:e}),changed:!0})}},{key:"onColumnSortEnd",value:function(e,t){var n=[].concat(r(this.state.columns)),a=this.state.columns[e];n.splice(e,1),n.splice(t,0,a);var o=this.state.selectedColumn;o>=0&&(o===e?o=t:e<t&&o>e&&o<=t?o--:e>t&&o<e&&o>=t&&o++),this.setState({columns:n,changed:!0,selectedColumn:o})}},{key:"renderViewDetails",value:function(){var e=this.props,t=e.model,n=e.openEditModel,a=this.state.view;return c.default.createElement(g.Row,null,c.default.createElement(g.Col,null,c.default.createElement("div",{className:"view-detail-container"},c.default.createElement("span",{className:"text-muted"},c.default.createElement(h.FormattedMessage,{id:"EditView.viewName",defaultMessage:"View name"}),":"," "),c.default.createElement(v.EditableText,{value:a.name,onChange:this.changeName,validate:this.validateName,className:"view-name-editable"})),c.default.createElement("div",{className:"view-detail-container"},c.default.createElement("span",{className:"text-muted"},c.default.createElement(h.FormattedMessage,{id:"EditView.icon",defaultMessage:"Icon"}),":"," "),c.default.createElement(v.IconWithPicker,{icon:a.icon||y.defaultViewIcon,button:!0,onChange:this.changeIcon,className:"view-icon-editable"})),c.default.createElement("div",{className:"view-detail-container"},c.default.createElement("span",{className:"text-muted"},c.default.createElement(h.FormattedMessage,{id:"EditView.modelName",defaultMessage:"Model"}),":"," "),c.default.createElement(v.Link,{onClick:function(e){return n(t.id,e)},className:"view-model-name"},t.name))))}},{key:"setSelectedColumn",value:function(e){var t=e.selectedColumns,n=Object.keys(t),a=n[0]?parseInt(n[0],10):null;this.setState({selectedColumn:a})}},{key:"updateColumnsAndOtherColumns",value:function(e,t,n){var a=(0,m.clone)(t),r=(0,T.getAllByType)(n,"input");return(0,m.each)(r,function(n){var r=function(e){return e.field_id==n.fieldId&&e.relation_id==n.relationId};if(-1===(0,m.findIndex)(e,r)){var o=(0,m.findIndex)(t,r);-1===o?t.push({scope:"EDIT_FORM",name:n.fieldName||n.relationName||"",field_id:n.fieldId,relation_id:n.relationId,edit:!0,searchTemplate:n.searchTemplate||null}):(t[o]=s({},t[o],{scope:"EDIT_FORM",name:n.fieldName||n.relationName||"",field_id:n.fieldId,relation_id:n.relationId,edit:!0,searchTemplate:n.searchTemplate||null}),a[o]=null)}}),(0,m.eachRight)(a,function(e,n){e&&t.splice(n,1)}),{editingForm:!1,columns:e,otherColumns:t,changed:!0}}},{key:"onColumnUpdate",value:function(e,t){var n=(0,m.clone)(this.state.columns),a=(0,m.clone)(this.state.otherColumns);a.push(n[e]),n[e]=t;var r=this.state.view.info.editForm,o=this.updateColumnsAndOtherColumns(n,a,r);this.setState(o)}},{key:"onColumnDelete",value:function(e){var t=(0,m.clone)(this.state.columns),n=(0,m.clone)(this.state.otherColumns);n.push(t[e]),t.splice(e,1);var a=this.state.selectedColumn,r=a===e?null:a>e?a-1:a,o=this.updateColumnsAndOtherColumns(t,n,editForm);this.setState(s({},o,{selectedColumn:r}))}},{key:"addColumn",value:function(){var e=(0,m.clone)(this.state.columns);e.push({});var t=e.length-1;this.setState({columns:e,newSelectedColumn:t,changed:!0})}},{key:"setPermissions",value:function(e){this.setState({view:s({},this.state.view,{permissions:e}),changed:!0})}},{key:"setFilters",value:function(e){this.setState({view:s({},this.state.view,e),changed:!0})}},{key:"renderColumns",value:function(){var e,t,n,a=this.props,r=a.context,o=a.data,i=a.dataLoading,l=a.dataFailed,s=this.state,u=s.view,d=s.columns,f=s.selectedColumn,p=(0,w.getTableColumns)(d,r),m=o&&o.data;return c.default.createElement("div",null,c.default.createElement(g.Row,null,c.default.createElement(g.Col,null,c.default.createElement("div",{className:"edit-view-columns-table"},c.default.createElement(E.default,{columns:p,rows:m,loading:i,failed:l,sortColumns:!0,onColumnSortEnd:this.onColumnSortEnd,canSelectColumn:"single",onSelectionChange:this.setSelectedColumn,selectedColumns:"number"==typeof f?(e={},t=f,n=!0,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e):null,notCancelSelectionOnClickOutside:!0})))),c.default.createElement(g.Row,{style:{marginTop:20}},c.default.createElement(g.Col,null,null===f?c.default.createElement(g.Alert,{color:"secondary"},c.default.createElement(h.FormattedMessage,{id:"EditView.column.selectColumnToEditMessage",defaultMessage:"Select a column to edit"})):c.default.createElement("div",{className:"column-edit-container"},c.default.createElement(_.default,{view:u,columns:d,columnIndex:f,context:r,onUpdate:this.onColumnUpdate,onDelete:this.onColumnDelete})))))}},{key:"getEditForm",value:function(){var e=this.state.view;return e.info&&e.info.editForm?e.info.editForm:[{type:"row",children:[{type:"column"}]}]}},{key:"startEditForm",value:function(){this.setState({editingForm:!0})}},{key:"saveEditForm",value:function(e){var t=(0,m.clone)(this.state.columns),n=(0,m.clone)(this.state.otherColumns),a=this.updateColumnsAndOtherColumns(t,n,e);this.setState(s({},a,{view:s({},this.state.view,{info:s({},this.state.view.info,{editForm:e})})}))}},{key:"stopEditForm",value:function(){this.setState({editingForm:!1})}},{key:"getEditFormAdditionalInfo",value:function(){var e=this.props,t=e.model,n=e.context,a=t.fields.map(function(e){return n.fields[e]}),r=t.relations.map(function(e){return n.relations[e]});return{context:n,model:t,fields:a,relations:r}}},{key:"tabCanBeClosed",value:function(e){this.state.changed?e(!1,!0):e(!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.model,r=t.context,o=t.intl,i=this.state,l=i.view,u=i.columns,d=i.changed,f=i.askDelete,p=i.saving,m=i.error,y=i.editingForm,b=o.formatMessage;if(!(l&&u&&n&&a))return console.error("Mostrare finestra di errore"),c.default.createElement("div",null,"...");var E=this.isNew(),w=!E,_=d,T=d||E,M=p,R=null;if(m){switch(m.during){case"create":R={title:b(O.errorTitle),message:b(O.createErrorMessage)};break;case"delete":R={title:b(O.errorTitle),message:b(O.deleteErrorMessage)};break;case"serverUpdate":R={title:b(O.serverUpdateReceivedTitle),message:b(O.serverUpdateReceivedMessage)}}R||(R={}),m.error&&(R.message=c.default.createElement("div",null,R.message||"",c.default.createElement("pre",null,JSON.stringify(m.error,null,2))))}return c.default.createElement(v.Container,{className:"edit-view"},c.default.createElement(g.Card,null,c.default.createElement(g.CardHeader,null,c.default.createElement(h.FormattedMessage,{id:"EditView.title",defaultMessage:"View"}),c.default.createElement("div",{className:"pull-right",style:{marginBottom:-5}},w&&c.default.createElement(g.Button,{color:"danger",onClick:this.askDelete},c.default.createElement(h.FormattedMessage,{id:"EditView.deleteView",defaultMessage:"Delete view"}))," ",_&&c.default.createElement(g.Button,{color:"success",onClick:this.save},c.default.createElement(h.FormattedMessage,{id:"EditView.save",defaultMessage:"Save"}))," ",T&&c.default.createElement(g.Button,{color:"warning",onClick:this.cancel},c.default.createElement(h.FormattedMessage,{id:"EditView.cancel",defaultMessage:"Cancel"}))," ")),c.default.createElement(g.CardBody,null,this.renderViewDetails())),c.default.createElement(g.Card,null,c.default.createElement(g.CardHeader,null,c.default.createElement(h.FormattedMessage,{id:"EditView.columnsSectionTitle",defaultMessage:"Columns"}),c.default.createElement("div",{className:"pull-right",style:{marginBottom:-5}},c.default.createElement(g.Button,{outline:!0,onClick:this.addColumn},c.default.createElement(h.FormattedMessage,{id:"EditView.addColumn",defaultMessage:"Add column"})))),c.default.createElement(g.CardBody,null,this.renderColumns())),c.default.createElement(g.Card,null,c.default.createElement(g.CardHeader,null,c.default.createElement(h.FormattedMessage,{id:"EditView.editingFormSectionTitle",defaultMessage:"Editing form"})),c.default.createElement(g.CardBody,null,c.default.createElement(g.Button,{onClick:this.startEditForm},"EDIT FORM"))),c.default.createElement(g.Card,null,c.default.createElement(g.CardHeader,null,c.default.createElement(h.FormattedMessage,{id:"EditView.filtersSectionTitle",defaultMessage:"Filters"})),c.default.createElement(g.CardBody,null,c.default.createElement(k.default,{context:r,view:l,onFiltersChange:this.setFilters}))),c.default.createElement(g.Card,null,c.default.createElement(g.CardHeader,null,c.default.createElement(h.FormattedMessage,{id:"EditView.permissionsSectionTitle",defaultMessage:"Permissions"})),c.default.createElement(g.CardBody,null,c.default.createElement(C.default,{context:r,view:l,setPermissions:this.setPermissions}))),c.default.createElement(v.Dialog,{open:f,dialogType:"confirm",title:b(O.deleteTitle),message:b(O.deleteMessage),successButton:b(O.deleteButton),successColor:"danger",onSuccess:this.deleteView,onCancel:function(){return e.setState({askDelete:!1})}}),c.default.createElement(v.Dialog,s({open:!!R,dialogType:"alert"},R,{onCancel:function(){return e.setState({error:null})}})),c.default.createElement(v.Dialog,{open:M,dialogType:"loading"}),y&&c.default.createElement(S.default,{content:this.getEditForm(),save:this.saveEditForm,cancel:this.stopEditForm,additionalInfo:this.getEditFormAdditionalInfo(),type:"FORM"}))}}]),t}(),i.propTypes={tabId:f.default.any.isRequired,model:f.default.object.isRequired,viewId:f.default.number},l),R={closeTab:b.closeTab,saveView:b.saveView,deleteView:b.deleteView,updateTabOptions:b.updateTabOptions,openEditModel:b.openEditModel};t.default=(0,p.connect)(function(e,t){var n=t.viewId,a=t.newView,r=e.context.views,o=r&&r[n],i=e.context.viewColumns,l=o&&o.columns&&i&&o.columns.map(function(e){return i[e]}),s=o&&o.otherColumns&&i&&o.otherColumns.map(function(e){return i[e]}),u=a?a.modelId:o&&o.data_model_id,d=e.context.models[u];return{user:e.auth.user,context:e.context,view:o,columns:l,otherColumns:s,model:d}},R,null,{withRef:!0})((0,h.injectIntl)(M,{withRef:!0})),e.exports=t.default},1418:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=a(n(267)),i=a(n(1419));o.default.require=o.default.acequire;var l={generator:function(e,t){var n="start";t&&t.boolean&&(n="boolean_expression");var a=[],l=[];(0,r.each)(e,function(e,t){Array.isArray(e)?(l.push(t),e.forEach(function(e){a.push(t+"."+e)})):a.push(t)});var s={RegExpID:"RE::",Extra:{fold:"brace"},Style:{if_name:"keyword",sum_name:"keyword",sumif_name:"keyword",min_name:"keyword",max_name:"keyword",concat_name:"keyword",dateadddays_name:"keyword",count_name:"keyword",countif_name:"keyword",empty_name:"keyword",exists_name:"keyword",boolean_operator:"keyword",not_operator:"keyword",boolean_expression_operator:"keyword",expression_operator:"keyword",integer:"constant.numeric",double:"constant.numeric",boolean:"constant.language",constant:"constant.language",string:"string",object_property:"identifier",property:"identifier"},Lex:{if_name:{autocomplete:["IF"],tokens:["IF","If"],msg:"IF",autocompleteMeta:"Function"},sum_name:{autocomplete:["SUM"],tokens:["SUM","Sum"],autocompleteMeta:"Function"},sumif_name:{autocomplete:["SUMIF"],tokens:["SUMIF","SumIf"],autocompleteMeta:"Function"},min_name:{autocomplete:["MIN"],tokens:["MIN","Min"],autocompleteMeta:"Function"},max_name:{autocomplete:["MAX"],tokens:["MAX","Max"],autocompleteMeta:"Function"},concat_name:{autocomplete:["CONCAT"],tokens:["CONCAT","Concat"],autocompleteMeta:"Function"},dateadddays_name:{autocomplete:["DATE_ADD_DAYS"],tokens:["DATE_ADD_DAYS","DateAddDays"],autocompleteMeta:"Function"},count_name:{autocomplete:["COUNT"],tokens:["COUNT","Count"],autocompleteMeta:"Function"},countif_name:{autocomplete:["COUNTIF"],tokens:["COUNTIF","CountIf"],autocompleteMeta:"Function"},exists_name:{autocomplete:["EXISTS"],tokens:["EXISTS","Exists"],autocompleteMeta:"Function"},empty_name:{autocomplete:["EMPTY"],tokens:["EMPTY","Empty"],autocompleteMeta:"Function"},boolean_operator:{autocomplete:["AND","OR"],tokens:["AND","And","&","&&","OR","Or","|","||"],autocompleteMeta:""},not_operator:{autocomplete:["NOT"],tokens:["NOT","Not"],autocompleteMeta:""},boolean_expression_operator:{tokens:"RE::/=|==|>|<|>=|<=|!=|<>/"},expression_operator:{tokens:"RE::/[+\\-\\*\\/\\^\\%]/"},plus_minus_op:{tokens:"RE::/[+\\-]/"},integer:"RE::/[0-9]\\d*/",double:"RE::/\\d+\\.\\d+/",boolean:"RE::/TRUE|True|true|FALSE|False|false/",constant:"RE::/PI/",variable:{autocomplete:!0,tokens:a,autocompleteMeta:"Variable"},object:{autocomplete:!0,tokens:l,autocompleteMeta:"Object"},string:{type:"escaped-block",escape:"\\",tokens:["RE::/(['\"])/",1]}},Syntax:{start:"expression{1}",function:"if|sum|sumif|min|max|concat|dateadddays|count|countif|empty|exists",boolean_function:"empty|exists",if:"if_name '(' boolean_expression ';' expression (';' expression)? ')'",sum:"sum_name '(' variable ')'",sumif:"sumif_name'(' boolean_expression ';' variable ')'",min:"min_name '(' variable ')'",max:"max_name '(' variable ')'",concat:"concat_name '(' expression (';' expression)* ')'",dateadddays:"dateadddays_name '(' expression ';' expression ')'",count:"count_name '(' object ')'",countif:"countif_name '(' boolean_expression ';' object ')'",empty:"empty_name '(' expression ')'",exists:"exists_name '(' object ')'",boolean_expression:"boolean_expression_term (boolean_operator boolean_expression_term)*",boolean_expression_term:"'(' boolean_expression ')'|not_operator '(' boolean_expression ')'|boolean_function (boolean_expression_operator boolean_expression_term)?|boolean (boolean_expression_operator boolean_expression_term)?|expression boolean_expression_operator expression",minus_expression_term:"'(' expression ')'|function|variable|double|integer",minus_expression:"plus_minus_op minus_expression_term",expression:"term (expression_operator term)*",term:"'(' expression ')'|double|integer|function|variable|string|boolean|constant|minus_expression"},Parser:[n]},u=i.default.getMode(s,null,o.default);return u.supportCodeFolding=!0,u.supportAutoCompletion=!0,u.autocompleter.options={prefixMatch:!0,caseInsesitiveMatch:!0,caseInsensitiveMatch:!0,inContext:!0},u}};t.default=l,e.exports=t.default},1419:function(e,t){!function(t,n,a){"use strict";var r;"object"==typeof e&&e.exports?e.exports=a.call(t,{}):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System.import?System.register(n,[],function(e){e(n,a.call(t,{}))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(){return a.call(t,{})}):n in t||(t[n]=r=a.call(t,{}))&&"function"==typeof define&&define.amd&&define(function(){return r})}(this,"AceGrammar",function(e){"use strict";function t(e){var t=0;return null===e?t=Je:!0===e||!1===e||e instanceof Boolean?t=at:Be===e?t=Ze:(t=gt[He.call(e)]||Qe,t=et===t||e instanceof Number?isNaN(e)?nt:isFinite(e)?et:tt:rt===t||e instanceof String?1===e.length?ot:rt:lt===t||e instanceof Array?lt:dt===t||e instanceof RegExp?dt:ct===t||e instanceof Date?ct:ut===t||e instanceof Function?ut:st===t?st:Qe),t}function n(e,t,n,a){var r,o,i,l,s,u,d=e.length;if(arguments.length<4&&(a=d-1),0>a&&(a+=d),arguments.length<3&&(n=0),n>a)return[];if(n===a)return[t(e[n],n,n,a)];for(s=1&(l=15&(i=a-n+1)),u=new Array(i),s&&(u[0]=t(e[n],n,n,a)),r=s;r<l;r+=2)o=n+r,u[r]=t(e[o],o,n,a),u[r+1]=t(e[o+1],o+1,n,a);for(r=l;r<i;r+=16)o=n+r,u[r]=t(e[o],o,n,a),u[r+1]=t(e[o+1],o+1,n,a),u[r+2]=t(e[o+2],o+2,n,a),u[r+3]=t(e[o+3],o+3,n,a),u[r+4]=t(e[o+4],o+4,n,a),u[r+5]=t(e[o+5],o+5,n,a),u[r+6]=t(e[o+6],o+6,n,a),u[r+7]=t(e[o+7],o+7,n,a),u[r+8]=t(e[o+8],o+8,n,a),u[r+9]=t(e[o+9],o+9,n,a),u[r+10]=t(e[o+10],o+10,n,a),u[r+11]=t(e[o+11],o+11,n,a),u[r+12]=t(e[o+12],o+12,n,a),u[r+13]=t(e[o+13],o+13,n,a),u[r+14]=t(e[o+14],o+14,n,a),u[r+15]=t(e[o+15],o+15,n,a);return u}function a(e,t,n,a,r){var o,i,l,s,u,d=e.length,c=n;if(arguments.length<5&&(r=d-1),0>r&&(r+=d),arguments.length<4&&(a=0),a>r)return c;if(a===r)return t(c,e[a],a);for((u=1&(s=15&(l=r-a+1)))&&(c=t(c,e[a],a)),o=u;o<s;o+=2)c=t(t(c,e[i=a+o],i),e[i+1],i+1);for(o=s;o<l;o+=16)c=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(c,e[i=a+o],i),e[i+1],i+1),e[i+2],i+2),e[i+3],i+3),e[i+4],i+4),e[i+5],i+5),e[i+6],i+6),e[i+7],i+7),e[i+8],i+8),e[i+9],i+9),e[i+10],i+10),e[i+11],i+11),e[i+12],i+12),e[i+13],i+13),e[i+14],i+14),e[i+15],i+15);return c}function r(e,t,n,a){if(t>n)return a;if(t===n)return e(t,a,t,n),a;var r,o,i=n-t+1,l=15&i,s=1&l;for(s&&e(t,a,t,n),r=s;r<l;r+=2)e(o=t+r,a,t,n),e(++o,a,t,n);for(r=l;r<i;r+=16)e(o=t+r,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n),e(++o,a,t,n);return a}function o(e,n){var a,r,i,l,s=t(e),u=0;if(et===t(n)?0<n?(u=n,n=!0):n=!1:n=!1!==n,st===s)for(i in r={},e)e[qe](i)&&e[Ge](i)&&(a=t(e[i]),r[i]=st===a?n?o(e[i],u>0?u-1:n):e[i]:lt===a?n?o(e[i],u>0?u-1:n):e[i].slice():ct===a?new Date(e[i]):rt&a?e[i].slice():et&a?0+e[i]:e[i]);else if(lt===s)for(l=e.length,r=new Array(l),i=0;i<l;i++)a=t(e[i]),r[i]=st===a?n?o(e[i],u>0?u-1:n):e[i]:lt===a?n?o(e[i],u>0?u-1:n):e[i].slice():ct===a?new Date(e[i]):rt&a?e[i].slice():et&a?0+e[i]:e[i];else r=ct===s?new Date(e):rt&s?e.slice():et&s?0+e:e;return r}function i(){var e,n,a,r,l,s,u,d,c,f,p=arguments,m=p.length;if(m<1)return null;for(n=o(p[0]),a=1;a<m;a++)if(e=p[a])for(r in e)if(e[qe](r)&&e[Ge](r))if(n[qe](r)&&n[Ge](r)){if(c=t(n[r]),f=t(e[r]),st===c&&st===f)n[r]=i(n[r],e[r]);else if(lt===c&&lt===f){if(u=n[r],!(s=(d=e[r]).length))continue;if(u.length)for(l=0;l<s;l++)0>u.indexOf(d[l])&&u.push(d[l]);else n[r]=d.slice()}}else n[r]=o(e[r]);return n}function l(){return!0}function s(e,n){return n||lt!==t(e)?[e]:e}function u(e,n){return e=s(e),(n||lt!==t(e[0]))&&(e=[e]),e}function d(e,n){return rt&t(n)&&rt&t(e)&&n.length&&n.length<=e.length&&n===e.substr(0,n.length)}function c(e,t,n){return t<e.length?e.splice(t,0,n):e.push(n),e}function f(e,t){var n=0,a=e.length;if(!0===t)e.length=0;else if(t){for(;n<a&&e[a-n-1].$id===t;)n++;n&&(e.length=a-n)}return e}function p(e,t,n){return n?e[t]=Be:delete e[t],e}function m(e){return(e||"uuid")+"_"+ ++_t+"_"+(new Date).getTime()}function h(e,n){var a,r=arguments.length,o="constructor";return 0===r?(e=Object,n={}):1===r?(n=e||{},e=Object):(e=e||Object,n=n||{}),n[qe](o)||(n[o]=function(){}),a=n[o],delete n[o],a[Ue]=function(){var e,n,a,r,o,i,l=arguments,s=l.length;for(e=l[0]||{},o=1;o<s;o++)if(n=l[o],st===t(n))for(r in n)n[qe](r)&&n[Ge](r)&&(i=t(a=n[r]),e[r]=et&i?0+a:ct&i?new Date(a):pt&i?a.slice():a);return e}(We(e[Ue]),n),a[Ue][o]=a,a}function g(e){return e.replace(Ct,"\\$1")}function v(e,t){return new RegExp(e,t||"")}function y(e,t,n,a){var r,o,i,l,s=e.pos,u=e.length,d="";if(n){for(a=!!a,o=!1,l=0;s<u&&(t!==(r=e[Xe](s++))||o);)i=n===r,o=!o&&i,a?(i&&l++,(!i||2&l)&&(d+=r,l=0)):d+=r;2&l&&(d+=n)}else for(;s<u&&t!==(r=e[Xe](s++));)d+=r;return e.pos=s,d}function b(e,n,a){var r,o,i,l,s,u=!0===a?0:1;for(rt&t(n)&&(n=[n,n,n],u=0),o=e.length,s="",r=0;r<o;)i=e[Xe](r),r+1<o&&"$"===i?36===(l=e.charCodeAt(r+1))?(s+="$",r+=2):48<=l&&l<=57?(s+=n[u+l-48]||"",r+=2):(s+=i,r+=1):(s+=i,r+=1);return s}function E(e,n,a,r){if(!e||(et|dt)&t(e))return e;var o=n&&n.length||0,i="";if(rt&t(r)?i=r:r&&(i=St),o&&n===e.substr(0,o)){var l,s,u,d,c=e.substr(o),f=c[Xe](0),p="";for(u=c.length;u--&&f!==(d=c[Xe](u));)"i"===d.toLowerCase()&&(p="i");return a[l="^("+c.substring(1,u)+")"]||(s=v(l,p),a[l]=s),a[l]}return i?(a[l="^("+g(e)+")"+i]||(s=v(l,p),a[l]=s),a[l]):e}function w(e,n,a,r){var o=t(n);if(et===o)return n;if(r[e])return r[e];a=a||0;var i,l=0;return n&&n.isCharList&&(l=1,p(n,"isCharList")),i=Je===o?new R(se,e,n,Je,a):ot===o?new R(se,e,n,ot,a):mt&o?new R(se,e,n,dt,a):rt&o?new R(se,e,n,l?it:rt,a):n,r[e]=i}function _(e,a,r,o,i,l,u){if(u[e])return u[e];var c,f,p,m,h,y,b,C=0,k=0,S=1,T=!!(rt&t(o))||!!o;if(1===(p=(c=s(a)).length))b=w(e,E(c[0],r,l,o),0,u);else if(1<p){for(m=1+(p>>>1),f=0;f<=m;f++)h=t(c[f]),y=t(c[p-1-f]),ot===h&&ot===y||(S=0),lt&h||lt&y?C=1:(dt&h||dt&y||d(c[f],r)||d(c[p-1-f],r))&&(k=1);if(S&&!T)(c=c.slice().join("")).isCharList=1,b=w(e,c,0,u);else if(!T||C||k)if(C||k){for(f=0;f<p;f++)lt&t(c[f])?c[f]=_(e+"_"+f,c[f],r,o,i,l,u):c[f]=w(e+"_"+f,E(c[f],r,l),f,u);b=p>1?new R(ue,e,c):c[0]}else{for(c=c.sort(bt),f=0;f<p;f++)c[f]=w(e+"_"+f,E(c[f],r,l),f,u);b=p>1?new R(ue,e,c):c[0]}else b=w(e,function(e,a,r){var o="";return rt&t(a)?o=a:a&&(o=St),[v("^("+n(e.sort(bt),g).join("|")+")"+o,r?"i":""),1]}(c,o,i),0,u)}return u[e]=b}function C(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var n,a,r,o,l,s,u,d,c,f,m,h=e.Lex,g=e.Syntax,v=[h,g],y=v.length;for(m=0;m<y;)for(r in f=v[m++])f[qe](r)&&(a=(n=r.split(":"))[1]&&yt(n[1]).length?yt(n[1]):null,(n=yt(n[0])).length||(n=r,a=null),n!==r&&(f[n]=f[r],p(f,r),a&&(a=a[Ke](),l=t(o=f[n]),st===l?f[n].type||(f[n].type=a):(f[n]={type:a},"error"===a?(f[n].type="action",f[n].error=o):"nop"===a?(f[n].type="action",f[n].nop=!0):"group"===a?(f[n].type="sequence",f[n].tokens=o):"action"===a&&rt===l?f[n][o]=!0:f[n].tokens=o))),h===f&&(ht&t(f[n])&&(f[n]={type:"simple",tokens:f[n]}),(o=f[n]).type&&("line-block"===(d=o.type=o.type[Ke]())?(o.type="block",o.multiline=!1,o.escape=!1):"escaped-line-block"===d?(o.type="block",o.multiline=!1,o.escape="\\"):"escaped-block"===d&&(o.type="block",o.multiline=!0,o.escape="\\"))));for(n in f=h)if(f[qe](n))for(o=f[n];o.extend;)s=o.extend,p(o,"extend"),(u=h[s])&&(ht&t(u)&&(u=h[s]={type:"simple",tokens:u}),o=i(u,o));for(n in f=h)f[qe](n)&&((o=f[n]).type?"line-block"===(d=o.type=o.type[Ke]())?(o.type="block",o.multiline=!1,o.escape=!1):"escaped-line-block"===d?(o.type="block",o.multiline=!1,o.escape="\\"):"escaped-block"===d&&(o.type="block",o.multiline=!0,o.escape="\\"):o["escaped-line-block"]?(o.type="block",o.multiline=!1,o.escape||(o.escape="\\"),o.tokens=o["escaped-line-block"],p(o,"escaped-line-block")):o["escaped-block"]?(o.type="block",o.multiline=!0,o.escape||(o.escape="\\"),o.tokens=o["escaped-block"],p(o,"escaped-block")):o["line-block"]?(o.type="block",o.multiline=!1,o.escape=!1,o.tokens=o["line-block"],p(o,"line-block")):o.comment?(o.type="comment",o.escape=!1,o.tokens=o.comment,p(o,"comment")):o.block?(o.type="block",o.tokens=o.block,p(o,"block")):o.simple?(o.type="simple",o.tokens=o.simple,p(o,"simple")):o.nop?(o.type="action",o.action=["nop",o.nop,!1],o.nop=!0):o.error?(o.type="action",o.action=["error",o.error,!!o["in-context"]],p(o,"error")):o[qe]("context")?(o.type="action",o.action=[o.context?"context-start":"context-end",o.context,!!o["in-context"]],p(o,"context")):o.indent?(o.type="action",o.action=["indent",o.indent,!!o["in-context"]],p(o,"indent")):o.outdent?(o.type="action",o.action=["outdent",o.outdent,!!o["in-context"]],p(o,"outdent")):o.unique?(o.type="action",o.action=["unique",rt&t(o.unique)?["_DEFAULT_",o.unique]:o.unique,!!o["in-context"]],p(o,"unique")):o.push?(o.type="action",o.action=["push",o.push,!!o["in-context"]],p(o,"push")):o[qe]("pop")?(o.type="action",o.action=["pop",o.pop,!!o["in-context"]],p(o,"pop")):o.type="simple","action"===o.type?o.ci=!(!o.caseInsesitive&&!o.ci):"block"===o.type||"comment"===o.type?(o.multiline=!o[qe]("multiline")||!!o.multiline,rt&t(o.escape)||(o.escape=!1)):"simple"===o.type&&(o.meta=o.autocomplete&&rt&t(o.meta)?o.meta:null,o.ci=!(!o.caseInsesitive&&!o.ci)));for(n in f=g)f[qe](n)&&(o=f[n],st!==t(o)||o.type?o.type&&("group"===(d=o.type=o.type[Ke]())&&o.match?(l=t(o.match),rt&l?"alternation"===(c=o.match[Ke]())||"either"===c?(o.type="alternation",p(o,"match")):"sequence"===c||"all"===c?(o.type="sequence",p(o,"match")):"zeroorone"===c?(o.type="zeroOrOne",p(o,"match")):"zeroormore"===c?(o.type="zeroOrMore",p(o,"match")):"oneormore"===c?(o.type="oneOrMore",p(o,"match")):(o.type="sequence",p(o,"match")):lt&l&&(o.type="repeat",o.repeat=o.match,p(o,"match"))):"either"===d?o.type="alternation":"all"===d?o.type="sequence":"lookahead"===d&&(o.type="positiveLookahead")):o.ngram||o["n-gram"]?(o.type="ngram",o.tokens=o.ngram||o["n-gram"],o["n-gram"]?p(o,"n-gram"):p(o,"ngram")):o.sequence||o.all?(o.type="sequence",o.tokens=o.sequence||o.all,o.all?p(o,"all"):p(o,"sequence")):o.alternation||o.either?(o.type="alternation",o.tokens=o.alternation||o.either,o.either?p(o,"either"):p(o,"alternation")):o.zeroOrOne?(o.type="zeroOrOne",o.tokens=o.zeroOrOne,p(o,"zeroOrOne")):o.zeroOrMore?(o.type="zeroOrMore",o.tokens=o.zeroOrMore,p(o,"zeroOrMore")):o.oneOrMore?(o.type="oneOrMore",o.tokens=o.oneOrMore,p(o,"oneOrMore")):o.positiveLookahead||o.lookahead?(o.type="positiveLookahead",o.tokens=o.positiveLookahead||o.lookahead,o.lookahead?p(o,"lookahead"):p(o,"positiveLookahead")):o.negativeLookahead&&(o.type="negativeLookahead",o.tokens=o.negativeLookahead,p(o,"negativeLookahead")));return e}function k(e,n,a,r){for(var o;rt&t(o=n[e]||a[e]);)e=o;return r?e:n[e]||a[e]||e}function S(e,t){return e.length>1?r(t?function(t,n){var a=n[n.length-1],r=e[t];a===r||n.push(r)}:function(t,n){var a=n[n.length-1],r=e[t];Tt.test(r)&&Tt.test(a)&&a===r||n.push(r)},1,e.length-1,[e[0]]):e}function T(e,a,r){var i,l,s,u,d,c,f,p,m,h,b,E,w,_,C=!1;if(_=e.modifier?e.modifier:null,(f=new String(yt(e))).pos=0,1===f.length)a[b=""+e]||r[b]||(a[b]={type:"simple",tokens:e}),e=b;else{for(i=[],l=[],s="",E=[];f.pos<f.length;)if(p=f[Xe](f.pos++),kt.test(p))if(s.length&&(C?(l.length&&(a[b=(h=l[l.length-1])+"."+s]||r[b]||(c=k(h,a,r),r[b]=rt&t(c)?new String(c):o(c),r[b].modifier=s),l[l.length-1]=b),C=!1):"0"===s?(a[Ve]||(a[Ve]={type:"simple",tokens:0}),l.push(Ve)):"^^"===s?(a[Ne]||(a[Ne]={type:"simple",tokens:fe}),l.push(Ne)):"^^1"===s?(a[Ae]||(a[Ae]={type:"simple",tokens:pe}),l.push(Ae)):"^"===s?(a[Pe]||(a[Pe]={type:"simple",tokens:he}),l.push(Pe)):"$"===s?(a[Le]||(a[Le]={type:"simple",tokens:me}),l.push(Le)):(a[s]||r[s]||(a[s]={type:"simple",tokens:s}),l.push(s)),s=""),"."===p)l.length&&f.pos<f.length&&!kt.test(f[Xe](f.pos))?C=!0:s+=p;else if('"'===p||"'"===p)(u=y(f,p,"\\",!0)).length?(a[b=""+u]||(a[b]={type:"simple",tokens:u}),l.push(b)):(a[je]||(a[je]={type:"simple",tokens:""}),l.push(je));else if("["===p)a[b="["+(u=y(f,"]","\\",!0))+"]"]||(a[b]={type:"simple",tokens:v("^(["+("^"===u[Xe](0)?"^"+g(u.slice(1)):g(u))+"])")}),l.push(b);else{if("]"===p){s+=p;continue}if("/"===p)m="",(u=y(f,p,"\\",!1)).length&&(f.pos<f.length&&"i"===f[Xe](f.pos)&&(f.pos++,m="i"),a[b="/"+u+"/"+m]||(a[b]={type:"simple",tokens:v("^("+u+")",m)}),l.push(b));else if("*"===p||"+"===p||"?"===p)l.length?(r[b=""+(h=l[l.length-1])+p]||(r[b]={type:"*"===p?"zeroOrMore":"+"===p?"oneOrMore":"zeroOrOne",tokens:[h]}),l[l.length-1]=b):s+=p;else if("{"===p)l.length?((d=n((d=y(f,"}",!1)).split(","),yt))[0].length?d[0]=parseInt(d[0],10)||0:d[0]=0,0>d[0]&&(d[0]=0),2>d.length?d.push(d[0]):d[1].length?d[1]=parseInt(d[1],10)||Ye:d[1]=Ye,0>d[1]&&(d[1]=0),r[b=""+(h=l[l.length-1])+["{",d[0],",",isFinite(d[1])?d[1]:"","}"].join("")]||(r[b]={type:"repeat",repeat:[d[0],d[1]],tokens:[h]}),l[l.length-1]=b):s+=p;else{if("}"===p){s+=p;continue}"&"===p||"!"===p?s+=p:"|"===p?(C=!1,(l=S(l)).length>1?(r[b=""+l.join(" ")]||(r[b]={type:"sequence",tokens:l}),i.push(b)):l.length?i.push(l[0]):s+=p,l=[]):"("===p?(E.push([l,i,s]),l=[],i=[],s=""):")"===p&&((l=S(l)).length>1?(r[b=""+l.join(" ")]||(r[b]={type:"sequence",tokens:l}),i.push(b)):l.length&&i.push(l[0]),l=[],(i=S(i,1)).length>1?r[b=""+i.join(" | ")]||(r[b]={type:"alternation",tokens:i}):i.length&&(b=i[0]),i=[],l=(w=E.pop())[0],i=w[1],s=w[2],r[b="("+(h=b)+")"]||(r[b]=o(k(h,a,r))),l.push(b))}}else s+=p;s.length&&(C?(l.length&&(a[b=(h=l[l.length-1])+"."+s]||r[b]||(c=k(h,a,r),r[b]=rt&t(c)?new String(c):o(c),r[b].modifier=s),l[l.length-1]=b),C=!1):"0"===s?(a[Ve]||(a[Ve]={type:"simple",tokens:0}),l.push(Ve)):"^^"===s?(a[Ne]||(a[Ne]={type:"simple",tokens:fe}),l.push(Ne)):"^^1"===s?(a[Ae]||(a[Ae]={type:"simple",tokens:pe}),l.push(Ae)):"^"===s?(a[Pe]||(a[Pe]={type:"simple",tokens:he}),l.push(Pe)):"$"===s?(a[Le]||(a[Le]={type:"simple",tokens:me}),l.push(Le)):(a[s]||r[s]||(a[s]={type:"simple",tokens:s}),l.push(s))),s="",(l=S(l)).length>1?(r[b=""+l.join(" ")]||(r[b]={type:"sequence",tokens:l}),i.push(b)):l.length&&i.push(l[0]),l=[],(i=S(i,1)).length>1?(r[b=""+i.join(" | ")]||(r[b]={type:"alternation",tokens:i}),e=b):i.length&&(e=i[0]),i=[]}return _&&(a[e]||r[e])&&((a[e]||r[e]).modifier=_),e}function O(e,o,i,l,c,f,p,m,h,g,v){var y,b,C,S,M,I,N,A=null,P=null,L=null;if(fe===e||pe===e||he===e||me===e)return new x(e,fe===e?Ne:pe===e?$T_FBNL$:he===e?Pe:Le,e,P);if(!1===e||0===e)return new x(ge,Ve,0,P);if(""===e)return new x(ve,je,"",P);if(null===e)return new x(ye,De,Je,P,L);if(lt&t(e)&&(e="NGRAM_"+(C=e).join("_"),l[e]||(l[e]={type:"ngram",tokens:C})),m[e=""+e])return m[e];if(M=k(e,i,l),rt&t(M)&&(M=T(M,i,l),M=i[M]||l[M]||null),!M)return null;if(y=M.type&&Fe[M.type[Ke]().replace(wt,"")]||ye,P=M.msg||null,L=M.modifier||null,b=M.tokens,ye&y){if(fe===b||pe===b||he===b||me===b||!1===b||0===b)return A=new x(b||ge,e,b||0,P),m[e]=A,A;if(""===b)return A=new x(ve,e,"",P),m[e]=A,A;if(null===b)return A=new x(ye,e,Je,P,L),m[e]=A,A;if(!b)return null}if(ce&y)M[qe]("action")?"nop"===M.action[0]?M.action[0]=J:"error"===M.action[0]?M.action[0]=ee:"context-start"===M.action[0]?M.action[0]=ne:"context-end"===M.action[0]?M.action[0]=ae:"push"===M.action[0]?M.action[0]=re:"pop"===M.action[0]?M.action[0]=oe:"unique"===M.action[0]?M.action[0]=te:"indent"===M.action[0]?M.action[0]=ie:"outdent"===M.action[0]&&(M.action[0]=le):M[qe]("nop")?M.action=[J,M.nop,!!M["in-context"]]:M[qe]("error")?M.action=[ee,M.error,!!M["in-context"]]:M[qe]("context")?M.action=[M.context?ne:ae,M.context,!!M["in-context"]]:M[qe]("context-start")?M.action=[ne,M["context-start"],!!M["in-context"]]:M[qe]("context-end")?M.action=[ae,M["context-end"],!!M["in-context"]]:M[qe]("push")?M.action=[re,M.push,!!M["in-context"]]:M[qe]("pop")?M.action=[oe,M.pop,!!M["in-context"]]:M[qe]("unique")?M.action=[te,rt&t(M.unique)?["_DEFAULT_",M.unique]:M.unique,!!M["in-context"]]:M[qe]("indent")?M.action=[ie,M.indent,!!M["in-context"]]:M[qe]("outdent")&&(M.action=[le,M.outdent,!!M["in-context"]]),M.nop&&(M.action[0]=J),(A=new x(ce,e,M.action.slice(),P,L)).ci=!!M.caseInsensitive||M.ci,m[e]=A;else if(b=s(b),ye&y){if(N=M.autocomplete?function(e,t,a,r){var o=e.meta||a,i=!(!e.caseInsesitive&&!e.ci),l=n(t,function(e){return{word:e,meta:o,ci:i}});return r.autocomplete=(r.autocomplete||[]).concat(l),l}(M,s(pt&t(M.autocomplete)?M.autocomplete:M.tokens),e,v):null,I=void 0!==M.combine?M.combine:!!(lt&t(M.tokens)),A=new x(ye,e,_(e,b.slice(),o,I,!(!M.caseInsensitive&&!M.ci),f,p),P,L,null,N),m[e]=A,null!=M.except){var D,V,j=s(M.except),B=j.length,U=[];for(D=0;D<B;D++)j[D]&&(V=O(j[D],o,i,l,c,f,p,m,h,g,v))&&U.push(V);U.length&&(A.except=U)}}else be&y?(Ee===y&&function(e,t){var n=u(e.tokens.slice());r(function(e){var a=n[e][0],r=n[e].length>1?n[e][1]:n[e][0],o=n[e].length>2?n[e][2]:"";null===r?(t.line=t.line||[],t.line.push(a)):(t.block=t.block||[],t.block.push([a,r,o]))},0,n.length-1)}(M,g),(A=new x(y,e,function(e,n,a,o,i){if(i[e])return i[e];var l=u(n),s=[],c=[];return r(function(n){var r,u;r=w(e+"_0_"+n,E(l[n][0],a,o),n,i),u=l[n].length>1?dt!==r.ptype||rt!==t(l[n][1])||d(l[n][1],a)?w(e+"_1_"+n,E(l[n][1],a,o),n,i):l[n][1]:r,s.push(r),c.push(u)},0,l.length-1),i[e]=new R(de,e,[s,c])}(e,b.slice(),o,f,p),P)).mline=!M[qe]("multiline")||!!M.multiline,A.esc=!!M[qe]("escape")&&M.escape,A.inter=!!c[e+".inside"],Ee===y&&M.interleave&&h.push(F(A)),L&&(A.modifier=L),m[e]=A):xe&y&&(Re===y?(S=u(b),A=n(S,function(t,n){return new x(Re,e+"_NGRAM_"+n,null,P,L)}),m[e]=A,r(function(e){A[e].token=s(a(S[e],function(e,t){return e.concat(O(t,o,i,l,c,f,p,m,h,g,v))},[]))},0,S.length-1)):(Oe===y||Me===y?A=new x(y,e,null,P,L):Ce&y&&lt&t(M.repeat)?((A=new x(Ce,e,null,P,L)).min=M.repeat[0],A.max=M.repeat[1]):ke===y?((A=new x(ke,e,null,P,L)).min=0,A.max=1):Se===y?((A=new x(Se,e,null,P,L)).min=0,A.max=Ye):Te===y?((A=new x(Te,e,null,P,L)).min=1,A.max=Ye):A=new x(we===y?we:_e,e,null,P,L),m[e]=A,A.token=s(a(b,function(e,t){return e.concat(O(t,o,i,l,c,f,p,m,h,g,v))},[]))));return m[e]}function M(e){var n,r,i,l,s,u,d,c,f,p,m,h;return e.__parsed?e:(n=e.RegExpID||null,i=e.Extra?o(e.Extra):{},l=e.Style?o(e.Style):{},s=e.Lex?o(e.Lex):{},u=e.Syntax?o(e.Syntax):{},d={},c={},f={},m={},h={},p=[],r=e.Parser?o(e.Parser):[],(e=C({Style:l,Fold:null,Lex:s,Syntax:u,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:i,__parsed:0})).$parser=a(r,function(e,a){var r=O(a,n,s,u,l,d,c,f,p,m,h)||null;return r&&(lt&t(r)?e=e.concat(r):e.push(r)),e},[]),e.$interleaved=p&&p.length?p:null,e.$comments=m,e.$autocomplete=h&&h.autocomplete&&h.autocomplete.length?h.autocomplete:null,e.__parsed=1,e)}function R(e,n,a,r,o){var i,l;i=this.type=e,this.name=n,this.pattern=a,l=this.ptype=r||rt,this.key=o||0,ue===i?this.key=!1!==o:de===i?this.pattern[0]=new R(ue,n+"_Start",a[0],null,!1):Je===l?this.pattern=null:dt===l&&(this.pattern=dt&t(a)?[a,0]:[a[0],a[1]||0])}function I(e,n,a,r){var o,i,l,s,u,d,c,f,p,m,h,g=e,v=g.type,y=g.pattern,E=g.key;if(de===v){if(o=g.name,l=y[0],s=y[1],d=I(l,n,a,r))return f=t(u=s[d[0]]),p=l.pattern[d[0]].ptype,dt===p&&ft&f&&(c=et&f?d[1][u+1]:b(u,d[1]),u=new R(se,o+"_End",c,c.length>1?rt:ot)),u}else if(ue===v){for(m=0,h=y.length;m<h;m++)if(c=I(y[m],n,a,r))return E?[m,c[1]]:c}else{if(i=g.ptype,Je===i)return!1!==a&&n.end(),[E,""];if(dt===i){if((c=n.slice(n.pos).match(y[0]))&&0===c.index)return!1!==a&&n.mov(c[y[1]||0].length),[E,y[1]>0?c[y[1]]:c]}else if(it===i){if(!0===r){var w,_;for(c=-1,h=y.length-1;h>=0;h--)-1<(w=n.indexOf(y[Xe](h),n.pos))&&(-1===c||w<c)&&(c=w,_=y[Xe](h));if(-1<c)return!1!==a&&(n.pos=c+1),[E,_]}else if((c=n[Xe](n.pos)||null)&&-1<y.indexOf(c))return!1!==a&&n.mov(1),[E,c]}else if(ot===i){if(!0===r){if(-1<(c=n.indexOf(y,n.pos)))return!1!==a&&(n.pos=c+1),[E,y]}else if(y===(c=n[Xe](n.pos)||null))return!1!==a&&n.mov(1),[E,c]}else if(rt===i)if(h=y.length,!0===r){if(-1<(c=n.indexOf(y,n.pos)))return!1!==a&&(n.pos=c+h),[E,y]}else if(y===n.substr(n.pos,h))return!1!==a&&n.mov(h),[E,y]}return!1}function x(e,t,n,a,r,o,i){this.type=e,this.name=t,this.token=n,this.modifier=r||null,this.except=o||null,this.autocompletions=i||null,this.pos=null,this.msg=a||null,this.$msg=null,this.status=0,this.ci=!1,this.mline=!0,this.esc=!1,this.inter=!1,this.found=0,this.min=0,this.max=1,this.$id=null}function F(e,t,n,a){var r=new x(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions);return r.ci=e.ci,r.mline=e.mline,r.esc=e.esc,r.inter=e.inter,r.found=e.found,r.min=e.min,r.max=e.max,t&&(r.status|=K),n&&(r.modifier=n),a&&(r.$id=a),r}function N(e){var t=e.name;return e.$msg?e.$msg:e.status&K?'Token "'+t+'" Expected':'Syntax Error: "'+t+'"'}function A(e,t,n,a,r,o,i){e.err[t+"_"+n+"_"+a+"_"+r+"_"+(o?o.name:"ERROR")]=[t,n,a,r,i||N(o)]}function P(e,t,n,a){if(!e)return!1;var r=e.type;return(xe&r?j:be&r?V:ce&r?L:D)(e,t,n,a)}function L(e,n,a,r){var o,i,l,s,u,d,c,f,p,m,h,g,v,y,E,w,_=e,C=_.token||null,k=_.ci,S=_.name,T=!(a.status&z);if(_.status=0,_.$msg=null,T||!C||!r||!r.pos)return!0;if(w=!!(be&r.T),J===C[0]||w&&!r.block)return!0;if(o=C[0],i=C[1],v=C[2],u=_.msg,d=a.queu,c=a.symb,f=a.ctx,w?(E=r.block.match||r.block.str,p=r.block.pos[0][0],m=r.block.pos[0][1],h=r.block.pos[0][2],g=r.block.pos[0][3]):(E=r.match||r.str,p=r.pos[0],m=r.pos[1],h=r.pos[2],g=r.pos[3]),ee===o)return!u&&rt&t(i)&&(u=i),_.$msg=u?b(u,E,!0):'Error "'+S+'"',A(a,p,m,h,g,_,N(_)),_.status|=X,!1;if(ae===o)f.length&&f.shift();else if(ne===o)f.unshift({symb:{},queu:[]});else if(oe===o){if(v){if(!f.length)return!0;d=f[0].queu}if(i){if(i=b(i,E),k&&(i=i[Ke]()),!d.length||i!==d[0][0])return d.length?(_.$msg=u?b(u,[d[0][0],i],!0):'Tokens do not match "'+d[0][0]+'","'+i+'"',y=N(_),A(a,d[0][1],d[0][2],d[0][3],d[0][4],_,y),A(a,p,m,h,g,_,y),d.shift()):(_.$msg=u?b(u,["",i],!0):'Token does not match "'+i+'"',A(a,p,m,h,g,_,y=N(_))),_.status|=X,!1;d.shift()}else d.shift()}else if(re===o&&i){if(v){if(!f.length)return!0;d=f[0].queu}i=b(i,E),k&&(i=i[Ke]()),_.$msg=u?b(u,i,!0):'Token does not match "'+i+'"',d.unshift([i,p,m,h,g,N(_)])}else if(te===o){if(v){if(!f.length)return!0;c=f[0].symb}if(l=i[1],s=i[0],l=b(l,E,!0),k&&(l=l[Ke]()),c[qe](s)||(c[s]={}),c[s][qe](l))return _.$msg=u?b(u,l,!0):'Duplicate "'+l+'"',y=N(_),A(a,c[s][l][0],c[s][l][1],c[s][l][2],c[s][l][3],_,y),A(a,p,m,h,g,_,y),_.status|=X,!1;c[s][l]=[p,m,h,g]}return!0}function D(e,t,n,a,r){var o,i=e,l=i.token,s=i.modifier,u=i.type,d=i.name,c=i.except,f=n.line,p=t.pos,m=null,h=!1;if(i.status&=Q,i.$msg=r?null:i.msg||null,c)for(var g=0,v=c.length;g<v;g++)if(i!==(o=c[g])&&ye===o.type&&D(o,t,n,a,1))return t.bck(p),!1;return fe===u?h=0===n.line:pe===u?h=n.bline+1===n.line:he===u?h=t.sol():me===u?(t.spc(),t.eol()?h=d:t.bck(p)):ge===u?(i.status=0,h=!0):ve===u?(i.status&K&&t.spc()&&!t.eol()?(t.bck(p),i.status|=X):h=!0,i.status&=Y):Je===l?(t.end(),h=s||d):(m=I(l,t))&&(m=m[1],h=s||d),r?h:(!1!==h&&(a.T=u,a.id=d,a.type=h,a.str=t.sel(p,t.pos),a.match=m,a.pos=[f,p,f,t.pos]),!h&&i.status&&i.$msg&&(i.$msg=b(i.$msg,d,!0)),h)}function V(e,t,n,a){var r,o,i,l,s,u,d,f,p,m,h,g,v,y,E,w,_,C,k,S,T,O=e,M=O.name,R=O.type,x=O.modifier,N=O.token,A=O.mline,P=O.inter,L=P?M+".inside":M,D=O.esc,V=!!D,j="",B="",U="",q="",G=O.$id||M,H=n.stack;if(O.status&=Q,O.$msg=O.msg||null,k=n.line,S=t.pos,Ee===R&&(O.status&=Y),E=O.status&K,i=0,l=0,n.block&&n.block.name===M?(l=1,i=1,y=L,r=n.block.end,f=n.block.sp,m=n.block.ip,p=n.block.ep,j=n.block.s,B=n.block.i):!n.block&&(r=I(N,t))&&(l=1,y=M,f=[k,S],m=[[k,w=t.pos],[k,w]],p=[k,w],j=t.sel(S,w),B="",q="",n.block={name:M,end:r,sp:f,ip:m,ep:p,s:j,i:B,e:q}),l){if(C=H.length,o=Je===r.type,P){if(o&&i&&t.sol())return O.status&=Y,n.block=null,!1;if(!i)return w=t.pos,a.T=R,a.id=M,a.type=x||y,a.str=t.sel(S,w),a.match=null,a.pos=[k,S,k,w],c(H,C,F(O,E,0,G)),x||y}if(w=t.pos,d=A,u=0,s=I(r,t))y=o?L:M,q=t.sel(w,t.pos);else if(_=t.pos,g=!1,V||it!==r.ptype&&ot!==r.ptype&&rt!==r.ptype)for(;!t.eol();){if(w=t.pos,!g&&I(r,t)){P&&t.pos>w&&w>_?(y=L,t.bck(w),u=1):(y=M,s=1),q=t.sel(w,t.pos);break}U+=v=t.nxt(1),g=V&&!g&&D===v,w=t.pos}else(T=I(r,t,!0,!0))?(P&&t.pos>w+T[1].length?(y=L,t.mov(-T[1].length),u=1):(y=M,s=1),q=t.sel(w,t.pos)):(t.end(),y=L,u=1,U=t.sel(w,t.pos));return d=A||V&&g,B+=U,m[1]=[k,w],p=[k,t.pos],s||!d&&!u?n.block=null:(n.block.ip=m,n.block.ep=p,n.block.i=B,n.block.e=q,c(H,C,F(O,E,0,G))),a.T=R,a.id=M,a.type=x||y,a.str=t.sel(S,t.pos),a.match=null,a.pos=[k,S,p[0],p[1]],n.block||(h=j+B+q,a.block={str:h,match:[h,B,j,q],part:[h,j,B,q],pos:[[f[0],f[1],p[0],p[1]],[f[0],f[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],p[0],p[1]]]}),x||y}return O.status&&O.$msg&&(O.$msg=b(O.$msg,M,!0)),!1}function j(e,t,n,a){var r,o,i,l,s,u,d,f,p,m,h,g,v,y,b,E=e,w=E.type,_=(E.name,E.token),C=_.length,k=E.modifier;if(E.status&=Q,E.$msg=E.msg||null,g=n.stack,f=t.pos,p=g.length,u=0,d=0,y=E.$id||"id_"+ ++_t,we===w){for(E.status|=K,v=[],m=0;m<C;m++){if(o=P(r=F(_[m],1,k,y),t,n,a),r.status&K&&(u++,v.push(N(r))),!1!==o)return o;r.status&X&&(d++,t.pos>f&&t.bck(f),g.length>p&&(g.length=p))}return u>0?E.status|=K:E.status&=Y,C===d&&u>0?E.status|=X:E.status&=Q,E.status&&!E.$msg&&v.length&&(E.$msg=v.join(" | ")),!1}if(Ie&w){(b=!!(w&_e))?E.status|=K:E.status&=Y,h=0;do{o=P(r=F(_[h++],b,k,y),t,n,a)}while(h<C&&!1===o&&!(r.status&K));if(!1!==o){if(!0!==o||ge!==r.type)for(m=C-1;m>=h;m--)c(g,p+C-m-1,F(_[m],1,k,y));return o}return r.status&X?(b?E.status|=X:E.status&=Q,t.pos>f&&t.bck(f),g.length>p&&(g.length=p)):b&&r.status&K&&(E.status|=X),E.status&&!E.$msg&&(E.$msg=N(r)),!1}if(Oe===w)return E.status=0,!1;if(Me===w)return E.status=0,!1;for(i=E.found,l=E.min,s=E.max,E.status=0,v=[],m=0;m<C;m++){if(!1!==(o=P(r=F(_[m],1,k,y),t,n,a))){if(++i<=s)return E.found=i,c(g,p,F(E,0,0,y)),E.found=0,o;break}r.status&K&&(u++,v.push(N(r))),r.status&X&&(t.pos>f&&t.bck(f),g.length>p&&(g.length=p))}return i<l&&(E.status|=K),(i>s||i<l&&0<u)&&(E.status|=X),E.status&&!E.$msg&&v.length&&(E.$msg=v.join(" | ")),!1}function B(e,t){var n=this;n.id=e?m("state"):"state",t instanceof B?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=t.stack.slice(),n.block=t.block,n.token=t.token,n.status&z?(n.queu=t.queu,n.symb=t.symb,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=[],n.block=null,n.token=null,n.status&z?(n.queu=[],n.symb={},n.ctx=[],n.err={}):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=!0,n.$blank$=!0),n.toString=function(){return n.id+"_"+n.line+"_"+n.bline+"_"+(n.block?n.block.name:"0")}}function U(e,t,n){var a=new String(e);return a.start=t||0,a.pos=n||0,a.sol=function(){return 0===a.pos},a.eol=function(){return a.pos>=a.length},a.end=function(){return a.pos=a.length,a},a.mov=function(e){return a.pos=0>e?$e(0,a.pos+e):ze(a.length,a.pos+e),a},a.bck=function(e){return a.pos=$e(0,e),a},a.sft=function(){return a.start=a.pos,a},a.nxt=function(e,t){var n,r,o="";if(!0===e){for(t=t||U.$NONSPC$;a.pos<a.length&&t.test(n=a[Xe](a.pos++));)o+=n;return o.length?o:null}for(e=e||1,r=0;r++<e&&a.pos<a.length;)o+=a[Xe](a.pos++);return o},a.cur=function(e){var t=a.slice(a.start,a.pos);return e&&(a.start=a.pos),t},a.sel=function(e,t){return a.slice(e,t)},a.spc=function(e,t){var n;if(n=a.slice(a.pos).match(t||U.$SPC$))return!1!==e&&a.mov(n[0].length),n[0]},a}function q(e,t,n,a,r,o){for(;;){n.lastIndex=e.col;var i=n.exec(e.text);if(!i){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,i.index+1)))return e.col=i.index+i[0].length,i;e.col=i.index+1}}function G(e,t,n,a,r,o){for(var i,l,s;;){if(-1===(i=e.text.indexOf(r,e.col))){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,i+1)))return s=(l=e.text.lastIndexOf(o,i))>-1&&!U.$NOTEMPTY$.test(e.text.slice(l+1,i)),e.col=i+1,s?"autoclosed":"regular";e.col=i+1}}function H(e,t){e[t]||(e[t]=[]);var n,a=e[t];if(a&&a.length)for(n=0;n<a.length;n++)e.removeMarker(a[n]);a.length=0}function W(e,t){H(e,t),e.clearAnnotations()}function $(e,t,n,a){!function(e,t,n,a){var r,o,i,l=t.length;for(H(e,n),i=e[n],r=0;r<l;r++)(o=t[r]).range&&(i.push(e.addMarker(new a(o.range[0],o.range[1],o.range[2],o.range[3]),"ace_error-marker","text",0)),p(o,"range"))}(e,t,n,a),e.setAnnotations(t)}var z=2,K=4,X=8,Y=~K,Q=~X,Z=K|X,J=0,ee=4,te=8,ne=16,ae=17,re=32,oe=33,ie=128,le=129,se=2,ue=4,de=8,ce=4,fe=8,pe=9,me=16,he=32,ge=128,ve=256,ye=512,be=1024,Ee=1025,we=2048,_e=4096,Ce=8192,ke=8193,Se=8194,Te=8195,Oe=16384,Me=16385,Re=32768,Ie=_e|Re,xe=we|_e|Ce|16384|Re,Fe={action:ce,simple:ye,block:be,comment:Ee,alternation:we,sequence:_e,repeat:Ce,zeroorone:ke,zeroormore:Se,oneormore:Te,positivelookahead:Oe,negativelookahead:Me,ngram:Re},Ne="$|SOF|$",Ae="$|NONBLANK|$",Pe="$|SOL|$",Le="$|EOL|$",De="$|ENDLINE|$",Ve="$|EMPTY|$",je="$|NONSPACE|$",Be=void 0,Ue="prototype",qe="hasOwnProperty",Ge="propertyIsEnumerable",He=Object[Ue].toString,We=Object.create,$e=Math.max,ze=Math.min,Ke="toLowerCase",Xe="charAt",Ye=1/0,Qe=4,Ze=8,Je=16,et=32,tt=33,nt=34,at=64,rt=128,ot=129,it=130,lt=256,st=512,ut=1024,dt=2048,ct=4096,ft=rt|et,pt=rt|lt,mt=dt|lt,ht=rt|lt|dt,gt={"[object Number]":et,"[object String]":rt,"[object Array]":lt,"[object RegExp]":dt,"[object Date]":ct,"[object Function]":ut,"[object Object]":st},vt=/^\s+|\s+$/g,yt=String[Ue].trim?function(e){return e.trim()}:function(e){return e.replace(vt,"")},bt=function(e,t){return t.length-e.length},Et=/\r\n|\r|\n/g,wt=/[\-_]/g,_t=0,Ct=/([.*+?^${}()|[\]\/\\\-])/g,kt=/^([.!&\[\]{}()*+?\/|'"]|\s)/,St="(\\s|\\W|$)",Tt=/[*+]$/;U.$SPC$=/^[\s\u00a0]+/,U.$NONSPC$=/[^\s\u00a0]/,U.$NOTEMPTY$=/\S/,U.$SPACE$=/^\s*/;var Ot=h({constructor:function(e,t,n){this.$grammar=e,this.$DEF=t||null,this.$ERR=n||null,this.DEF=this.$DEF,this.ERR=this.$ERR,this.$folders=[]},$grammar:null,$folders:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){return this.$grammar=null,this.$folders=null,this.$n$=this.$t$=this.$v$=null,this.$DEF=this.$ERR=this.DEF=this.ERR=null,this},token:function(e,t){var n,a,r,o,i,l,s,u,d,c,p,m,h,g=this.$grammar,v=g.Style,y=this.DEF,b=this.ERR,E={},w=this.$n$,_=this.$t$,C=this.$v$,k=g.$interleaved,S=g.$parser,T=S.length,O=k?k.length:0;if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,o=t.stack,i=t.line,l=e.pos,d=!1,p=!0,c=!1,m=!1,h=t.block?t.block.name:Be,o.length&&me===o[o.length-1].type&&e.sol()&&o.pop(),(!o.length||ve!==o[o.length-1].type&&h!==o[o.length-1].name)&&e.spc()&&(p=!1,m=!0),E[w]=null,E[_]=y,E[C]=null,p)for(r=new function(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null},s=0;p&&(o.length||s<T)&&!e.eol();){if(e.pos,o.length,O&&!t.block){for(u=0;u<O;u++)if(!1!==(d=P(n=k[u],e,t,r))){p=!1,t.token=n;break}if(!p)break}if(!o.length&&s>=T)break;if(!1===(d=P(n=o.length?o.pop():S[s++],e,t,r))){if(n.status&Z){f(o,n.$id),e.nxt(!0)||(e.spc(),m=!0),c=!0,p=!1,t.token=n;break}}else{if(o.length&&ce===o[o.length-1].type)for(;o.length&&ce===o[o.length-1].type;)L(a=o.pop(),0,t,r),a.status&X&&(t.$actionerr$=!0);else if(o.length>1&&e.eol()&&be&o[o.length-1].type&&t.block&&t.block.name===o[o.length-1].name)for(u=o.length-2;u>=0&&ce===o[u].type;)L(a=o[u--],0,t,r),a.status&X&&(t.$actionerr$=!0);if(!0!==d){p=!1,t.token=n;break}}}return p&&e.nxt(1),E[C]=e.cur(1),!1!==d?(d=v[d]||y,E[w]=n.name):c?(d=b,t.status&z&&A(t,i,l,i,e.pos,n)):d=y,E[_]=d,t.$eol$=e.eol(),t.$blank$=t.$blank$&&(m||t.$eol$),E},autocompletion:function(e,n){return function e(n,a){if(a=a||[],!n||!n.length)return a;var r,o,i,l,s,u;for(r=0,o=n.length;r<o;r++)if(s=n[r])if(ye===s.type)s.autocompletions?a.push.apply(a,s.autocompletions):rt===s.token.ptype&&rt&t(s.token.pattern)&&s.token.pattern.length>1&&a.push({word:""+s.token.pattern,meta:s.name,ci:!!s.ci});else if(we===s.type)e(s.token,a);else if(Ie&s.type){i=0,l=s.token.length;do{e([u=s.token[i++]],a)}while(i<l&&(Ce&u.type&&0===u.min||ce===u.type))}else Ce&s.type&&e([s.token[0]],a);return a}(e,n||[])},tokenize:function(e,t,n){var a=[];if(e.eol())t.line++,t.$blank$&&t.bline++;else for(;!e.eol();)a.push(this.token(e,t));return a},parse:function(e,t){var n,a,o,i,l,s=this,u=(e||"").split(Et),d=u.length,c=null;if(a=!!((t=t||1)&z),o=!!(1&t),(n=new B(0,t)).$full_parse$=!0,r(function(e){u[e]+="\n"},0,d-2),o?c=r(32&t?function(e,t){t._=t._.concat(s.tokenize(U(u[e]),n,e))}:function(e,t){t._.push(s.tokenize(U(u[e]),n,e))},0,d-1,{_:[]})._:r(function(e){var t=U(u[e]);if(t.eol())n.line++,n.$blank$&&n.bline++;else for(;!t.eol();)s.token(t,n)},0,d-1),a&&n.queu&&n.queu.length)for(;n.queu.length;)i=n.queu.shift(),A(n,i[1],i[2],i[3],i[4],null,i[5]);return l=o&&a?{tokens:c,errors:n.err}:o?c:n.err,function(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.block=null,e.token=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}(n),l},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){}}),Mt={Pattern:function(e,t,n){return function(){}},Indented:function(e){return e=e||U.$NOTEMPTY$,function(t){var n,a,r,o,i,l,s,u,d=t.row;if(n=t.line(d),e.test(n)){for(a=t.indentation(n),i=null,o=n.length,s=d+1,u=t.last();s<=u;++s)if(r=t.line(s),t.indentation(r)>a)i=s,l=r.length;else if(e.test(r))break;return i?[d,o,i,l]:void 0}}},Delimited:function(e,t,n){return e&&t?(n=n||l,function(a){var r,o,i,l,s,u,d,c,f,p,m,h,g,v,y=a.row,b=a.col;for(r=a.line(y),i=b,l=0;;){var E;if(-1!==(E=i<=0?-1:r.lastIndexOf(e,i-1))){if(1===l&&E<b)return;if(n(s=a.token(y,E+1))){o=E+e.length;break}i=E-1}else{if(1===l)return;l=1,i=r.length}}u=1,d=a.last();e:for(p=y;p<=d;++p)for(m=a.line(p),h=p===y?o:0;g=m.indexOf(e,h),v=m.indexOf(t,h),g<0&&(g=m.length),v<0&&(v=m.length),!((h=ze(g,v))>=m.length);){if(a.token(p,h+1)==s)if(h===g)++u;else if(!--u){c=p,f=h;break e}++h}if(null!=c&&(y!==c||f!==o))return[y,o,c,f]}):function(){}},MarkedUp:function(e,t,n,a,r){return e=e||l,t=t||"<",n=n||">",a=a||"/",r=r||v(g(t)+"("+g(a)+"?)([a-zA-Z_\\-][a-zA-Z0-9_\\-:]*)","g"),function(t){t.col=0,t.min=t.first(),t.max=t.last(),t.text=t.line(t.row);for(var o,i,l,s,u,d,c,f,p=t.row;;){if(!(o=q(t,e,r))||t.row!==p||!(i=G(t,e,0,0,n,a)))return;if(!o[1]&&"autoclosed"!==i)for(l=[t.row,t.col],s=o[2],u=[];;){if(d=q(t,e,r),p=t.row,c=t.col-(d?d[0].length:0),!d||!(i=G(t,e,0,0,n,a)))return;if("autoclosed"!==i)if(d[1]){for(f=u.length-1;f>=0;--f)if(u[f]===d[2]){u.length=f;break}if(f<0&&(!s||s===d[2]))return[l[0],l[1],p,c]}else u.push(d[2])}}}}},Rt=!("undefined"==typeof navigator),It=!!(Rt&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),xt=function(e,t,n){var a,r=null,o=null,i=null;return n?o=(r=self.location.href).split("/").slice(0,-1).join("/"):t&&(i=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(a=document.getElementsByTagName("script"))&&a.length&&(o=(r=a[a.length-1].src).split("/").slice(0,-1).join("/"))),{path:o,file:r,base:i}}(0,Rt,It),Ft="?nocache="+m("nonce")+"_"+~~(1e3*Math.random()),Nt="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},At=h(Ot,{constructor:function e(n,a,o){var i,s=this,u=null;if(Ot.call(s,n,"text","invalid"),s.$v$="value",s.DEF=a||s.$DEF,s.ERR=n.Style.error||s.$ERR,s.LC=n.$comments.line||null,s.BC=n.$comments.block?{start:n.$comments.block[0][0],end:n.$comments.block[0][1]}:null,!1!==o){if(n.$comments.block&&n.$comments.block.length){i=e.Type("comment");for(var d=0,c=n.$comments.block.length;d<c;d++)s.$folders.push(e.Fold.Delimited(n.$comments.block[d][0],n.$comments.block[d][1],i))}n.Fold&&rt&t(n.Fold)?u=n.Fold[Ke]():n.$extra.fold&&(u=n.$extra.fold[Ke]()),u&&r(function(t,a){var r=yt(a[t]);if("brace"===r||"cstyle"===r){var o=function(e,t){var n,a,r=e.Style,o=e.Lex,i=e.Syntax,l=[],s={};for(n in r)r[qe](n)&&(!(a=o[n]||i[n])||"block"!=a.type&&"comment"!==a.type||(r[n+".inside"]||r[n])&&(n=r[n+".inside"]||r[n],s[qe](n)||(l.push(n),s[n]=1)));return l}(n);i=o.length?e.Type(o,!1):l,s.$folders.push(e.Fold.Delimited("{","}",i)),s.$folders.push(e.Fold.Delimited("[","]",i))}else"indent"===r||"indentation"===r?s.$folders.push(e.Fold.Indented()):"markup"!==r&&"html"!==r&&"xml"!==r||(s.$folders.push(e.Fold.Delimited("<![CDATA[","]]>",e.Type(["comment","tag"],!1))),s.$folders.push(e.Fold.MarkedUp(e.Type("tag"),"<",">","/")))},0,(u=u.split("+")).length-1,u)}},LC:null,BC:null,dispose:function(){return this.LC=this.BC=null,Ot[Ue].dispose.call(this)},getLineTokens:function(e,t,n){return t=new B(1,t),{tokens:this.tokenize(U(e),t,n),state:t}},autocomplete:function(e,t,n,r,o,i){if(this.$grammar.$autocomplete){var l,s=!!(o=o||{})[qe]("caseInsesitiveMatch")&&!!o.caseInsesitiveMatch,u=!o[qe]("prefixMatch")||!!o.prefixMatch,d=!!o[qe]("inContext")&&!!o.inContext,c=r,f=c[Ke](),p=c.length;return(l=d?this.autocompletion(e.stack.length?[e.token,e.stack[e.stack.length-1]]:[e.token]):this.$grammar.$autocomplete).length||(l=this.$grammar.$autocomplete),a(l,function(e,t){var n,a,r,o,i,l,d,m=t.word,h=m.length;return p?h>=p&&(n=t.meta,a=!!m.ci,(d=s||a)?(i=m[Ke](),l=f):(i=m,l=c),(o=i.indexOf(l))>=0&&(!u||0===o)&&(r=d?m.indexOf(c):o,e.push({name:m,value:m,meta:n,score:1e3-10*(h-p)-5*(r<0?o+3:r)}))):e.push({name:m,value:m,meta:t.meta,score:1e3-10*h}),e},[])}return[]},iterator:function(e,t){var n=e.getTabSize();return{row:0,col:0,min:0,max:0,line:function(t){return e.getLine(t)},first:function(){return 0},last:function(){return e.getLength()-1},next:function(){if(!(this.row>=this.max))return this.col=0,this.row++,!0},prev:function(){if(!(this.row<=this.min))return this.col=0,this.row--,!0},indentation:function(e){return function(e,t,n,a,r){var o,i,l;for(null==t&&-1==(t=e.search(U.$NONSPC$))&&(t=e.length),o=0,i=0;;){if((l=e.indexOf("\t",o))<0||l>=t)return i+(t-o);i+=l-o,i+=n-i%n,o=l+1}}(e,null,n)},token:function(t,n){return e.getTokenAt(t,n).type}}},fold:function(e,t,n){var a,r,o,i=this.$folders,l=i.length;if(l)for((r=this.iterator(e,n)).row=t,r.col=0,a=0;a<l;a++)if(o=i[a](r))return o}});At.Type=function(e,a){return pt&t(e)&&(e=v("\\b("+n(s(e).sort(bt),g).join("|")+")\\b")),!1===a?function(t){return!t||!e.test(t)}:function(t){return!!t&&e.test(t)}},At.Fold=Mt,It&&(onmessage=function(e){var t=e?e.data:null;t&&t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t,n){var a=e("./worker/mirror").Mirror;t.AceGrammarWorker=h(a,{constructor:function(e){a.call(this,e),this.setTimeout(300)},$parser:null,init_parser:function(e,t){this.$parser=new At(M(e),null,!1),this.sender.callback(1,t)},onUpdate:function(){var e,t,n,a,r,o=this.sender,i=this.$parser;if(i)if((e=this.doc.getValue())&&e.length)if(t=i.parse(e,z)){for(n in r=[],t)t[qe](n)&&(a=t[n],r.push({row:a[0],column:a[1],text:a[4]||"Syntax Error",type:"error",raw:a[4]||"Syntax Error",range:[a[0],a[1],a[2],a[3]]}));r.length?o.emit("ace_grammar_worker_error",r):o.emit("ace_grammar_worker_ok",null)}else o.emit("ace_grammar_worker_ok",null);else o.emit("ace_grammar_worker_ok",null);else o.emit("ace_grammar_worker_ok",null)}})}))});var Pt=e.AceGrammar={VERSION:"3.0.0",clone:o,extend:i,pre_process:function(e){var n={};return e.Lex=e.Lex||{},e.Syntax=e.Syntax||{},(e=C(e)).Parser&&e.Parser.length&&r(function a(o,i){var l,s,u,d=i[o];n[d]||(lt&t(d)&&(d="NGRAM_"+(l=d).join("_"),e.Syntax[d]||(e.Syntax[d]={type:"ngram",tokens:l})),s=k(d,e.Lex,e.Syntax),rt&t(s)&&(s=T(s,e.Lex,e.Syntax),s=e.Lex[s]||e.Syntax[s]||null),s&&(n[d]=s,u=s.type&&Fe[s.type[Ke]().replace(wt,"")]||ye,xe&u&&r(a,0,s.tokens.length-1,s.tokens)))},0,e.Parser.length-1,e.Parser),e},parse:M,getMode:function(e,t,n){n=n||Nt;var a=o(e),r=n.require("ace/range").Range,i=h(n.require("ace/worker/worker_client").WorkerClient,{constructor:function(e,t,a,r){var o=n.require,i=n.config;if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl),!r)if(i.get("packaged")||!o.toUrl)r=r||i.moduleUrl(t,"worker");else{var l=this.$normalizePath;r=r||l(o.toUrl("ace/worker/worker.js",null,"_"));var s={};e.forEach(function(e){s[e]=l(o.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(r)}catch(e){if(!(e instanceof window.DOMException))throw e;var u=this.$workerBlob(r),d=window.URL||window.webkitURL,c=d.createObjectURL(u);this.$worker=new Worker(c),d.revokeObjectURL(c)}this.$worker.postMessage({load:!0,ace_worker_base:xt.base+"/"+i.moduleUrl("ace/worker/json")+Ft}),this.$worker.postMessage({init:!0,tlns:s,module:t,classname:a}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage}}),l=n.require("ace/mode/folding/fold_mode").FoldMode,s=h(l,{constructor:function(e){l.call(this),this.$findFold=e,this.$lastFold=null},getFoldWidget:function(e,t,n){var a=this.$lastFold=this.$findFold(e,t,n);return a?"markbeginend"===t&&a.end?"end":"start":""},getFoldWidgetRange:function(e,t,n,a){var o=this.$lastFold;if(o)return new r(o[0],o[1],o[2],o[3])}}),u=n.require("ace/mode/text").Mode,d=h(u,{constructor:function e(){u.call(this),this.$id=e.$id,this.$tokenizer=e.$parser,this.lineCommentStart=e.$parser.LC,this.blockComment=e.$parser.BC,this.foldingRules=new s(this.folder.bind(this))},supportGrammarAnnotations:!1,createWorker:function(e){if(!this.supportGrammarAnnotations)return W(e,d.$markers),null;var t=new i(["ace"],"ace/grammar_worker","AceGrammarWorker",xt.file+Ft);return t.attachToDocument(e.getDocument()),t.call("init_parser",[a],function(){t.on("ace_grammar_worker_error",function(t){var n=t.data;$(e,n,d.$markers,r)}),t.on("ace_grammar_worker_ok",function(){W(e,d.$markers)})}),t.on("terminate",function(){W(e,d.$markers)}),t},supportCodeFolding:!0,folder:function e(t,n,a){return this.supportCodeFolding?d.$folder(t,n,a,e.options||{}):null},supportAutoCompletion:!0,autocompleter:function e(t,n,a,r){return this.supportAutoCompletion?d.$autocompleter(t,n,a,r,e.options||{}):[]},getKeywords:function(e){return[]},getCompletions:function(e,t,n,a){return this.autocompleter(e,t,n,a)},dispose:function(){this.$tokenizer=this.foldingRules=this.autocompleter=null,d.dispose()}});return d.$id=m("ace_grammar_mode"),d.$markers=d.$id+"$markers",d.$parser=new Pt.Parser(M(e),t),d.$folder=function(e,t,a,r){var o,i,l=d.$parser,s=l.fold(e,a,n);if("markbeginend"===t){if(s)return s.start=!0,s.end=!1,s;for(i=a,o=$e(0,a-200);a>o&&(!s||i!==s[2]);)s=l.fold(e,--a,n);if(s&&i===s[2])return s.start=!1,s.end=!0,s}else if(s)return s.start=!0,s.end=!1,s},d.$autocompleter=function(e,t,a,r,o){return d.$parser.autocomplete(e,t,a,r,o,n)},d.dispose=function(){d.$parser&&d.$parser.dispose(),d.$parser=d.$folder=d.$autocompleter=d.autocompleter=null},new d},Parser:At};return e.AceGrammar})},142:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=(a(n(6)),n(10)),f=n(13),p=a(n(143)),m=a(n(208)),h=n(8),g=1,v=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sendPromptValues=n.sendPromptValues.bind(n),n.state={inputValues:[]},n.uniqueIdPrefix="Dialog-unique-id-"+g++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"createPromptInputList",value:function(){var e=this;return(this.props.inputs||[]).map(function(t,n){var a=t.label,r=t.element,o=t.helpMessage,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["label","element","helpMessage"]),s=r||f.Input,d=e.uniqueIdPrefix+"-prompt-input-"+t,c={value:e.state.inputValues[n]||""};return u.default.createElement(f.FormGroup,{row:!0,key:n},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,{htmlFor:d},a)),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(s,i({},l,{id:d},c,{onChange:function(t){return e.setPromptValue(n,t)}})),o&&u.default.createElement(f.FormText,{color:"muted"},o)))})}},{key:"setPromptValue",value:function(e,t){var n=t.target.value,a=(0,h.clone)(this.state.inputValues);a[e]=n,this.setState({inputValues:a})}},{key:"sendPromptValues",value:function(){if(this.props.onSuccess){var e,t=this.state.inputValues;(e=this.props).onSuccess.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)),this.setState({inputValues:[]})}}},{key:"render",value:function(){var e=this.props,t=e.dialogType,n=e.open,a=e.successColor,r=e.successButton,o=e.cancelButton,i=e.onCancel,l=e.onSuccess,s=e.title,d=e.message,h=u.default.createElement(f.ModalHeader,{toggle:i},s),g=d,v=null;switch(r=r||u.default.createElement(c.FormattedMessage,{id:"Dialog.successButton",defaultMessage:"Ok"}),o=o||u.default.createElement(c.FormattedMessage,{id:"Dialog.cancelButton",defaultMessage:"Cancel"}),t){case"confirm":v=u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:a||"primary",onClick:l},r)," ",u.default.createElement(f.Button,{color:"secondary",onClick:i},o));break;case"alert":i=i||l,v=u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:a||"primary",onClick:i},r));break;case"loading":h=null,g=u.default.createElement("div",{style:{minHeight:260,display:"flex"}},u.default.createElement("div",{style:{margin:"auto"}},d,d&&u.default.createElement("div",{style:{display:"block",height:20}}),u.default.createElement(p.default,null)));break;case"prompt":v=u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:a||"primary",onClick:this.sendPromptValues},r)," ",u.default.createElement(f.Button,{color:"secondary",onClick:i},o)),g=u.default.createElement("div",null,d,d&&u.default.createElement("div",{style:{display:"block",height:20}}),this.createPromptInputList())}return u.default.createElement(m.default,{isOpen:n,toggle:i,className:this.props.className},h,u.default.createElement(f.ModalBody,null,g),v)}}]),t}(),r.propTypes={dialogType:d.default.oneOf(["prompt","confirm","alert","loading"]).isRequired,open:d.default.bool.isRequired,title:d.default.string,message:d.default.oneOfType([d.default.string,d.default.node]),successButton:d.default.string,successColor:d.default.string,cancelButton:d.default.string,inputs:d.default.arrayOf(d.default.shape({element:d.default.element,label:d.default.string,helpMessage:d.default.string,type:d.default.string})),onSuccess:d.default.func,onCancel:d.default.func},o);t.default=(0,c.injectIntl)(v),e.exports=t.default},1420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.default.createElement(i.Container,e,o.default.createElement("div",{className:"animated fadeIn",style:{paddingTop:20}},e.children))};var a,r=n(1),o=(a=r)&&a.__esModule?a:{default:a},i=n(13);e.exports=t.default},1421:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=n(1422),f=a(n(9)),p=(0,a(n(233)).default)(c.SketchPicker),m=["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff","#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],h=(0,f.default)({default:{color:{width:"36px",height:"14px",borderRadius:"2px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}),g=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleClose=n.handleClose.bind(n),n.handleChange=n.handleChange.bind(n),n.state={show:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"handleClick",value:function(){this.setState({show:!this.state.show})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleChange",value:function(e){var t=this.props.onChange;t&&t(e.hex)}},{key:"render",value:function(){var e=this.props,t=e.value,n=(e.onChange,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","onChange"])),a=this.state.show;return u.default.createElement("div",n,u.default.createElement("div",{style:h.swatch,onClick:this.handleClick},u.default.createElement("div",{style:i({},h.color,{backgroundColor:t})})),a&&u.default.createElement("div",{style:h.popover},u.default.createElement(p,{disableAlpha:!0,presetColors:m,color:t,onChange:this.handleChange,onClickOutside:this.handleClose})))}}]),t}(),r.propTypes={value:d.default.string,onChange:d.default.func},o);t.default=g,e.exports=t.default},143:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){var t=e.size,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["size"]);return o.default.createElement("div",r({className:(0,i.default)("loading-spinner",t&&"loading-spinner-"+t)},n),o.default.createElement("div",{className:"bounce1"}),o.default.createElement("div",{className:"bounce2"}),o.default.createElement("div",{className:"bounce3"}))};var o=a(n(1)),i=a(n(6));e.exports=t.default},1504:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=n(10),f=n(13),p=a(n(49)),m=n(8),h=a(n(1505)),g=(0,c.defineMessages)({staticTextOptionName:{id:"EditColumn.staticTextOption",defaultMessage:"Static text"},noLink:{id:"EditColumn.noLinkOption",defaultMessage:"No link"}}),v=1,y=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onNameChanged=n.onNameChanged.bind(n),n.onFieldSelected=n.onFieldSelected.bind(n),n.onStaticTextChanged=n.onStaticTextChanged.bind(n),n.toggleConditionalFormatting=n.toggleConditionalFormatting.bind(n),n.onLinkRelationSelected=n.onLinkRelationSelected.bind(n),n.onLinkViewSelected=n.onLinkViewSelected.bind(n),n.onConditionalFormattingChange=n.onConditionalFormattingChange.bind(n),n.uniqueIdPrefix="EditColumn-unique-id-"+v++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"generateOptionsForFields",value:function(){var e=this.props,t=e.view,n=e.context,a=e.columns,r=e.columnIndex,o=e.intl.formatMessage,i=t.data_model_id,l=n.models[i],s=l.fields.map(function(e){return n.fields[e]}),u=function(e,t,n){return(0,m.some)(a,function(a,o){return r!==o&&e==a.field_id&&t==a.relation_id&&(!t||n===a.relation_is_back)})},d=[];d.push({value:"no",label:o(g.staticTextOptionName)}),s.forEach(function(e){d.push({value:""+e.id,label:e.name,disabled:u(e.id,null,null)})});var c=function(e,t){var a=e[t?"nameBackward":"nameForward"];n.models[e[t?"model_from_id":"model_to_id"]].fields.map(function(e){return n.fields[e]}).map(function(n){d.push({value:n.id+"-"+e.id+"-"+(t?"b":"f"),label:a+"."+n.name,disabled:u(n.id,e.id,t)})})};return l.relations.forEach(function(e){var t=n.relations[e];t.model_from_id===i&&("ONE_TO_ONE"!==t.type&&"MANY_TO_ONE"!==t.type||c(t,!1)),t.model_to_id===i&&("ONE_TO_ONE"!==t.type&&"ONE_TO_MANY"!==t.type||c(t,!0))}),d}},{key:"onFieldSelected",value:function(e){var t=e&&e.split("-")||[],n=void 0,a=void 0,r=void 0;t.length>=1&&"no"!==e&&(t.length>1&&(a=parseInt(t[1],10),r="b"===t[2]),n=parseInt(t[0],10)),this.update({field_id:n||null,relation_id:a||null,relation_is_back:r||null})}},{key:"getSelectedFieldValue",value:function(){var e=this.props,t=e.columns[e.columnIndex];if(t.field_id){var n=""+t.field_id;return t.relation_id&&(n+="-"+t.relation_id+"-"+(t.relation_is_back?"b":"f")),n}return"no"}},{key:"generateOptionsForLink",value:function(){var e=this.props,t=e.view,n=e.context,a=(e.columns,e.columnIndex,e.intl.formatMessage),r=t.data_model_id,o=n.models[r],i=[];i.push({value:"no",label:a(g.noLink)});var l=function(e,t){var n=e[t?"nameBackward":"nameForward"];i.push({value:e.id+"-"+(t?"b":"f"),label:n})};return o.relations.forEach(function(e){var t=n.relations[e];t.model_from_id===r&&l(t,!1),t.model_to_id===r&&l(t,!0)}),i}},{key:"onLinkRelationSelected",value:function(e){var t=e&&e.split("-")||[],n=void 0,a=null;t.length>=1&&"no"!==e&&(n=parseInt(t[0],10),a="b"===t[1]),this.update({link_relation_id:n||null,link_relation_is_back:a,link_relation_view_id:null})}},{key:"getSelectedLinkRelationValue",value:function(){var e=this.props,t=e.columns[e.columnIndex];return t.link_relation_id?t.link_relation_id+"-"+(t.link_relation_is_back?"b":"f"):"no"}},{key:"generateOptionsForLinkViews",value:function(){var e=this.props,t=(e.view,e.context),n=e.columns,a=e.columnIndex,r=e.intl,o=n[a];if(r.formatMessage,!o.link_relation_id)return[];var i=t.relations[o.link_relation_id];if(!i)return[];var l=i[o.link_relation_is_back?i.model_from_id:i.model_to_id],s=Object.values(t.views).filter(function(e){return l===e.data_model_id&&e.id}),u=[];return u.push({value:"no",label:"-"}),s.forEach(function(e){u.push({value:""+e.id,label:e.name})}),u}},{key:"onLinkViewSelected",value:function(e){var t=void 0;e&&"no"!==e&&(t=parseInt(values[0],10)),this.update({link_relation_view_id:t||null})}},{key:"getSelectedLinkViewValue",value:function(){var e=this.props,t=e.columns[e.columnIndex];return t.link_relation_view_id?""+t.link_relation_view_id:"no"}},{key:"update",value:function(e){var t=this.props,n=t.columns,a=t.columnIndex,r=n[a],o=Object.assign({},r,e);this.props.onUpdate(a,o)}},{key:"onNameChanged",value:function(e){this.update({name:e.target.value||""})}},{key:"onStaticTextChanged",value:function(e){this.update({customText:e.target.value||null})}},{key:"onBooleanValueChanged",value:function(e,t){var n=this.props,a=n.columns,r=n.columnIndex,o=a[r],l=t.target.value||"",s={options:i({},o.options,{boolean:i({},o.options&&o.options.boolean,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,l))})},u=Object.assign({},o,s);this.props.onUpdate(r,u)}},{key:"toggleConditionalFormatting",value:function(e){var t=this.props,n=t.columns[t.columnIndex];if(e.target.checked){var a=n._originalConditionalFormatting||[];a.length||a.push({}),this.update({_originalConditionalFormatting:null,conditionalFormatting:a})}else this.update({_originalConditionalFormatting:n.conditionalFormatting,conditionalFormatting:null})}},{key:"onConditionalFormattingChange",value:function(e){this.update({conditionalFormatting:e})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.view,t.columns),a=t.columnIndex,r=t.context,o=t.onDelete,i=n[a],l=this.generateOptionsForFields(),s=!i.field_id&&!i.relation_id,d=i.field_id&&r.fields[i.field_id],m=d&&d.type1,g=i.conditionalFormatting,v=this.generateOptionsForLink(),y=this.generateOptionsForLinkViews();return u.default.createElement(f.Form,{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,null,u.default.createElement(c.FormattedMessage,{id:"EditColumn.columnNameLabel",defaultMessage:"Column name"}))),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(f.Input,{type:"text",value:i.name||"",onChange:this.onNameChanged}))),u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,null,u.default.createElement(c.FormattedMessage,{id:"EditColumn.modelFieldSelectorLabel",defaultMessage:"Value"}))),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(p.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:l,simpleValue:!0,clearable:!1,value:this.getSelectedFieldValue(),searchable:!0,onChange:this.onFieldSelected}))),s&&u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,null,u.default.createElement(c.FormattedMessage,{id:"EditColumn.staticTextLabel",defaultMessage:"Static text"}))),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(f.Input,{type:"text",value:i.customText||"",onChange:this.onStaticTextChanged}))),u.default.createElement(f.Button,{color:"danger",onClick:function(){return o(a)}},u.default.createElement(c.FormattedMessage,{id:"EditColumn.deleteColumn",defaultMessage:"Delete column"})),"BOOLEAN"===m&&u.default.createElement("div",null,u.default.createElement("hr",null),u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,null,u.default.createElement(c.FormattedMessage,{id:"EditColumn.booleanValue.trueValue",defaultMessage:'Display value for "true"'}))),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(f.Input,{type:"text",value:i.options&&i.options.boolean&&i.options.boolean.true||"",onChange:function(t){return e.onBooleanValueChanged("true",t)}}))),u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,null,u.default.createElement(c.FormattedMessage,{id:"EditColumn.booleanValue.falseValue",defaultMessage:'Display value for "false"'}))),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(f.Input,{type:"text",value:i.options&&i.options.boolean&&i.options.boolean.false||"",onChange:function(t){return e.onBooleanValueChanged("false",t)}})))),u.default.createElement("hr",null),u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,null,u.default.createElement(c.FormattedMessage,{id:"EditColumn.conditionalFormatting.label",defaultMessage:"Cell formatting"}))),u.default.createElement(f.Col,{md:"9"},u.default.createElement(f.FormGroup,{check:!0,inline:!0},u.default.createElement(f.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-conditionalFormattingCheckbox",checked:g&&g.length>0,onChange:this.toggleConditionalFormatting}),u.default.createElement(f.Label,{className:"form-check-label",check:!0,htmlFor:this.uniqueIdPrefix+"-conditionalFormattingCheckbox"},u.default.createElement(c.FormattedMessage,{id:"EditColumn.conditionalFormatting.checkboxLabel",defaultMessage:"Apply cell formatting"}))))),g&&g.length&&u.default.createElement(h.default,{type:m,conditionalFormatting:g,onConditionalFormattingChange:this.onConditionalFormattingChange}),u.default.createElement("hr",null),u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,null,u.default.createElement(c.FormattedMessage,{id:"EditColumn.addLinkToOtherViewLabel",defaultMessage:"Add link to other view"}))),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(p.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:v,simpleValue:!0,clearable:!1,value:this.getSelectedLinkRelationValue(),searchable:!0,onChange:this.onLinkRelationSelected}))),i.link_relation_id&&u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,null,u.default.createElement(c.FormattedMessage,{id:"EditColumn.addLinkToOtherViewSelectViewLabel",defaultMessage:"Open view"}))),u.default.createElement(f.Col,{xs:"12",md:"9"},u.default.createElement(p.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:y,simpleValue:!0,clearable:!1,value:this.getSelectedLinkViewValue(),searchable:!0,onChange:this.onLinkViewSelected}))))}}]),t}(),r.propTypes={view:d.default.object.isRequired,columns:d.default.array.isRequired,context:d.default.object.isRequired,columnIndex:d.default.number.isRequired,onUpdate:d.default.func.isRequired,onDelete:d.default.func.isRequired},o);t.default=(0,c.injectIntl)(y),e.exports=t.default},1505:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=n(10),f=n(13),p=a(n(49)),m=n(247),h=n(168),g=n(8),v=(0,c.defineMessages)({min:{id:"EditConditionalFormatting.general.min",defaultMessage:"Min"},middle:{id:"EditConditionalFormatting.general.middle",defaultMessage:"Middle"},max:{id:"EditConditionalFormatting.general.max",defaultMessage:"Max"},positiveNumbers:{id:"EditConditionalFormatting.general.positiveNumbers",defaultMessage:"Positive numbers"},negativeNumbers:{id:"EditConditionalFormatting.general.negativeNumbers",defaultMessage:"Negative numbers"},valueAuto:{id:"EditConditionalFormatting.general.valueType.auto",defaultMessage:"Auto"},valueManual:{id:"EditConditionalFormatting.general.valueType.manual",defaultMessage:"Manual"}}),y=1,b=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderConditionalFormatting=n.renderConditionalFormatting.bind(n),n.uniqueIdPrefix="EditConditionalFormatting-unique-id-"+y++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"getValue",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e?e[t]:e},this.props.conditionalFormatting)}},{key:"updateValue",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=function e(t,n,a,r){if(a==n.length)return r;var o=n[a];return(t=(0,g.clone)(t))[o]||(t[o]=isNaN(n[a+1])?{}:[]),t[o]=e(t[o],n,a+1,r),t}(this.props.conditionalFormatting,n,0,e);r=r.map(function(e){return(0,m.setDefaultOptionsIfNeeded)(e)}),this.props.onConditionalFormattingChange(r)}},{key:"renderSelectNumber",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._renderSelectNumber.apply(this,[!1].concat(t))}},{key:"renderSelectNumberWithoutAuto",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._renderSelectNumber.apply(this,[!0].concat(t))}},{key:"_renderSelectNumber",value:function(e){for(var t=this,n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];var o=this.props.intl.formatMessage,i=this.getValue.apply(this,a.concat(["type"]));return u.default.createElement(f.FormGroup,{inline:!0,style:{display:"inline-flex"}},!e&&u.default.createElement(f.Input,{type:"select",style:{width:120,display:"inline-block"},value:i,onChange:function(e){t.updateValue.apply(t,[e.target.value].concat(a,["type"]))}},u.default.createElement("option",{value:"auto"},o(v.valueAuto)),u.default.createElement("option",{value:"value"},o(v.valueManual))),"auto"!==i&&u.default.createElement(h.NumberInput,{value:this.getValue.apply(this,a.concat(["value"])),style:{marginLeft:e?0:15},onChange:function(e){t.updateValue.apply(t,[e].concat(a,["value"]))}}))}},{key:"renderSelectText",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return u.default.createElement(f.FormGroup,{inline:!0,style:{display:"inline-flex"}},u.default.createElement(f.Input,{type:"text",value:this.getValue.apply(this,n.concat(["value"])),onChange:function(t){e.updateValue.apply(e,[t.target.value].concat(n,["value"]))}}))}},{key:"renderSelectFormat",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=!!this.getValue.apply(this,n.concat(["format","bold"])),o=!!this.getValue.apply(this,n.concat(["format","italic"])),l=!!this.getValue.apply(this,n.concat(["format","underline"])),s={color:"primary",active:!0},d={color:"secondary",active:!1},p=r?s:d,m=o?s:d,g=l?s:d;return u.default.createElement(f.FormGroup,{inline:!0},u.default.createElement("div",{style:{marginBottom:10}},u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.background",defaultMessage:"Background color"})),u.default.createElement(h.ColorInput,{style:{display:"inline-flex"},value:this.getValue.apply(this,n.concat(["format","background"])),onChange:function(t){e.updateValue.apply(e,[t].concat(n,["format","background"]))}})),u.default.createElement("div",{style:{marginBottom:10}},u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.color",defaultMessage:"Text color"})),u.default.createElement(h.ColorInput,{style:{display:"inline-flex"},value:this.getValue.apply(this,n.concat(["format","color"])),onChange:function(t){e.updateValue.apply(e,[t].concat(n,["format","color"]))}})),u.default.createElement("div",null,u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.textStyle",defaultMessage:"Text style"})),u.default.createElement(f.ButtonGroup,{size:"sm"},u.default.createElement(f.Button,i({outline:!0,style:{fontWeight:"bold"}},p,{onClick:function(t){e.updateValue.apply(e,[!r].concat(n,["format","bold"])),t.currentTarget.blur()}}),u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.bold",defaultMessage:"Bold"})),u.default.createElement(f.Button,i({outline:!0,style:{fontStyle:"italic"}},m,{onClick:function(t){e.updateValue.apply(e,[!o].concat(n,["format","italic"])),t.currentTarget.blur()}}),u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.italic",defaultMessage:"Italic"})),u.default.createElement(f.Button,i({outline:!0,style:{textDecoration:"underline"}},g,{onClick:function(t){e.updateValue.apply(e,[!l].concat(n,["format","underline"])),t.currentTarget.blur()}}),u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.general.format.underline",defaultMessage:"Underline"})))))}},{key:"renderScaleOption",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return u.default.createElement("div",{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"2"},u.default.createElement(f.Label,null,e)),u.default.createElement(f.Col,{xs:"12",md:"10"},this.renderSelectNumber.apply(this,n),this.renderSelectFormat.apply(this,n))))}},{key:"renderBarOptionValue",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return u.default.createElement("div",{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"2"},u.default.createElement(f.Label,null,e)),u.default.createElement(f.Col,{xs:"12",md:"10"},this.renderSelectNumber.apply(this,n))))}},{key:"renderBarOptionColor",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return u.default.createElement("div",{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{md:"2"},u.default.createElement(f.Label,null,e)),u.default.createElement(f.Col,{xs:"12",md:"10"},this.renderSelectFormat.apply(this,n))))}},{key:"renderBarOptionHideValue",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=this.uniqueIdPrefix+"-renderBarOptionHideValueCheckbox-"+n.join("-");return u.default.createElement("div",{className:"form-horizontal"},u.default.createElement(f.FormGroup,{row:!0},u.default.createElement(f.Col,{xs:"12",md:{size:10,offset:2}},u.default.createElement(f.Input,{className:"form-check-input",type:"checkbox",id:r,checked:this.getValue.apply(this,n.concat(["barOnly"]))||!1,onChange:function(t){e.updateValue.apply(e,[t.target.checked].concat(n,["barOnly"]))}}),u.default.createElement(f.Label,{check:!0,className:"form-check-label",htmlFor:r},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.bar.hideValue",defaultMessage:"Hide value (only show the bar)"})))))}},{key:"renderRangesTable",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=this.getValue.apply(this,t.concat(["ranges"])),r=a?a.length:0,o=[],i=0;i<=r;i++)o.push(this.renderRangesRow.apply(this,[i,r].concat(t)));return u.default.createElement(f.Table,null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{style:{minWidth:220}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.ranges.columnTitleRanges",defaultMessage:"Ranges"})),u.default.createElement("th",{style:{width:30}}))),u.default.createElement("tbody",null,o))}},{key:"renderRangesRow",value:function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var o=this;return u.default.createElement("tr",{key:e},u.default.createElement("td",null,u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.ranges.fromValue",defaultMessage:"From"})),0===e?"-∞":this.getValue.apply(this,a.concat(["ranges",e-1,"value"]))||"--",u.default.createElement("div",{style:{height:10,display:"block"}}),u.default.createElement("div",{style:{width:150,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.ranges.toValue",defaultMessage:"To"})),e===t?"+∞":this.renderSelectNumberWithoutAuto.apply(this,a.concat(["ranges",e])),u.default.createElement("br",null),e===t?this.renderSelectFormat.apply(this,a.concat(["otherValues"])):this.renderSelectFormat.apply(this,a.concat(["ranges",e]))),u.default.createElement("td",{style:{textAlign:"center",verticalAlign:"middle"}},0!==e&&u.default.createElement(h.Link,{onClick:function(){return o.removeRangeAtIndex.apply(o,[e].concat(a))}},u.default.createElement("i",{className:"fa fa-trash-o"})),e<t&&u.default.createElement(h.Link,{onClick:function(){return o.addRangeAtIndex.apply(o,[e+1].concat(a))}},u.default.createElement("i",{className:"fa fa-plus"}))))}},{key:"removeRangeAtIndex",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=this.getValue.apply(this,n.concat(["ranges"]))||[],o=(0,g.clone)(r);o.splice(e,1),this.updateValue.apply(this,[o].concat(n,["ranges"]))}},{key:"addRangeAtIndex",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=this.getValue.apply(this,n.concat(["ranges"]))||[],o=(0,g.clone)(r);o.splice(e,0,{}),this.updateValue.apply(this,[o].concat(n,["ranges"]))}},{key:"renderValuesTable",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=this.getValue.apply(this,n.concat(["values"])),o=r?r.length:0,i=[],l=0;l<=o;l++)i.push(this.renderValuesRow.apply(this,[l,o].concat(n)));return u.default.createElement("div",null,u.default.createElement(f.Table,null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{style:{minWidth:200}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.columnTitleValue",defaultMessage:"Value"})),u.default.createElement("th",{style:{minWidth:220}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.columnTitleFormat",defaultMessage:"Format"})),u.default.createElement("th",{style:{width:30}}))),u.default.createElement("tbody",null,i)),u.default.createElement(f.Button,{outline:!0,onClick:function(){return e.addValue.apply(e,n)}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.addValue",defaultMessage:"Add value"})))}},{key:"renderValuesRow",value:function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var o=this;return u.default.createElement("tr",{key:e},u.default.createElement("td",null,e<t?u.default.createElement("div",null,u.default.createElement("div",{style:{marginRight:10,display:"inline-flex"}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.ifValue",defaultMessage:"If"})),this.renderSelectText.apply(this,a.concat(["values",e]))):u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.values.noneOfTheAbove",defaultMessage:"None of the above"})),u.default.createElement("td",null,e===t?this.renderSelectFormat.apply(this,a.concat(["otherValues"])):this.renderSelectFormat.apply(this,a.concat(["values",e]))),u.default.createElement("td",{style:{textAlign:"center",verticalAlign:"middle"}},e<t&&u.default.createElement(h.Link,{onClick:function(){return o.removeValueAtIndex.apply(o,[e].concat(a))}},u.default.createElement("i",{className:"fa fa-trash-o"}))))}},{key:"removeValueAtIndex",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=this.getValue.apply(this,n.concat(["values"]))||[],o=(0,g.clone)(r);o.splice(e,1),this.updateValue.apply(this,[o].concat(n,["values"]))}},{key:"addValue",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=this.getValue.apply(this,t.concat(["values"]))||[],r=(0,g.clone)(a);r.push({}),this.updateValue.apply(this,[r].concat(t,["values"]))}},{key:"renderConditionalFormatting",value:function(e,t){var n=this,a=this.props.intl.formatMessage,r=(0,m.getConditionalFormattingsForValueType)(this.props.type).map(function(e){return{value:e,label:(0,m.getConditionalFormattingName)(e)}}),o=e.type;return u.default.createElement("tr",{key:t},u.default.createElement("td",null,u.default.createElement(p.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:r,simpleValue:!0,clearable:!1,value:o,onChange:function(e){n.updateValue(e,t,"type")}})),u.default.createElement("td",null,("2-color-scale"===o||"3-color-scale"===o)&&u.default.createElement("div",null,this.renderScaleOption(a(v.min),t,"min"),"3-color-scale"===o&&this.renderScaleOption(a(v.middle),t,"middle"),this.renderScaleOption(a(v.max),t,"max")),"bar"===o&&u.default.createElement("div",null,this.renderBarOptionValue(a(v.min),t,"min"),this.renderBarOptionValue(a(v.max),t,"max"),this.renderBarOptionColor(a(v.positiveNumbers),t,"positive"),this.renderBarOptionColor(a(v.negativeNumbers),t,"negative"),this.renderBarOptionHideValue(t)),"ranges"===o&&u.default.createElement("div",null,this.renderRangesTable(t)),"values"===o&&u.default.createElement("div",null,this.renderValuesTable(t))))}},{key:"render",value:function(){var e=this.props,t=(e.type,e.conditionalFormatting);return u.default.createElement(f.Table,{bordered:!0},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{style:{minWidth:200,maxWidth:250}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.table.header.rule",defaultMessage:"Rule"})),u.default.createElement("th",{style:{minWidth:300}},u.default.createElement(c.FormattedMessage,{id:"EditConditionalFormatting.table.header.options",defaultMessage:"Options"})))),u.default.createElement("tbody",null,t.map(this.renderConditionalFormatting)))}}]),t}(),r.propTypes={type:d.default.string.isRequired,conditionalFormatting:d.default.array.isRequired,onConditionalFormattingChange:d.default.func.isRequired},o);t.default=(0,c.injectIntl)(b),e.exports=t.default},1506:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),c=a(n(0)),f=n(26),p=n(10),m=n(13),h=n(8),g=a(n(142)),v=n(27),y=(0,p.defineMessages)({askNewRoleNameTitle:{id:"EditPermissions.newRole.prompt.title",defaultMessage:"Create a new role"},askNewRoleNameButton:{id:"EditPermissions.newRole.prompt.button",defaultMessage:"Create"},askNewRoleNameLabel:{id:"EditPermissions.newRole.prompt.label",defaultMessage:"Name of the role"},askNewRoleNameErrorTitle:{id:"EditPermissions.newRole.prompt.errorTitle",defaultMessage:"Error"},askNewRoleNameErrorMessage:{id:"EditPermissions.newRole.prompt.errorMessage",defaultMessage:"Error creating the new role."}}),b=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addRole=n.addRole.bind(n),n.state={askNewRoleName:!1,askNewRoleNameError:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"hasPermission",value:function(e,t){var n=(0,h.find)(this.props.view.permissions,function(t){return t.role_id===e.id});return n&&n[t]||!1}},{key:"setPermission",value:function(e,t,n){var a=(0,h.clone)(this.props.view.permissions),o=(0,h.findIndex)(this.props.view.permissions,function(t){return t.role_id===e.id});if(-1===o){var i=r({role_id:e.id},t,n);a.push(i)}else a[o]=l({},a[o],r({},t,n));this.props.setPermissions(a)}},{key:"addRole",value:function(e){var t=this;this.props.createRole(e).then(function(e){e.type===v.SERVER_CREATE_ROLE_FAILURE?t.setState({askNewRoleName:!1,askNewRoleNameError:e.response}):t.setState({askNewRoleName:!1})})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.view,t.context,t.roles),a=t.intl,r=this.state,o=r.askNewRoleName,i=r.askNewRoleNameError,l=a.formatMessage,s=n&&n.map(function(t,n){return d.default.createElement("tr",{key:n},d.default.createElement("td",null,t.name),d.default.createElement("td",{style:{textAlign:"center"}},d.default.createElement("input",{type:"checkbox",checked:e.hasPermission(t,"read"),onChange:function(n){e.setPermission(t,"read",n.target.checked)}})),d.default.createElement("td",{style:{textAlign:"center"}},d.default.createElement("input",{type:"checkbox",checked:e.hasPermission(t,"write"),onChange:function(n){e.setPermission(t,"write",n.target.checked)}})),d.default.createElement("td",{style:{textAlign:"center"}},d.default.createElement("input",{type:"checkbox",checked:e.hasPermission(t,"delete"),onChange:function(n){e.setPermission(t,"delete",n.target.checked)}})))});return d.default.createElement("div",null,d.default.createElement(m.Table,{bordered:!0,hover:!0},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{style:{minWidth:280}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.tableHeader.role",defaultMessage:"Role"})),d.default.createElement("th",{style:{width:170,textAlign:"center"}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.tableHeader.permission.read",defaultMessage:"Read"})),d.default.createElement("th",{style:{width:170,textAlign:"center"}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.tableHeader.permission.write",defaultMessage:"Write"})),d.default.createElement("th",{style:{width:170,textAlign:"center"}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.tableHeader.permission.delete",defaultMessage:"Delete"})))),d.default.createElement("tbody",null,s)),d.default.createElement(m.Button,{outline:!0,onClick:function(){return e.setState({askNewRoleName:!0})}},d.default.createElement(p.FormattedMessage,{id:"EditPermissions.addRoleButton",defaultMessage:"Add role"})),d.default.createElement(g.default,{open:o,dialogType:"prompt",inputs:[{label:l(y.askNewRoleNameLabel),type:"text"}],title:l(y.askNewRoleNameTitle),successButton:l(y.askNewRoleNameButton),onSuccess:function(t){return e.addRole(t)},onCancel:function(){return e.setState({askNewRoleName:!1})}}),d.default.createElement(g.default,{open:i||!1,dialogType:"alert",title:l(y.askNewRoleNameErrorTitle),message:d.default.createElement("div",null,l(y.askNewRoleNameErrorMessage),d.default.createElement("pre",null,JSON.stringify(i,null,2))),onCancel:function(){return e.setState({askNewRoleNameError:null})}}))}}]),t}(),o.propTypes={view:c.default.object.isRequired,context:c.default.object.isRequired,roles:c.default.array.isRequired,setPermissions:c.default.func.isRequired},i),E={createRole:v.createRole};t.default=(0,f.connect)(function(e,t){return{roles:e.server.roles||[]}},E)((0,p.injectIntl)(b)),e.exports=t.default},1507:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=n(26),c=n(10),f=n(13),p=n(8),m=a(n(49)),h=n(711),g=a(n(266)),v=1,y=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onUserModelValueSelected=n.onUserModelValueSelected.bind(n),n.onThisModelValueSelected=n.onThisModelValueSelected.bind(n),n.onFilterFunctionChange=n.onFilterFunctionChange.bind(n),n.uniqueIdPrefix="EditFilters-unique-id-"+v++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"onUserFilterEnableCheckbox",value:function(e){e?this.props.onFiltersChange({userFilter:[{}]}):this.props.onFiltersChange({userFilter:null})}},{key:"getUserModelSelectionOptions",value:function(){var e=this.props,t=e.context,n=e.userModel,a=[];return n&&(n.relations.forEach(function(e){var r=t.relations[e];r.model_from_id!==n.id||"MANY_TO_ONE"!==r.type&&"ONE_TO_ONE"!==r.type||a.push({value:"relation-"+r.id+"-f",label:r.nameForward}),r.model_to_id!==n.id||"ONE_TO_MANY"!==r.type&&"ONE_TO_ONE"!==r.type||a.push({value:"relation-"+r.id+"-b",label:r.nameBackward})}),n.fields.forEach(function(e){var n=t.fields[e];a.push({value:"field-"+n.id,label:n.name})})),a}},{key:"getSelectedUserModelValue",value:function(){var e=this.props.view.userFilter&&this.props.view.userFilter[0],t=e&&e.userModel||{},n=t.type,a=t.id,r=t.relationIsBack;return"field"===n?n+"-"+a:"relation"===n?n+"-"+a+"-"+(r?"b":"f"):null}},{key:"onUserModelValueSelected",value:function(e){if(e){var t=e.split("-");this.props.onFiltersChange({userFilter:[{userModel:{type:t[0],id:parseInt(t[1],10),relationIsBack:t[2]?"b"===t[2]:null},viewModel:null}]})}}},{key:"getThisModelSelectionOptions",value:function(){var e=this.props,t=e.context,n=(e.userModel,e.view),a=this.props.view.userFilter&&this.props.view.userFilter[0],r=a&&a.userModel||{},o=r.type,i=r.id,l=r.relationIsBack,s=t.models[n.data_model_id],u=[];if("field"===o){var d=t.fields[i];d&&s.fields.forEach(function(e){var n=t.fields[e];(0,h.canChangeToType)(n.type1,d.type1)&&u.push({value:"field-"+n.id,label:n.name})})}if("relation"===o){var c=t.relations[i];if(c){var f=l?c.model_from_id:c.model_to_id;s.relations.forEach(function(e){var n=t.relations[e];n.model_from_id!==s.id||n.model_to_id!==f||"MANY_TO_ONE"!==n.type&&"ONE_TO_ONE"!==n.type||u.push({value:"relation-"+n.id+"-f",label:n.nameForward}),n.model_to_id!==s.id||n.model_from_id!==f||"ONE_TO_MANY"!==n.type&&"ONE_TO_ONE"!==n.type||u.push({value:"relation-"+n.id+"-b",label:n.nameBackward})})}}return u}},{key:"getSelectedThisModelValue",value:function(){var e=this.props.view.userFilter&&this.props.view.userFilter[0],t=e&&e.viewModel||{},n=t.type,a=t.id,r=t.relationIsBack;return"field"===n?n+"-"+a:"relation"===n?n+"-"+a+"-"+(r?"b":"f"):null}},{key:"onThisModelValueSelected",value:function(e){if(e){var t=e.split("-"),n=this.props.view.userFilter&&this.props.view.userFilter[0];this.props.onFiltersChange({userFilter:[{userModel:n&&n.userModel,viewModel:{type:t[0],id:parseInt(t[1],10),relationIsBack:t[2]?"b"===t[2]:null}}]})}}},{key:"onFilterFunctionChange",value:function(e){this.props.onFiltersChange({filterFunc:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.view,a=t.context,r=(t.intl,t.userModel),o=a.models[n.data_model_id],i=this.getUserModelSelectionOptions(),l=this.getThisModelSelectionOptions(),u=r&&i.length,d=u&&n.userFilter&&n.userFilter.length;return s.default.createElement("div",null,s.default.createElement(f.Row,null,s.default.createElement(f.Col,null,s.default.createElement(f.FormGroup,{check:!0,className:"checkbox"},s.default.createElement(f.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-userFilterEnableLabel",checked:d,disabled:!u,onChange:function(t){return e.onUserFilterEnableCheckbox(t.target.checked)}}),s.default.createElement(f.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-userFilterEnableLabel"},s.default.createElement(c.FormattedMessage,{id:"EditFilters.userFilterEnableLabel",defaultMessage:"Filter based on user"})),!u&&s.default.createElement(f.FormText,{color:"muted"},s.default.createElement(c.FormattedMessage,{id:"EditFilters.userFilterEnableCantBeEnabled",defaultMessage:"Can't enable filter based on user because there is no user's model."}))))),d&&s.default.createElement(f.Row,{style:{marginTop:10}},s.default.createElement(f.Col,null,s.default.createElement(f.Table,{bordered:!0,hover:!0},s.default.createElement("thead",null,s.default.createElement("tr",null,s.default.createElement("th",{style:{minWidth:200}},s.default.createElement(c.FormattedMessage,{id:"EditFilters.userFiltertable.header.userAttribute",defaultMessage:"User's attribute"})),s.default.createElement("th",{style:{width:40,textAlign:"center"}}),s.default.createElement("th",{style:{minWidth:200}},s.default.createElement(c.FormattedMessage,{id:"EditFilters.userFiltertable.header.valuerAttribute",defaultMessage:"Value"})))),s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,s.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:i,simpleValue:!0,clearable:!1,value:this.getSelectedUserModelValue(),searchable:!0,onChange:this.onUserModelValueSelected})),s.default.createElement("td",{style:{textAlign:"center"}},"="),s.default.createElement("td",null,s.default.createElement(m.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:l,simpleValue:!0,clearable:!1,value:this.getSelectedThisModelValue(),searchable:!0,onChange:this.onThisModelValueSelected}))))))),s.default.createElement("hr",null),s.default.createElement(f.Row,null,s.default.createElement(f.Col,null,s.default.createElement(c.FormattedMessage,{id:"EditFilters.permanentFilter.title",defaultMessage:"Permanent filter"}))),s.default.createElement(f.Row,null,s.default.createElement(f.Col,{style:{marginTop:10}},s.default.createElement(g.default,{width:"100%",context:a,model:o,minLines:3,functionString:n.filterFunc||"",returnValue:"boolean",onChange:this.onFilterFunctionChange}))))}}]),t}(),r.propTypes={view:u.default.object.isRequired,context:u.default.object.isRequired,onFiltersChange:u.default.func.isRequired},o);t.default=(0,d.connect)(function(e,t){var n=e.context.models||[];return{userModel:(0,p.find)(n,function(e){return"USER_MODEL"===e.specialModel})}},{})((0,c.injectIntl)(y)),e.exports=t.default},1508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1509),o=(a=r)&&a.__esModule?a:{default:a};t.default=o.default,e.exports=t.default},1509:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return b=(b+1)%9007199254740991}function o(e){return Array.isArray(e)?e.map(function(e){return o(e)}):((e=(0,h.clone)(e)).__reactKey=r(),e.children&&(e.children=o(e.children)),e)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),c=a(n(0)),f=a(n(260)),p=n(683),m=a(n(1510)),h=n(8),g=n(478),v=a(n(1520)),y=a(n(1522)),b=0,E=(l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.onSave=n.onSave.bind(n),n.onCancel=n.onCancel.bind(n),n.setDraggingItem=n.setDraggingItem.bind(n),n.removeDraggingItemBeforeDrop=n.removeDraggingItemBeforeDrop.bind(n),n.state={draggingItem:null,content:o(e.content)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"getChildContext",value:function(){return{setDraggingItem:this.setDraggingItem,removeDraggingItemBeforeDrop:this.removeDraggingItemBeforeDrop,additionalInfo:this.props.additionalInfo,layoutType:this.props.type}}},{key:"componentWillReceiveProps",value:function(e){(0,h.isEqual)(e.content,this.props.content)||this.setState({content:o(e.content)})}},{key:"setDraggingItem",value:function(e){this.setState({draggingItem:e})}},{key:"removeDraggingItemBeforeDrop",value:function(){this.setState({content:function e(t,n){if(Array.isArray(t)){var a=(0,h.findIndex)(t,function(e){return e.__reactKey===n});return-1!==a?((t=(0,h.clone)(t)).splice(a,1),t):t.map(function(t){return e(t,n)})}return(t=(0,h.clone)(t)).children&&(t.children=e(t.children,n)),t}(this.state.content,this.state.draggingItem.content.__reactKey)})}},{key:"onChange",value:function(e,t){t||function e(t){Array.isArray(t)?t.forEach(function(t){return e(t)}):(t.__reactKey=r(),delete t.fromTool,delete t.isPlaceholder,t.children&&e(t.children))}(e),this.setState({content:e})}},{key:"onSave",value:function(){var e=this.state.content;!function e(t){Array.isArray(t)?t.forEach(function(t){return e(t)}):(delete t.__reactKey,t.children&&e(t.children))}(e),this.props.save(e)}},{key:"onCancel",value:function(){this.props.cancel()}},{key:"render",value:function(){var e=this.props,t=(e.save,e.cancel,e.type),n=this.state,a=n.content,r=n.draggingItem;return d.default.createElement(g.TransitionGroup,null,d.default.createElement(g.CSSTransition,{appear:!0,in:!0,timeout:1e3,classNames:"editor-container-animation"},d.default.createElement("div",{className:"editor-container"},d.default.createElement("div",{className:"editor-tools-container"},d.default.createElement(y.default,{type:t,onSave:this.onSave,onCancel:this.onCancel})),d.default.createElement("div",{className:"editor-canvas-container"},d.default.createElement(v.default,{content:a,onChange:this.onChange,draggingItem:r})))))}}]),t}(),i.propTypes={content:c.default.any.isRequired,save:c.default.func.isRequired,cancel:c.default.func.isRequired,type:c.default.oneOf(f.default),additionalInfo:c.default.any},i.childContextTypes={setDraggingItem:c.default.func,removeDraggingItemBeforeDrop:c.default.func,additionalInfo:c.default.any,layoutType:c.default.oneOf(f.default)},l);t.default=(0,p.DragDropContext)(m.default)(E),e.exports=t.default},1520:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=(n(119),a(n(1521))),c=(n(8),n(10)),f=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"onChange",value:function(e,t){this.props.onChange(e.children,t)}},{key:"render",value:function(){var e=this.props,t=e.content,n=(e.onChange,e.draggingItem),a=e.intl,r={type:"container",children:t};return s.default.createElement("div",{className:"editor-canvas"},s.default.createElement(d.default,{content:r,onChange:this.onChange,draggingItem:n,intl:a}))}}]),t}(),r.propTypes={content:u.default.any.isRequired,onChange:u.default.func.isRequired,draggingItem:u.default.object},o);t.default=(0,c.injectIntl)(f),e.exports=t.default},1521:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=n(19),c=n(119),f=n(8),p=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.generateChildren=n.generateChildren.bind(n),n.deleteChild=n.deleteChild.bind(n),n.onDroppedItem=n.onDroppedItem.bind(n),n.setDraggingClientOffset=n.setDraggingClientOffset.bind(n),n.state={},n.childrenRefs=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"setChildrenRefs",value:function(e,t){t&&this.childrenRefs&&(this.childrenRefs[e]=t)}},{key:"setDraggingClientOffset",value:function(e){var t=this.props.content,n=(0,c.getElement)(t.type);if(!this.state.draggingClientOffset||e.x!==this.state.draggingClientOffset.x&&e.y!==this.state.draggingClientOffset.y){var a=function(e,t,n){var a;for(a=0;a<t.length;a++){var r=t[a];if(!r)break;var o=(0,d.findDOMNode)(r).getBoundingClientRect();if("x"===e){if(n.y>o.bottom+10)continue;if(n.y<o.top-10)return a}var i="x"===e?(o.right+o.left)/2:(o.bottom+o.top)/2;if(("x"===e?n.x:n.y)<i)return a}return a}(n.containerDirection,this.childrenRefs,e);this.setState({draggingClientOffset:e,dropPosition:"number"==typeof a?a:null})}}},{key:"onChildChange",value:function(e,t,n){var a=this.props.content,r=(0,f.clone)(a);r.children=(0,f.clone)(r.children);var o=(0,f.findIndex)(r.children,function(t){return t.__reactKey===e});r.children[o]=t,this.childrenRefs=[],this.props.onChange(r,n)}},{key:"deleteChild",value:function(e){var t=this.props.content,n=(0,f.clone)(t);n.children=n.children.filter(function(t){return t!==e}),this.childrenRefs=[],this.props.onChange(n)}},{key:"onDroppedItem",value:function(e){var t=this.props.content,n=e.content,a=this.state.dropPosition,r=(0,f.clone)(t);if(r.children=(0,f.clone)(r.children)||[],!n.fromTool){var o=(0,f.findIndex)(r.children,function(e){return e.__reactKey===n.__reactKey});-1!==o?(o<a&&a--,r.children.splice(o,1)):this.context.removeDraggingItemBeforeDrop(n)}"number"==typeof a?r.children.splice(a,0,n):r.children.push(n),this.childrenRefs=[],this.props.onChange(r)}},{key:"generateChildren",value:function(e){var n=this;if(!e)return null;Array.isArray(e)||(e=[e]);var a=this.props,r=a.draggingItem,o=a.intl,i=0;return e.map(function(e){return(0,c.getElement)(e.type),s.default.createElement(t,{ref:function(t){return"placeholder"!==e.__reactKey&&n.setChildrenRefs(i++,t)},key:e.__reactKey,content:e,onChange:function(t,a){return n.onChildChange(e.__reactKey,t,a)},onDelete:function(){return n.deleteChild(e)},draggingItem:r,intl:o})})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.onDelete,a=e.draggingItem,r=e.onChange,o=e.intl,i=this.context.setDraggingItem,l=this.state.dropPosition,u=(0,c.getElement)(t.type);return this.childrenRefs=[],s.default.createElement(u.DragElement,{content:t,isEditor:!0,generateChildren:this.generateChildren,onChange:r,onDelete:n,onDroppedItem:this.onDroppedItem,setDraggingClientOffset:this.setDraggingClientOffset,dropPosition:l,setDraggingItem:i,draggingItem:a,intl:o})}}]),t}(),r.propTypes={content:u.default.object.isRequired,draggingItem:u.default.object,onChange:u.default.func.isRequired,onDelete:u.default.func,intl:u.default.object.isRequired},r.contextTypes={setDraggingItem:u.default.func,removeDraggingItemBeforeDrop:u.default.func},o);t.default=p,e.exports=t.default},1522:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=n(119),c=n(10),f=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"render",value:function(){var e=(0,d.getAvailableElements)(this.props.type),t=this.props,n=t.onSave,a=t.onCancel,r=t.intl;return s.default.createElement("div",{className:"editor-tools"},s.default.createElement("h3",null,s.default.createElement(c.FormattedMessage,{id:"LayoutEditor.tools.title",defaultMessage:"UI Elements"})),s.default.createElement("div",{className:"editor-tools-list"},e.map(function(e,t){var n={type:e.type,fromTool:!0};return s.default.createElement(e.DragElement,{key:t,content:n,depth:0,isEditor:!0,isTool:!0,intl:r})})),s.default.createElement("div",{className:"editor-tools-helper text-muted"},s.default.createElement(c.FormattedMessage,{id:"LayoutEditor.tools.help",defaultMessage:"Drag and drop elements in the layout area"})),s.default.createElement("div",{className:"editor-tools-helper2 text-muted"},s.default.createElement(c.FormattedMessage,{id:"LayoutEditor.tools.help2",defaultMessage:"Start creating the layout by adding rows, then add column in them. You can change the width of the columns and insert components in them to create the layout you prefer."})),s.default.createElement("div",{className:"bottom-buttons-container"},s.default.createElement("button",{className:"btn btn-danger btn-sm layout-editing-cancel",type:"button",onClick:a},s.default.createElement(c.FormattedMessage,{id:"EditorTools.cancelChanges",defaultMessage:"Cancel"})),s.default.createElement("button",{className:"btn btn-success btn-sm layout-editing-save",type:"button",onClick:n},s.default.createElement(c.FormattedMessage,{id:"EditorTools.saveChanges",defaultMessage:"Save"}))))}}]),t}(),r.propTypes={type:u.default.oneOf(["FORM"]).isRequired,onSave:u.default.func.isRequired,onCancel:u.default.func.isRequired},o);t.default=(0,c.injectIntl)(f),e.exports=t.default},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllByType=function(e,t){var n=[];return e&&function e(t,n,a){Array.isArray(t)?t.forEach(function(t){return e(t,n,a)}):(t.type===n&&a.push(t),t.children&&e(t.children,n,a))}(e,t,n),n}},1524:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a,r,o){if(!e)return!!t;if(!t)return!0;if(e.id!=t.id||e.updated_at!==t.updated_at)return!0;if(n.length!==a.length)return!0;for(var i=0;i<n.length;i++){var l=n[i],s=a[i];if(l.id!=s.id||l.updated_at!==s.updated_at)return!0}if(r.length!==o.length)return!0;for(i=0;i<r.length;i++){var u=r[i],d=o[i];if(u.id!=d.id||u.updated_at!==d.updated_at)return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),c=a(n(0)),f=n(26),p=n(8),m=n(10),h=n(13),g=n(168),v=n(27),y=n(86),b=a(n(1525)),E=a(n(1527)),w=(0,m.defineMessages)({newModelBaseName:{id:"EditModel.newModelBaseName",defaultMessage:"NewModel"},newVirtualModelBaseName:{id:"EditModel.newVirtualModelBaseName",defaultMessage:"NewVirtualModel"},newExternalSourceBaseName:{id:"EditModel.newExternalSourceBaseName",defaultMessage:"NewExternalSource"},deleteTitle:{id:"EditModel.delete.confirmTitle",defaultMessage:"Confirm deletion"},deleteMessage:{id:"EditModel.delete.confirmMessage",defaultMessage:"Are you sure to delete this model?"},deleteButton:{id:"EditModel.delete.confirmButton",defaultMessage:"Delete this model"},errorTitle:{id:"EditModel.error.title",defaultMessage:"Error"},createErrorMessage:{id:"EditModel.error.createErrorMessage",defaultMessage:"Error trying to create the model."},deleteErrorMessage:{id:"EditModel.error.deleteErrorMessage",defaultMessage:"Error trying to delete the model"},serverUpdateReceivedTitle:{id:"EditModel.serverUpdateReceivedTitle",defaultMessage:"Changes detected"},serverUpdateReceivedMessage:{id:"EditModel.serverUpdateReceivedMessage",defaultMessage:"The model has been reloaded because the server sent some changes."}}),_=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.save=n.save.bind(n),n.cancel=n.cancel.bind(n),n.askDelete=n.askDelete.bind(n),n.deleteModel=n.deleteModel.bind(n),n.changeName=n.changeName.bind(n),n.validateName=n.validateName.bind(n),n.setFields=n.setFields.bind(n),n.setRelations=n.setRelations.bind(n),n.state=n.initialState(e),n.isNew()&&(n.state.changed=!0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"initialState",value:function(e){return{model:e.model||this.state&&this.state.model||this.createNewModel(e),fields:e.fields||[],relations:e.relations||[],changed:!1,askDelete:!1,saving:!1,error:null}}},{key:"createNewModel",value:function(e){var t=e.context,n=e.intl,a=e.newModel,r=(0,n.formatMessage)(a.virtual?w.newVirtualModelBaseName:a.externalSource?w.newExternalSourceBaseName:w.newModelBaseName),o=new RegExp("^"+r+"([0-9]+)$"),i=0;return(0,p.each)(t.models,function(e){var t=e.name.match(o);if(t){var n=t[1];i=Math.max(i,n)}}),{name:r+(i+1),virtual:!!a.virtual,externalSource:a.externalSource?{}:null}}},{key:"checkNameExists",value:function(e){var t=this.props.context,n=this.state.model.id;return(0,p.some)(t.models,function(t){return t.id!==n&&t.name===e})}},{key:"isNew",value:function(){return!this.state.model.id}},{key:"createModelObject",value:function(){var e=(0,p.clone)(this.state.model);return e.fields=(0,p.clone)(this.state.fields),e.relations=(0,p.clone)(this.state.relations),e.relations=e.relations.map(function(e){return(e._modelFromAutoField||e._modelToAutoField)&&((e=(0,p.clone)(e))._modelFromAutoField&&(e._modelFromAutoField.id?e.model_from_auto_field_id=e._modelFromAutoField.id:(e.model_from_auto_field_name=e._modelFromAutoField.name,delete e.model_from_auto_field_id)),e._modelToAutoField&&(e._modelToAutoField.id?e.model_to_auto_field_id=e._modelToAutoField.id:(e.model_to_auto_field_name=e._modelToAutoField.name,delete e.model_to_auto_field_id)),delete e._modelFromAutoField,delete e._modelToAutoField),e}),e}},{key:"componentWillReceiveProps",value:function(e){var t,n;t=this.props,n=e,r(t.model,n.model,t.fields||[],n.fields||[],t.relations||[],n.relations||[])&&(this.state.saving?this.setState(this.initialState(e)):this.setState(l({},this.initialState(e),{error:{during:"serverUpdate",error:null}})))}},{key:"save",value:function(){var e=this,t=this.isNew();this.setState({saving:!0,error:null}),this.props.saveModel(this.createModelObject()).then(function(n){if(n.response&&n.response.id){var a=n.response;if(t)return void e.props.updateTabOptions(e.props.tabId,{modelId:a.id});i=e.state,s=a,r(i.model,s,i.fields||[],s.fields||[],i.relations||[],s.relations||[])||e.setState(l({},e.initialState(e.props)))}else{var o=n.response;console.log(o),e.setState({saving:!1,error:{during:"create",error:o}})}var i,s})}},{key:"cancel",value:function(){var e=this;this.isNew()?this.setState({changed:!1},function(){e.props.closeTab(e.props.tabId)}):this.setState(this.initialState(this.props))}},{key:"askDelete",value:function(){this.setState({askDelete:!0,error:null})}},{key:"deleteModel",value:function(){var e=this;this.props.deleteModel(this.state.model.id).then(function(t){if(t.response&&1===t.response.count)e.props.closeTab(e.props.tabId);else{var n=t.response;console.log(n),e.setState({askDelete:!1,error:{during:"delete",error:n}})}})}},{key:"changeName",value:function(e){this.setState({model:l({},this.state.model,{name:e}),changed:!0})}},{key:"validateName",value:function(e){return e&&y.modelNameRegexp.test(e)&&!this.checkNameExists(e)}},{key:"setFields",value:function(e){this.setState({fields:e,changed:!0})}},{key:"setRelations",value:function(e){this.setState({relations:e,changed:!0})}},{key:"tabCanBeClosed",value:function(e){this.state.changed?e(!1,!0):e(!0)}},{key:"renderModelDetails",value:function(){var e=this.state.model;return d.default.createElement(h.Row,null,d.default.createElement(h.Col,null,d.default.createElement("div",{className:"model-detail-container"},d.default.createElement("span",{className:"text-muted"},d.default.createElement(m.FormattedMessage,{id:"EditModel.modelName",defaultMessage:"Model name"}),":"," "),d.default.createElement(g.EditableText,{value:e.name,onChange:this.changeName,validate:this.validateName,className:"model-name-editable"}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.context,r=t.intl,o=this.state,i=o.model,s=o.fields,u=o.relations,c=o.changed,f=o.askDelete,p=o.saving,v=o.error,y=r.formatMessage;if(!(i&&s&&u&&n))return console.error("Mostrare finestra di errore"),d.default.createElement("div",null,"...");var _=this.isNew(),C=!_,k=c,S=c||_,T=p,O=null;if(v){switch(v.during){case"create":O={title:y(w.errorTitle),message:y(w.createErrorMessage)};break;case"delete":O={title:y(w.errorTitle),message:y(w.deleteErrorMessage)};break;case"serverUpdate":O={title:y(w.serverUpdateReceivedTitle),message:y(w.serverUpdateReceivedMessage)}}O||(O={}),v.error&&(O.message=d.default.createElement("div",null,O.message||"",d.default.createElement("pre",null,JSON.stringify(v.error,null,2))))}var M=void 0;return M=i.virtual?d.default.createElement(m.FormattedMessage,{id:"EditModel.title.virtualModel",defaultMessage:"Virtual model"}):i.externalSource?d.default.createElement(m.FormattedMessage,{id:"EditModel.title.externalSourceModel",defaultMessage:"Model from an external data source"}):d.default.createElement(m.FormattedMessage,{id:"EditModel.title.model",defaultMessage:"Model"}),d.default.createElement(g.Container,{className:"edit-model"},d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,M,d.default.createElement("div",{className:"pull-right",style:{marginBottom:-5}},C&&d.default.createElement(h.Button,{color:"danger",onClick:this.askDelete},d.default.createElement(m.FormattedMessage,{id:"EditModel.deleteModel",defaultMessage:"Delete model"}))," ",k&&d.default.createElement(h.Button,{color:"success",onClick:this.save},d.default.createElement(m.FormattedMessage,{id:"EditModel.save",defaultMessage:"Save"}))," ",S&&d.default.createElement(h.Button,{color:"warning",onClick:this.cancel},d.default.createElement(m.FormattedMessage,{id:"EditModel.cancel",defaultMessage:"Cancel"}))," ")),d.default.createElement(h.CardBody,null,this.renderModelDetails())),d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,d.default.createElement(m.FormattedMessage,{id:"EditModel.externalSourceSectionTitle",defaultMessage:"External data source"})),d.default.createElement(h.CardBody,null,"TODO: .........")),d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,d.default.createElement(m.FormattedMessage,{id:"EditModel.virtualModel.mappedModelsSectionTitle",defaultMessage:"Child models"})),d.default.createElement(h.CardBody,null,"TODO: .........")),d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,d.default.createElement(m.FormattedMessage,{id:"EditModel.attributesSectionTitle",defaultMessage:"Attributes"})),d.default.createElement(h.CardBody,null,d.default.createElement(b.default,{context:a,model:i,fields:s,relations:u,setFields:this.setFields}))),d.default.createElement(h.Card,null,d.default.createElement(h.CardHeader,null,d.default.createElement(m.FormattedMessage,{id:"EditModel.relationsSectionTitle",defaultMessage:"Relations"})),d.default.createElement(h.CardBody,null,d.default.createElement(E.default,{context:a,model:i,fields:s,relations:u,setRelations:this.setRelations}))),d.default.createElement(g.Dialog,{open:f,dialogType:"confirm",title:y(w.deleteTitle),message:y(w.deleteMessage),successButton:y(w.deleteButton),successColor:"danger",onSuccess:this.deleteModel,onCancel:function(){return e.setState({askDelete:!1})}}),d.default.createElement(g.Dialog,l({open:!!O,dialogType:"alert"},O,{onCancel:function(){return e.setState({error:null})}})),d.default.createElement(g.Dialog,{open:T,dialogType:"loading"}))}}]),t}(),o.propTypes={tabId:c.default.any.isRequired,modelId:c.default.number},i),C={closeTab:v.closeTab,saveModel:v.saveModel,deleteModel:v.deleteModel,updateTabOptions:v.updateTabOptions};t.default=(0,f.connect)(function(e,t){var n=t.modelId,a=t.newModel,r=void 0,o=void 0,i=void 0;return n?(o=(r=e.context.models&&e.context.models[n])&&r.fields.map(function(t){return e.context.fields[t]}),i=r&&r.relations.map(function(t){return e.context.relations[t]})):(r=null,o=[],i=[]),{user:e.auth.user,context:e.context,model:r,newModel:a,fields:o,relations:i}},C,null,{withRef:!0})((0,m.injectIntl)(_,{withRef:!0})),e.exports=t.default},1525:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),c=a(n(0)),f=n(10),p=n(13),m=n(8),h=a(n(131)),g=a(n(49)),v=n(711),y=a(n(1526)),b=a(n(266)),E=n(523),w=a(n(54)),_=n(86),C=(0,f.defineMessages)({functionType:{id:"EditFields.type.functionType",defaultMessage:"Formula"},autoType:{id:"EditFields.type.autoType",defaultMessage:"Auto"},dataValidationNoSourceGroup:{id:"EditFields.dataValidation.sourceGroupOptions.noGroup",defaultMessage:"No group"}}),k=1,S=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderField=n.renderField.bind(n),n.addField=n.addField.bind(n),n.uniqueIdPrefix="EditFields-unique-id-"+k++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"addField",value:function(){var e=(0,m.clone)(this.props.fields),t={name:"",type1:v.fieldTypes[0]};this.props.model.virtual&&(t.virtual=!0,options.mappedFields=[]),e.push(t),this.props.setFields(e)}},{key:"updateField",value:function(e,t,n){var a=void 0;if("string"==typeof t)a=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n);else{if("object"!==(void 0===t?"undefined":l(t)))throw new Error("updateField error");a=t}var r=(0,m.clone)(this.props.fields);r[e]=i({},r[e],a),this.props.setFields(r)}},{key:"deleteField",value:function(e){var t=(0,m.clone)(this.props.fields);t.splice(e,1),this.props.setFields(t)}},{key:"changeFieldName",value:function(e,t){this.updateField(e,"name",t)}},{key:"validateFieldName",value:function(e,t){return t&&_.fieldNameRegexp.test(t)}},{key:"onFieldTypeChange",value:function(e,t){"_FUNCTION"===t?this.updateField(e,{type1:null,func:"",function_id:null}):this.updateField(e,{type1:t,func:null,function_id:null})}},{key:"onFunctionTypeChange",value:function(e,t){this.updateField(e,"type1",t)}},{key:"onFunctionChange",value:function(e,t){this.updateField(e,{func:t,function_id:null})}},{key:"onUniqueChange",value:function(e,t){this.updateField(e,"unique",t)}},{key:"onDecimalDigitsChange",value:function(e,t){this.updateField(e,"decimalDigits",t)}},{key:"generateDecimalDigitsOptions",value:function(){for(var e=[],t=0;t<10;t++)e.push(d.default.createElement("option",{key:t,value:t},t));return e}},{key:"onEnumListChange",value:function(e,t){this.updateField(e,"enumList",t.map(function(e){return e.value}))}},{key:"getNextSourceGroupId",value:function(){return((0,m.max)(this.props.fields.map(function(e){return e.dataValidation&&e.dataValidation.length>0&&e.dataValidation[0].source_group||0}))||0)+1}},{key:"onDataValidationCheckboxChange",value:function(e,t){if(t){var n=this.props,a=n.context,r=n.model,o=this.getNextSourceGroupId(),i=void 0,l=void 0;(0,m.some)(a.models,function(e){return!e.specialModel&&e.id!==r.id&&!(0,E.isAncestor)(a,r,e)&&(0,m.some)(e.fields,function(t){var n=a.fields[t];return"TEXT"===n.type1&&(i=e.id,l=n.id,!0)})}),this.updateField(e,{dataValidation:[{source_group:o,model_id:i,field_id:l}],dataValidationSourceModelId:i,dataValidationSourceFieldId:l})}else this.updateField(e,{dataValidation:null,dataValidationSourceModelId:null,dataValidationSourceFieldId:null})}},{key:"onDataValidationSourceModelChange",value:function(e,t){var n=this,a=t,r=this.props.context.models[a],o=(0,m.find)(r.fields,function(e){var t=n.props.context.fields[e];if("TEXT"===t.type1)return t.id});this.updateField(e,{dataValidation:[{source_group:this.getNextSourceGroupId(),model_id:a,field_id:o}],dataValidationSourceModelId:a,dataValidationSourceFieldId:o})}},{key:"onDataValidationSourceFieldChange",value:function(e,t){var n=this.props.fields[e].dataValidationSourceModelId;this.updateField(e,{dataValidation:[{source_group:this.getNextSourceGroupId(),model_id:n,field_id:t}],dataValidationSourceModelId:n,dataValidationSourceFieldId:t})}},{key:"onDataValidationSourceGroupChange",value:function(e,t){-1===t&&(t=this.getNextSourceGroupId());var n=this.props.fields[e],a=n.dataValidationSourceModelId,r=n.dataValidationSourceFieldId;this.updateField(e,{dataValidation:[{source_group:t,model_id:a,field_id:r}]})}},{key:"renderField",value:function(e,t){var n=this,a=this.props,r=a.context,o=a.model,i=a.fields,l=a.relations,s=a.intl.formatMessage,u=e.func,c="string"==typeof u,_=e.type1,k=v.fieldTypes.map(function(e){return{value:e,label:s(y.default[e])}}),S=(0,m.clone)(k);S.push({value:"_FUNCTION",label:s(C.functionType)});var T=(0,m.clone)(k);T.splice(0,0,{value:"",label:s(C.autoType)});var O=[],M={},R=[];if("TEXT"===_&&e.dataValidation&&e.dataValidation.length>0&&((0,m.each)(r.models,function(e){e.specialModel||e.id===o.id||(0,E.isAncestor)(r,o,e)||(M[e.id]=[],(0,m.each)(e.fields,function(t){var n=r.fields[t];"TEXT"===n.type1&&M[e.id].push({value:n.id,label:n.name})}),M[e.id].length&&O.push({value:e.id,label:e.name}))}),e.dataValidationSourceFieldId)){R.push({value:-1,label:s(C.dataValidationNoSourceGroup)});var I={},x=[];(0,m.each)(i,function(t){var n=t.dataValidation&&t.dataValidation[0]&&t.dataValidation[0].source_group;if(n){if(t.dataValidationSourceModelId!==e.dataValidationSourceModelId)return;if(!I[n]){var a={groupId:n,fields:[]};I[n]=a,x.push(a)}I[n].fields.push(t)}}),(0,m.each)(x,function(t){if(t.groupId!==e.dataValidation[0].source_group||1!==t.fields.length){var n=(0,m.some)(t.fields,function(t){return t!==e&&t.dataValidationSourceFieldId===e.dataValidationSourceFieldId});R.push({value:t.groupId,label:t.fields.map(function(e){return e.name}).join(", "),disabled:n})}})}return d.default.createElement("tr",{key:t},d.default.createElement("td",null,d.default.createElement(h.default,{value:e.name,onChange:function(e){return n.changeFieldName(t,e)},validate:function(e){return n.validateFieldName(t,e)},className:"field-name-editable"})),d.default.createElement("td",null,d.default.createElement(g.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:S,simpleValue:!0,clearable:!1,value:c?"_FUNCTION":_,searchable:!1,onChange:function(e){return n.onFieldTypeChange(t,e)}}),c&&d.default.createElement("div",{style:{height:10}}),c&&d.default.createElement(f.FormattedMessage,{id:"EditFields.type.returnedValue",defaultMessage:"Returned value"}),c&&d.default.createElement(g.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:T,simpleValue:!0,clearable:!1,value:_||"",searchable:!1,onChange:function(e){return n.onFunctionTypeChange(t,e)}})),d.default.createElement("td",null,!c&&d.default.createElement(p.FormGroup,{check:!0,className:"checkbox"},d.default.createElement(p.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-unique-checkbox-"+t,checked:e.unique||!1,onChange:function(e){return n.onUniqueChange(t,e.target.checked)}}),d.default.createElement(p.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-unique-checkbox-"+t},d.default.createElement(f.FormattedMessage,{id:"EditFields.uniqueFieldValue",defaultMessage:"Unique value"})),d.default.createElement(p.FormText,{color:"muted"},d.default.createElement(f.FormattedMessage,{id:"EditFilters.uniqueFieldValue.help",defaultMessage:"Check unique if you know that every data entry will have a different value for this attribute."}))),c&&d.default.createElement(b.default,{width:"100%",minLines:6,context:r,model:o,fields:i,relations:l,functionString:u,onChange:function(e){return n.onFunctionChange(t,e)}}),("DECIMAL"===_||"ENUM"===_||"TEXT"===_)&&d.default.createElement("hr",null),"DECIMAL"===_&&d.default.createElement(p.FormGroup,{inline:!0,style:{display:"inline-flex"}},d.default.createElement("span",{style:{marginTop:6,marginRight:10}},d.default.createElement(f.FormattedMessage,{id:"EditFilters.decimalDigits",defaultMessage:"Decimal digits: "})),d.default.createElement(p.Input,{type:"select",style:{width:120,display:"inline-block"},value:e.decimalDigits||"",onChange:function(e){return n.onDecimalDigitsChange(t,e.target.value)}},this.generateDecimalDigitsOptions())),"ENUM"===_&&d.default.createElement(p.FormGroup,null,d.default.createElement("span",{style:{marginTop:6,marginRight:10}},d.default.createElement(f.FormattedMessage,{id:"EditFilters.enumValues",defaultMessage:"Possible values:"})),d.default.createElement("br",null),d.default.createElement(g.default.Creatable,{multi:!0,placeholder:"",searchable:!0,onChange:function(e){return n.onEnumListChange(t,e)},value:e.enumList?e.enumList.map(function(e){return{value:e,label:e}}):[],style:{width:"100%"}})),"TEXT"===_&&d.default.createElement(p.FormGroup,{check:!0,className:"checkbox"},d.default.createElement(p.Input,{className:"form-check-input",type:"checkbox",id:this.uniqueIdPrefix+"-data-validation-checkbox-"+t,checked:e.dataValidation&&e.dataValidation.length>0||!1,onChange:function(e){return n.onDataValidationCheckboxChange(t,e.target.checked)}}),d.default.createElement(p.Label,{check:!0,className:"form-check-label",htmlFor:this.uniqueIdPrefix+"-data-validation-checkbox-"+t},d.default.createElement(f.FormattedMessage,{id:"EditFields.dataValidation.checkbox",defaultMessage:"Data validation with values from a source model"})),d.default.createElement(p.FormText,{color:"muted"},d.default.createElement(f.FormattedMessage,{id:"EditFilters.dataValidation.help",defaultMessage:"While typing, you will be prompted with suggested values for this attribute. Use this feature if you have a list of possible options for this attribute stored in another model."}))),"TEXT"===_&&e.dataValidation&&e.dataValidation.length>0&&d.default.createElement(p.FormGroup,{style:{marginTop:15}},d.default.createElement("div",{style:{marginTop:6,marginRight:10}},d.default.createElement(f.FormattedMessage,{id:"EditFilters.dataValidation.sourceModel",defaultMessage:"Source model: "})),d.default.createElement(g.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:O,simpleValue:!0,clearable:!1,value:e.dataValidationSourceModelId||null,searchable:!1,onChange:function(e){return n.onDataValidationSourceModelChange(t,e)}}),d.default.createElement("div",{style:{marginTop:6,marginRight:10}},d.default.createElement(f.FormattedMessage,{id:"EditFilters.dataValidation.sourceAttribute",defaultMessage:"Source attribute: "})),d.default.createElement(g.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,disabled:!e.dataValidationSourceModelId,options:M[e.dataValidationSourceModelId],simpleValue:!0,clearable:!1,value:e.dataValidationSourceFieldId||null,searchable:!1,onChange:function(e){return n.onDataValidationSourceFieldChange(t,e)}}),d.default.createElement("div",{style:{marginTop:6,marginRight:10}},d.default.createElement(f.FormattedMessage,{id:"EditFilters.dataValidation.groupWithOtherFields",defaultMessage:"Group more attributes together"})),d.default.createElement(g.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,disabled:!e.dataValidationSourceFieldId,options:R,simpleValue:!0,clearable:!1,value:e.dataValidation&&e.dataValidation[0]&&e.dataValidation[0].source_group||null,searchable:!1,onChange:function(e){return n.onDataValidationSourceGroupChange(t,e)}}))),d.default.createElement("td",{style:{verticalAlign:"middle"}},d.default.createElement(w.default,{onClick:function(){return n.deleteField(t)}},d.default.createElement("i",{className:"fa fa-trash-o"}))))}},{key:"render",value:function(){var e=this.props,t=(e.context,e.fields),n=(e.intl.formatMessage,t&&t.map(this.renderField));return d.default.createElement("div",null,d.default.createElement(p.Table,{bordered:!0,hover:!0,striped:!0},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{style:{minWidth:160}},d.default.createElement(f.FormattedMessage,{id:"EditFields.tableHeader.fieldName",defaultMessage:"Attribute name"})),d.default.createElement("th",{style:{width:180}},d.default.createElement(f.FormattedMessage,{id:"EditFields.tableHeader.type",defaultMessage:"Type"})),d.default.createElement("th",{style:{minWidth:200}}," "),d.default.createElement("th",{style:{width:30}}," "))),d.default.createElement("tbody",null,n)),d.default.createElement(p.Button,{outline:!0,onClick:this.addField},d.default.createElement(f.FormattedMessage,{id:"EditFields.addAttribute",defaultMessage:"Add attribute"})))}}]),t}(),r.propTypes={context:c.default.object.isRequired,model:c.default.object.isRequired,fields:c.default.array.isRequired,relations:c.default.array.isRequired,setFields:c.default.func.isRequired},o);t.default=(0,f.injectIntl)(S),e.exports=t.default},1526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(0,n(10).defineMessages)({TEXT:{id:"DataType.locale.TEXT",defaultMessage:"Text"},INTEGER:{id:"DataType.locale.INTEGER",defaultMessage:"Integer number"},DOUBLE:{id:"DataType.locale.DOUBLE",defaultMessage:"Decimal number"},DECIMAL:{id:"DataType.locale.DECIMAL",defaultMessage:"Decimal number (rounded)"},BOOLEAN:{id:"DataType.locale.BOOLEAN",defaultMessage:"Boolean"},DATE:{id:"DataType.locale.DATE",defaultMessage:"Date"},TIME:{id:"DataType.locale.TIME",defaultMessage:"Time"},DATETIME:{id:"DataType.locale.DATETIME",defaultMessage:"Date and time"},ENUM:{id:"DataType.locale.ENUM",defaultMessage:"Enumerative"},TEXT_ARRAY:{id:"DataType.locale.TEXT_ARRAY",defaultMessage:"Multiple text"}});t.default=a,e.exports=t.default},1527:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=n(10),c=n(13),f=n(114),p=n(8),m=a(n(1528)),h=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addRelation=n.addRelation.bind(n),n.state=n.initState(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){this.props.context===e.context&&this.props.model===e.model&&this.props.relations===e.relations||this.setState(this.initState(e))}},{key:"initState",value:function(e){var t=e.context,n=e.model,a=e.relations;return{groups:(0,f.createGroups)(t,n,a)}}},{key:"addRelation",value:function(){var e=this.props,t=(e.context,e.model),n=e.relations,a=(this.state.groups,{type:"ONE_TO_ONE",model_from_id:t.id||null,model_to_id:t.id||null}),r=(0,p.clone)(n);r.push(a),this.props.setRelations(r)}},{key:"render",value:function(){var e=this.props,t=e.context,n=e.model,a=e.fields,r=e.relations,o=e.setRelations,i=this.state.groups.map(function(e){return s.default.createElement(m.default,{key:e.key,group:e,context:t,model:n,fields:a,relations:r,setRelations:o})});return s.default.createElement("div",null,i,s.default.createElement(c.Button,{outline:!0,onClick:this.addRelation},s.default.createElement(d.FormattedMessage,{id:"EditRelations.newRelation",defaultMessage:"New relation"})))}}]),t}(),r.propTypes={context:u.default.object.isRequired,model:u.default.object.isRequired,fields:u.default.array.isRequired,relations:u.default.array.isRequired,setRelations:u.default.func.isRequired},o);t.default=(0,d.injectIntl)(h),e.exports=t.default},1528:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),c=a(n(0)),f=a(n(6)),p=n(10),m=n(13),h=a(n(54)),g=n(1529),v=a(g),y=a(n(131)),b=n(710),E=a(n(49)),w=n(8),_=n(86),C=n(114),k=n(1530),S=(0,p.defineMessages)({advancedTypeNo:{id:"EditRelationsGroup.advancedType.no",defaultMessage:"No"},advancedTypeAutoFields:{id:"EditRelationsGroup.advancedType.autoFields",defaultMessage:"Automatic relation based on the value of some attributes"},advancedTypeAutoFieldsNotPossible:{id:"EditRelationsGroup.advancedType.autoFields.notPossible",defaultMessage:"No attribute available in the selected model"},advancedTypeTwoSteps:{id:"EditRelationsGroup.advancedType.twoSteps",defaultMessage:"Automatic relation following the chain of two existing relations"},advancedTypeTwoStepsNotPossible:{id:"EditRelationsGroup.advancedType.twoSteps.notPossible",defaultMessage:"There are no chain of relations available"},advancedTypeCreateFromVirtualRelation:{id:"EditRelationsGroup.advancedType.createFromVirtualRelation",defaultMessage:"Use an existing relation in a virtual model"},advancedTypeCreateFromVirtualRelationNotPossible:{id:"EditRelationsGroup.advancedType.createFromVirtualRelation.notPossible",defaultMessage:"No relations in virtual models"}}),T=1,O=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onAdvanceTypeChange=n.onAdvanceTypeChange.bind(n),n.uniqueIdPrefix="EditRelationsGroup-unique-id-"+T++,n.state=n.initState(e,!0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"initState",value:function(e,t){var n={otherRelationsOpen:!1,advancedType:null};return t&&(n.alertDismissed=!1,n.suggestions=this.createSuggestions(e)),n}},{key:"componentWillReceiveProps",value:function(e){e.context===this.props.context&&e.model===this.props.model&&e.fields===this.props.fields&&e.relations===this.props.relations||this.setState({alertDismissed:!1,suggestions:this.createSuggestions(e)})}},{key:"createSuggestions",value:function(e){var t=e.group,n=e.context,a=e.model,r=e.fields,o=e.relations;if(!t.isNew)return null;var i={context:n,model:a,fields:r,relations:o,forRelation:t.relations[0].relation,ignoreNewRelations:!0};return{twoSteps:(0,k.getTwoStepsSuggestions)(i),createFromVirtualRelation:(0,k.getCreateFromVirtualRelationSuggestions)(i)}}},{key:"updateRelationValue",value:function(e,t,n,a){var r=this.props.relations,o=r[e],s=void 0;"object"===(void 0===t?"undefined":l(t))?(a=n,s=i({},o,t)):(s=(0,w.clone)(o))[t]=n,a&&(s=i({},s,this._getResetAdvancedRelationData()));var u=(0,w.clone)(r);u[e]=s,this.props.setRelations(u),a&&this.setState({advancedType:null})}},{key:"deleteRelation",value:function(e){var t=this.props.relations,n=(0,w.clone)(t);n.splice(e,1),this.props.setRelations(n)}},{key:"changeRelationName",value:function(e,t,n){this.updateRelationValue(e,t?"nameBackward":"nameForward",n)}},{key:"validateRelationName",value:function(e,t,n){return n&&_.relationNameRegexp.test(n)}},{key:"changeRelationType",value:function(e,t,n){var a=this.props.relations[e].type.split("_");a[t?0:2]=n,this.updateRelationValue(e,"type",a.join("_"),!0)}},{key:"changeRelationModel",value:function(e,t,n){this.updateRelationValue(e,"model_"+t+"_id",n,!0)}},{key:"onAdvanceTypeChange",value:function(e){this.setState({advancedType:e||null}),this.resetAdvancedRelationData(this.props.group.relations[0].relation)}},{key:"_getResetAdvancedRelationData",value:function(){return{two_steps_relation1_id:null,two_steps_relation2_id:null,twoStepsRelation1IsBack:null,twoStepsRelation2IsBack:null,two_steps_middle_model_id:null,_modelFromAutoField:null,_modelToAutoField:null,model_from_auto_field_id:null,model_to_auto_field_id:null}}},{key:"resetAdvancedRelationData",value:function(e){var t=this._getResetAdvancedRelationData(),n=this.props.relations,a=(0,w.findIndex)(n,function(t){return t===e});this.updateRelationValue(a,t)}},{key:"changeAdvancedRelationData",value:function(e,t){var n=this.props.relations,a=(0,w.findIndex)(n,function(t){return t===e});this.updateRelationValue(a,t)}},{key:"onAutoRelationFieldChanged",value:function(e,t,n,a){var r=this.props.fields,o={};a?"from"===t?o._modelFromAutoField=r[n]:o._modelToAutoField=r[n]:"from"===t?o.model_from_auto_field_id=n:o.model_to_auto_field_id=n,this.changeAdvancedRelationData(e,o)}},{key:"renderRelationRow",value:function(e,t,n,a,r){var o=this,i=r.associationMessage,l=r.rowSpan,s=this.props,u=s.context,c=s.model,f=s.intl.formatMessage,w=e+"-"+(a?"b":"f"),_=!n.id,C=_&&!a,k=_&&!a,S=_||!t,T=a?"to":"from",O=a?"from":"to",M=a?n.nameBackward:n.nameForward,R=n["model_"+T+"_id"],I=R&&R!==c.id&&u.models[R]||c,x=n["model_"+O+"_id"],F=x&&x!==c.id&&u.models[x]||c,N=void 0;if(k){var A=c.id?[]:[c];N=(A=A.concat(Object.values(u.models))).map(function(e){return{value:e.id||null,label:e.name}})}return d.default.createElement("tr",{key:w,className:"relation-row"},l>0&&d.default.createElement("td",{className:"model_relations_linked",rowSpan:l},t&&i&&f(v.default[i])),d.default.createElement("td",null,C&&a&&d.default.createElement("span",{style:{fontStyle:"italic",fontSize:"0.85em",paddingRight:10}},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.editing.inverseRelationLabel",defaultMessage:"Inverse relation"})),d.default.createElement("span",{className:"left-model"},I.name),".",S?d.default.createElement(y.default,{className:"relation-name",value:M||"",onChange:function(t){return o.changeRelationName(e,a,t)},validate:function(t){return o.validateRelationName(e,a,t)}}):d.default.createElement("span",{className:"relation-name"},M),d.default.createElement(b.Arrow,{className:"arrow"}),_?d.default.createElement(m.Input,{type:"select",className:"type",style:{width:80,display:"inline-block"},value:n.type&&n.type.split("_")[a?0:2]||null,onChange:function(t){o.changeRelationType(e,a,t.target.value)}},d.default.createElement("option",{value:"ONE"},f(v.default.ONE)),d.default.createElement("option",{value:"MANY"},f(v.default.MANY))):d.default.createElement("span",{className:"type"},f((0,g.getRelationTypeMessage)(n.type,a))),k?d.default.createElement(E.default,{className:"right-model",onBlurResetsInput:!1,onSelectResetsInput:!1,options:N,simpleValue:!0,clearable:!1,searchable:!1,value:x||null,onChange:function(t){o.changeRelationModel(e,O,t)}}):d.default.createElement("span",{className:"right-model"},F.name)),!t&&l>0&&d.default.createElement("td",{rowSpan:l,style:{verticalAlign:"middle"}},d.default.createElement(h.default,{onClick:function(){return o.deleteRelation(e)}},d.default.createElement("i",{className:"fa fa-trash-o"}))))}},{key:"renderRelationList",value:function(e,t){var n=this,a=this.props.relations,r=[];return e.forEach(function(e){var o=e.relation,i=(0,w.findIndex)(a,function(e){return e===o});e.showForward&&r.push(n.renderRelationRow(i,t,o,!1,{associationMessage:e.associationMessage||null,rowSpan:e.showBackward?2:1})),e.showBackward&&r.push(n.renderRelationRow(i,t,o,!0,{associationMessage:e.associationMessage||null,rowSpan:e.showForward?0:1}))}),d.default.createElement(m.Table,{bordered:!0,className:"relation-table"},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{style:{width:10}}),d.default.createElement("th",{style:{minWidth:250}}),d.default.createElement("th",{style:{width:30}}))),d.default.createElement("tbody",null,r))}},{key:"renderAdvancedRelations",value:function(e,t){var n=this,a=t.suggestedTwoStepsRelations,r=this.props,o=r.context,i=r.model,l=r.fields,s=r.relations,u=this.state.advancedType,c=[];return e.relations.forEach(function(e,t){var r=e.relation;if("two-steps"===u||(0,C.isTwoStepsRelation)(r))if(r.id){var f=(0,C.getTwoStepsRelationInfo)(r,o,i,s);c.push(d.default.createElement("div",{key:t},d.default.createElement(b.TwoStepRelationDiagram,{style:{marginLeft:15},info:f}),d.default.createElement("div",{className:"text-muted"},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.twoStepRelation.description",defaultMessage:"This relation is automatically generated using the relations {relation1} and {relation2}, following the path described in the figure.",values:{relation1:d.default.createElement("strong",null,f.model1.name+"."+f.relation1Name),relation2:d.default.createElement("strong",null,f.model2.name+"."+f.relation2Name)}}))))}else{var h=(r.two_steps_relation1_id||0)+"-"+(r.two_steps_relation2_id||0)+"-"+(r.twoStepsRelation1IsBack?"b":"f")+"-"+(r.twoStepsRelation2IsBack?"b":"f")+"-"+(r.two_steps_middle_model_id||0);a.forEach(function(e,a){var o=n.uniqueIdPrefix+"-input-"+t+"-"+a,i=(e.relation1.id||0)+"-"+(e.relation2.id||0)+"-"+(e.relation1IsBack?"b":"f")+"-"+(e.relation2IsBack?"b":"f")+"-"+(e.model2.id||0);c.push(d.default.createElement(m.FormGroup,{key:t+"-"+a,check:!0,className:"radio"},d.default.createElement(m.Input,{className:"form-check-input",type:"radio",style:{marginTop:30},id:o,value:i,checked:i===h,onChange:function(){n.changeAdvancedRelationData(r,{two_steps_relation1_id:e.relation1.id,two_steps_relation2_id:e.relation2.id,twoStepsRelation1IsBack:e.relation1IsBack,twoStepsRelation2IsBack:e.relation2IsBack,two_steps_middle_model_id:e.model2.id})}}),d.default.createElement(m.Label,{check:!0,className:"form-check-label",htmlFor:o},d.default.createElement(b.TwoStepRelationDiagram,{style:{marginLeft:15},info:e}))))})}else if("auto-fields"===u||(0,C.isAutoRelation)(r)){var g=r.model_from_id&&r.model_from_id!==i.id?o.models[r.model_from_id]:i,v=r.model_to_id&&r.model_to_id!==i.id?o.models[r.model_to_id]:i,y=void 0,_=void 0,k=void 0,S=void 0,T=!1,O=!1;r._modelFromAutoField?(y=r._modelFromAutoField,-1===(k=(0,w.findIndex)(l,function(e){return e===y}))?(y=null,k=null):T=!0):r.model_from_auto_field_id?(k=r.model_from_auto_field_id,(y=(0,w.find)(l,function(e){return e.id===k})||(0,w.find)(o.fields,function(e){return e.id===k}))||(y=null,k=null)):T=g===i,r._modelToAutoField?(_=r._modelToAutoField,-1===(S=(0,w.findIndex)(l,function(e){return e===_}))?(_=null,S=null):O=!0):r.model_to_auto_field_id?(S=r.model_to_auto_field_id,(_=(0,w.find)(l,function(e){return e.id===S})||(0,w.find)(o.fields,function(e){return e.id===S}))||(_=null,S=null)):O=v===i;var M=void 0,R=void 0;r.id||(M=T?(0,w.map)(l,function(e,t){return{value:t,label:e.name}}):g?(0,w.map)(g.fields,function(e){return{value:e,label:o.fields[e].name}}):[],R=O?(0,w.map)(l,function(e,t){return{value:t,label:e.name}}):v?(0,w.map)(v.fields,function(e){return{value:e,label:o.fields[e].name}}):[]),c.push(d.default.createElement("div",{key:t},d.default.createElement("div",{className:"text-muted"},r.id?d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.autoFieldsRelation.description.present",defaultMessage:"This automatic relation creates link between two row that satisfy this rule"}):d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.autoFieldsRelation.description.future",defaultMessage:"Create an automatic relation between two row that satisfy this rule"})),d.default.createElement(m.FormGroup,null,d.default.createElement("span",{className:"model-name"},g&&g.name||""),".",r.id?d.default.createElement("span",{className:"field-name"},y&&y.name||""):d.default.createElement(E.default,{className:"field-name-select",onBlurResetsInput:!1,onSelectResetsInput:!1,options:M,simpleValue:!0,clearable:!1,value:k>=0?k:null,searchable:!1,onChange:function(e){return n.onAutoRelationFieldChanged(r,"from",e,T)}}),d.default.createElement("strong",{style:{paddingLeft:10,paddingRight:10,display:"block"}}," = "),d.default.createElement("span",{className:"model-name"},v&&v.name||""),".",r.id?d.default.createElement("span",{className:"field-name"},_&&_.name||""):d.default.createElement(E.default,{className:"field-name-select",onBlurResetsInput:!1,onSelectResetsInput:!1,options:R,simpleValue:!0,clearable:!1,value:S>=0?S:null,searchable:!1,onChange:function(e){return n.onAutoRelationFieldChanged(r,"to",e,O)}}))))}else if(("create-from-virtual-relation"===u||(0,C.isCreateFromVirtualRelation)(r))&&(r.id,r.createFromVirtualRelation)){var I=getCreateFromVirtualRelationInfo(r,o,i,s);c.push(d.default.createElement("div",{key:t+"-createFromVirtualRelationInfo-diagram"},d.default.createElement(b.CreateFromVirtualRelationDiagram,{style:{marginLeft:15},info:I}),d.default.createElement("div",{className:"text-muted"},r.id?d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.createFromVirtualRelation.description.present",defaultMessage:"This relation is automatically associated with the relations {relation} between {model1} and {model2} as shown in the figure.",values:{relation:d.default.createElement("strong",null,I.virtualToOtherModelRelationName||""),model1:d.default.createElement("strong",null,I.virtualModel.name||""),model2:d.default.createElement("strong",null,I.otherModel.name||"")}}):d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.createFromVirtualRelation.description.future",defaultMessage:"This relation will be automatically associated with the relations {relation} between {model1} and {model2} as shown in the figure.",values:{relation:d.default.createElement("strong",null,I.virtualToOtherModelRelationName||""),model1:d.default.createElement("strong",null,I.virtualModel.name||""),model2:d.default.createElement("strong",null,I.otherModel.name||"")}}))))}}),d.default.createElement("div",null,c)}},{key:"render",value:function(){var e=this,t=this.props,n=t.group,a=t.context,r=t.model,o=t.fields,i=t.intl,l=this.state,s=l.suggestions,u=l.advancedType,c=i.formatMessage,g=this.state.otherRelationsOpen,v=n.otherRelations.length>0,y=(0,w.some)(n.relations,function(e){return(0,C.isAdvanced)(e.relation)}),b=n.otherRelations.reduce(function(e,t){return e+(t.showForward?1:0)+(t.showBackward?1:0)},0),E=void 0;if(n.isNew||v||y){var _=!n.isNew;g=g||n.isNew;var k=void 0,T=void 0,O=void 0,M=[],R=[],I=!1,x=void 0;if(n.isNew){var F=n.relations[0].relation;x=F.model_to_id?a.models[F.model_to_id]:r,M=s.twoSteps.filter(function(e){return e.model1===r&&e.model3===x&&F.type===e.type}),R=s.createFromVirtualRelation.filter(function(e){return e.model===r&&e.otherModel===x&&e.type===F.type}),I=M.length+R.length>0,k=o.length&&(x===r?o:x.fields).length,T=M.length>0,O=R.length>0}E=d.default.createElement("div",{className:"other-options"},_&&d.default.createElement(h.default,{className:"other-options-collapse-button",onClick:function(){return e.setState({otherRelationsOpen:!g})}},v&&d.default.createElement("span",null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.otherOptionsButton.linkedRelations",defaultMessage:"Linked relations"})," (",b,")"),y&&v&&" - ",y&&d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.otherOptionsButton.advancedOptions",defaultMessage:"Advanced options"}),d.default.createElement("span",{className:(0,f.default)("fa",g?"fa-caret-up":"fa-caret-down")})),d.default.createElement(m.Collapse,{className:"other-options-container",isOpen:g},I&&d.default.createElement(m.Alert,{color:"warning",isOpen:!this.state.alertDismissed,toggle:function(){return e.setState({alertDismissed:!0})}},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.advancedType.suggestions.title",defaultMessage:"You may want to create a relation between {firstModel} and {secondModel} using existing relations.",values:{firstModel:d.default.createElement("strong",null,r.name),secondModel:d.default.createElement("strong",null,x.name)}}),d.default.createElement("br",null),d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.advancedType.suggestions.subtitle",defaultMessage:"Check the suggestion available below by choosing one of these options:"}),d.default.createElement("ul",null,M.length>0&&d.default.createElement("li",null,d.default.createElement(h.default,{className:"alert-link",onClick:function(t){t.target.blur(),e.onAdvanceTypeChange("two-steps")}},c(S.advancedTypeTwoSteps))),R.length>0&&d.default.createElement("li",null,d.default.createElement(h.default,{className:"alert-link",onClick:function(t){t.target.blur(),e.onAdvanceTypeChange("create-from-virtual-relation")}},c(S.advancedTypeCreateFromVirtualRelation))))),n.isNew&&d.default.createElement(m.FormGroup,null,d.default.createElement(m.Label,null,d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.advancedType.selectLabel",defaultMessage:"Advanced relation"})),d.default.createElement(m.Input,{type:"select",value:u||"",onChange:function(t){return e.onAdvanceTypeChange(t.target.value)}},d.default.createElement("option",{value:""},c(S.advancedTypeNo)),d.default.createElement("option",{value:"auto-fields",disabled:!k,title:!k&&c(S.advancedTypeAutoFieldsNotPossible)||""},c(S.advancedTypeAutoFields)),d.default.createElement("option",{value:"two-steps",disabled:!T,title:!T&&c(S.advancedTypeTwoStepsNotPossible)||""},c(S.advancedTypeTwoSteps)),d.default.createElement("option",{value:"create-from-virtual-relation",disabled:!O,title:!O&&c(S.advancedTypeCreateFromVirtualRelationNotPossible)||""},c(S.advancedTypeCreateFromVirtualRelation)))),(y||n.isNew)&&this.renderAdvancedRelations(n,{suggestedTwoStepsRelations:M,suggestedCreateFromVirtualRelations:R}),y&&v&&d.default.createElement("hr",null),v&&d.default.createElement("div",null,d.default.createElement("div",{className:"text-muted",style:{paddingBottom:10}},d.default.createElement(p.FormattedMessage,{id:"EditRelationsGroup.otherOptionsButton.linkedRelations",defaultMessage:"Linked relations"}),":"),this.renderRelationList(n.otherRelations,!0))))}return d.default.createElement("div",{className:(0,f.default)("model-relations-group",g&&"model-relations-other-options-open",n.otherRelations.length>0?"model-relations-group-with-other-options":"model-relations-group-without-other-options")},d.default.createElement("div",{className:"group-relations-container"},this.renderRelationList(n.relations,!1)),E)}}]),t}(),r.propTypes={group:c.default.shape({index:c.default.number.isRequired,isNew:c.default.bool,relations:c.default.arrayOf(c.default.shape({relation:c.default.object,showForward:c.default.bool.isRequired,showBackward:c.default.bool.isRequired})).isRequired,otherRelations:c.default.arrayOf(c.default.shape({relation:c.default.object,showForward:c.default.bool.isRequired,showBackward:c.default.bool.isRequired,associationMessage:c.default.string})).isRequired}),context:c.default.object.isRequired,model:c.default.object.isRequired,fields:c.default.array.isRequired,relations:c.default.array.isRequired,setRelations:c.default.func.isRequired},o);t.default=(0,p.injectIntl)(O),e.exports=t.default},1529:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelationTypeMessage=function(e,t){var n=e.split("_")[t?0:2];return n&&a[n]||null};var a=(0,n(10).defineMessages)({virtualModel:{id:"Relations.locale.virtualModel",defaultMessage:"Virtual model"},inverseRelation:{id:"Relations.locale.inverseRelation",defaultMessage:"Inverse relation"},ONE:{id:"Relations.locale.type.one",defaultMessage:"One"},MANY:{id:"Relations.locale.type.many",defaultMessage:"Many"}});t.default=a},1530:function(e,t,n){"use strict";function a(e,t,n,a,r){var o=2-e,l=[];return(0,i.each)(n,function(n){var i=n.type.split("_");a&&n.id===a.id&&!0===r||n.model_from_id!==t.id||"ONE"!==i[e]||l.push({relation:n,otherModelId:n.model_to_id,relationIsBack:!1,multi:"MANY"===i[o]}),a&&n.id===a.id&&!1===r||n.model_to_id!==t.id||"ONE"!==i[o]||l.push({relation:n,otherModelId:n.model_from_id,relationIsBack:!0,multi:"MANY"===i[e]})}),l}function r(e,t,n,r){return a(2,e,t,n,r)}function o(e,t,n,r){return a(0,e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.getTwoStepsSuggestions=function(e){var t=e.context,n=e.model,a=(e.fields,e.relations),s=e.forRelation,u=e.ignoreNewRelations,d=void 0===u||u,c=[];return r(n,a).forEach(function(e){if((!s||s!==e.relation)&&(!d||e.relation.id)){var o=t.models[e.otherModelId];if(o){var i=n.id===o.id?a:o.relations.map(function(e){return t.relations[e]});r(o,i,e.relation,!e.relationIsBack).forEach(function(a){if((!s||s!==a.relation)&&(!d||a.relation.id)){var r=t.models[a.otherModelId];if(r){var i={suggestionType:"two-steps",model1:n,model2:o,model3:r,relation1:e.relation,relation2:a.relation,relation1Name:e.relationIsBack?e.relation.nameBackward:e.relation.nameForward,relation2Name:a.relationIsBack?a.relation.nameBackward:a.relation.nameForward,relation1IsBack:e.relationIsBack,relation2IsBack:a.relationIsBack,type:e.multi||a.multi?"MANY_TO_ONE":"ONE_TO_ONE"};c.push(i)}}})}}}),o(n,a).forEach(function(e){if((!s||s!==e.relation)&&(!d||e.relation.id)){var r=t.models[e.otherModelId];if(r){var i=n.id===r.id?a:r.relations.map(function(e){return t.relations[e]});o(r,i,e.relation,!e.relationIsBack).forEach(function(a){if((!s||s!==a.relation)&&(!d||a.relation.id)){var o=t.models[a.otherModelId];if(o){var i={suggestionType:"two-steps",model1:n,model2:r,model3:o,relation1:e.relation,relation2:a.relation,relation1Name:e.relationIsBack?e.relation.nameBackward:e.relation.nameForward,relation2Name:a.relationIsBack?a.relation.nameBackward:a.relation.nameForward,relation1IsBack:e.relationIsBack,relation2IsBack:a.relationIsBack,type:e.multi||a.multi?"ONE_TO_MANY":"ONE_TO_ONE"};c.push(i)}}})}}}),c.filter(function(e){return!(0,i.some)(a,function(t){return(!s||s!==t)&&function(e,t){if(e.type===t.type&&e.two_steps_relation1_id===t.relation1.id&&e.two_steps_relation2_id===t.relation2.id&&e.twoStepsRelation1IsBack===t.relation1IsBack&&e.twoStepsRelation2IsBack===t.relation2IsBack)return!0;var n=(0,l.inverseRelationType)(t.type);return e.type===n&&e.two_steps_relation1_id===t.relation2.id&&e.two_steps_relation2_id===t.relation1.id&&e.twoStepsRelation1IsBack===!t.relation2IsBack&&e.twoStepsRelation2IsBack===!t.relation1IsBack}(t,e)})})},t.getCreateFromVirtualRelationSuggestions=function(e){var t=e.context,n=e.model,a=(e.fields,e.relations),r=e.forRelation,o=(e.ignoreNewRelations,[]);return(0,i.each)(t.models,function(e){e.id!==n.id&&e.virtual&&(0,i.some)(e.mappedModels,function(e){return e===n.id})&&e.relations.forEach(function(s){var u=t.relations[s];if(u.model_from_id===e.id&&!(0,i.some)(a,function(e){return!(r&&r===e||e.createFromVirtualRelation!==s&&-1===e.inverseMappedRelations.indexOf(s)||e.model_from_id!==n.id||e.model_to_id!==u.model_to_id)})){var d=n,c=t.models[u.model_to_id],f={suggestionType:"virtual-model-relation",model:n,otherModel:c,modelFrom:d,modelTo:c,virtualModel:e,virtualModelRelation:u,virtualToOtherModelRelationName:u.nameForward,inverse:!1,type:u.type};o.push(f)}u.model_to_id!==e.id||(0,i.some)(a,function(e){return!(r&&r===e||e.createFromVirtualRelation!==s&&-1===e.inverseMappedRelations.indexOf(s)||e.model_to_id!==n.id||e.model_from_id!==u.model_to_id)})||(d=t.models[u.model_from_id],f={suggestionType:"virtual-model-relation",model:n,otherModel:d,modelFrom:d,modelTo:c=n,virtualModel:e,virtualModelRelation:u,virtualToOtherModelRelationName:u.nameBackward,inverse:!0,type:(0,l.inverseRelationType)(u.type)},o.push(f))})}),o};var i=n(8),l=n(114)},1531:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=n(13),c=n(479),f=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.context,n=e.tab,a=e.visible,r=e.onClick,o=e.onClose,i=e.intl,l=(0,c.getTitleForTab)(t,n,i);return s.default.createElement(d.NavItem,null,s.default.createElement(d.NavLink,{active:a,onClick:r},l,s.default.createElement("span",{className:"close",onClick:function(e){e.stopPropagation(),o&&o(e)}},"×")))}}]),t}(),r.propTypes={context:u.default.object.isRequired,tab:u.default.object.isRequired,visible:u.default.bool.isRequired,onClick:u.default.func.isRequired,onClose:u.default.func.isRequired,intl:u.default.object.isRequired},o);t.default=f,e.exports=t.default},1532:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=v.default.createDecipher(E,w),n=t.update(e,"hex","utf8");return n+=t.final("utf8")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=n(13),c=n(100),f=n(26),p=n(27),m=n(10),h=a(n(1533)),g=a(n(189)),v=a(n(1537)),y=(0,m.defineMessages)({username:{id:"Login.username",defaultMessage:"Username"},password:{id:"Login.password",defaultMessage:"Password"},newPassword:{id:"Login.newPassword",defaultMessage:"New password"},repeatPassword:{id:"Login.repeatPassword",defaultMessage:"Repeat password"},invalidCredential:{id:"Login.errors.invalidCredential",defaultMessage:"Invalid credentials"},changePasswordRequired:{id:"Login.errors.changePasswordRequired",defaultMessage:"Change of password required"},newVersionAvailable:{id:"Login.errors.newVersionAvailable",defaultMessage:"New version available"},genericError:{id:"Login.errors.genericError",defaultMessage:"There was an error trying to login"}}),b={"Invalid credentials":"invalidCredential","Change of password required":"changePasswordRequired","New version available":"newVersionAvailable","There was an error trying to login":"genericError"},E="aes-256-ctr",w="u2mfU5rR9ProTPY4",_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onUsernameChange=n.onUsernameChange.bind(n),n.onPasswordChange=n.onPasswordChange.bind(n),n.onNewPasswordChange=n.onNewPasswordChange.bind(n),n.onRepeatPasswordChange=n.onRepeatPasswordChange.bind(n),n.onRememberMeChange=n.onRememberMeChange.bind(n),n.submit=n.submit.bind(n),n.closeChangeOfPassword=n.closeChangeOfPassword.bind(n),n.state=i({username:"",password:"",rememberMe:!1,accounts:[]},n.loadRememberMeCredentials(),{errorMessage:null,changeOfPassword:!1,newPassword:"",repeatPassword:""}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"_onFieldChange",value:function(e,t,n){var a,o=n?e.target.checked:e.target.value;this.setState((r(a={},t,o),r(a,"errorMessage",null),a))}},{key:"onUsernameChange",value:function(e){var t=e,n=this.state.accounts[t];this.setState({username:t,password:n?o(n):"",errorMessage:null})}},{key:"onPasswordChange",value:function(e){this._onFieldChange(e,"password",!1)}},{key:"onNewPasswordChange",value:function(e){this._onFieldChange(e,"newPassword",!1)}},{key:"onRepeatPasswordChange",value:function(e){this._onFieldChange(e,"repeatPassword",!1)}},{key:"onRememberMeChange",value:function(e){this._onFieldChange(e,"rememberMe",!0)}},{key:"submit",value:function(e){var t=this;e.preventDefault();var n=this.state,a=n.username,r=n.password,o=n.rememberMe,l=n.changeOfPassword,s=n.newPassword,u={username:a,password:r,rememberMe:o};return l&&(u.newPassword=s),this.props.loginAction(u).then(function(e){if(e.response&&void 0!==e.response.status&&200!==e.response.status){var n=e.response.message;"Change of password required"===n?t.setState(i({},t.state,{errorMessage:null,changeOfPassword:!0,newPassword:"",repeatPassword:""})):t.setState(i({},t.state,{errorMessage:n||"There was an error trying to login"}))}else t.rememberCredentials(a,o?l?s:r:"")}),!1}},{key:"rememberCredentials",value:function(e,t){var n={accounts:i({},this.state.accounts,r({},e,t?function(e){var t=v.default.createCipher(E,w),n=t.update(e,"utf8","hex");return n+=t.final("hex")}(t):"")),lastUsedUsername:e,version:1};localStorage.setItem("selfwareRememberMe",JSON.stringify(n))}},{key:"loadRememberMeCredentials",value:function(){var e=localStorage.getItem("selfwareRememberMe");if(e)try{var t=JSON.parse(e),n=t.lastUsedUsername;if(n){var a=t.accounts&&t.accounts[n];return{username:n,password:a?o(a):"",rememberMe:!!a,accounts:t.accounts}}}catch(e){}}},{key:"closeChangeOfPassword",value:function(){this.setState({errorMessage:null,changeOfPassword:!1,newPassword:"",repeatPassword:""})}},{key:"renderForm",value:function(e){var t=this,n=this.props,a=n.loading,r=n.intl,o=this.state,i=o.accounts,l=o.username,s=o.password,c=o.rememberMe,f=o.errorMessage,p=o.changeOfPassword,g=o.newPassword,v=o.repeatPassword,E=r.formatMessage,w=e?a:a||p,_=e?w||!g||g!==v:w,C=e?a:a&&!p,k=void 0;f&&(k=(k=y[b[f]])&&E(k)||f);var S=e?{}:Object.keys(i).sort().map(function(e){return{label:e,value:e}}),T=e?d.ModalBody:"div",O=e?d.ModalFooter:function(e){return u.default.createElement(d.Row,null,u.default.createElement(d.Col,{xs:"6"},e.children))};return u.default.createElement("div",null,e?u.default.createElement("div",null,u.default.createElement(d.ModalHeader,{toggle:this.closeChangeOfPassword},u.default.createElement(m.FormattedMessage,{id:"Login.changeOfPassword.title",defaultMessage:"Enter a new password"}))):u.default.createElement("div",null,u.default.createElement("h1",null,u.default.createElement(m.FormattedMessage,{id:"Login.title",defaultMessage:"Login"})),u.default.createElement("p",{className:"text-muted"},u.default.createElement(m.FormattedMessage,{id:"Login.description",defaultMessage:"Enter your credentials:"}))),u.default.createElement(T,null,e&&u.default.createElement("p",{className:"text-muted"},u.default.createElement(m.FormattedMessage,{id:"Login.changeOfPassword.description",defaultMessage:"Your password is expired. Please enter a new password."})),u.default.createElement("input",{type:"hidden",value:"something"}),u.default.createElement("input",{type:"text",name:"username",placeholder:"username",style:{position:"absolute",left:"-10000000px",top:"-10000000px"}}),u.default.createElement("input",{type:"password",name:"password",placeholder:"password",style:{position:"absolute",left:"-10000000px",top:"-10000000px"}}),u.default.createElement(d.InputGroup,{className:"mb-3"},u.default.createElement(d.InputGroupAddon,{addonType:"prepend"},u.default.createElement(d.InputGroupText,null,u.default.createElement("i",{className:"icon-user"}))),u.default.createElement(h.default,{getItemValue:function(e){return e.value},items:S,shouldItemRender:function(e,t){return 0===e.label.toLowerCase().indexOf(t.toLowerCase())},renderItem:function(e,t){return u.default.createElement("div",{key:e,style:{background:t?"#f2f9fc":"white",color:t?"#3e515b":"#678798",cursor:"pointer",display:"block",padding:"8px 10px"}},e.label)},value:l,onSelect:this.onUsernameChange,onChange:function(e){return t.onUsernameChange(e.target.value)},inputProps:{className:"form-control",placeholder:E(y.username),disabled:w||e,style:e?{backgroundColor:"#f0f0f0"}:{}},wrapperStyle:{position:"relative",flex:"1 1 auto",width:"1%"},menuStyle:{backgroundColor:"#fff",border:"1px solid #c2cfd6",borderTopColor:"#e1e7eb",boxShadow:"0 1px 0 rgba(0, 0, 0, 0.06)",marginTop:-1,maxHeight:200,position:"absolute",left:0,top:"100%",width:"100%",zIndex:1e3},autoHighlight:!1,selectOnBlur:!0})),u.default.createElement(d.InputGroup,{className:"mb-3"},u.default.createElement(d.InputGroupAddon,{addonType:"prepend"},u.default.createElement(d.InputGroupText,null,u.default.createElement("i",{className:"icon-lock"}))),u.default.createElement(d.Input,{type:"password",placeholder:E(e?y.newPassword:y.password),disabled:w,onChange:e?this.onNewPasswordChange:this.onPasswordChange,value:e?g:s,autoComplete:"off--doesnt-work-anyway"})),e&&u.default.createElement(d.InputGroup,{className:"mb-3"},u.default.createElement(d.InputGroupAddon,{addonType:"prepend"},u.default.createElement(d.InputGroupText,null,u.default.createElement("i",{className:"icon-lock"}))),u.default.createElement(d.Input,{type:"password",placeholder:E(y.repeatPassword),disabled:w,onChange:this.onRepeatPasswordChange,value:v,autoComplete:"off--doesnt-work-anyway2"})),u.default.createElement(d.Row,{className:"mb-4"},u.default.createElement(d.Col,{xs:"6",style:{paddingLeft:35,paddingBottom:10}},u.default.createElement(d.Label,{className:"text-muted",check:!0},u.default.createElement(d.Input,{type:"checkbox",disabled:w,onChange:this.onRememberMeChange,checked:c})," ",u.default.createElement(m.FormattedMessage,{id:"Login.rememberMe",defaultMessage:"Remember me"})))),f&&u.default.createElement("div",{className:"invalid-feedback",style:{display:"inline-block",paddingTop:5}},k)),u.default.createElement(O,null,u.default.createElement(d.Button,{color:"primary",className:"px-4",style:{position:"relative"},onClick:this.submit,disabled:_},u.default.createElement("span",{style:{visibility:a?"hidden":"visible"}},e?u.default.createElement(m.FormattedMessage,{id:"Login.loginButton",defaultMessage:"Login"}):u.default.createElement(m.FormattedMessage,{id:"Login.changeOfPassword.loginButton",defaultMessage:"Login"})),C&&u.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-fw",style:{position:"absolute",left:"50%",marginLeft:-9,marginTop:3}})),e&&u.default.createElement(d.Button,{color:"secondary",onClick:this.closeChangeOfPassword},u.default.createElement(m.FormattedMessage,{id:"Login.changeOfPassword.cancelButton",defaultMessage:"Cancel"}))))}},{key:"render",value:function(){var e=this.props,t=e.appName,n=e.redirect,a=this.state.changeOfPassword;return n?u.default.createElement(c.Redirect,{to:n,push:!0}):u.default.createElement("div",{className:"app flex-row align-items-center login-page"},u.default.createElement(d.Container,null,u.default.createElement(d.Row,{className:"justify-content-center"},u.default.createElement(d.Col,{md:"8"},u.default.createElement("div",{className:"login-brand-container"},u.default.createElement("div",{className:"login-brand"},u.default.createElement("div",{className:"login-brand-icon"},u.default.createElement(g.default,null)),u.default.createElement("span",null,t))),u.default.createElement(d.Card,{className:"p-4"},u.default.createElement(d.CardBody,null,this.renderForm(!1)))))),a&&u.default.createElement(d.Modal,{isOpen:a,toggle:this.closeChangeOfPassword,className:"modal-lg login-change-password-modal"},this.renderForm(!0)))}}]),t}(),C={loginAction:p.login};t.default=(0,f.connect)(function(e,t){return{appName:e.server.appName,loading:e.auth.loggingIn||!1,redirect:!!e.auth.loggedIn&&"/app"}},C)((0,m.injectIntl)(_)),e.exports=t.default},1567:function(e,t){},1568:function(e,t){},1613:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=a(n(1)),s=a(n(0)),u=n(26),d=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"greeting"},"Hello, ",this.props.name,"!")}}]),t}(),r.propTypes={name:s.default.string.isRequired},o);t.default=(0,u.connect)(function(e,t){return{name:e.auth.user?e.auth.user.name:"NOT LOGGED"}})(d),e.exports=t.default},1614:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),i=(a=o)&&a.__esModule?a:{default:a},l=n(13),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"app flex-row align-items-center"},i.default.createElement(l.Container,null,i.default.createElement(l.Row,{className:"justify-content-center"},i.default.createElement(l.Col,{md:"6"},i.default.createElement("span",{className:"clearfix"},i.default.createElement("h1",{className:"float-left display-3 mr-4"},"500"),i.default.createElement("h4",{className:"pt-3"},"Houston, we have a problem!"),i.default.createElement("p",{className:"text-muted float-left"},"The page you are looking for is temporarily unavailable.")),i.default.createElement(l.InputGroup,{className:"input-prepend"},i.default.createElement(l.InputGroupAddon,{addonType:"prepend"},i.default.createElement(l.InputGroupText,null,i.default.createElement("i",{className:"fa fa-search"}))),i.default.createElement(l.Input,{size:"16",type:"text",placeholder:"What are you looking for?"}),i.default.createElement(l.InputGroupAddon,{addonType:"append"},i.default.createElement(l.Button,{color:"info"},"Search")))))))}}]),t}();t.default=s,e.exports=t.default},1615:function(e,t,n){"use strict";function a(e,t){if(e&&Array.isArray(e)&&e.length>t){for(var n=[],a=0;a<t;a++)n[a]=e[a];return n.push("...other "+(e.length-t)+" objects"),n}if(e){var r=Object.keys(e);if(r.length>t){var o={};for(a=0;a<t;a++)o[r[a]]=e[r[a]];return o["..."]="other "+(r.length-t)+" objects",o}}return e}Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),l=(r=i)&&r.__esModule?r:{default:r},s=n(26);n(1616);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=n.toggle.bind(n),n.state={collapsed:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){var e=this.props.state;return(e=Object.assign({},e)).context=Object.assign({},e.context),e.context=function(e,t){if(e)return Object.keys(e).forEach(function(t){e[t]=a(e[t],2)}),e}(e.context),e.server=Object.assign({},e.server),e.server.users=Object.assign([],e.server.users),e.server.users=a(e.server.users,2),e.server.roles=Object.assign([],e.server.roles),e.server.roles=a(e.server.roles,2),e.server.externalSources=Object.assign([],e.server.externalSources),e.server.externalSources=a(e.server.externalSources,2),e.server.backups=Object.assign([],e.server.backups),e.server.backups=a(e.server.backups,2),e.auth=Object.assign({},e.auth),e.auth.user=Object.assign({},e.auth.user),e.auth.user.preferences=Object.assign([],e.auth.user.preferences),e.auth.user.preferences=a(e.auth.user.preferences,2),e.server.users=e.server.users.map(function(e){return"string"==typeof e?e:((e=Object.assign({},e)).preferences=Object.assign([],e.preferences),e.preferences=a(e.preferences,1),e)}),e.ui=Object.assign({},e.ui),e.ui.tabs=e.ui.tabs&&e.ui.tabs.map(function(e){return e.options&&e.options.data&&e.options.data.data&&Array.isArray(e.options.data.data)&&e.options.data.data.length>2&&((e=Object.assign({},e)).options=Object.assign({},e.options),e.options.data=Object.assign({},e.options.data),e.options.data.data=Object.assign([],e.options.data.data),e.options.data.data=a(e.options.data.data,2)),e}),e=JSON.stringify(e,null,2),l.default.createElement("div",{className:"debug-info"},l.default.createElement("pre",{style:{display:this.state.collapsed?"none":"block"}},e),l.default.createElement("div",{className:"debug-info-close"},l.default.createElement("a",{className:"btn btn-default",onClick:this.toggle},this.state.collapsed?"Open":"Close")))}}]),t}();t.default=(0,s.connect)(function(e,t){return{state:e}},function(e){return{}})(u),e.exports=t.default},1616:function(e,t){},1617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){window.loading_screen.finish(),window.loading_screen=null}if(window.loading_screen){window.loading_screen_end=new Date;var t=window.loading_screen_end.getTime()-window.loading_screen_start.getTime(),n=t/1e3;console.log("Loading in "+n+" s"),t<a?setTimeout(e,a-t):e()}};var a=1e3;e.exports=t.default},1618:function(e,t,n){"use strict";(function(e){e.Raven=n(1619),Raven.config("https://4fa4b9c298ab4d6eacb6d2c232bd3bec@sentry.io/297714",{release:"3.0.7",environment:"production",autoBreadcrumbs:{xhr:!0,console:!0,dom:!0,location:!0},ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"],ignoreUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]}).install()}).call(t,n(7))},167:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultInfo=void 0;var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=a(n(260)),f=n(13),p=a(n(54)),m=a(n(6)),h=n(119),g=n(8),v=a(n(697)),y=n(10),b=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"getName",value:function(){var e=this.props.content;return this.props.intl.formatMessage(v.default[e.type])}},{key:"applyClassName",value:function(){for(var e=this.props,t=e.isEditor,n=e.content,a=e.isDragging,r=e.isOver,o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];if(!t)return m.default.apply(void 0,i);var s=(0,h.getElement)(n.type);return m.default.apply(void 0,["editor-element","editor-element-draggable",s.isContainer&&"editor-element-container",a&&"editor-element-dragging",r&&"editor-element-is-over",n.isPlaceholder&&"editor-element-placeholder"].concat(i))}},{key:"updateContent",value:function(e){this.props.onChange(e,!0)}},{key:"renderChildren",value:function(){var e=this.props,t=e.content,n=e.generateChildren,a=e.isOver,r=e.draggingItem,o=e.dropPosition,l=t.children;if(a){l=l?(0,g.clone)(l):[];var s=i({},r.content,{isPlaceholder:!0,__reactKey:"placeholder"});"number"==typeof o?l.splice(o,0,s):l.push(s)}return l?n(l):null}},{key:"renderEditorControlsIfNeeded",value:function(){var e=this,t=this.props,n=t.isEditor,a=t.connectDragSource,r=t.onDelete,o=t.content;if(!n)return null;var i=!!this.renderSettings,l="editor-element-popover-settings-"+o.__reactKey;return a(u.default.createElement("div",{className:"editor-element-header"},this.getName(),u.default.createElement("div",{className:"pull-right"},i&&u.default.createElement(p.default,{id:l,style:{marginRight:6},onClick:function(){return e.setState({settingsOpened:!e.state.settingsOpened})}},u.default.createElement("i",{className:"fa fa-wrench","aria-hidden":"true"})),u.default.createElement(p.default,{style:{marginRight:6},onClick:r},u.default.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})),u.default.createElement("i",{className:"fa fa-arrows","aria-hidden":"true"})),i&&u.default.createElement(f.Popover,{placement:"bottom",className:(0,m.default)("editor-element-settings-popover",this.additionalPopoverClasses&&this.additionalPopoverClasses()),target:l,isOpen:this.state.settingsOpened,toggle:function(){return e.setState({settingsOpened:!e.state.settingsOpened})}},u.default.createElement(f.PopoverHeader,null,u.default.createElement(y.FormattedMessage,{id:"LayoutEditor.element.settings.popover.title",defaultMessage:"Settings"})),u.default.createElement(f.PopoverBody,null,this.renderSettings()))))}},{key:"renderElement",value:function(){throw new Error("BaseElement renderElement method should be overridden")}},{key:"renderToolElement",value:function(){var e=this.props,t=e.content,n=e.connectDragSource;return e.connectDragPreview,(0,h.getElement)(t.type),n(u.default.createElement("div",{className:this.applyClassName("editor-element-tool")},u.default.createElement("div",{className:"editor-element-header"},this.getName())))}},{key:"render",value:function(){if(this.props.isTool)return this.renderToolElement();var e=this.renderElement();return this.props.connectDropTarget?this.props.connectDropTarget(e):e}}]),t}(),r.propTypes={content:d.default.any.isRequired,generateChildren:d.default.func,onChange:d.default.func,onDelete:d.default.func,onDroppedItem:d.default.func,setDraggingClientOffset:d.default.func,setDraggingItem:d.default.func,isEditor:d.default.bool,isTool:d.default.bool,intl:d.default.object.isRequired,connectDropTarget:d.default.func,isOver:d.default.bool,canDrop:d.default.bool,draggingItem:d.default.object,connectDragSource:d.default.func,connectDragPreview:d.default.func,isDragging:d.default.bool},o);t.default=b,t.defaultInfo={type:null,allowdIn:c.default,isContainer:!1,containerDirection:null,canContain:[],cannotContain:[],Element:null}},168:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(n(168)),o=a(n(208)),i=a(n(698)),l=a(n(243)),s=a(n(233)),u=a(n(113)),d=a(n(143)),c=a(n(54)),f=a(n(448)),p=a(n(449)),m=a(n(266)),h=a(n(131)),g=a(n(142)),v=a(n(235)),y=a(n(699)),b=a(n(234)),E=a(n(72)),w=a(n(524)),_=a(n(239)),C=a(n(1420)),k=a(n(1421)),S=a(n(189)),T=a(n(710)),O=a(n(700)),M={};M.Index=r.default,M.TabModal=o.default,M.SearchTemplateEditor=i.default,M.SearchTemplate=l.default,M.OnClickOutside=s.default,M.NumberInput=u.default,M.Loading=d.default,M.Link=c.default,M.IconWithPicker=f.default,M.IconPicker=p.default,M.FunctionEditor=m.default,M.EditableText=h.default,M.Dialog=g.default,M.DatetimePicker=v.default,M.DataValidationWrapper=y.default,M.DataTypeOutput=b.default,M.DataTypeInput=E.default,M.DataTypeFilter=w.default,M.DataRelationInput=_.default,M.Container=C.default,M.ColorInput=k.default,M.BrandIcon=S.default,M.ArrowUtils=T.default,M.AceEditor=O.default,e.exports=M},189:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),i=a(o),l=a(n(922)),s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.size;return e||(e="100%"),i.default.createElement("div",{style:{width:e,height:e,position:"relative"}},i.default.createElement(l.default,{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}}))}}]),t}();t.default=s,e.exports=t.default},208:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(a):void 0},u=(a(n(1)),a(n(19))),d=a(n(0)),c=n(13),f=a(n(6)),p=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Modal),l(t,[{key:"show",value:function(){if(!this.context.tabModalContainerId)return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this);if(this._usingTabModalContainer=!0,this._dialog)this.props.toggle&&this.props.toggle(!0);else{this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex;var e=document.getElementById(this.context.tabModalContainerId);e.appendChild(this._element);var n=e.className;e.className=(0,f.default)(n,"modal-open"),this.renderIntoSubtree()}}},{key:"destroy",value:function(){if(this._usingTabModalContainer&&this._element){u.default.unmountComponentAtNode(this._element);var e=document.getElementById(this.context.tabModalContainerId);e.removeChild(this._element),0===e.childElementCount&&e.classList.remove("modal-open"),this._element=null,this._usingTabModalContainer=!1}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(),r.contextTypes={tabModalContainerId:d.default.string},r.defaultProps=i({},c.Modal.defaultProps,{wrapClassName:"modal-wrapper"}),o);t.default=p,e.exports=t.default},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){var t=e.displayName||e.name,n=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleClickOutside=t.handleClickOutside.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"handleClickOutside",value:function(e){var t=this.__domNode;t&&t.contains(e.target)||"function"!=typeof this.props.onClickOutside||this.props.onClickOutside(e)}},{key:"render",value:function(){var t=this,n=this.props,r=n.wrappedRef,o=(n.onClickOutside,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(n,["wrappedRef","onClickOutside"]));return i.createElement(e,a({},o,{ref:function(e){t.__domNode=l.findDOMNode(e),r&&r(e)}}))}}]),n}(i.Component);return n.displayName="clickOutside("+t+")",o(n,e),function(e){return i.createElement(n,e)}};var o=n(75),i=n(1),l=n(19);e.exports=t.default},234:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("string"==typeof e)try{e=parseFloat(e)}catch(t){e=null}if("number"!=typeof e)return"";var n=(0,m.numberFormat)(t);return(0,g.default)(e).format(n)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.numberValue=r;var u=n(1),d=a(u),c=a(n(0)),f=a(n(6)),p=n(10),m=n(113),h=n(72),g=a(n(63)),v=a(n(2)),y=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={textValue:n.createCacheValue(e)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"componentWillReceiveProps",value:function(e){return this.props.field===e.field&&this.props.value===e.value&&this.props.options===e.options||this.setState({textValue:this.createCacheValue(e)}),!1}},{key:"createCacheValue",value:function(e){var t=e.field,n=e.options,a=e.value;if(!t)return null;var o=t.type1,i=void 0;switch(o){case"TEXT":case"ENUM":i=a||"";break;case"INTEGER":case"DOUBLE":case"DECIMAL":var l=void 0;"INTEGER"===o?l=0:"DECIMAL"===o&&(l=t.decimalDigits||0),i=r(a,l);break;case"BOOLEAN":if(n&&n.boolean){if(a&&n.boolean.true){i=n.boolean.true;break}if(!a&&n.boolean.false){i=n.boolean.false;break}}i=d.default.createElement("i",{className:(0,f.default)("fa","fa-fw",a?"fa-check-square-o":"fa-square-o")});break;case"DATE":case"TIME":case"DATETIME":i=function(e,t){var n=(0,h.datetimeParse)(e,t);if(!n)return"";var a="DATE"===t?"L":"TIME"===t?"LTS":"L LTS";return(0,v.default)(n).format(a)}(a,o);break;case"TEXT_ARRAY":i=Array.isArray(a)?a.join(", "):"";break;default:i=null}return i}},{key:"render",value:function(){var e=this.props,t=e.field,n=(e.options,e.value,e.className),a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["field","options","value","className"]);if(!t)return d.default.createElement(p.FormattedMessage,{id:"DataTypeOutput.fieldNotGiven",defaultMessage:"Error generating attribute's text"});var r=t.type1,o=void 0;switch(r){case"TEXT":case"ENUM":case"INTEGER":case"DOUBLE":case"DECIMAL":case"BOOLEAN":case"DATE":case"TIME":case"DATETIME":case"TEXT_ARRAY":o=this.state.textValue;break;default:o=d.default.createElement(p.FormattedMessage,{id:"DataTypeOutput.unknownFieldType",defaultMessage:"Error generating attribute's output text: unknown field type: {fieldType}",values:{fieldType:r}})}return d.default.createElement("span",l({className:(0,f.default)("data-type-span",n),title:o},a),o)}}]),t}(),o.propTypes={field:c.default.object.isRequired,options:c.default.object,value:c.default.any},i);t.default=y},235:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return e?(0,h.default)(e).format(t):null}Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=a(n(6)),f=n(13),p=a(n(1128)),m=a(n(1136)),h=a(n(2)),g=(i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hideAfterDayClick=n.hideAfterDayClick.bind(n),n.handleContainerMouseDown=n.handleContainerMouseDown.bind(n),n.handleInputClick=n.handleInputClick.bind(n),n.handleInputFocus=n.handleInputFocus.bind(n),n.handleInputBlur=n.handleInputBlur.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleInputKeyDown=n.handleInputKeyDown.bind(n),n.handleInputKeyUp=n.handleInputKeyUp.bind(n),n.handleDayClick=n.handleDayClick.bind(n),n.handleMonthChange=n.handleMonthChange.bind(n),n.handleTimePickerSelectChange=n.handleTimePickerSelectChange.bind(n),n.handleTimePickerSelectBlur=n.handleTimePickerSelectBlur.bind(n),n.state=n.getStateFromProps(e),n.state.showOverlay=!1,n.clickTimeout=null,n.hideTimeout=null,n.blurTimeout=null,n.clickedInside=!1,n.clickedInsideSelect=!1,n.input=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"getStateFromProps",value:function(e){var t=e.date,n=e.time,a=t&&!n?"L":n&&!t?"LTS":"L LTS",o=e.value,i=void 0;return o?(i=o,o=r(o,a)):i=new Date,{value:o,month:i,format:a}}},{key:"componentWillReceiveProps",value:function(e){e.date===this.props.date&&e.time===this.props.time&&this.propsDateEqualsState(e.value)||this.setState(this.getStateFromProps(e))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.clickTimeout),clearTimeout(this.hideTimeout),clearTimeout(this.blurTimeout)}},{key:"propsDateEqualsState",value:function(e){var t=this.state.value&&this.parseDate(this.state.value);return!e&&!t||!(e&&!t||!e&&t)&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDay()===e.getDay()&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()&&t.getSeconds()===e.getSeconds()}},{key:"formatDate",value:function(e){return r(e,this.state.format)}},{key:"parseDate",value:function(e){return function(e,t){if(!e||""===e)return null;var n=(0,h.default)(e,t);return n.isValid()?n.toDate():null}(e,this.state.format)}},{key:"showDayPicker",value:function(){this.setState({showOverlay:!0}),this.props.onPickerShow&&this.props.onPickerShow()}},{key:"hideDayPicker",value:function(){this.setState({showOverlay:!1}),this.props.onPickerHide&&this.props.onPickerHide()}},{key:"hideAfterDayClick",value:function(){var e=this;this.props.time||(this.hideTimeout=setTimeout(function(){return e.hideDayPicker()},100))}},{key:"handleContainerMouseDown",value:function(e){var t=this;this.clickedInside=!0,"select"===e.target.tagName.toLowerCase()&&(this.clickedInsideSelect=!0),this.clickTimeout=setTimeout(function(){t.clickedInside=!1,t.clickedInsideSelect=!1},0)}},{key:"handleInputClick",value:function(e){this.showDayPicker(),this.props.onClick&&this.props.onClick(e)}},{key:"handleInputFocus",value:function(e){this.showDayPicker(),this.props.onFocus&&this.props.onFocus(e)}},{key:"handleInputBlur",value:function(e){var t=this;this.clickedInside?(this.showDayPicker(),this.clickedInsideSelect||(this.blurTimeout=setTimeout(function(){return t.input.focus()},0))):this.hideDayPicker(),this.props.onBlur&&this.props.onBlur(e)}},{key:"handleInputChange",value:function(e){var t=this.props.onChange,n=e.target.value;if(""===n.trim())return this.setState({value:n}),void(t&&t(null));var a=this.parseDate(n);a?(this.setState({month:a,value:n}),t&&t(a)):this.setState({value:n})}},{key:"handleInputKeyDown",value:function(e){9===e.keyCode&&(this.setState(this.getStateFromProps(this.props)),this.hideDayPicker()),this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"handleInputKeyUp",value:function(e){27===e.keyCode&&(this.setState(this.getStateFromProps(this.props)),this.hideDayPicker()),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"handleMonthChange",value:function(e){this.setState({month:e})}},{key:"handleDayClick",value:function(e,t,n){var a=this.props.onChange;if(!t.disabled){var r=e;if(this.props.time&&this.state.value){var o=this.parseDate(this.state.value);r.setHours(o.getHours()),r.setMinutes(o.getMinutes()),r.setSeconds(o.getSeconds())}var i=this.formatDate(r);this.setState({value:i,month:r},this.hideAfterDayClick),a&&a(r)}}},{key:"handleTimePickerSelectChange",value:function(e,t){var n=this.props.onChange,a=parseInt(t.target.value,10),r=this.state.value&&this.parseDate(this.state.value);switch(r||(r=new Date).setHours(0,0,0),e){case"hour":r.setHours(a);break;case"minute":r.setMinutes(a);break;case"second":r.setSeconds(a)}var o=this.formatDate(r);this.setState({month:r,value:o}),n&&n(r),this.input.focus()}},{key:"handleTimePickerSelectBlur",value:function(){var e=this;this.clickedInside?(this.showDayPicker(),this.clickedInsideSelect||(this.blurTimeout=setTimeout(function(){return e.input.focus()},0))):this.hideDayPicker()}},{key:"handleTimePickerIncrementClick",value:function(e,t){var n=this.props.onChange,a=this.state.value&&this.parseDate(this.state.value);a||(a=new Date).setHours(0,0,0);var r=void 0;switch(e){case"hour":r=a.getHours(),a.setHours(r+t);break;case"minute":r=a.getMinutes(),a.setMinutes(r+t);break;case"second":r=a.getSeconds(),a.setSeconds(r+t)}var o=this.formatDate(a);this.setState({month:a,value:o}),n&&n(a)}},{key:"renderTimePickerSelect",value:function(e){var t=this,n=this.state.value&&this.parseDate(this.state.value),a=void 0,r=void 0;switch(e){case"hour":a=24,r=n&&n.getHours();break;case"minute":a=60,r=n&&n.getMinutes();break;case"second":a=60,r=n&&n.getSeconds()}var o="00"+(r=r||0);o=o.substring(o.length-2);for(var i=[],l=0;l<a;l++){var s="00"+l;s=s.substring(s.length-2),i.push(u.default.createElement("option",{key:l,value:l},s))}var d=r===a-1,f=0===r;return u.default.createElement("div",{className:"time-picker-select-wrapper"},u.default.createElement("div",{className:(0,c.default)("time-picker-arrow","time-picker-arrow-up",d&&"time-picker-arrow-disabled"),onClick:function(){return!d&&t.handleTimePickerIncrementClick(e,1)}}),u.default.createElement("div",{className:"time-picker-label"},u.default.createElement("span",null,o),u.default.createElement("select",{value:r,onBlur:this.handleTimePickerSelectBlur,onChange:function(n){return t.handleTimePickerSelectChange(e,n)}},i)),u.default.createElement("div",{className:(0,c.default)("time-picker-arrow","time-picker-arrow-down",f&&"time-picker-arrow-disabled"),onClick:function(){return!f&&t.handleTimePickerIncrementClick(e,-1)}}))}},{key:"renderTimePicker",value:function(){return u.default.createElement("div",{className:"time-picker-container"},this.renderTimePickerSelect("hour"),u.default.createElement("span",null,":"),this.renderTimePickerSelect("minute"),u.default.createElement("span",null,":"),this.renderTimePickerSelect("second"))}},{key:"renderOverlay",value:function(){var e=this,t=this.props,n=t.date,a=t.time,r=this.state,o=r.value,i=r.month,l=(this.props.overlayComponent,this.parseDate(o));return u.default.createElement("div",{className:"datetime-picker-input-overlay-wrapper"},u.default.createElement("div",{className:"datetime-picker-input-overlay"},n&&u.default.createElement(p.default,{ref:function(t){return e.daypicker=t},locale:h.default.locale(),localeUtils:m.default,month:i,selectedDays:l,onDayClick:this.handleDayClick,onMonthChange:this.handleMonthChange}),a&&this.renderTimePicker()))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.date,t.time,t.value,t.onChange,t.className),a=t.disabled,r=t.style;return u.default.createElement("div",{className:(0,c.default)("datetime-picker-input","datetime-picker-input-full-width",n),onMouseDown:this.handleContainerMouseDown,style:r},u.default.createElement(f.Input,{innerRef:function(t){return e.input=t},placeholder:"TODO: placeholder",disabled:a,value:this.state.value||"",onChange:this.handleInputChange,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,onKeyUp:this.handleInputKeyUp,onClick:this.handleInputClick}),this.state.showOverlay&&this.renderOverlay())}}]),t}(),o.propTypes={date:d.default.bool,time:d.default.bool,value:d.default.oneOfType([d.default.instanceOf(Date),d.default.oneOf([null])]),onChange:d.default.func,onFocus:d.default.func,onBlur:d.default.func,onPickerShow:d.default.func,onPickerHide:d.default.func,onClick:d.default.func,onKeyDown:d.default.func,onKeyUp:d.default.func},i);t.default=g,e.exports=t.default},239:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.wordsRegexp=void 0;var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=n(26),f=(a(n(6)),n(10)),p=n(13),m=a(n(514)),h=a(n(518)),g=n(240),v=n(243),y=a(v),b=n(72),E=a(n(477)),w=n(27),_=n(114),C=n(209),k=n(8),S=t.wordsRegexp=new E.default("[\\p{L}\\p{N}_]*","gi"),T=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.renderOption=n.renderOption.bind(n),n.renderValue=n.renderValue.bind(n),n.loadOptions=n.loadOptions.bind(n),n.cellMeasurerCache=new C.CellMeasurerCache({defaultHeight:50,minHeight:35,fixedWidth:!0}),n.state={loading:!1,error:!1,options:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"componentDidMount",value:function(){this.props.useFakeData||this.loadOptions()}},{key:"onChange",value:function(e){if(!this.props.useFakeData){var t=e?e.id:null;this.props.onChange(t)}}},{key:"loadOptions",value:function(e){var t=this;if(!this.state.loading){this.setState({loading:!0,error:!1,options:null});var n=this.props,a=n.context,r=n.view,o=n.viewColumn,i=(0,_.getViewRelationSearchQuery)(a,r.id,o.id,e);this.props.simpleFetch(i).then(function(e){var n=void 0,a=void 0;e.type===w.UI_TAB_SIMPLE_FETCH_SUCCESS&&e.response.data?n=e.response.data:(n={},a=!0,console.error("Error searching relation data: view "+r.id+", column "+o.id),console.log(e));var i=t.props.searchTemplate,l=i&&i.map(function(e){var t=e.field_id,n="id"===t?"id":"col_"+t;return e.relation_id?[(e.relation_is_back?"obj_back_":"obj_")+e.relation_id,n]:n}),s=new g.TfIdfSearchIndex,u=(0,h.default)({valueKey:"id",indexes:l,options:n,searchIndex:s});t.filterOptions=function(e,t,n){if(!t||t.length<2){if(Array.isArray(n)&&n.length){var a=n.map(function(e){return e.id});return e.filter(function(e){return!a.includes(e.id)})}return e}return u(e,t,n)},t.setState({loading:!1,error:a,options:n})})}}},{key:"_renderItem",value:function(e,t){var n=this.props.searchTemplate,a=t?[]:this._inputValue?this._inputValue.match(S):[];return u.default.createElement(y.default,{data:e,searchTemplate:n,searchWords:a})}},{key:"renderValue",value:function(e){return this._renderItem(e,!0)}},{key:"renderOption",value:function(e){var t=e.focusedOption,n=e.focusOption,a=e.key,r=(e.labelKey,e.option),o=(e.optionIndex,e.options,e.selectValue),l=e.style,s=e.valueArray,d=["VirtualizedSelectOption"];r===t&&d.push("VirtualizedSelectFocusedOption"),r.disabled&&d.push("VirtualizedSelectDisabledOption"),s&&s.indexOf(r)>=0&&d.push("VirtualizedSelectSelectedOption"),r.className&&d.push(r.className);var c=r.disabled?{}:{onClick:function(){return o(r)},onMouseEnter:function(){return n(r)}},f=this._renderItem(r,!1),p=this._select&&this._select._listRef&&this._select._listRef.Grid,m=this._options?this._options.indexOf(r):0;return u.default.createElement(C.CellMeasurer,{cache:this.cellMeasurerCache,columnIndex:0,key:a,parent:p,rowIndex:m},u.default.createElement("div",i({className:d.join(" "),title:r.title,key:a,style:l},c),f))}},{key:"renderInput",value:function(){var e=this,t=this.props,n=t.value,a=t.disabled,r=t.searchTemplate,o=t.context,i=t.useFakeData,l=this.state,s=l.loading,d=l.error,c=l.options;if(d)return u.default.createElement(p.Alert,{color:"warning",style:{padding:"0.375rem 0.75rem"}},u.default.createElement(f.FormattedMessage,{id:"DataRelationInput.loading.error",defaultMessage:"Error loading the options"}));i&&(c=(0,v.generateFakeData)(r,o,null,null,1)),c!==this._options&&(this._options=c,this.cellMeasurerCache.clearAll());var h=void 0;if(n){var g=(0,k.findIndex)(c,function(e){return e.id===n});-1!==g&&(h=this.cellMeasurerCache.rowHeight({index:g}))}return u.default.createElement(m.default,{ref:function(t){return e._select=t},onInputChange:function(t){return e._inputValue=t},onBlurResetsInput:!1,onSelectResetsInput:!1,options:c,clearable:!1,value:n,valueKey:"id",searchable:!0,onChange:this.onChange,disabled:a,optionRenderer:this.renderOption,valueRenderer:this.renderValue,isLoading:s,filterOptions:this.filterOptions,optionHeight:function(t){var n=t.option,a=c.indexOf(n);return e.cellMeasurerCache.rowHeight({index:a})},listProps:{deferredMeasurementCache:this.cellMeasurerCache},style:{height:h},onOpen:this.props.onOpen})}},{key:"render",value:function(){var e=this.props,t=e.inForm,n=e.formLabel,a=e.formLayout,r=this.renderInput();return t?(0,b.inputForm)(r,n,a):r}}]),t}(),r.propTypes={context:d.default.object.isRequired,view:d.default.object,viewColumn:d.default.object,searchTemplate:d.default.array,useFakeData:d.default.bool,value:d.default.oneOfType([d.default.oneOf([null]),d.default.string]),onChange:d.default.func.isRequired,className:d.default.string,disabled:d.default.bool,inForm:d.default.bool,formLayout:d.default.string,formLabel:d.default.string},o),O={simpleFetch:w.simpleFetch};t.default=(0,c.connect)(function(e,t){return{}},O)(T)},243:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.generateFakeData=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(!e)return[];for(var o=[],i=0;i<r;i++)!function(r){var i={};e.map(function(e,r){var o=null;if(e.relation_id){var l=(0,m.find)(a,function(t){return t.id===e.relation_id})||t.relations[e.relation_id];o=l?l[e.relation_is_back?"nameBackward":"nameForward"]:"-"}var s,u=e.field_id;if("id"!==u){var d=(0,m.find)(n,function(e){return e.id===u})||t.fields[u];u=d?d.name:"-"}if(s=o?o+"."+u:u,e.relation_id){var c=(e.relation_is_back?"obj_back_":"obj_")+e.relation_id;i[c]=i[c]||{},i[c]["col_"+e.field_id]="<<"+s+">>"}else{var f="col_"+e.field_id;i[f]="<<"+s+">>"}}),o.push(i)}();return o};var s=n(1),u=a(s),d=a(n(0)),c=a(n(6)),f=n(10),p=a(n(206)),m=n(8),h=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"getTextForData",value:function(e,t){var n=t;if(!n)return"-";if(e.relation_id&&!(n=n[(e.relation_is_back?"obj_back_":"obj_")+e.relation_id]))return"-";var a=e.field_id;return"id"===a?n.id:n["col_"+a]||"-"}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.searchTemplate,r=t.warningMessage,o=t.searchWords,l=t.className,s=t.otherProps,d=a&&a.map(function(t,a){var r=!!t.bold,i=!!t.italic,l=!!t.underline,s={};r&&(s.fontWeight="bold"),i&&(s.fontStyle="italic"),l&&(s.textDecoration="underline");var d=e.getTextForData(t,n);return o&&o.length&&(d=u.default.createElement(p.default,{searchWords:o,textToHighlight:d,autoEscape:!0,highlightClassName:"model-search-template-highlight"})),u.default.createElement("span",{key:a,style:s},d)});return u.default.createElement("div",i({className:(0,c.default)("model-search-template",l)},s),d&&0!==d.length?d:u.default.createElement("div",null,u.default.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true"}),u.default.createElement("strong",null,u.default.createElement("em",null,r||u.default.createElement(f.FormattedMessage,{id:"SearchTemplate.warningMessage",defaultMessage:"Select the details in the view's settings"})))))}}]),t}(),r.propTypes={searchTemplate:d.default.array,data:d.default.any,warningMessage:d.default.oneOfType([d.default.string,d.default.object]),searchWords:d.default.array},o);t.default=h},247:function(e,t,n){"use strict";function a(e){e.background=e.background||"#FFFFFF",e.color=e.color||"#000000"}function r(e,t){var n=t&&!1===t.auto?"value":"auto";e.type=e.type||n,"percentile"===e.type&&(e.value>=0&&e.value<=100||(e.value=0))}function o(e,t){return e?"auto"===e.type?t:"value"===e.type?e.value:(e.type,null):null}function i(e){return-1!==d.indexOf(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getConditionalFormattingsForValueType=function(e){return f.filter(function(t){return t.allowedForType(e)}).map(function(e){return e.type})},t.getConditionalFormattingName=function(e){return p[e].name},t.setDefaultOptionsIfNeeded=function(e){var t=e&&e.type,n=p[t];return n&&n.setDefaultIfNeeded(e),e},t.applyFormatting=function(e,t,n,a){var r=p[e];return r?r.applyFormatting(t,n,a):null};var l,s=n(1204),u=(l=s)&&l.__esModule?l:{default:l},d=["INTEGER","DOUBLE","DECIMAL"],c=function(e,t,n){if("number"==typeof t){var a,r=o(e.min,n.min),i=o(e.max,n.max);if(!(null===r||null===i||r>i||"3-color-scale"===e.type&&(null===(a=o(e.middle,(i-r)/2))||r>a||a>i))){var l,s,d,c,f;l=t<=r?0:t>=i?1:a?t===a?.5:t<a?(t-r)/(a-r)/2:.5+(t-a)/(i-a)/2:(t-r)/(i-r),(a?l<1/3:l<.5)?(s=e.min.format&&e.min.format.color||"#000000",d=e.min.format&&e.min.format.bold,c=e.min.format&&e.min.format.italic,f=e.min.format&&e.min.format.underline):a&&l<2/3?(s=e.middle.format&&e.middle.format.color||"#000000",d=e.middle.format&&e.middle.format.bold,c=e.middle.format&&e.middle.format.italic,f=e.middle.format&&e.middle.format.underline):(s=e.max.format&&e.max.format.color||"#000000",d=e.max.format&&e.max.format.bold,c=e.max.format&&e.max.format.italic,f=e.max.format&&e.max.format.underline);var p=[e.min.format&&e.min.format.background||"#FFFFFF",e.max.format&&e.max.format.background||"#FFFFFF"];a&&p.splice(1,0,e.middle.format&&e.middle.format.background||"#FFFFFF");var m={background:(0,u.default)(p)(l),color:s};return d&&(m.fontWeight="bold"),c&&(m.fontStyle="italic"),f&&(m.textDecoration="underline"),m}}},f=[{type:"2-color-scale",name:"Scala di colore (2 colori)",allowedForType:i,setDefaultIfNeeded:function(e){["min","max"].forEach(function(t){e[t]=e[t]||{},e[t].format=e[t].format||{},a(e[t].format),r(e[t])})},applyFormatting:c},{type:"3-color-scale",name:"Scala di colore (3 colori)",allowedForType:i,setDefaultIfNeeded:function(e){["min","max","middle"].forEach(function(t){e[t]=e[t]||{},e[t].format=e[t].format||{},a(e[t].format),r(e[t])})},applyFormatting:c},{type:"bar",name:"Barra",allowedForType:i,setDefaultIfNeeded:function(e){["min","max"].forEach(function(t){e[t]=e[t]||{},r(e[t])}),["positive","negative"].forEach(function(t){e[t]=e[t]||{},e[t].format=e[t].format||{},a(e[t].format)})},applyFormatting:function(e,t,n){if("number"==typeof t){var a=o(e.min,n.min),r=o(e.max,n.max);if(!(null===a||null===r||a>r)){var i,l,s,u,d=function(e,t,n,a,r){n<e?n=e:n>t&&(n=t);var o,i='<?xml version="1.0" encoding="iso-8859-1"?>  <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"   viewBox="'+e+" 0 "+(t-e)+' 100" preserveAspectRatio="none" >  <g>';return n<0&&n!==t&&(i+='<path fill="'+a+'" d="      M'+n+",10       L"+(o=t<0?t:0)+",10      L"+o+",90       L"+n+',90      Z    "></path>'),n>0&&n!==e&&(i+='<path fill="'+r+'" d="      M'+(o=e>0?e:0)+",10       L"+n+",10      L"+n+",90       L"+o+',90      Z    "></path>'),e<0&&t>0&&(i+='<line x1="0" y1="0" x2="0" y2="100" style="stroke: #000000; stroke-width: 1" vector-effect="non-scaling-stroke" stroke-dasharray="6,3"/>'),i+="</g>  </svg>","data:image/svg+xml;base64,"+window.btoa(i)}(a,r,t,e.negative&&e.negative.format&&e.negative.format.background||"#FFFFFF",e.positive&&e.positive.format&&e.positive.format.background||"#FFFFFF");t>=0?(i=e.positive&&e.positive.format&&e.positive.format.color||"#000000",l=e.positive&&e.positive.format&&e.positive.format.bold,s=e.positive&&e.positive.format&&e.positive.format.italic,u=e.positive&&e.positive.format&&e.positive.format.underline):(i=e.negative&&e.negative.format&&e.negative.format.color||"#000000",l=e.negative&&e.negative.format&&e.negative.format.bold,s=e.negative&&e.negative.format&&e.negative.format.italic,u=e.negative&&e.negative.format&&e.negative.format.underline);var c={background:"url("+d+")",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",color:i};return l&&(c.fontWeight="bold"),s&&(c.fontStyle="italic"),u&&(c.textDecoration="underline"),e.barOnly&&(c.color="rgba(0,0,0,0)",c.userSelect="none"),c}}}},{type:"ranges",name:"Intervalli di valori",allowedForType:i,setDefaultIfNeeded:function(e){e.ranges=e.ranges||[],0===e.ranges.length&&e.ranges.push({}),e.ranges.forEach(function(e){e.format=e.format||{},a(e.format),r(e,{auto:!1})}),e.otherValues=e.otherValues||{},e.otherValues.format=e.otherValues.format||{},a(e.otherValues.format)},applyFormatting:function(e,t,n){if("number"==typeof t){var a;if(e.ranges)for(var r=0;!a&&r<e.ranges.length;r++){var i=e.ranges[r];t<=o(i,null)&&(a=i)}if(a||(a=e.otherValues),a){var l=a.format&&a.format.background||"#FFFFFF",s=a.format&&a.format.color||"#000000",u=a.format&&a.format.bold,d=a.format&&a.format.italic,c=a.format&&a.format.underline,f={background:l,color:s};return u&&(f.fontWeight="bold"),d&&(f.fontStyle="italic"),c&&(f.textDecoration="underline"),f}}}},{type:"values",name:"Valori",allowedForType:function(){return!0},setDefaultIfNeeded:function(e){e.values=e.values||[],0===e.values.length&&e.values.push({}),e.values.forEach(function(e){var t;e.format=e.format||{},a(e.format),(t=e).value=t.value||""}),e.otherValues=e.otherValues||{},e.otherValues.format=e.otherValues.format||{},a(e.otherValues.format)},applyFormatting:function(e,t,n){if(void 0!==t){var a;if(e.values)for(var r=0;!a&&r<e.values.length;r++){var o=e.values[r];t==o.value&&(a=o)}if(a||(a=e.otherValues),a){var i=a.format&&a.format.background||"#FFFFFF",l=a.format&&a.format.color||"#000000",s=a.format&&a.format.bold,u=a.format&&a.format.italic,d=a.format&&a.format.underline,c={background:i,color:l};return s&&(c.fontWeight="bold"),u&&(c.fontStyle="italic"),d&&(c.textDecoration="underline"),c}}}}],p={};f.forEach(function(e){p[e.type]=e})},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["FORM","INLINE_EDIT_FORM"],e.exports=t.default},266:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=a(n(267));n(1415),n(1416);var c=a(n(700)),f=a(n(1418)),p=1,m=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uniqueIdPrefix="FunctionEditor-unique-id-"+p++,n.customEditorSettings=n.customEditorSettings.bind(n),n.state=n.createState(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){e.modelId===this.props.modelId&&e.context===this.props.context&&e.fields===this.props.fields&&e.relations===this.props.relations&&e.returnValue===this.props.returnValue||this.setState(this.createState(e))}},{key:"createState",value:function(e){var t=e.context,n=e.model,a=e.returnValue,r=e.fields||n.fields.map(function(e){return t.fields[e]}),o=e.relations||n.relations.map(function(e){return t.relations[e]}),i={};return r.forEach(function(e){i[e.name]=!0}),o.forEach(function(e){if(e.model_from_id===n.id){var a=e.nameForward,r=t.models[e.model_to_id]||n;i[a]=r.fields.map(function(e){return t.fields[e].name})}e.model_to_id===n.id&&(a=e.nameBackward,r=t.models[e.model_from_id]||n,i[a]=r.fields.map(function(e){return t.fields[e].name}))}),{mode:f.default.generator(i,{boolean:"boolean"===a})}}},{key:"customEditorSettings",value:function(e){var t=this.state.mode;d.default.config.loadModule("ace/ext/language_tools",function(){if(e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),e.completers&&e.completers.length>=3){var n=e.completers[2];e.completers=[{getCompletions:function(a,r,o,i,l){var s=t.$tokenizer.$grammar.Lex;return n.getCompletions(e,r,o,i,function(e,t){return t&&t.forEach(function(e){e.meta&&s[e.meta]&&void 0!==s[e.meta].autocompleteMeta&&(e.meta=s[e.meta].autocompleteMeta)}),l(e,t)})},identifierRegexps:[/[a-zA-Z_0-9]/]}]}})}},{key:"render",value:function(){var e=this.props,t=e.functionString,n=e.minLines,a=e.maxLines,r=e.width,o=e.height,i=e.onChange,l=this.state.mode;return s.default.createElement(c.default,{value:t,onChange:i,name:this.uniqueIdPrefix+"-ace-editor",width:"number"==typeof r?r+"px":r,height:"number"==typeof o?o+"px":o,mode:l,theme:"chrome",editorProps:{$blockScrolling:1/0},setOptions:{useWorker:!1},wrapEnabled:!0,minLines:n||5,maxLines:a||8,showPrintMargin:!1,highlightActiveLine:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,customEditorSettings:this.customEditorSettings})}}]),t}(),r.propTypes={context:u.default.object.isRequired,model:u.default.object.isRequired,fields:u.default.array,relations:u.default.array,functionString:u.default.string.isRequired,onChange:u.default.func.isRequired,returnValue:u.default.oneOf([null,"boolean"]),minLines:u.default.number,maxLines:u.default.number,width:u.default.any,height:u.default.any},o);t.default=m,e.exports=t.default},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(803);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=n(804);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(805);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(806);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var l=n(807);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})},299:function(e,t,n){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.tabId,a=t.closeOthers,r=t.closeLeft,i=t.closeRight,l=e.getState().ui.tabs,s=n?(0,o.findIndex)(l,function(e){return e.id===n}):-1,u=l.filter(function(e,t){return a?e.id!==n:r?t<s:i?t>s:e.id===n}),d=void 0;if(a||r||i)d=n;else{var c=s>0?s-1:0;d=c<l.length?l[c].id:null}return{tabsToClose:u,tabToSelect:d}}function r(e,t){"function"==typeof t?t(e.dispatch,e.getState):e.dispatch(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CLOSE_TAB_MIDDLEWARE=void 0;var o=n(8),i=n(27),l=t.CLOSE_TAB_MIDDLEWARE="CLOSE_TAB_MIDDLEWARE";t.default=function(e){return function(t){return function(n){if(!n[l])return t(n);if(!window.__tabControllerAskCloseTab)return t(n);var o=void 0;switch(n.type){case i.UI_CLOSE_TAB:o=a(e,{tabId:n.tabId});break;case i.UI_CLOSE_OTHER_TABS:o=a(e,{closeOthers:!0,tabId:n.tabId});break;case i.UI_CLOSE_ALL_TABS:o=a(e,{closeOthers:!0});break;case i.UI_CLOSE_TAB_LEFT:o=a(e,{closeLeft:!0,tabId:n.tabId});break;case i.UI_CLOSE_TAB_RIGHT:o=a(e,{closeRight:!0,tabId:n.tabId})}if(!o)return t(n);for(var s=o,u=s.tabsToClose,d=s.tabToSelect,c=function(t){t&&d&&r(e,(0,i.selectTab)(d))},f=u.length-1;f>=0;f--)c=function(t,n){return function(a){a&&function(e,t,n){function a(a){a&&r(t,(0,i.forceCloseTab)(e)),n(a)}var o=(0,window.__tabControllerAskCloseTab)(e);!0!==o&&!1!==o?o.then(function(e){a(e)}):a(o)}(t,e,n)}}(u[f].id,c);c(!0)}}}},300:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(812),o=(0,((a=r)&&a.__esModule?a:{default:a}).default)();t.default=o,e.exports=t.default},440:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageForPath=function(e){for(var t=0;t<r.length;t++){var n=r[t];if(!n.path||n.regexp&&n.regexp.test(e))return n}};var a=n(904),r=t.pages=[{path:"/",exact:!0,component:"Greeting"},{path:"/app",exact:!0,component:"PortalPage",requireLogin:!0},{path:"/app/login",exact:!0,component:"LoginPage"},{component:"ErrorPage",status:404}];r.forEach(function(e){e.regexp=e.path&&a(e.path)})},446:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(e.children){if(-1!==e.children.indexOf(t))return e;for(var n=0;n<e.children.length;n++){var a=l(e.children[n],t);if(a)return a}}return null}Object.defineProperty(t,"__esModule",{value:!0});var s,u,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(1),p=a(f),m=n(13),h=a(n(6)),g=a(n(0)),v=a(n(929)),y=n(8),b=a(n(131)),E=a(n(448)),w=n(10),_=a(n(191)),C=n(450),k=a(n(206)),S=a(n(207)),T=(0,w.defineMessages)({searchPlaceholder:{id:"AbstractSidebar.search.placeholder",defaultMessage:"Search..."}}),O=(0,C.SortableElement)(function(e){return e.itemElement}),M=(0,C.SortableContainer)(function(e){var t=e.className,n=e.items,a=e.itemElementGenerator;return p.default.createElement("ul",{className:t},n.map(function(e,t){var n=e.key||"sortable-item-"+t,r=a(e,t),o=!!e.noEdit;return p.default.createElement(O,{disabled:o,key:n,index:t,itemElement:r})}))}),R=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.originalHandlePress=n.handlePress,n.handlePress=function(e){if(n.originalHandlePress.call(n,e),n.manager.getActive()){var t=n.props.helperClass,a=n.helper,r=n.node.parentNode;n.helper.parentNode.removeChild(n.helper);var o=n.document.createElement("div");o.classList.add("sidebar");var i=n.document.createElement("nav");i.classList.add("sidebar-nav");for(var l,s=n.document.createElement("ul"),u=0;u<r.classList.length;u++)s.classList.add(r.classList.item(u));o.appendChild(i),i.appendChild(s),s.appendChild(a),n.helper=o,n.document.body.appendChild(n.helper),t&&(l=n.helper.classList).add.apply(l,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.split(" "))),document.body.classList.add("sidebar-sortable-hoc-in-progress")}},n.originalHandleSortEnd=n.handleSortEnd,n.handleSortEnd=function(e){n.originalHandleSortEnd.call(n,e),document.body.classList.remove("sidebar-sortable-hoc-in-progress")},n}return i(t,M),t}(),I=1,x=(u=s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleDropdownClick=n.handleDropdownClick.bind(n),n.handleItemClick=n.handleItemClick.bind(n),n.hideMobile=n.hideMobile.bind(n),n.stopEditing=n.stopEditing.bind(n),n.onItemsChanged=n.onItemsChanged.bind(n),n.canMoveNode=n.canMoveNode.bind(n),n.updateItemName=n.updateItemName.bind(n),n.treeRenderNode=n.treeRenderNode.bind(n),n.onSearchTextChange=n.onSearchTextChange.bind(n),n.uniqueIdPrefix="AbstractSidebar-unique-id-"+I++;var a=n.props.editing&&n.createEditingItems(n.props);return n.state={items:a,hasChanges:!1,searchText:""},e.scrollToElementKey&&(n._needsToScrollToActiveItem=!0),n}return i(t,f.Component),c(t,[{key:"createEditingItems",value:function(e){return function e(t,n){if(n?n[0]++:n=[1],t.root&&(t._lastUniqueId=n),t._uniqueId=n[0],t.noEdit)return null;if(t.children){var a=[],r=[],o=[],i=!1,l=!1;t.children.forEach(function(t){var s=e(t,n);if(s&&!l)i=!0,o.push(s);else if(s||i){if(s||!i)throw new Error("AbstractSidebar: not editable items can only be at the begging or end of the array, not in the middle");l=!0,r.push(t)}else a.push(t)}),t._children={removedPre:a,removedAfter:r},t.children=o}return t}({root:!0,children:(0,y.cloneDeep)(e.items)})}},{key:"componentWillReceiveProps",value:function(e){this.props.editing!=e.editing?this.setState({items:e.editing&&this.createEditingItems(e),hasChanges:!1}):this.props.items!==e.items&&this.setState({searchText:""}),this.props.scrollToElementKey!==e.scrollToElementKey&&(this.scrollToElement=null,this._needsToScrollToActiveItem=!0)}},{key:"componentDidUpdate",value:function(){this._needsToScrollToActiveItem&&(this.scrollToActiveItem(),this._needsToScrollToActiveItem=!1)}},{key:"componentDidMount",value:function(){this._needsToScrollToActiveItem&&(this.scrollToActiveItem(),this._needsToScrollToActiveItem=!1)}},{key:"onSearchTextChange",value:function(e){var t=e.currentTarget.value;this.setState({searchText:t})}},{key:"setElement",value:function(e,t){this.props.scrollToElementKey&&this.props.scrollToElementKey===e&&(this.scrollToElement=t)}},{key:"scrollToActiveItem",value:function(){var e=this.sidebarNavElement&&this.scrollToElement;if(e){for(var t=this.sidebarNavElement.clientHeight,n=this.sidebarNavElement.scrollTop,a=0,r=e;r&&r!==this.sidebarNavElement;)a+=r.offsetTop,r=r.parentElement;var o=a-this.sidebarNavElement.offsetTop,i=o+e.clientHeight;o-10<n?this.scrollSidebarNav(o-10):i+10>n+t&&this.scrollSidebarNav(i+10-t)}}},{key:"scrollSidebarNav",value:function(e){e=e<0?0:e,S.default.top(this.sidebarNavElement,e,{duration:200})}},{key:"handleDropdownClick",value:function(e,t){e.preventDefault(),e.target.parentElement.classList.toggle("open")}},{key:"handleItemClick",value:function(e,t){e.preventDefault(),this.props.onItemClick&&(this.props.onItemClick(t,e),this.hideMobile())}},{key:"hideMobile",value:function(){document.body.classList.contains("sidebar-mobile-show")&&document.body.classList.toggle("sidebar-mobile-show")}},{key:"stopEditing",value:function(e){if(e){var t=function e(t){return t.children&&t.children.forEach(function(t){e(t)}),t._children&&(t.children=[].concat(t._children.removedPre,t.children||[],t._children.removedAfter),delete t._children,delete t._uniqueId),t}(this.state.items).children;this.props.saveChanges(t)}else this.props.cancelChanges()}},{key:"onItemsChanged",value:function(e){this.setState({items:e,hasChanges:!0})}},{key:"canMoveNode",value:function(e,t,n,a){return!(!("append"!==n&&"prepend"!==n||t.children)||a&&!a.children)}},{key:"updateItemName",value:function(e,t){e.name=t,this.setState({items:Object.assign({},this.state.items),hasChanges:!0})}},{key:"updateItemIcon",value:function(e,t){e.icon="fa fa-fw "+t,this.setState({items:Object.assign({},this.state.items),hasChanges:!0})}},{key:"addNewItem",value:function(e,t){if(e._uniqueId=++this.state.items._lastUniqueId[0],t)if(t.children)t.children.push(e);else{var n=l(this.state.items,t);if(!n)return;var a=n.children.indexOf(t)+1;n.children.splice(a,0,e)}else this.state.items.children.push(e);this.setState({items:Object.assign({},this.state.items),hasChanges:!0})}},{key:"removeItem",value:function(e){var t=l(this.state.items,e);if(t){var n=t.children.indexOf(e);t.children.splice(n,1),this.setState({items:Object.assign({},this.state.items),hasChanges:!0})}}},{key:"isItemActive",value:function(e){return this.props.isItemActive&&this.props.isItemActive(e)}},{key:"isItemOpen",value:function(e){return this.props.isItemOpen?this.props.isItemOpen(e):void 0}},{key:"badge",value:function(e){if(e){var t=(0,h.default)(e.class);return p.default.createElement(m.Badge,{className:t,color:e.variant},e.text)}}},{key:"title",value:function(e,t){var n=this,a=(0,h.default)("nav-title",e.class);return p.default.createElement("li",{key:t,ref:function(e){return n.setElement(t,e)},className:a},e," ")}},{key:"divider",value:function(e,t){var n=this,a=(0,h.default)("divider",e.class);return p.default.createElement("li",{key:t,ref:function(e){return n.setElement(t,e)},className:a})}},{key:"navLabel",value:function(e,t){var n={item:(0,h.default)("hidden-cn",e.class),link:(0,h.default)("nav-label","active",e.class?e.class:""),icon:(0,h.default)(e.icon?e.icon:"fa fa-circle",e.label.variant?"text-"+e.label.variant:"",e.label.class?e.label.class:"")};return this.navLink(e,t,n)}},{key:"navItem",value:function(e,t){var n={item:(0,h.default)(e.class),link:(0,h.default)("nav-link",this.isItemActive(e)&&"active",e.variant?"nav-link-"+e.variant:""),icon:(0,h.default)(e.icon)};return this.navLink(e,t,n,this.handleItemClick)}},{key:"navDropdown",value:function(e,t,n){var a=this.props.editing,r=this.state.searchText,o=a||r||this.isItemOpen(e),i={item:(0,h.default)("nav-dropdown",o&&"open"),link:(0,h.default)("nav-link","nav-dropdown-toggle"),icon:(0,h.default)(e.icon)},l=!a&&this.navList(e.children,e,n+1);return this.navLink(e,t,i,this.handleDropdownClick,l)}},{key:"navLink",value:function(e,t,n,a,r){var o=this,i=this.props.editing,l=this.state.searchText,s=i&&e.canChangeName?p.default.createElement(b.default,{value:e.name,onChange:function(t){o.updateItemName(e,t)}}):e.search&&l?p.default.createElement(k.default,{searchWords:l.split(" "),textToHighlight:e.name,autoEscape:!0,highlightClassName:"sidebar-search-highlight"}):e.name,u=i&&this.uniqueIdPrefix+"-nav-link-target-"+e._uniqueId,d=i&&e.canChangeIcon?p.default.createElement(E.default,{icon:e.icon,placement:"right",target:u,onChange:function(t){o.updateItemIcon(e,t)}}):p.default.createElement("i",{className:n.icon});return p.default.createElement(m.NavItem,{key:t,className:n.item},p.default.createElement(m.NavLink,{innerRef:function(e){return o.setElement(t,e)},id:u||null,className:n.link,onClick:function(t){return!i&&a&&a(t,e)}},d,s,this.badge(e.badge)),r||null)}},{key:"navType",value:function(e,t,n){var a=this.props,r=(a.editing,a.itemWrapper),o=e.title?this.title(e,e.key||"title-"+t):e.divider?this.divider(e,e.key||"divider-"+t):e.label?this.navLabel(e,e.key||"label-"+t):e.children?this.navDropdown(e,e.key||"dropdown-"+t,n):this.navItem(e,e.key||"item-"+t);if(r){var i=r(e);if(i)return p.default.createElement(i.element,d({},i.attributes,{key:i.key||"wrapper-"+t}),o)}return o}},{key:"navList",value:function(e,t,n){var a=this,r=function(e,t){return a.navType(e,t,n)},o=(t?"nav-dropdown-items":"nav")+" nav-dropdown-level-"+n;return this.props.shouldSortItems&&this.props.shouldSortItems(e,t||null)?p.default.createElement(R,{className:o,items:e,itemElementGenerator:r,pressDelay:200,helperClass:"sidebar-sortable-hoc-helper",axis:"y",lockAxis:"y",onSortEnd:function(n){var r=n.oldIndex,o=n.newIndex,i=e.slice(0);i.splice(o,0,i.splice(r,1)[0]);var l=void 0;t?(l=(0,y.clone)(a.props.items),t.children=i):l=i,a.props.saveChanges&&a.props.saveChanges(l)}}):p.default.createElement("ul",{className:o},e.map(r))}},{key:"treeRenderNode",value:function(e){return e.root?p.default.createElement("div",{style:{display:"none"}}):this.navType(e,0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.editing,a=t.saving,r=t.savingError,o=t.search,i=t.intl.formatMessage,l=this.state,s=l.hasChanges,u=l.searchText,d=n?this.state.items:this.props.items,c=n&&s;return!n&&o&&u&&(d=function e(t,n){if(Array.isArray(t))return t.map(function(t){return e(t,n)}).filter(function(e){return e});var a=t;return a.search&&a.name&&a.name.toLowerCase&&-1!==a.name.toLowerCase().indexOf(n)?a:a.children&&0!==a.children.length?((a=Object.assign({},a)).children=e(a.children,n),0===a.children.length?null:a):null}(d,u.toLowerCase())),p.default.createElement("div",{className:"sidebar"},n&&p.default.createElement("div",{className:"navbar-editing-buttons-container"},p.default.createElement("button",{className:"btn btn-danger btn-sm navbar-editing-cancel",type:"button",onClick:function(){e.stopEditing(!1)}},p.default.createElement(w.FormattedMessage,{id:"AbstractSidebar.cancelChanges",defaultMessage:"Cancel"})),p.default.createElement("button",{className:"btn btn-success btn-sm navbar-editing-save",type:"button",onClick:function(){e.stopEditing(!0)},disabled:!c},p.default.createElement(w.FormattedMessage,{id:"AbstractSidebar.saveChanges",defaultMessage:"Save"}))),!n&&o&&p.default.createElement("div",{className:"navbar-search-container"},p.default.createElement(m.Input,{className:"navbar-search-input",type:"search",placeholder:i(T.searchPlaceholder),value:u,onChange:this.onSearchTextChange})),p.default.createElement("nav",{className:"sidebar-nav",ref:function(t){return e.sidebarNavElement=t}},n?p.default.createElement(v.default,{paddingLeft:0,tree:d,renderNode:this.treeRenderNode,onChange:this.onItemsChanged,canMoveNode:this.canMoveNode}):this.navList(d,null,1)),a&&p.default.createElement("div",{className:"sidebar-saving"},r?p.default.createElement("div",null,p.default.createElement(w.FormattedMessage,{id:"AbstractSidebar.saveError",defaultMessage:"Error while saving"})):p.default.createElement(w.FormattedMessage,{id:"AbstractSidebar.saving",defaultMessage:"Saving..."})))}}]),t}(),s.propTypes={items:g.default.arrayOf(g.default.shape({key:g.default.string,name:g.default.string,icon:g.default.oneOfType([g.default.string,g.default.object]),children:g.default.array,noEdit:g.default.bool,canChangeName:g.default.bool,canChangeIcon:g.default.bool})),search:g.default.bool,saveChanges:g.default.func.isRequired,cancelChanges:g.default.func,saving:g.default.bool,savingError:g.default.bool,editing:g.default.bool,shouldSortItems:g.default.func,itemWrapper:g.default.func,onItemClick:g.default.func,isItemActive:g.default.func,isItemOpen:g.default.func,scrollToElementKey:g.default.any},u);t.default=(0,_.default)((0,w.injectIntl)(x,{withRef:!0}),x,{delegateTo:function(e){return e.getWrappedInstance()}}),e.exports=t.default},448:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=a(n(6)),c=n(13),f=a(n(449)),p=1,m=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.togglePickerOpen=n.togglePickerOpen.bind(n),n.uniqueIdPrefix="IconWithPicker-unique-id-"+p++,n.state={pickerOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"togglePickerOpen",value:function(){this.setState({pickerOpen:!this.state.pickerOpen})}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.className,a=e.button,r=e.onChange,o=e.placement,i=e.target,l=this.state.pickerOpen,u=(t||"").split(" ").filter(function(e){return e&&"fa-fw"!==e&&"fa"!==e&&-1!==e.indexOf("fa-")}).join(""),p=s.default.createElement("i",{className:(0,d.default)("fa","fa-fw",t,n)}),m=this.uniqueIdPrefix+"-popover-target",h=void 0;return h=a?s.default.createElement(c.Button,{id:m,outline:!0,className:"dropdown-toggle",onClick:this.togglePickerOpen},p):s.default.createElement("span",{id:m,className:"icon-picker-editable-span",onClick:this.togglePickerOpen},p),s.default.createElement("span",null,h,s.default.createElement(c.Popover,{className:"icon-picker-popover",placement:o||"bottom",isOpen:l,target:i||m,toggle:this.togglePickerOpen,modifiers:{hide:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:document.body,padding:10}}},s.default.createElement(c.PopoverBody,null,s.default.createElement(f.default,{value:u,onChange:r,header:!0,footer:!0,search:!0,rows:10,columns:10}))))}}]),t}(),r.propTypes={icon:u.default.string.isRequired,button:u.default.bool,onChange:u.default.func.isRequired,className:u.default.string,target:u.default.string,placement:u.default.string},o);t.default=m,e.exports=t.default},449:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=(a(n(6)),n(13)),c=n(10),f=n(8),p=a(n(936)),m=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.prevPage=n.prevPage.bind(n),n.nextPage=n.nextPage.bind(n),n.iconClick=n.iconClick.bind(n),n.onFilterChange=n.onFilterChange.bind(n),n.state=n.initialState(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"initialState",value:function(e){var t=e.rows,n=e.columns,a=e.value,r=(0,f.findIndex)(p.default,function(e){return"fa-"+e.id===a});return{page:(-1===r?0:Math.floor(r/(t*n)))||0,icons:p.default,filter:""}}},{key:"componentWillReceiveProps",value:function(e){e.rows===this.props.rows&&e.columns===this.props.columns&&e.value===this.props.value||this.setState(this.initialState(e))}},{key:"prevPage",value:function(){this.setState({page:this.state.page-1})}},{key:"nextPage",value:function(){this.setState({page:this.state.page+1})}},{key:"iconClick",value:function(e,t){e.currentTarget.blur(),this.props.onChange(t)}},{key:"onFilterChange",value:function(e){var t=e.currentTarget.value,n=t?p.default.filter(function(e){return-1!==e.s.indexOf(t)}):p.default;this.setState({page:0,icons:n,filter:t})}},{key:"render",value:function(){for(var e=this,t=this.props,n=t.value,a=(t.onChange,t.header),r=(t.footer,t.search),o=t.rows,i=t.columns,l=this.state,u=l.page,f=l.icons,p=l.filter,m=f.length,h=o*i,g=Math.ceil(m/h),v=[],y=u*h;y<f.length&&y<(u+1)*h;y++)!function(t){var a=f[t];t%i==0&&v.push([]);var r="fa-"+a.id,o=n===r,l=s.default.createElement(d.Button,{outline:!o,color:o?"primary":"secondary",onClick:function(t){return e.iconClick(t,r)},title:a.n},s.default.createElement("i",{className:"fa fa-fw "+r}));v[v.length-1].push(l)}(y);var b=48*i-4;return s.default.createElement("div",{className:"icon-picker"},a&&s.default.createElement("div",{className:"icon-picker-header"},s.default.createElement(d.Button,{outline:!0,disabled:0===u,onClick:this.prevPage},s.default.createElement("i",{className:"fa fa-fw fa-arrow-left"})),s.default.createElement("span",null,u+1,"/",g),s.default.createElement(d.Button,{outline:!0,disabled:u===g-1,onClick:this.nextPage},s.default.createElement("i",{className:"fa fa-fw fa-arrow-right"}))),r&&s.default.createElement("div",{className:"icon-picker-search"},s.default.createElement(d.Input,{type:"text",placeholder:"Search...",value:p,onChange:this.onFilterChange})),s.default.createElement("div",{key:u,className:"icon-picker-grid",style:{minWidth:b}},v.map(function(e,t){return s.default.createElement("div",{key:t,className:"icon-picker-grid-row"},e.map(function(e,t){return s.default.createElement("div",{key:t,className:"icon-picker-grid-icon"},e)}))})),a&&s.default.createElement("div",{className:"icon-picker-footer"},s.default.createElement(c.FormattedMessage,{id:"IconPicker.footer.countMessage",defaultMessage:"{from} - {to} of {total}",values:{from:u*h+1,to:Math.min((u+1)*h,m),total:m}})))}}]),t}(),r.propTypes={value:u.default.string,onChange:u.default.func.isRequired,header:u.default.bool,footer:u.default.bool,search:u.default.bool,rows:u.default.number.isRequired,columns:u.default.number.isRequired},r.defaultProps={rows:5,columns:5},o);t.default=m,e.exports=t.default},479:function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l,s;Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getTitleForTab=function(e,t,n){switch(t.type){case"VIEW":case"EDIT_VIEW":var a=t.options.viewId,r=e.views[a];return r?r.name:n.formatMessage(_.newViewTabName);case"EDIT_MODEL":var o=t.options.modelId,i=e.models[o];return i?i.name:n.formatMessage(t.options.virtual?_.newVirtualModelTabName:t.options.externalSource?_.newExternalSourceTabName:_.newModelTabName)}return"..."};var c=n(1),f=a(c),p=a(n(0)),m=a(n(6)),h=n(10),g=n(13),v=a(n(142)),y=a(n(1036)),b=(a(n(191)),a(n(480))),E=a(n(1414)),w=a(n(1524)),_=(0,h.defineMessages)({closeConfirmTitle:{id:"Tab.closeTab.confirmDialog.title",defaultMessage:"Confirm close tab"},closeConfirmMessage:{id:"Tab.closeTab.confirmDialog.message",defaultMessage:"Are you sure you want to close this tab and lose any unsaved changes?"},confirmCloseButton:{id:"Tab.closeTab.confirmDialog.closeButton",defaultMessage:"Close tab"},newModelTabName:{id:"Tab.tabTitle.newModel",defaultMessage:"New model"},newViewTabName:{id:"Tab.tabTitle.newView",defaultMessage:"New view"},newVirtualModelTabName:{id:"Tab.tabTitle.newVirtualModel",defaultMessage:"New virtual model"},newExternalSourceTabName:{id:"Tab.tabTitle.newExternalSource",defaultMessage:"New external source"}}),C=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,c.Component),u(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return f.default.createElement("div",{className:"tab-modal-container",id:this.props.tabModalContainerId})}}]),t}(),k=(s=l=function(t){function n(e){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.elementRef=t.elementRef.bind(t),t.tabModalContainerId="tab-modal-container-"+t.props.tab.id,t.state={hasError:!1,confirmCloseDialog:null},t}return i(n,c.Component),u(n,[{key:"getChildContext",value:function(){return{tabModalContainerId:this.tabModalContainerId}}},{key:"componentDidCatch",value:function(t,n){this.setState({hasError:!0}),console.log(t,n),e.Raven&&Raven.captureException(t,{extra:n})}},{key:"elementRef",value:function(e){this._element=e}},{key:"askCloseTab",value:function(){for(var e=this,t=this._element;t&&!t.tabCanBeClosed&&t.getWrappedInstance;)t=t.getWrappedInstance();if(!t||!t.tabCanBeClosed)return!0;var n=y.default.defer();return t.tabCanBeClosed(function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t)n.resolve(!0);else if(a){e.setState({confirmCloseDialog:d({},r,{deferred:n})});var o=e.props,i=o.tab,l=o.selectTab;setTimeout(function(){return l(i.id)},300)}else n.resolve(!1)}),n.promise}},{key:"canBeClosed",value:function(){for(var e=this._element;e&&!e.tabCanBeClosed&&e.getWrappedInstance;)e=e.getWrappedInstance();if(!e||!e.tabCanBeClosed)return!0;var t=!1;return e.tabCanBeClosed(function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=e}),t}},{key:"resolveAskCloseTab",value:function(e){this.state.confirmCloseDialog.deferred.resolve(e),this.setState({confirmCloseDialog:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.tab,a=t.visible,r=t.onClick,o=t.intl,i=this.state,l=i.hasError,s=i.confirmCloseDialog,u=o.formatMessage;if(l)return f.default.createElement("div",{className:(0,m.default)("tab",!a&&"tab-hidden","tab-has-error"),onClick:r},f.default.createElement("div",{className:"tab-error-container"},f.default.createElement("h2",{className:"tab-error-title"},f.default.createElement(h.FormattedMessage,{id:"Tab.error.title",defaultMessage:"Something went wrong"})," ",f.default.createElement("span",{style:{whiteSpace:"nowrap"}},":(")),f.default.createElement("h5",{className:"tab-error-message"},f.default.createElement(h.FormattedMessage,{id:"Tab.error.message",defaultMessage:"This tab has crashed. Please try again"})),f.default.createElement(g.Button,{outline:!0,onClick:function(){e.setState({hasError:!1})}},f.default.createElement(h.FormattedMessage,{id:"Tab.error.reloadButton",defaultMessage:"Reload"}))));var c="",p="",y="";return s&&(c=s.title||u(_.closeConfirmTitle),p=s.message||u(_.closeConfirmMessage),y=s.confirmButton||u(_.confirmCloseButton)),f.default.createElement("div",{className:(0,m.default)("tab",!a&&"tab-hidden"),onClick:r},f.default.createElement(C,{tabModalContainerId:this.tabModalContainerId}),function(e,t){var n=d({},e.options,{tabId:e.id,ref:t});switch(e.type){case"VIEW":return f.default.createElement(b.default,n);case"EDIT_VIEW":return f.default.createElement(E.default,n);case"EDIT_MODEL":return f.default.createElement(w.default,n)}return f.default.createElement("div",null,"Error: no component found for type ",e.type)}(n,this.elementRef),f.default.createElement(v.default,{open:!!s,dialogType:"confirm",title:c,message:p,successButton:y,successColor:"danger",onSuccess:function(){return e.resolveAskCloseTab(!0)},onCancel:function(){return e.resolveAskCloseTab(!1)}}))}}]),n}(),l.propTypes={tab:p.default.object.isRequired,visible:p.default.bool.isRequired,selectTab:p.default.func.isRequired,intl:p.default.object.isRequired},l.childContextTypes={tabModalContainerId:p.default.string},s);t.default=k}).call(t,n(7))},480:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return e.map(function(e){return function(e,t){if(!e.field_id&&e.relation_id)return null;e.id;var n,a=e.name,r=e.field_id,o=e.relation_id,l=e.link_relation_id,s=e.link_relation_is_back,u=e.link_relation_view_id,d=e.customText,c=e.conditionalFormatting,f=e.options,p=r&&t.fields&&t.fields[r];l&&u&&t.views[u]&&(n={relationId:l,relationIsBack:s,viewId:u});var m=r&&!o&&p&&!p.function_id&&!p.readOnly;return{key:i(e),type:p&&p.type1,name:a,canEdit:m,defaultText:d,link:n,field:p,options:f,conditionalFormatting:c}}(e,t)}).filter(function(e){return e})}function i(e){return"vcol_"+e.id}Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getTableColumns=o;var c=n(1),f=a(c),p=a(n(0)),m=n(26),h=n(8),g=a(n(481)),v=a(n(1412)),y=n(13),b=n(10),E=n(27),w=a(n(142)),_=n(114),C=a(n(1413)),k=(0,b.defineMessages)({searchPlaceholder:{id:"View.globalSearch.placeholder",defaultMessage:"Search..."},deleteTitle:{id:"View.deleteRow.title",defaultMessage:"Delete {numberOfRows, number} {numberOfRows, plural, one {row} other {rows}}"},deleteMessage:{id:"View.deleteRow.message",defaultMessage:"Are you sure to delete {numberOfRows, number} {numberOfRows, plural, one {row} other {rows}}?"},deleteButton:{id:"View.deleteRow.button",defaultMessage:"Delete"}}),S=(s=l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onColumnsSizeChange=n.onColumnsSizeChange.bind(n),n.onSelectionChange=n.onSelectionChange.bind(n),n.onCreate=n.onCreate.bind(n),n.onEdit=n.onEdit.bind(n),n.onDuplicate=n.onDuplicate.bind(n),n.onEditFormCancel=n.onEditFormCancel.bind(n),n.onEditFormSave=n.onEditFormSave.bind(n),n.onDelete=n.onDelete.bind(n),n.doDelete=n.doDelete.bind(n),n.onExport=n.onExport.bind(n),n.onZoomLess=n.onZoomLess.bind(n),n.onZoomMore=n.onZoomMore.bind(n),n.onZoomNormal=n.onZoomNormal.bind(n),n.toggleFooter=n.toggleFooter.bind(n),n.setFooterType=n.setFooterType.bind(n),n.onRowSortingChanged=n.onRowSortingChanged.bind(n),n.onTableViewSave=n.onTableViewSave.bind(n),n.updatePreferencesServerSide=(0,h.throttle)(n.updatePreferencesServerSide.bind(n),200,{leading:!1,trailing:!0}),n.state={tableColumns:o(e.columns,e.context),selectedRows:{},editing:!1,creating:!1,deleting:!1,preferences:n.createPreferences(n.props.preferences)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),d(t,[{key:"componentWillReceiveProps",value:function(e){(this.props.columns.length!==e.columns.length||(0,h.some)(this.props.columns,function(t,n){return e.columns[n]!==t}))&&this.setState({tableColumns:o(e.columns,e.context)})}},{key:"createPreferences",value:function(e){if(2===e.v)return e;var t=this.props.columns,n=e.columnWidths||{},a=[],r={};if(e&&e.columns){var o=!1,l=0;e.columns.forEach(function(e,a){if(o||!1!==e.visible){o=!0;var s=t[l],u=s&&i(s);if(l++,u){r[a]=u;var d=e.width;"string"==typeof d&&(d=parseInt(d,10)),n[u]=d}}})}e&&e.order&&e.order.forEach(function(e){if(Array.isArray(e)){var t=e[0],n=r[t];void 0!==n&&a.push({columnKey:n,order:e[1]||"asc"})}else a.push(e)});var s={enabled:e&&e.footerData&&e.footerData.enabled||!1,columns:{}};return e&&e.footerData&&e.footerData.columns&&(0,h.each)(e.footerData.columns,function(e,t){var n=r[t];void 0!==n&&(s.columns[n]=e)}),{v:2,time:e&&e.time||0,columnWidths:n,order:a,zoom:e&&e.zoom||0,footerData:s}}},{key:"updatePreferences",value:function(e){var t=u({},this.state.preferences,{time:(new Date).getTime()},e);this.setState({preferences:t}),this.updatePreferencesServerSide(this.props.updateUserPreferences,r({},this.props.saveId,t))}},{key:"updatePreferencesServerSide",value:function(e,t){e(t)}},{key:"checkUserPermissions",value:function(e){var t=this.props,n=(t.context,t.view);if(t.user.admin)return!0;var a=n.userPermissions;return(0,h.some)(a,function(t){return t[e]})}},{key:"checkModelReadOnly",value:function(){var e=this.props,t=e.context,n=e.view.data_model_id;return t.models[n].readOnly}},{key:"getData",value:function(){var e={},t=this.props.filter;t&&(e.filter=t);var n={endpoint:"/view/"+this.props.viewId+"/data",method:"POST",body:e};this.props.fetchToTabOptions(this.props.tabId,"data",n)}},{key:"componentDidMount",value:function(){this.getData()}},{key:"onColumnsSizeChange",value:function(e){this.updatePreferences({columnWidths:e})}},{key:"onSelectionChange",value:function(e){var t=e.selectedRows;this.setState({selectedRows:t})}},{key:"_sendRequest",value:function(e,t){var n={endpoint:"/view/"+this.props.viewId+"/edit",method:"POST",body:{action:e,data:t}};return this.props.simpleFetch(n).then(function(e){return e.type===E.UI_TAB_SIMPLE_FETCH_SUCCESS?{success:!0,response:e.response}:{success:!1,response:e.response}})}},{key:"onCreate",value:function(){this.setState({creating:!0,creatingInitialData:null})}},{key:"onDuplicate",value:function(){var e=this.state.selectedRows,t=Object.keys(e)[0],n=(0,h.find)(this.props.data.data,function(e){return e.id===t});this.setState({creating:!0,creatingInitialData:n})}},{key:"onEdit",value:function(){var e=this.state.selectedRows,t=(0,h.filter)(this.props.data.data||[],function(t){return e[t.id]});this.setState({editing:!0,editingData:t})}},{key:"onEditFormCancel",value:function(){this.setState({creating:!1,creatingInitialData:null,editing:!1,editingData:null})}},{key:"onEditFormSave",value:function(e){var t=this,n=this.state.editing,a=void 0;n?(Array.isArray(e)||(e=[e]),a={},e.forEach(function(e){a[e.id]=e})):a={0:e},this._sendRequest(n?"edit":"create",a).then(function(e){if(e.success){var a=t.props.data.data||[],r=void 0;if(n){var o={};e.response.data.forEach(function(e){o[e.id]=e}),r=a.map(function(e){return o[e.id]||e})}else r=(0,h.clone)(a),e.response.data.forEach(function(e){r.push(e)});t.props.updateTabOptions(t.props.tabId,{data:{data:r}}),t.setState({creating:!1,creatingInitialData:null,editing:!1,editingData:null})}})}},{key:"onDelete",value:function(){var e=this.state.selectedRows;this.setState({deleting:!0,deletingRows:e})}},{key:"doDelete",value:function(){var e=this,t=this.state.deletingRows;this._sendRequest("remove",t).then(function(n){if(n.success){var a=(0,h.filter)(e.props.data.data||[],function(e){return!t[e.id]});e.props.updateTabOptions(e.props.tabId,{data:{data:a}}),e.setState({deleting:!1})}else e.setState({deleting:!1})})}},{key:"onTableViewSave",value:function(e){var t=this,n=void 0;return Array.isArray(e)||(e=[e]),n={},e.forEach(function(e){n[e.id]=e}),this._sendRequest("edit",n).then(function(e){if(e.success){var n,a=t.props.data.data||[],r={};return e.response.data.forEach(function(e){r[e.id]=e}),n=a.map(function(e){return r[e.id]||e}),t.props.updateTabOptions(t.props.tabId,{data:{data:n}}),{success:!0}}return console.error(e),{success:!1}})}},{key:"onZoomLess",value:function(e){e.preventDefault(),e.currentTarget.blur();var t=this.state.preferences.zoom;this.updatePreferences({zoom:Math.max(-10,t-1)})}},{key:"onZoomMore",value:function(e){e.preventDefault(),e.currentTarget.blur();var t=this.state.preferences.zoom;this.updatePreferences({zoom:Math.min(10,t+1)})}},{key:"onZoomNormal",value:function(e){e.preventDefault(),e.currentTarget.blur(),this.updatePreferences({zoom:0})}},{key:"toggleFooter",value:function(e){e.currentTarget.blur();var t=this.state.preferences,n=t&&t.footerData&&t.footerData.enabled,a=u({},t&&t.footerData,{enabled:!n});this.updatePreferences({footerData:a})}},{key:"setFooterType",value:function(e,t){var n=this.state.preferences,a=u({},n&&n.footerData,{columns:u({},n&&n.footerData&&n.footerData.columns,r({},e,t))});this.updatePreferences({footerData:a})}},{key:"onRowSortingChanged",value:function(e,t){var n=null;e&&(n=[{columnKey:e,order:t}]),this.updatePreferences({order:n})}},{key:"onExport",value:function(e){var t=this.props.view;this.tableView.exportData(e,t.name)}},{key:"render",value:function(){var e=this,t=this.props,n=t.view,a=t.columns,r=t.filter,o=t.user,i=t.context,l=t.data,s=t.dataLoading,d=t.dataFailed,c=(t.saveId,t.intl),p=this.state.tableColumns;if(!n||!a||!o)return console.error("Mostrare finestra di errore"),f.default.createElement("div",null,"...");var m=c.formatMessage,E=this.state,S=E.selectedRows,T=E.creating,O=E.editing,M=E.deleting,R=E.preferences,I=R||{},x=I.columnWidths,F=I.order,N=I.footerData,A=(0,h.size)(S),P=Math.min(10,Math.max(-10,R.zoom||0)),L=void 0,D=void 0;F&&F.length>0&&(L=F[0].columnKey,D=F[0].order);var V=l&&l.data,j={outline:!0},B=void 0,U=void 0,q=void 0,G=void 0;U=this.checkUserPermissions("write"),B=!this.checkModelReadOnly()&&U,G=!this.checkModelReadOnly()&&this.checkUserPermissions("delete"),B&&r&&V&&V.length>0&&(0,h.some)(r,function(e,t){var n=t.split("_");if("obj"===n[0]){var a="back"===n[1],r=parseInt(a?n[2]:n[1],10),o=i.relations[r];if(o)return!(0,_.isRelationMulti)(o.type,!a)}})&&(B=!1),q=B,U&=A>0,G&=A>0,q&=1===A;var H=!1,W=null;return T?this.state.creatingInitialData?(H="duplicate",W=this.state.creatingInitialData):H="create":O&&(H="edit",W=this.state.editingData),f.default.createElement("div",{className:"view-container"},f.default.createElement("div",{className:"view-name"},n.name),f.default.createElement("div",{className:"view-buttons-container"},f.default.createElement(y.ButtonGroup,null,f.default.createElement(y.Button,u({},j,{disabled:!B,onClick:this.onCreate}),f.default.createElement(b.FormattedMessage,{id:"View.buttons.createRow",defaultMessage:"Create"})),f.default.createElement(y.Button,u({},j,{disabled:!U,onClick:this.onEdit}),f.default.createElement(b.FormattedMessage,{id:"View.buttons.editRow",defaultMessage:"Edit"})),f.default.createElement(y.Button,u({},j,{disabled:!q,onClick:this.onDuplicate}),f.default.createElement(b.FormattedMessage,{id:"View.buttons.duplicateRow",defaultMessage:"Duplicate"})),f.default.createElement(y.Button,u({},j,{disabled:!G,onClick:this.onDelete}),f.default.createElement(b.FormattedMessage,{id:"View.buttons.deleteRow",defaultMessage:"Delete"}))),f.default.createElement(y.ButtonGroup,null,f.default.createElement(y.ButtonDropdown,{isOpen:this.state.exportDropdown,toggle:function(){e.setState({exportDropdown:!e.state.exportDropdown})}},f.default.createElement(y.DropdownToggle,u({tag:y.Button},j),f.default.createElement(b.FormattedMessage,{id:"View.buttons.export",defaultMessage:"Export"})),f.default.createElement(y.DropdownMenu,null,f.default.createElement(y.DropdownItem,{onClick:function(){return e.onExport("copy")}},f.default.createElement(b.FormattedMessage,{id:"View.buttons.export.copy",defaultMessage:"Copy"})),f.default.createElement(y.DropdownItem,{onClick:function(){return e.onExport("excel")}},"Excel"),f.default.createElement(y.DropdownItem,{onClick:function(){return e.onExport("csv")}},"CSV"),f.default.createElement(y.DropdownItem,{onClick:function(){return e.onExport("pdf")}},"PDF"),f.default.createElement(y.DropdownItem,{onClick:function(){return e.onExport("print")}},f.default.createElement(b.FormattedMessage,{id:"View.buttons.export.print",defaultMessage:"Print"}))))),f.default.createElement(y.ButtonGroup,null,f.default.createElement(y.Button,u({},j,{onClick:this.onZoomLess}),f.default.createElement("i",{className:"fa fa-search-minus","aria-hidden":"true"})),f.default.createElement(y.Button,u({},j,{onClick:this.onZoomNormal}),f.default.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),f.default.createElement("i",{style:{position:"absolute",marginLeft:-9.5,fontSize:"0.5em",marginTop:5}},"1")),f.default.createElement(y.Button,u({},j,{onClick:this.onZoomMore}),f.default.createElement("i",{className:"fa fa-search-plus","aria-hidden":"true"}))),f.default.createElement(y.ButtonGroup,null,f.default.createElement(y.Button,u({},j,{style:u({},j.style,{paddingTop:8,paddingBottom:4}),onClick:this.toggleFooter}),f.default.createElement(C.default,{style:{width:13,height:13}}))),f.default.createElement("div",{className:"pull-right"},f.default.createElement(y.Input,{value:this.state.textFilter||"",onChange:function(t){return e.setState({textFilter:t.currentTarget.value||null})},type:"search",placeholder:m(k.searchPlaceholder)}))),f.default.createElement(g.default,{ref:function(t){return e.tableView=t},context:i,view:n,columns:p,columnWidths:x,rows:V,zoom:P,loading:s,failed:d,onColumnsSizeChange:this.onColumnsSizeChange,canSelectRow:!0,notCancelSelectionOnClickOutside:!0,onSelectionChange:this.onSelectionChange,selectedRows:S,onRowSortingChanged:this.onRowSortingChanged,sortKey:L,sortDirection:D,textFilter:this.state.textFilter||null,inlineEditing:!0,onSave:this.onTableViewSave,footerData:N,setFooterType:this.setFooterType}),f.default.createElement(w.default,{open:M,dialogType:"confirm",title:m(k.deleteTitle,{numberOfRows:A}),message:m(k.deleteMessage,{numberOfRows:A}),successButton:m(k.deleteButton),successColor:"danger",onSuccess:this.doDelete,onCancel:function(){return e.setState({deleting:!1,deletingRows:null})}}),f.default.createElement(v.default,{view:n,context:i,open:!!H,type:H,editForm:n.info.editForm,data:W,onCancel:this.onEditFormCancel,onSave:this.onEditFormSave}))}}]),t}(),l.propTypes={tabId:p.default.any.isRequired,viewId:p.default.number.isRequired,filter:p.default.any,data:p.default.object,dataLoading:p.default.bool,dataFailed:p.default.any},s),T={updateTabOptions:E.updateTabOptions,fetchToTabOptions:E.fetchToTabOptions,simpleFetch:E.simpleFetch,updateUserPreferences:E.updateUserPreferences};t.default=(0,m.connect)(function(e,t){var n=t.viewId,a=e.auth.user,r=e.context.views,o=r&&r[n],i=e.context.viewColumns,l=o&&o.columns&&i&&o.columns.map(function(e){return i[e]}),s=a&&o&&"DataTables_user_"+a.id+"_view_"+o.id,u=s&&a&&a.preferences&&a.preferences[s]||{};return{user:a,context:e.context,view:o,columns:l,saveId:s,preferences:u}},T,null,{withRef:!0})((0,b.injectIntl)(S,{withRef:!0}))},481:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=t.toLowerCase();return(0,y.some)(e,function(e){return"number"==typeof e&&(e=""+e),"string"==typeof e&&(t=n,-1!==e.toLowerCase().indexOf(t));var t})}Object.defineProperty(t,"__esModule",{value:!0});var i,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(1),c=a(d),f=a(n(0)),p=n(26),m=n(209),h=n(10),g=a(n(6)),v=a(n(1127)),y=n(8),b=n(450),E=n(13),w=a(n(233)),_=a(n(234)),C=a(n(54)),k=n(27),S=a(n(1165)),T=n(524),O=a(T),M=(n(247),n(130)),R=n(1213),I=(a(n(72)),a(n(143)),a(n(1364))),x=a(n(1365)),F=a(n(63)),N=a(n(191)),A=(0,h.defineMessages)({copyRowSuccessMessage:{id:"TableView.copyRow.success",defaultMessage:"Copied {numberOfRows, plural, one {one row} other {# rows}} to clipboard"},copyValueSuccessMessage:{id:"TableView.copyValue.success",defaultMessage:"Copied value to clipboard"},exportSuccessMessage_excel:{id:"TableView.export.success.excel",defaultMessage:"Excel file exported"},exportSuccessMessage_csv:{id:"TableView.export.success.csv",defaultMessage:"CSV file exported"},exportSuccessMessage_pdf:{id:"TableView.export.success.pdf",defaultMessage:"PDF file exported"},aggregationCount:{id:"TableView.footer.aggregations.COUNT",defaultMessage:"Count"},aggregationSum:{id:"TableView.footer.aggregations.SUM",defaultMessage:"Sum"},aggregationAvg:{id:"TableView.footer.aggregations.AVG",defaultMessage:"Average"},aggregationMin:{id:"TableView.footer.aggregations.MIN",defaultMessage:"Min"},aggregationMax:{id:"TableView.footer.aggregations.MAX",defaultMessage:"Max"}}),P=(0,w.default)(S.default),L=42,D="asc",V="desc",j=(0,b.sortableElement)(function(e){var t=e.children,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children"]);return c.default.cloneElement(t,n)}),B=(0,b.sortableContainer)(function(e){var t=e.className,n=e.columns,a=e.style;return c.default.createElement("div",{className:t,role:"row",style:a},c.default.Children.map(n,function(e,t){return c.default.createElement(j,{index:t},e)}))}),U=function(e){var t=e.id,n=e.trigger,a=e.columns,r=e.blockColumn,o=e.copyData,i=e.filterColumn,l=n||{},s=l.columnKey,u=l.rowIndex,d=l.isHeader,f=[];if(s&&d&&f.push(c.default.createElement(M.MenuItem,{key:"blockColumn",onClick:function(){return r(s)}},c.default.createElement(h.FormattedMessage,{id:"TableView.contextMenu.blockColumn",defaultMessage:"Block column"})),c.default.createElement(M.MenuItem,{key:"unblockColumns",onClick:function(){return r(null)}},c.default.createElement(h.FormattedMessage,{id:"TableView.contextMenu.unblockColumns",defaultMessage:"Unblock columns"}))),s&&"number"==typeof u){f.push(c.default.createElement(M.MenuItem,{key:"copyValue",onClick:function(){return o(u,s)}},c.default.createElement(h.FormattedMessage,{id:"TableView.contextMenu.copyValue",defaultMessage:"Copy value"})),c.default.createElement(M.MenuItem,{key:"copyRow",onClick:function(){return o(u)}},c.default.createElement(h.FormattedMessage,{id:"TableView.contextMenu.copyRow",defaultMessage:"Copy row"})));var p=(0,y.find)(a,function(e){return e.key===s});p&&p.field&&f.push(c.default.createElement(M.MenuItem,{key:"divider1",divider:!0}),c.default.createElement(M.MenuItem,{key:"filterColumn",onClick:function(){return i(s,u)}},c.default.createElement(h.FormattedMessage,{id:"TableView.contextMenu.filterColumn",defaultMessage:"Filter column with this value"})))}return c.default.createElement(M.ContextMenu,{id:t},f)};U.propTypes={id:f.default.string.isRequired,blockColumn:f.default.func.isRequired,copyData:f.default.func.isRequired,filterColumn:f.default.func.isRequired,columns:f.default.array.isRequired};var q=1,G=(l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cellRenderer=n.cellRenderer.bind(n),n.emptyTableRenderer=n.emptyTableRenderer.bind(n),n.footerCellRenderer=n.footerCellRenderer.bind(n),n.onColumnSortEnd=n.onColumnSortEnd.bind(n),n.onCellSelection=n.onCellSelection.bind(n),n.onClickOutsideTable=n.onClickOutsideTable.bind(n),n.copyData=n.copyData.bind(n),n.filterColumn=n.filterColumn.bind(n),n.inlineEditingSave=n.inlineEditingSave.bind(n),n.inlineEditingCancel=n.inlineEditingCancel.bind(n),n.inlineEditingStart=n.inlineEditingStart.bind(n),n._cache=new m.CellMeasurerCache({fixedWidth:!0,minHeight:L}),n.uniqueIdPrefix="TableView-unique-id-"+q++,n.contextMenuId=n.uniqueIdPrefix+"-context-menu",n.ContextMenu=(0,M.connectMenu)(n.contextMenuId)(U),n.state={headerHeight:L,fixedColumnCount:0,filterOpen:null,filters:null,rows:null,inlineEditingRowId:null,inlineEditingColumnKey:null},n.state.rows=n.createRows(e),n.state.stats=n.computeStats(e),n.state.filteredStats=n.computeFilteredStats({rows:n.state.rows,columns:n.props.columns}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"createRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.rows;if(!n)return[];var a=e.sortKey,r=e.sortDirection,i=t.filters;return e.textFilter&&(n=n.filter(function(t){return o(t,e.textFilter)})),i&&(n=n.filter(function(e){return(0,y.every)(i,function(t,n){return(0,T.applyFilter)(e,n,t)})})),(0,y.orderBy)(n,function(e){var t=e[a];return"string"==typeof t?t?t.toLowerCase():null:t},r)}},{key:"computeStats",value:function(e){for(var t=e.rows,n=e.columns,a=t?t.length:0,r={},o=0;o<n.length;o++){var i=n[o],l={count:0};if("INTEGER"===i.type||"DECIMAL"===i.type||"DOUBLE"===i.type){l.sum=0,l.min=1/0,l.max=-1/0;for(var s=0;s<a;s++){var u=t[s][i.key];"DECIMAL"===i.type&&"string"==typeof u&&(u=parseFloat(u)),"number"==typeof u&&(l.count++,l.sum+=u,l.min>u&&(l.min=u),l.max<u&&(l.max=u))}l.avg=l.count>0?l.sum/l.count:0}else if("BOOLEAN"!==i.type){var d="DATE"===i.type||"DATETIME"===i.type||"TIME"===i.type;for(s=0;s<a;s++)void 0!==(u=t[s][i.key])&&u&&(l.count++,d&&"string"==typeof u&&(l.min=l.min<u?l.min:u,l.max=l.max>u?l.max:u))}r[i.key]=l}return r}},{key:"computeFilteredStats",value:function(e){var t=e.rows,n=e.columns;return this.computeStats({rows:t,columns:n})}},{key:"getRowsForFilter",value:function(e){var t=this,n=this.props.rows;if(!n)return[];var a=this.state.filters;return this.props.textFilter&&(n=n.filter(function(e){return o(e,t.props.textFilter)})),a&&(n=n.filter(function(t){return(0,y.every)(a,function(n,a){return a===e||(0,T.applyFilter)(t,a,n)})})),n}},{key:"componentWillReceiveProps",value:function(e){var t={};this.props.rows===e.rows&&this.props.sortKey===e.sortKey&&this.props.sortDirection===e.sortDirection&&this.props.textFilter===e.textFilter||(t.rows=this.createRows(e)),this.props.rows!==e.rows&&(t.stats=this.computeStats(e)),(t.rows||e.columns!==this.props.columns)&&(t.filteredStats=this.computeFilteredStats({rows:t.rows||this.state.rows,columns:e.columns})),(0,y.size)(t)>0&&this.setState(t),this.props.zoom!==e.zoom&&this._cache.clearAll()}},{key:"getNumberOfRows",value:function(){var e=this.state.rows;return e?e.length:0}},{key:"getRow",value:function(e){var t=this.state.rows;return t&&t[e]}},{key:"resizeColumn",value:function(e,t,n){if(this.props.onColumnsSizeChange){var a=s({},this.props.columnWidths);a[t]=n,this.props.onColumnsSizeChange(a),this._cache.clearAll(),this.Grid.recomputeGridSize({columnIndex:e})}}},{key:"onColumnSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex;this.props.onColumnSortEnd(t,n)}},{key:"setSelection",value:function(e,t,n){var a={},o=-1!==e&&this.getRow(e),i=o&&o.id;if(this.props.canSelectRow&&i)if(n||"single"===this.props.canSelectRow){var l="single"===this.props.canSelectRow?r({},i,this.props.selectedRows&&this.props.selectedRows[i]||void 0):Object.assign({},this.props.selectedRows);l[i]?delete l[i]:l[i]=!0,a.selectedRows=l}else a.selectedRows=r({},i,!0);if(this.props.canSelectColumn)if(n||"single"===this.props.canSelectColumn){var s="single"===this.props.canSelectColumn?r({},t,this.props.selectedColumns&&this.props.selectedColumns[t]||void 0):Object.assign({},this.props.selectedColumns);s[t]?delete s[t]:s[t]=!0,a.selectedColumns=s}else a.selectedColumns=r({},t,!0);(a.selectedRows||a.selectedColumns)&&this._setSelectionAndNotify(a)}},{key:"resetSelection",value:function(){this._setSelectionAndNotify({selectedRows:{},selectedColumns:{}})}},{key:"_setSelectionAndNotify",value:function(e){var t={selectedRows:e.selectedRows||this.props.selectedRows||{},selectedColumns:e.selectedColumns||this.props.selectedColumns||{}};this.props.onSelectionChange&&this.props.onSelectionChange(t)}},{key:"isSelectedRowIndex",value:function(e){var t=this.getRow(e);return t&&this.props.selectedRows&&this.props.selectedRows[t.id]}},{key:"isSelectedColumn",value:function(e){return this.props.selectedColumns&&this.props.selectedColumns[e]}},{key:"onCellSelection",value:function(e){var t=e.event,n=e.rowIndex,a=e.columnIndex,r=t.ctrlKey||t.metaKey;this.setSelection(n,a,r)}},{key:"onClickOutsideTable",value:function(e){this.props.notCancelSelectionOnClickOutside||this.resetSelection()}},{key:"openView",value:function(e,t,n,a,o){var i=r({},(a?"obj_":"obj_back_")+n+".id",o.id);this.props.openView(t,e,{filter:i})}},{key:"onHeaderCellClick",value:function(e){if(this.props.onRowSortingChanged){var t=this.props.columns[e],n=this.props.sortKey===t.key&&this.props.sortDirection===D?V:D;this.props.onRowSortingChanged(t.key,n)}}},{key:"toggleFilter",value:function(e){e===this.state.filterOpen&&(e=null),this.setState({filterOpen:e||null})}},{key:"setFilterOptions",value:function(e,t){var n=s({},this.state,{filters:s({},this.state.filters,r({},e,t||null))});n.rows=this.createRows(this.props,n),n.filteredStats=this.computeFilteredStats({rows:n.rows,columns:this.props.columns}),this.setState(n)}},{key:"copyData",value:function(e,t){var n=this.props.intl.formatMessage,a=void 0,r=this.props.columns;t?(r=r.filter(function(e){return e.key===t}),a=n(A.copyValueSuccessMessage)):a=n(A.copyRowSuccessMessage,{numberOfRows:1});var o=this.getRow(e);(0,R.exportValues)(o,r,{header:!1,footer:!1,message:a})}},{key:"filterColumn",value:function(e,t){var n=this.props.columns,a=this.getRow(t),r=a&&a[e],o=(0,y.find)(n,function(t){return t.key===e});if(o.field){var i=(0,T.filterOptionsForValue)(o.field,r);this.setFilterOptions(e,i)}}},{key:"exportData",value:function(e,t){var n=this.state.rows,a=this.props.columns,r=this.props.intl.formatMessage,o={};if("copy"===e){var i=r(A.copyRowSuccessMessage,{numberOfRows:n?n.length:0});o.message=i}if("excel"===e||"csv"===e||"pdf"===e){var l="excel"===e?"xlsx":e;o.filename=t&&t+"."+l;var s=r(A["exportSuccessMessage_"+e]);o.message=s}if("excel"===e){var u=this.props.columnWidths;o.columnWidths=a.map(function(e){return u&&u[e.key]||100})}(0,R.exportValues)(n,a,o,e)}},{key:"renderSortableRowHeader",value:function(e){return c.default.createElement(B,s({},e,{axis:"x",distance:5,helperClass:"sortable-helper",lockAxis:"x",onSortEnd:this.onColumnSortEnd,shouldCancelStart:function(e){return-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase())||!!e.target.classList.contains("table-view-column-resize")||void 0}}))}},{key:"inlineEditingStart",value:function(e,t){this.setState({inlineEditingRowId:e,inlineEditingColumnKey:t})}},{key:"inlineEditingSave",value:function(e){var t=this,n=this.props.onSave,a=this.state,r=a.inlineEditingRowId,o=a.inlineEditingColumnKey;if(n&&e.id===r)return n(e).then(function(){t.state.inlineEditingRowId===r&&t.state.inlineEditingColumnKey===o&&t.setState({inlineEditingRowId:null,inlineEditingColumnKey:null})});this.setState({inlineEditingRowId:null,inlineEditingColumnKey:null})}},{key:"inlineEditingCancel",value:function(){this.setState({inlineEditingRowId:null,inlineEditingColumnKey:null})}},{key:"updateHeaderHeight",value:function(){var e=this._cache.rowHeight({index:0});this.setState({headerHeight:e})}},{key:"tableStyle",value:function(){var e=this.props.zoom||0,t=14*Math.pow(1.05,e),n=6*Math.pow(1.05,e),a=1.42857143*t,r=1.1*a,o=1.1*a;return{fontSize:t,padding:n,lineHeight:a,rowHeight:a+2*n,headerFontSize:1.05*t,headerPadding:n,headerLineHeight:r,headerRowHeight:r+2*n,footerFontSize:1.05*t,footerPadding:n,footerLineHeight:o,footerRowHeight:o+2*n}}},{key:"renderStyleTag",value:function(e){var t=e.fontSize,n=e.padding,a=e.lineHeight,r=e.rowHeight,o=e.headerFontSize,i=e.headerPadding,l=e.headerLineHeight,s=(e.headerRowHeight,e.footerFontSize),u=e.footerPadding,d=e.footerLineHeight,f=e.footerRowHeight,p="."+this.uniqueIdPrefix+"-table-container";return c.default.createElement("style",{dangerouslySetInnerHTML:{__html:"\n      "+p+" .table-view .table-view-cell {\n        font-size: "+t+"px;\n        height: "+r+"px;\n        line-height: "+a+"px;\n        padding: "+n+"px;\n      }\n      "+p+" .table-view .table-view-cell.table-view-header-cell {\n        font-size: "+o+"px;\n        line-height: "+l+"px;\n        padding: "+i+"px;        \n      }\n      "+p+" .table-view .table-view-cell.table-view-footer-cell {\n        font-size: "+s+"px;\n        height: "+f+"px;\n        line-height: "+d+"px;\n        padding: "+u+"px;        \n      }\n    "}})}},{key:"emptyTableRenderer",value:function(){return this.props.loading?c.default.createElement("div",{className:"table-view-cell table-view-loading"},c.default.createElement(h.FormattedMessage,{id:"TableView.empty.loading",defaultMessage:"Loading..."})):c.default.createElement("div",{className:"table-view-cell table-view-no-rows"},c.default.createElement(h.FormattedMessage,{id:"TableView.empty.noRows",defaultMessage:"No rows"}))}},{key:"renderHeaderCell",value:function(e){var t=this,n=e.columnIndex,a=(e.isScrolling,e.isVisible,e.key),r=(e.parent,e.style),o=this.props,i=o.columns,l=o.canSelectColumn,s=o.onRowSortingChanged,u=o.sortKey,d=o.sortDirection,f=i[n],p=f.name,h=f.field,y=this.uniqueIdPrefix+"-filter-target-"+n,b=h&&!l,w=this.state.filterOpen===f.key,_=this.state.filters&&this.state.filters[f.key],k=!!_;return c.default.createElement(M.ContextMenuTrigger,{key:a,id:this.contextMenuId,isHeader:!0,columnKey:f.key,collect:function(e){return e},style:r},c.default.createElement(m.CellMeasurer,{cache:this._cache,rowIndex:0,columnIndex:n,parent:{invalidateCellSizeAfterRender:function(e){t.updateHeaderHeight()},recomputeGridSize:function(e){t.updateHeaderHeight()}}},c.default.createElement("div",{className:(0,g.default)("table-view-header-cell","table-view-cell",this.isSelectedColumn(n)&&"table-view-column-selected"),onClick:function(e){l?t.onCellSelection({columnIndex:n,rowIndex:-1,event:e}):t.onHeaderCellClick(n)},style:r},p,s&&c.default.createElement("div",{className:"sort-indicator"},c.default.createElement("i",{className:(0,g.default)("fa","fa-fw",u!==f.key&&"fa-sort",u===f.key&&d===D&&"fa-sort-up",u===f.key&&d===V&&"fa-sort-down")})),b&&c.default.createElement("div",{className:(0,g.default)("filter-indicator",k&&"filter-enabled")},c.default.createElement(C.default,{onClick:function(e){e.stopPropagation(),t.toggleFilter(f.key)}},c.default.createElement("i",{className:"fa fa-fw fa-filter"}))),b&&c.default.createElement("div",{className:"filter-dropdown-container",id:y},w&&c.default.createElement(E.Popover,{className:(0,g.default)("table-filter-dropdown","table-filter-dropdown-"+h.type1),placement:"bottom",isOpen:w,target:function(){var e=document.querySelector("#"+y);return e||t.state.filterOpen!==f.key?e:(setTimeout(function(){t.toggleFilter(f.key)},0),document.body)},toggle:function(){return t.toggleFilter(f.key)},modifiers:{hide:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:document.body,padding:10}}},c.default.createElement(E.PopoverBody,null,w&&c.default.createElement(O.default,{dataKey:f.key,field:h,options:f.options,rows:this.getRowsForFilter(f.key),filterOptions:_,setFilter:function(e){return t.setFilterOptions(f.key,e)},close:function(){return t.toggleFilter(f.key)}})))),c.default.createElement(v.default,{axis:"x",defaultClassName:"table-view-column-resize",defaultClassNameDragging:"table-view-column-resize-dragging",onStop:function(e,a){var r=t.props.columnWidths,o=r&&r[f.key]||100;t.resizeColumn(n,f.key,Math.max(o+a.x,30))},position:{x:0,y:0}},c.default.createElement("div",null)))))}},{key:"getCellId",value:function(e,t){return this.uniqueIdPrefix+"-row-"+e+"-col-"+t}},{key:"renderCell",value:function(e){var t=this,n=e.rowIndex,a=e.columnIndex,r=(e.isScrolling,e.isVisible,e.key),o=(e.parent,e.style),i=this.props.columns[a],l=this.getRow(n),s=l[i.key];return c.default.createElement(I.default,{key:r,cellData:s,rowIndex:n,column:i,style:o,onLinkClick:function(e){var n=i.link,a=n.relationId,r=n.relationIsBack,o=n.viewId;t.openView(e,o,a,r,l)},inlineEditing:this.props.inlineEditing,startInlineEditing:function(){return t.inlineEditingStart(l.id,i.key)},onCellSelection:function(e){return t.onCellSelection({columnIndex:a,rowIndex:n,event:e})},columnStats:this.state.stats&&this.state.stats[i.key],contextMenuId:this.contextMenuId,cellId:this.getCellId(l.id,i.key),isSelected:this.isSelectedRowIndex(n)})}},{key:"footerCellRenderer",value:function(e){var t=this,n=(e.rowIndex,e.columnIndex),a=e.key,r=e.style,o=this.props.columns[n],i=o.key,l=o.field,s=void 0,u=null;if(l){var d=this.props.footerData,f=this.state.filteredStats;if(u=d&&d.columns&&d.columns[i]){var p=u.toLowerCase(),m=f&&f[i],h=m&&m[p];void 0!==h&&(s="count"===p?(0,F.default)(h).format():c.default.createElement(_.default,{field:l,value:h}))}}var v=l&&l.type1,y=v&&"BOOLEAN"!==v,b=y&&("INTEGER"===v||"DECIMAL"===v||"DOUBLE"===v),E=y&&(b||"DATE"===v||"DATETIME"===v||"TIME"===v),w=void 0;if(y){var C=this.props.intl.formatMessage;(w=[]).push({value:"COUNT",label:C(A.aggregationCount)}),b&&(w.push({value:"SUM",label:C(A.aggregationSum)}),w.push({value:"AVG",label:C(A.aggregationAvg)})),E&&(w.push({value:"MIN",label:C(A.aggregationMin)}),w.push({value:"MAX",label:C(A.aggregationMax)}))}return c.default.createElement("div",{className:(0,g.default)("table-view-cell","table-view-footer-cell"),key:a,style:r},w&&c.default.createElement("div",{className:"select-outer-container"},c.default.createElement("div",{className:"select-inner-container"},c.default.createElement("select",{value:u,onChange:function(e){var n=e.currentTarget.value;t.props.setFooterType(i,n||null)}},c.default.createElement("option",{key:"empty",value:null}),w.map(function(e){var t=e.value,n=e.label;return c.default.createElement("option",{key:t,value:t},n)})))),c.default.createElement("span",{className:"value"},s||""))}},{key:"cellRenderer",value:function(e){var t=e.columnIndex,n=e.isScrolling,a=e.isVisible,r=e.key,o=e.parent,i=e.rowIndex,l=e.style;return 0===i?this.renderHeaderCell({columnIndex:t,isScrolling:n,isVisible:a,key:r,parent:o,style:l}):(i--,this.renderCell({rowIndex:i,columnIndex:t,isScrolling:n,isVisible:a,key:r,parent:o,style:l}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=(t.sortColumns,t.className),r=t.columnWidths,o=t.footerData,i=this.state,l=i.headerHeight,s=i.inlineEditingRowId,u=i.inlineEditingColumnKey,d=this.tableStyle(),f=Math.ceil(d.rowHeight),p=o&&o.enabled?1:0,h=Math.ceil(d.footerRowHeight),v=this.getNumberOfRows(),b=0,w=(n.map(function(e,t){var n=r&&r[e.key]||100;b+=n}),l+Math.max(v,1)*f),_="table-view table-view-striped table-view-bordered table-view-grid",C=void 0,k=void 0;return s&&u&&(k=(0,y.find)(this.state.rows,function(e){return e.id===s}))&&(C=this.getCellId(s,u)),c.default.createElement("div",{className:(0,g.default)("table-view-grid-container",p>0&&"table-view-grid-container-with-footer",this.uniqueIdPrefix+"-table-container",a)},this.renderStyleTag(d),c.default.createElement(m.AutoSizer,null,function(t){var a=t.height,o=t.width;return c.default.createElement(P,{wrappedRef:function(t){return e.Grid=t},classNameTopLeftGrid:(0,g.default)(_,"table-view-grid-top-left"),classNameTopRightGrid:(0,g.default)(_,"table-view-grid-top-right"),classNameBottomLeftGrid:(0,g.default)(_,"table-view-grid-bottom-left"),classNameBottomRightGrid:(0,g.default)(_,"table-view-grid-bottom-right"),classNameFooterLeftGrid:(0,g.default)(_,"table-view-grid-footer-left"),classNameFooterRightGrid:(0,g.default)(_,"table-view-grid-footer-right"),cellRenderer:e.cellRenderer,noRowsRenderer:e.emptyTableRenderer,totalWidth:b,totalHeight:w,width:o,height:a,columnCount:n.length,columnWidth:function(e){var t=e.index,a=n[t];return r&&r[a.key]||100},rowCount:v+1,rowHeight:f,headerRowHeight:l,onClickOutside:e.onClickOutsideTable,enableFixedColumnScroll:!0,enableFixedRowScroll:!0,fixedColumnCount:e.state.fixedColumnCount,fixedRowCount:1,footerRowCount:p,footerRowHeight:h,footerCellRenderer:e.footerCellRenderer,overscanRowCount:0,overscanColumnCount:0})}),c.default.createElement(this.ContextMenu,{blockColumn:function(t){return e.setState({fixedColumnCount:t?(0,y.findIndex)(n,function(e){return e.key===t})+1:0})},copyData:this.copyData,filterColumn:this.filterColumn,columns:n}),C&&c.default.createElement(E.Popover,{className:"table-inline-editing-popover",placement:"auto",isOpen:!0,target:function(){var t=document.querySelector("#"+C);return t||e.state.inlineEditingRowId!==s||e.state.inlineEditingColumnKey!==u?t:(setTimeout(function(){e.inlineEditingCancel()},0),document.body)},toggle:this.inlineEditingCancel,modifiers:{hide:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:document.body,padding:10}}},c.default.createElement(E.PopoverBody,null,c.default.createElement(x.default,{context:this.props.context,view:this.props.view,columns:n,rowId:s,columnKey:u,rowData:k,save:this.inlineEditingSave,cancel:this.inlineEditingCancel}))))}}]),t}(),i.propTypes={loading:f.default.bool,columns:f.default.arrayOf(f.default.shape({key:f.default.string.isRequired,name:f.default.any,type:f.default.string,canEdit:f.default.bool,defaultText:f.default.string,link:f.default.shape({relationId:f.default.number,relationIsBack:f.default.bool,viewId:f.default.number}),conditionalFormatting:f.default.array})).isRequired,rows:f.default.array,columnWidths:f.default.objectOf(f.default.number),footerData:f.default.object,setFooterType:f.default.func,sortColumns:f.default.bool,onColumnSortEnd:f.default.func,onColumnsSizeChange:f.default.func,canSelectRow:f.default.oneOf([!0,!1,"single","multiple"]),canSelectColumn:f.default.oneOf([!0,!1,"single","multiple"]),selectedRows:f.default.objectOf(f.default.bool),selectedColumns:f.default.objectOf(f.default.bool),notCancelSelectionOnClickOutside:f.default.bool,onSelectionChange:f.default.func,onRowSortingChanged:f.default.func,sortKey:f.default.string,sortDirection:f.default.string,textFilter:f.default.string,inlineEditing:f.default.bool,onSave:f.default.func},l),H={openView:k.openView},W=(0,p.connect)(function(e,t){return{}},H,null,{withRef:!0})((0,h.injectIntl)(G,{withRef:!0}));t.default=(0,N.default)(W,G,{delegateTo:function(e){return e.getWrappedInstance().getWrappedInstance()}}),e.exports=t.default},523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isAncestor=function(e,t,n){return!("object"!==(void 0===t?"undefined":a(t))&&!(t=e.models[t]))&&("object"==(void 0===n?"undefined":a(n))&&(n=n.id),!!n&&function e(t,n,a){var o=n.mappedModels;return o&&(0,r.some)(o,function(e){return e===a})||(0,r.some)(o,function(n){var r=t.models[n];return e(t,r,a)})}(e,t,n))};var r=n(8)},524:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return-1!==e.toLowerCase().indexOf(t)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.filterOptionsForValue=function(e,t){var n=e.type1,a=void 0;switch(n){case"TEXT":case"ENUM":case"TEXT_ARRAY":var r={};t&&(Array.isArray(t)?t.forEach(function(e){return r[e]=!0}):r[t]=!0),a={type:"text",emptySelected:!t,selected:r,filterText:null};break;case"INTEGER":case"DOUBLE":case"DECIMAL":"string"==typeof t&&(t=parseFloat(t)),a=t?{type:"range",min:t,max:t,storeNumberAsString:"DECIMAL"===n}:null;break;case"BOOLEAN":a={type:"boolean",trueSelected:!!t,falseSelected:!t};break;case"DATE":case"TIME":case"DATETIME":a=t?{type:"datetime-range",min:t,max:t}:null}return a},t.applyFilter=function(e,t,n){if(!n)return!0;if("range"===n.type){var a=e[t];if(n.storeNumberAsString){if(!a)return!1;try{a=parseFloat(a)}catch(e){a=null}}if("number"!=typeof a)return!1;var r=n.min,o=n.max;return a<=o&&a>=r}if("text"===n.type){if(n.selected&&0===(0,b.size)(n.selected))return!0;var i=e[t];return"string"==typeof i&&(i=[i]),Array.isArray(i)&&i.length>0?(0,b.some)(i,function(e){return"string"==typeof e&&""!==e?n.selected&&n.selected[e]:e||1!==i.length?void 0:n.emptySelected}):n.emptySelected}if("datetime-range"===n.type){var l=e[t];if("string"!=typeof l)return!1;var s=n.min;return l<=n.max&&l>=s}if("boolean"===n.type){var u=e[t];return u&&n.trueSelected||!u&&n.falseSelected}return!0};var d=n(1),c=a(d),f=a(n(0)),p=a(n(6)),m=n(10),h=a(n(113)),g=a(n(235)),v=(a(n(63)),n(1166)),y=n(13),b=n(8),E=n(72),w=(0,m.defineMessages)({textSearch:{id:"DataTypeFilter.text.search",defaultMessage:"Search..."}}),_=(l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeNumberRange=n.onChangeNumberRange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"renderButtons",value:function(){var e=this.props,t=e.close,n=e.setFilter;return c.default.createElement("div",null,c.default.createElement(y.Button,{outline:!0,onClick:function(e){e.target.blur(),n(null)}},c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.clearFilter",defaultMessage:"Clear filter"})),c.default.createElement("div",{className:"pull-right"},c.default.createElement(y.Button,{outline:!0,onClick:t},c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.ok",defaultMessage:"Ok"}))))}},{key:"onChangeNumberRange",value:function(e,t,n,a){!e||e[0]===t&&e[1]===n?this.props.setFilter(null):this.props.setFilter({type:"range",min:e[0],max:e[1],storeNumberAsString:a})}},{key:"renderNumberFilter",value:function(e,t){var n=this,a=this.props,r=a.rows,o=a.dataKey,i=a.filterOptions,l=1/0,s=-1/0;if(r&&r.forEach(function(e){var n=e[o];if(t){if(!n)return;try{n=parseFloat(n)}catch(e){n=null}}"number"==typeof n&&(l=Math.min(l,n),s=Math.max(s,n))}),l===1/0&&s===-1/0)return c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.noValues",defaultMessage:"No values"});var u=i&&"number"==typeof i.min?i.min:l,d=i&&"number"==typeof i.max?i.max:s;return c.default.createElement("div",{style:{width:250}},c.default.createElement("div",{className:"form-inline",style:{paddingTop:4}},c.default.createElement(y.FormGroup,{style:{flexFlow:"row",width:"100%"}},c.default.createElement(h.default,{style:{flexShrink:1,minWidth:0},value:u,decimalDigits:e,onChange:function(e){return n.onChangeNumberRange([e,d],l,s,t)}})," - ",c.default.createElement(h.default,{style:{flexShrink:1,minWidth:0},value:d,decimalDigits:e,onChange:function(e){return n.onChangeNumberRange([u,e],l,s,t)}}))),c.default.createElement("div",{style:{padding:"10px 2px"}},c.default.createElement(v.Range,{allowCross:!1,value:[u,d],min:l,max:s,onChange:function(e){return n.onChangeNumberRange(e,l,s,t)}})),this.renderButtons())}},{key:"onTextSelectAll",value:function(e,t){e?this.props.setFilter(null):this.props.setFilter({type:"text",emptySelected:!1,selected:{},filterText:t})}},{key:"onTextSelectAllFiltered",value:function(e,t,n){var a=void 0;if(e){var r=n.toLowerCase();a=(0,b.mapValues)(t,function(e,t){return o(t,r)})}else a=(0,b.mapValues)(t,function(e,t){return!1});this.props.setFilter({type:"text",emptySelected:!1,selected:a,filterText:n})}},{key:"onTextOption",value:function(e,t,n,a,o){this.props.filterOptions;var i=s({},a,r({},e,t));n&&(0,b.every)(i)?this.props.setFilter(null):this.props.setFilter({type:"text",emptySelected:n,selected:i,filterText:o})}},{key:"onTextEmptySelect",value:function(e,t,n){e&&(0,b.every)(t)?this.props.setFilter(null):this.props.setFilter({type:"text",emptySelected:e,selected:t,filterText:n})}},{key:"onTextFilterInputChanged",value:function(e,t){if(e){var n=e.toLowerCase(),a=(0,b.mapValues)(t,function(e,t){return o(t,n)});this.props.setFilter({type:"text",emptySelected:!1,selected:a,filterText:e})}else this.props.setFilter(null)}},{key:"renderTextFilter",value:function(){var e=this,t=this.props,n=t.rows,a=t.dataKey,r=t.filterOptions,i=t.intl.formatMessage,l={},s=!1;if(n&&n.forEach(function(e){var t=e[a];"string"==typeof t&&(t=[t]),Array.isArray(t)&&t.length>0?t.forEach(function(e){"string"==typeof e&&""!==e?l[e]=!0:e||(s=!0)}):s=!0}),0===(0,b.size)(l))return c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.noValues",defaultMessage:"No values"});var u=(0,b.sortBy)(Object.keys(l),function(e){return e.toLowerCase()}),d=r&&r.filterText||"",f=d.toLowerCase(),p=!r,h=p||r&&r.emptySelected||!1,g=(0,b.mapValues)(l,function(e,t){return p||r.selected&&r.selected[t]||!1}),v=d&&(0,b.every)(g,function(e,t){return!(!e&&o(t,f))}),E=u.map(function(t){return d&&!o(t,f)?null:c.default.createElement("li",{key:"option-"+t},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:g[t]||!1,onChange:function(n){return e.onTextOption(t,n.currentTarget.checked,h,g,d)}}),t))});return c.default.createElement("div",{style:{width:250}},c.default.createElement("div",{style:{paddingTop:4}},c.default.createElement(y.FormGroup,{style:{width:"100%"}},c.default.createElement(y.Input,{style:{width:"100%"},placeholder:i(w.textSearch),value:d,onChange:function(t){return e.onTextFilterInputChanged(t.currentTarget.value,g)}}))),c.default.createElement("div",{style:{marginTop:-3,marginBottom:10}},c.default.createElement("ul",{className:"data-type-filter-text-options"},!d&&c.default.createElement("li",{key:"select-all"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:p,onChange:function(t){return e.onTextSelectAll(t.currentTarget.checked,d)}}),"[",c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.text.options.selectAll",defaultMessage:"Select all"}),"]")),d&&c.default.createElement("li",{key:"select-all-filtered"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:v,onChange:function(t){return e.onTextSelectAllFiltered(t.currentTarget.checked,g,d)}}),"[",c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.text.options.selectAllFiltered",defaultMessage:"Select all search results"}),"]")),s&&!d&&c.default.createElement("li",{key:"empty"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:h,onChange:function(t){return e.onTextEmptySelect(t.currentTarget.checked,g,d)}}),"[",c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.text.options.empty",defaultMessage:"Empty"}),"]")),E)),this.renderButtons())}},{key:"onChangeDateTimeRange",value:function(e,t,n){e[0]===t&&e[1]===n?this.props.setFilter(null):this.props.setFilter({type:"datetime-range",min:e[0],max:e[1]})}},{key:"renderDateTimeFilter",value:function(e){var t=this,n=this.props,a=n.rows,r=n.dataKey,o=n.filterOptions,i=1/0,l=-1/0;if(a&&a.forEach(function(e){var t=e[r];t&&"string"==typeof t&&(i=i<t?i:t,l=t<l?l:t)}),i===1/0&&l===-1/0)return c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.noValues",defaultMessage:"No values"});var s=o&&"string"==typeof o.min?o.min:i,u=o&&"string"==typeof o.max?o.max:l,d="DATE"===e||"DATETIME"===e,f="TIME"===e||"DATETIME"===e,p="DATETIME"===e?350:250;return c.default.createElement("div",{style:{width:p}},c.default.createElement("div",{className:"form-inline",style:{paddingTop:4,paddingBottom:10}},c.default.createElement(y.FormGroup,{style:{flexFlow:"row",width:"100%"}},c.default.createElement(g.default,{style:{flexShrink:1,minWidth:0},date:d,time:f,value:(0,E.datetimeParse)(s,e),onChange:function(n){return t.onChangeDateTimeRange([(0,E.datetimeFormat)(n,e),u],i,l)}})," - ",c.default.createElement(g.default,{style:{flexShrink:1,minWidth:0},date:d,time:f,value:(0,E.datetimeParse)(u,e),onChange:function(n){return t.onChangeDateTimeRange([s,(0,E.datetimeFormat)(n,e)],i,l)}}))),this.renderButtons())}},{key:"onBooleanOption",value:function(e,t){var n=this.props.filterOptions,a=s({type:"boolean",trueSelected:!0,falseSelected:!0},n,r({},e,t));a.trueSelected&&a.falseSelected?this.props.setFilter(null):this.props.setFilter(a)}},{key:"renderBooleanFilter",value:function(){var e=this,t=this.props,n=t.options,a=t.filterOptions,r=!a,o=[c.default.createElement("li",{key:"option-true"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:r||a.trueSelected||!1,onChange:function(t){return e.onBooleanOption("trueSelected",t.currentTarget.checked)}}),n&&n.boolean&&n.boolean.true||c.default.createElement("i",{className:(0,p.default)("fa","fa-fw","fa-check-square-o")}))),c.default.createElement("li",{key:"option-false"},c.default.createElement("label",null,c.default.createElement("input",{type:"checkbox",checked:r||a.falseSelected||!1,onChange:function(t){return e.onBooleanOption("falseSelected",t.currentTarget.checked)}}),n&&n.boolean&&n.boolean.false||c.default.createElement("i",{className:(0,p.default)("fa","fa-fw","fa-square-o")})))];return c.default.createElement("div",{style:{width:250}},c.default.createElement("div",{style:{marginTop:4,marginBottom:10}},c.default.createElement("ul",{className:"data-type-filter-boolean-options"},o)),this.renderButtons())}},{key:"render",value:function(){var e=this.props,t=e.dataKey,n=e.field;if(!t||!n)return c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.fieldNotGiven",defaultMessage:"You can't filter this column"});var a=n.type1;switch(a){case"TEXT":case"ENUM":case"TEXT_ARRAY":return this.renderTextFilter();case"INTEGER":case"DOUBLE":case"DECIMAL":var r=void 0;return"INTEGER"===a?r=0:"DECIMAL"===a&&(r=n.decimalDigits||0),this.renderNumberFilter(r,"DECIMAL"===a);case"BOOLEAN":return this.renderBooleanFilter();case"DATE":case"TIME":case"DATETIME":return this.renderDateTimeFilter(a)}return c.default.createElement(m.FormattedMessage,{id:"DataTypeFilter.unknownDataType",defaultMessage:"Error generating filter: unknown data type: {type}",values:{type:a}})}}]),t}(),i.propTypes={dataKey:f.default.string.isRequired,field:f.default.object.isRequired,options:f.default.object,rows:f.default.arrayOf(f.default.object),filterOptions:f.default.object,setFilter:f.default.func.isRequired,close:f.default.func.isRequired},l);t.default=(0,m.injectIntl)(_)},54:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=a(n(1)),l=a(n(0)),s=a(n(6)),u={tag:l.default.oneOfType([l.default.func,l.default.string]),innerRef:l.default.oneOfType([l.default.func,l.default.string]),disabled:l.default.bool,active:l.default.bool,className:l.default.string,onClick:l.default.func,href:l.default.any},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"onClick",value:function(e){e.currentTarget.blur(),this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.cssModule,e.active),a=e.tag,o=e.innerRef,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["className","cssModule","active","tag","innerRef"]),u=(0,s.default)("a-link-without-href",t,{disabled:l.disabled,active:n});return i.default.createElement(a,r({tabIndex:0},l,{ref:o,onClick:this.onClick,className:u}))}}]),t}();d.propTypes=u,d.defaultProps={tag:"a",href:null},t.default=d,e.exports=t.default},682:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=a(l),u=a(n(0)),d=a(n(260)),c=n(10),f=n(119),p=a(n(699)),m=n(26),h=n(8),g=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.generateChildren=n.generateChildren.bind(n),n.keyForField=n.keyForField.bind(n),n.keyForRelation=n.keyForRelation.bind(n),n.getViewColumnForRelation=n.getViewColumnForRelation.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"getChildContext",value:function(){return{additionalInfo:{context:this.props.context,view:this.props.view,keyForField:this.keyForField,keyForRelation:this.keyForRelation,getViewColumnForRelation:this.getViewColumnForRelation,getInputAdditionalProps:this.props.getInputAdditionalProps},formValues:this.props.formValues,changeInputValue:this.props.changeInputValue,layoutType:this.props.type}}},{key:"keyForField",value:function(e){var t=this.props,n=t.columns,a=t.otherColumns,r=function(t){return t.field_id===e&&!t.relation_id},o=(0,h.find)(n,r)||(0,h.find)(a,r);return o?"vcol_"+o.id:null}},{key:"keyForRelation",value:function(e,t){return(t?"obj_back_":"obj_")+e}},{key:"getViewColumnForRelation",value:function(e,t){var n=this.props,a=n.columns,r=n.otherColumns,o=function(n){return n.relation_id===e&&n.relation_is_back===t&&!n.field_id};return(0,h.find)(r,o)||(0,h.find)(a,o)||null}},{key:"generateChildren",value:function(e){var t=this,n=this.props.intl;return e?(Array.isArray(e)||(e=[e]),e.map(function(e,a){var r=(0,f.getElement)(e.type);return s.default.createElement(r.Element,{key:a,content:e,isEditor:!1,generateChildren:t.generateChildren,intl:n})})):null}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.content;return e.type,s.default.createElement(p.default,{view:t},s.default.createElement("div",null,this.generateChildren(n)))}}]),t}(),r.propTypes={content:u.default.any.isRequired,type:u.default.oneOf(d.default),view:u.default.object.isRequired,formValues:u.default.oneOfType([u.default.object,u.default.arrayOf(u.default.object)]),changeInputValue:u.default.func,getInputAdditionalProps:u.default.func},r.childContextTypes={additionalInfo:u.default.any,formValues:u.default.oneOfType([u.default.object,u.default.arrayOf(u.default.object)]),changeInputValue:u.default.func,layoutType:u.default.oneOf(d.default)},o);t.default=(0,m.connect)(function(e,t){var n=t.view,a=e.context.viewColumns,r=n&&n.columns&&a&&n.columns.map(function(e){return a[e]}),o=n&&n.otherColumns&&a&&n.otherColumns.map(function(e){return a[e]});return{context:e.context,columns:r,otherColumns:o}})((0,c.injectIntl)(g)),e.exports=t.default},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(0,n(10).defineMessages)({row:{id:"LayoutEditor.element.row",defaultMessage:"Layout: Row"},column:{id:"LayoutEditor.element.column",defaultMessage:"Layout: Column"},input:{id:"LayoutEditor.element.input",defaultMessage:"Data input"}});t.default=a,e.exports=t.default},698:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),c=a(n(0)),f=(a(n(6)),n(13)),p=n(10),m=a(n(54)),h=n(8),g=a(n(49)),v=(o=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),s(t,[{key:"setRowValue",value:function(e,t,n){var a=this.props,r=a.searchTemplate,o=a.onChange,s=void 0;s="object"===(void 0===t?"undefined":l(t))?i({},r&&r[e],t):i({},r&&r[e],function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n));var u=(0,h.clone)(r)||[];u[e]=s,o(u)}},{key:"addRow",value:function(){var e=this.props.searchTemplate;this.setRowValue(e?e.length:0,{})}},{key:"deleteRow",value:function(e){var t=this.props,n=t.searchTemplate,a=t.onChange,r=(0,h.clone)(n)||[];r.splice(e,1),a(r)}},{key:"generateOptionsForFields",value:function(e){var t=this.props,n=t.model,a=t.context,r=t.searchTemplate,o=n.id,i=function(t,n,a){return(0,h.some)(r,function(r){return r!==e&&t==r.field_id&&n==r.relation_id&&(!n||a===r.relation_is_back)})},l=[];n.fields.map(function(e){return a.fields[e]}).forEach(function(e){l.push({value:""+e.id,label:e.name,disabled:i(e.id,null,null)})});var s=function(e,t){var n=e[t?"nameBackward":"nameForward"];a.models[e[t?"model_from_id":"model_to_id"]].fields.map(function(e){return a.fields[e]}).map(function(a){l.push({value:a.id+"-"+e.id+"-"+(t?"b":"f"),label:n+"."+a.name,disabled:i(a.id,e.id,t)})})};return n.relations.forEach(function(e){var t=a.relations[e];t.model_from_id===o&&("ONE_TO_ONE"!==t.type&&"MANY_TO_ONE"!==t.type||s(t,!1)),t.model_to_id===o&&("ONE_TO_ONE"!==t.type&&"ONE_TO_MANY"!==t.type||s(t,!0))}),l}},{key:"getSelectedFieldValue",value:function(e){if(e.field_id){var t=""+e.field_id;return e.relation_id&&(t+="-"+e.relation_id+"-"+(e.relation_is_back?"b":"f")),t}return""}},{key:"onFieldSelected",value:function(e,t){var n=t&&t.split("-")||[],a=void 0,r=void 0,o=void 0;n.length>=1&&""!==t&&(n.length>1&&(r=parseInt(n[1],10),o="b"===n[2]),a=parseInt(n[0],10)),this.setRowValue(e,{field_id:a||null,relation_id:r||null,relation_is_back:o||null})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.model,t.context,[]);return(this.props.searchTemplate||[]).forEach(function(t,a){var r=!!t.bold,o=!!t.italic,l=!!t.underline,s={color:"primary",active:!0},u={color:"secondary",active:!1},c=r?s:u,h=o?s:u,v=l?s:u,y=e.generateOptionsForFields(t);n.push(d.default.createElement("tr",{key:a},d.default.createElement("td",null,d.default.createElement(g.default,{onBlurResetsInput:!1,onSelectResetsInput:!1,options:y,simpleValue:!0,clearable:!1,value:e.getSelectedFieldValue(t),searchable:!0,onChange:function(t){return e.onFieldSelected(a,t)}})),d.default.createElement("td",null,d.default.createElement(f.ButtonGroup,{size:"sm"},d.default.createElement(f.Button,i({outline:!0,style:{fontWeight:"bold"}},c,{onClick:function(t){e.setRowValue(a,"bold",!r),t.currentTarget.blur()}}),d.default.createElement(p.FormattedMessage,{id:"SearchTemplateEditor.format.bold",defaultMessage:"Bold"})),d.default.createElement(f.Button,i({outline:!0,style:{fontStyle:"italic"}},h,{onClick:function(t){e.setRowValue(a,"italic",!o),t.currentTarget.blur()}}),d.default.createElement(p.FormattedMessage,{id:"SearchTemplateEditor.format.italic",defaultMessage:"Italic"})),d.default.createElement(f.Button,i({outline:!0,style:{textDecoration:"underline"}},v,{onClick:function(t){e.setRowValue(a,"underline",!l),t.currentTarget.blur()}}),d.default.createElement(p.FormattedMessage,{id:"SearchTemplateEditor.format.underline",defaultMessage:"Underline"})))),d.default.createElement("td",null,d.default.createElement(m.default,{onClick:function(){return e.deleteRow(a)}},d.default.createElement("i",{className:"fa fa-trash-o"})))))}),d.default.createElement("div",null,d.default.createElement(f.Table,{bordered:!0,style:{marginTop:5,marginBottom:5}},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{style:{width:280}},d.default.createElement(p.FormattedMessage,{id:"SearchTemplateEditor.table.header.attribute",defaultMessage:"Attribute"})),d.default.createElement("th",{style:{width:90,maxWidth:90}},d.default.createElement(p.FormattedMessage,{id:"SearchTemplateEditor.table.header.font",defaultMessage:"Font"})),d.default.createElement("th",{style:{width:30,maxWidth:30}}))),d.default.createElement("tbody",null,n)),d.default.createElement(f.Button,{outline:!0,onClick:function(t){e.addRow(),t.currentTarget.blur()}},d.default.createElement(p.FormattedMessage,{id:"SearchTemplateEditor.button.addRow",defaultMessage:"Add row"})))}}]),t}(),r.propTypes={context:c.default.object.isRequired,model:c.default.object.isRequired,searchTemplate:c.default.array,onChange:c.default.func.isRequired},o);t.default=v,e.exports=t.default},699:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),s=(a(l),a(n(0))),u=n(26),d=n(8),c=n(27),f=n(1411);a(n(518)),n(240);var p=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getOptionsForField=n.getOptionsForField.bind(n),n.state={dataValidationInfo:null,dataValidationLoading:!1,dataValidationError:!1},n.loadingPromise=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"getChildContext",value:function(){return{dataValidationLoading:this.state.dataValidationLoading,dataValidationError:this.state.dataValidationError,getOptionsForField:this.getOptionsForField}}},{key:"componentDidMount",value:function(){this.props.hasDataValidation&&this.loadDataValidationInfo()}},{key:"componentWillUnmount",value:function(){this.loadingPromise&&(this.loadingPromise=null)}},{key:"componentWillReceiveProps",value:function(e,t){var n=this,a=this.context.formValues,r=t.formValues;if(a!==r){var o=this.state.groups;if(o){var i={},l={},s={};(0,d.each)(o,function(e,t){(0,d.each)(e,function(e,n){a[e.key]!==r[e.key]&&(i[t]=i[t]||!!r[e.key],l[e.fieldId]=!0)})}),(0,d.each)(i,function(e,t){var a=o[t];(0,d.each)(a,function(t,a){n.optionsCache[t.fieldId]=null,e&&!l[t.fieldId]&&(s[t.fieldId]=!0)})}),(0,d.each)(s,function(a,r){var o=e.context.fields[r];n.createOptionsForField(o,e,t,!0)})}}}},{key:"loadDataValidationInfo",value:function(){var e=this;if(!this.state.dataValidationLoading){this.setState({dataValidationInfo:null,dataValidationLoading:!1,dataValidationError:!1});var t=this.props.view,n=(0,f.getViewDataValidationQuery)(t.id),a=this.props.simpleFetch(n).then(function(n){if(e.loadingPromise===a){var r=null,o=!1;n.type===c.UI_TAB_SIMPLE_FETCH_SUCCESS&&n.response?r=n.response:(o=!0,console.error("Error getting data validation info: view "+t.id),console.log(n));var i=e.props,l=i.columns,s=i.context,u=e.context.additionalInfo,d={};l.forEach(function(e){var t=s.fields[e.field_id];if(t){var n=_.find(t.dataValidation,function(e){return e.source_group}),a=n&&n.source_group;if(a){var r=t.dataValidationSourceFieldId,o=u.keyForField(t.id);d[a]=d[a]||{},d[a][r]={fieldId:t.id,key:o}}}}),e.setState({dataValidationInfo:r,dataValidationLoading:!1,dataValidationError:o,groups:d}),e.optionsCache={},e.loadingPromise=null}});this.loadingPromise=a}}},{key:"getOptionsForField",value:function(e){return this.state.dataValidationInfo?(this.optionsCache&&this.optionsCache[e.id]||this.createOptionsForField(e),this.optionsCache[e.id]&&this.optionsCache[e.id].options||[]):[]}},{key:"createOptionsForField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.context,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.state.dataValidationInfo;if(r){var o=_.find(e.dataValidation,function(e){return e.source_group}),i=o&&o.source_group;if(i){var l=e.dataValidationSourceModelId,s=e.dataValidationSourceFieldId,u=r[l];if(u){var c=n.additionalInfo,f=n.formValues,p=t.columns,m=t.context,h={};p.forEach(function(e){var t=m.fields[e.field_id];if(t){var n=_.find(t.dataValidation,function(e){return e.source_group});if((n&&n.source_group)===i&&t.dataValidationSourceModelId==l){var a=t.dataValidationSourceFieldId,r=c.keyForField(t.id);r&&f[r]&&(h[a]=f[r])}}});var g=u.map(function(e){return(0,d.every)(h,function(t,n){return(n=parseInt(n,10))===s||e["col_"+n]===t})?e["col_"+s]:null}).filter(function(e){return e});if(g=(0,d.uniq)(g),h[s]&&-1===g.indexOf(h[s])&&g.push(h[s]),a&&(0,d.size)(h)>0&&!h[s]&&1===g.length){var v=c.keyForField(e.id);n.changeInputValue&&n.changeInputValue(v,g[0])}var y=g.map(function(e){return{value:e,label:e}});this.optionsCache=this.optionsCache||{},this.optionsCache[e.id]={options:y}}}}}},{key:"render",value:function(){var e=this.props.children;if(Array.isArray(e)&&e.length>1)throw new Error("DataValidationWrapper: only one children");return Array.isArray(e)?e[0]:e}}]),t}(),r.propTypes={children:s.default.any,view:s.default.object.isRequired,hasDataValidation:s.default.bool.isRequired,context:s.default.object.isRequired,columns:s.default.array.isRequired},r.contextTypes={additionalInfo:s.default.any,formValues:s.default.oneOfType([s.default.object,s.default.arrayOf(s.default.object)]),changeInputValue:s.default.func},r.childContextTypes={dataValidationLoading:s.default.bool,dataValidationError:s.default.bool,getOptionsForField:s.default.func},o),m={simpleFetch:c.simpleFetch};t.default=(0,u.connect)(function(e,t){var n=t.view,a=n&&n.columns,r=n&&n.otherColumns,o=e.context,i=function(e){var t=o.viewColumns[e],n=t&&t.field_id&&o.fields[t.field_id];if(n){var a=n.dataValidation||[];return(a=a.filter(function(e){return n.dataValidationSourceModelId&&n.dataValidationSourceFieldId})).length>0}},l=(0,d.some)(a,i)||(0,d.some)(r,i),s=[];return a.forEach(function(e){return s.push(o.viewColumns[e])}),r.forEach(function(e){return s.push(o.viewColumns[e])}),{hasDataValidation:l,context:o,columns:s}},m)(p),e.exports=t.default},700:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=a(n(267)),l=n(1),s=a(l),u=a(n(0)),d=n(8),c=n(1417),f=i.default.acequire("ace/range").Range,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.editorEvents.forEach(function(e){n[e]=n[e].bind(n)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.className,a=t.onBeforeLoad,r=t.onValidate,o=t.mode,l=t.focus,s=t.theme,u=t.fontSize,d=t.value,f=t.defaultValue,p=t.cursorStart,m=t.showGutter,h=t.wrapEnabled,g=t.showPrintMargin,v=t.scrollMargin,y=void 0===v?[0,0,0,0]:v,b=t.keyboardHandler,E=t.onLoad,w=t.commands,_=t.annotations,C=t.markers;this.editor=i.default.edit(this.refEditor),a&&a(i.default);for(var k=Object.keys(this.props.editorProps),S=0;S<k.length;S++)this.editor[k[S]]=this.props.editorProps[k[S]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),this.editor.getSession().setMode("string"==typeof o?"ace/mode/"+o:o),this.editor.setTheme("ace/theme/"+s),this.editor.setFontSize(u),this.editor.getSession().setValue(f||d,p),this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(m),this.editor.getSession().setUseWrapMode(h),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),r&&this.editor.getSession().on("changeAnnotation",function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(_||[]),C&&C.length>0&&this.handleMarkers(C);for(var T=this.editor.$options,O=0;O<c.editorOptions.length;O++){var M=c.editorOptions[O];T.hasOwnProperty(M)?this.editor.setOption(M,this.props[M]):this.props[M]&&console.warn("ReaceAce: editor option "+M+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}this.handleOptions(this.props),Array.isArray(w)&&w.forEach(function(t){"string"==typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)}),b&&this.editor.setKeyboardHandler("ace/keyboard/"+b),this.props.customEditorSettings&&this.props.customEditorSettings(this.editor),n&&(this.refEditor.className+=" "+n),l&&this.editor.focus(),E&&E(this.editor),this.editor.resize()}},{key:"debounce",value:function(e,t){var n=null;return function(){var a=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(a,r)},t)}}},{key:"componentWillReceiveProps",value:function(e){for(var t=this.props,n=0;n<c.editorOptions.length;n++){var a=c.editorOptions[n];e[a]!==t[a]&&this.editor.setOption(a,e[a])}if(e.className!==t.className){var r=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach(function(e){var t=r.indexOf(e);r.splice(t,1)}),this.refEditor.className=" "+e.className+" "+r.join(" ")}if(e.mode!==t.mode&&this.editor.getSession().setMode("string"==typeof e.mode?"ace/mode/"+e.mode:e.mode),e.theme!==t.theme&&this.editor.setTheme("ace/theme/"+e.theme),e.keyboardHandler!==t.keyboardHandler&&(e.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):this.editor.setKeyboardHandler(null)),e.fontSize!==t.fontSize&&this.editor.setFontSize(e.fontSize),e.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(e.showPrintMargin),e.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(e.showGutter),(0,d.isEqual)(e.setOptions,t.setOptions)||this.handleOptions(e),(0,d.isEqual)(e.annotations,t.annotations)||this.editor.getSession().setAnnotations(e.annotations||[]),!(0,d.isEqual)(e.markers,t.markers)&&Array.isArray(e.markers)&&this.handleMarkers(e.markers),(0,d.isEqual)(e.scrollMargin,t.scrollMargin)||this.handleScrollMargins(e.scrollMargin),this.editor&&this.editor.getValue()!==e.value){this.silent=!0;var o=this.editor.session.selection.toJSON();this.editor.setValue(e.value,e.cursorStart),this.editor.session.selection.fromJSON(o),this.silent=!1}e.focus&&!t.focus&&this.editor.focus()}},{key:"componentDidUpdate",value:function(e){e.height===this.props.height&&e.width===this.props.width||this.editor.resize()}},{key:"handleScrollMargins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0];this.editor.renderer.setScrollMargins(e[0],e[1],e[2],e[3])}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}}},{key:"onSelectionChange",value:function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}}},{key:"onCursorChange",value:function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}}},{key:"onInput",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])}},{key:"handleMarkers",value:function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var a in n)n.hasOwnProperty(a)&&this.editor.getSession().removeMarker(n[a].id);for(var r in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);e.forEach(function(e){var n=e.startRow,a=e.startCol,r=e.endRow,o=e.endCol,i=e.className,l=e.type,s=e.inFront,u=void 0!==s&&s,d=new f(n,a,r,o);t.editor.getSession().addMarker(d,i,l,u)})}},{key:"updateRef",value:function(e){this.refEditor=e}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,a=e.height,o=e.style,i=r({width:n,height:a},o);return s.default.createElement("div",{ref:this.updateRef,id:t,style:i})}}]),t}();t.default=p,p.propTypes={mode:u.default.oneOfType([u.default.string,u.default.object]),focus:u.default.bool,theme:u.default.string,name:u.default.string,className:u.default.string,height:u.default.string,width:u.default.string,fontSize:u.default.oneOfType([u.default.number,u.default.string]),showGutter:u.default.bool,onChange:u.default.func,onCopy:u.default.func,onPaste:u.default.func,onFocus:u.default.func,onInput:u.default.func,onBlur:u.default.func,onScroll:u.default.func,value:u.default.string,defaultValue:u.default.string,onLoad:u.default.func,onSelectionChange:u.default.func,onCursorChange:u.default.func,onBeforeLoad:u.default.func,onValidate:u.default.func,minLines:u.default.number,maxLines:u.default.number,readOnly:u.default.bool,highlightActiveLine:u.default.bool,tabSize:u.default.number,showPrintMargin:u.default.bool,cursorStart:u.default.number,debounceChangePeriod:u.default.number,editorProps:u.default.object,setOptions:u.default.object,style:u.default.object,scrollMargin:u.default.array,annotations:u.default.array,markers:u.default.array,keyboardHandler:u.default.string,wrapEnabled:u.default.bool,enableBasicAutocompletion:u.default.oneOfType([u.default.bool,u.default.array]),enableLiveAutocompletion:u.default.oneOfType([u.default.bool,u.default.array]),commands:u.default.array},p.defaultProps={name:"brace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},e.exports=t.default},710:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e){var t=e||{},n=t.style,a=r(t,["style"]);return c.default.createElement("div",d({style:d({position:"relative"},n)},a),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -5 10 10",preserveAspectRatio:"none",style:{position:"absolute",left:5,width:"calc(100% - 15px)",height:10}},c.default.createElement("path",{strokeWidth:1,fill:"none",stroke:"black",d:"M0,0 L10,0"})),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 5 10",style:{position:"absolute",right:5,width:5,height:10}},c.default.createElement("path",{d:"M0,0 V10 L5,5 Z",fill:"black"})))}function i(e){var t=e||{},n=t.height,a=t.style,o=r(t,["height","style"]);if(!n||"number"!=typeof n)throw new Error("Arrow: height required as pixels (number)");return c.default.createElement("div",d({style:d({position:"relative",height:n+5},a)},o),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-5 0 10 "+n,preserveAspectRatio:"none",style:{position:"absolute",right:"50%",width:10,height:n}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,0 L0,"+(n-5)+" L5,"+(n-5)})),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -"+(n-5)+" 10 "+n,preserveAspectRatio:"none",style:{position:"absolute",left:"50%",width:"50%",height:n}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,0 L10,0"})))}function l(e){var t=e||{},n=t.height,a=t.style,o=r(t,["height","style"]);if(!n||"number"!=typeof n)throw new Error("Arrow: height required as pixels (number)");return c.default.createElement("div",d({style:d({position:"relative",height:n+5},a)},o),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -"+(n-5)+" 10 "+n,preserveAspectRatio:"none",style:{position:"absolute",left:0,width:"100%",height:n}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,0 L10,0"})))}function s(e){var t=e||{},n=t.height,a=t.style,o=r(t,["height","style"]);if(!n||"number"!=typeof n)throw new Error("Arrow: height required as pixels (number)");return c.default.createElement("div",d({style:d({position:"relative",height:n+5},a)},o),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -"+(n-5)+" 10 "+n,preserveAspectRatio:"none",style:{position:"absolute",left:0,width:"50%",height:n}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,0 L10,0"})),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-5 0 10 "+n,style:{position:"absolute",left:"50%",width:10,height:n}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,5 L0,"+(n-5)+" L-5,"+(n-5)}),c.default.createElement("path",{d:"M-5,5 L5,5 L0,0 Z",fill:"black"})))}function u(e){var t=e||{},n=t.height,a=t.style,o=r(t,["height","style"]);return c.default.createElement("div",d({style:d({position:"relative",height:n+5,marginTop:10},a)},o),c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-8 0 16 "+n,style:{position:"absolute",left:"50%",width:16,height:n}},c.default.createElement("path",{strokeWidth:"1",fill:"none",stroke:"black",d:"M0,8 L0,"+(n-5)}),c.default.createElement("path",{strokeWidth:"1",stroke:"black",d:"M-8,8 L8,8 L0,0 Z",fill:"none"})))}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.Arrow=o,t.ArrowBottomLeft=i,t.ArrowBottomCenter=l,t.ArrowBottomRight=s,t.ArrowVerticalBig=u,t.TwoStepRelationDiagram=function(e){var t=e||{},n=t.className,a=t.info,u=r(t,["className","info"]);return c.default.createElement(p.Table,d({className:(0,f.default)("two-steps-relation-graph",n)},u),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{style:{paddingTop:12}},a.model1.name),c.default.createElement("td",null,c.default.createElement("span",{style:{display:"block",textAlign:"center",paddingLeft:25,paddingRight:25}},a.relation1Name||" "),c.default.createElement(o,{style:{width:"100%"}})),c.default.createElement("td",{style:{paddingTop:12}},a.model2.name),c.default.createElement("td",null,c.default.createElement("span",{style:{display:"block",textAlign:"center",paddingLeft:25,paddingRight:25}},a.relation2Name||" "),c.default.createElement(o,{style:{width:"100%"}})),c.default.createElement("td",{style:{paddingTop:12}},a.model3.name)),c.default.createElement("tr",null,c.default.createElement("td",null,c.default.createElement(i,{height:20,style:{width:"100%"}})),c.default.createElement("td",{colSpan:3},c.default.createElement(l,{height:20,style:{width:"100%"}})),c.default.createElement("td",null,c.default.createElement(s,{height:20,style:{width:"100%"}})))))},t.CreateFromVirtualRelationDiagram=function(e){var t=e||{},n=t.className,a=t.info,i=r(t,["className","info"]);return c.default.createElement(p.Table,d({className:(0,f.default)("create-from-virtual-relation-graph",n)},i),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{style:{paddingTop:12,textAlign:"center"}},a.virtualModel.name),c.default.createElement("td",null,c.default.createElement("span",{style:{display:"block",textAlign:"center",paddingLeft:25,paddingRight:25}},a.virtualToOtherModelRelationName||" "),c.default.createElement(o,{style:{width:"100%"}})),c.default.createElement("td",{style:{paddingTop:12}},a.otherModel.name)),c.default.createElement("tr",null,c.default.createElement("td",null,c.default.createElement(u,{height:40,style:{width:"100%"}}),c.default.createElement("span",{style:{display:"block",textAlign:"center",paddingLeft:25,paddingRight:25}},a.model.name||" ")),c.default.createElement("td",null,c.default.createElement(l,{height:70,style:{width:"100%"}})),c.default.createElement("td",null,c.default.createElement(s,{height:70,style:{width:"100%"}})))))};var c=a(n(1)),f=a(n(6)),p=n(13)},711:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.canChangeToType=function(e,t){var n=i[e];return n&&-1!==n.canChangeToType.indexOf(t)};var r={COUNT:{name:"Conta",func:function(e){return e&&e.length||0}},SUM:{name:"Somma",func:function(e){return(e||[]).reduce(function(e,t){return e+(t&&numberValue(t)||0)},0)}},AVG:{name:"Media",func:function(e){var t=(e||[]).reduce(function(e,t){var n=t&&numberValue(t);return void 0!==n&&null!==n&&(e.s+=n,e.c++),e},{s:0,c:0});return 0===t.c?null:t.s/t.c}},MIN:{name:"Minimo",func:function(e){var t=(e||[]).reduce(function(e,t){var n=t&&numberValue(t);return void 0!==n&&null!==n&&n<e?n:e},1/0);return t===1/0?null:t}},MAX:{name:"Massimo",func:function(e){var t=(e||[]).reduce(function(e,t){var n=t&&numberValue(t);return void 0!==n&&null!==n&&n>e?n:e},-1/0);return t===-1/0?null:t}},MIN_DATETIME:{name:"Minimo",func:function(e,t){var n=(e||[]).reduce(function(e,n){var a=n&&moment(n,t.dateParseFormat);return void 0!==a&&null!==a&&a.isValid()?null===e?a:moment.min(e,a):e},null);return n&&n.format(t.dateShowFormat)}},MAX_DATETIME:{name:"Massimo",func:function(e,t){var n=(e||[]).reduce(function(e,n){var a=n&&moment(n,t.dateParseFormat);return void 0!==a&&null!==a&&a.isValid()?null===e?a:moment.max(e,a):e},null);return n&&n.format(t.dateShowFormat)}}},o=[{name:"Testo",type:"TEXT",sortingType:"string",editorType:"text",aggregations:{COUNT:r.COUNT},canChangeToType:["TEXT","ENUM"]},{name:"Numero intero",type:"INTEGER",editorType:"text",sortingType:"num",renderFactory:function(){return numberRenderFactory(0)},parse:function(e){return numberParse(e,0)},aggregations:{SUM:r.SUM,AVG:r.AVG,MIN:r.MIN,MAX:r.MAX,COUNT:r.COUNT},aggregationsRender:{SUM:!0,AVG:!0,MIN:!0,MAX:!0},canChangeToType:["INTEGER","DOUBLE","DECIMAL"]},{name:"Numero decimale",type:"DOUBLE",editorType:"textdecimal",sortingType:"num",renderFactory:function(e){return numberRenderFactory(e)},parse:function(e){return numberParse(e)},aggregations:{SUM:r.SUM,AVG:r.AVG,MIN:r.MIN,MAX:r.MAX,COUNT:r.COUNT},aggregationsRender:{SUM:!0,AVG:!0,MIN:!0,MAX:!0},canChangeToType:["INTEGER","DOUBLE","DECIMAL"]},{name:"Numero decimale (con arrotondamento)",type:"DECIMAL",editorType:"textdecimal",sortingType:"num",renderFactory:function(e){return numberRenderFactory(e)},parse:function(e){return numberParse(e)},aggregations:{SUM:r.SUM,AVG:r.AVG,MIN:r.MIN,MAX:r.MAX,COUNT:r.COUNT},aggregationsRender:{SUM:!0,AVG:!0,MIN:!0,MAX:!0},canChangeToType:["INTEGER","DOUBLE","DECIMAL"]},{name:"Booleano",type:"BOOLEAN",editorType:"checkbox",editorColumnCustomize:function(e){e.options=[{label:"",value:"1"}],e.separator=",",e.unselectedValue="0"},renderFactory:function(e,t){return booleanRenderFactory(e,t)},parse:function(e){return 1===(parseInt(e,10)||0)},additionalClasses:"col-editable-boolean",canChangeToType:["BOOLEAN"]},{name:"Data",type:"DATE",editorType:"textdatetime",dateShowFormat:"DD/MM/YYYY",dateParseFormat:"YYYY-MM-DD",sortingType:"string",editorColumnCustomize:function(e,t){var n=t.type&&App.Model.FieldDataTypesMap[t.type]&&App.Model.FieldDataTypesMap[t.type].dateShowFormat;e.format=n,e.momentStrict=!1,e.momentLocale=moment.locale()},renderFactory:function(e,t){return datetimeRenderFactory(e,t)},parse:function(e,t){return datetimeParse(e,t)},aggregations:{MIN:r.MIN_DATETIME,MAX:r.MAX_DATETIME,COUNT:r.COUNT},aggregationsRender:{MIN:!1,MAX:!1},canChangeToType:["DATE","DATETIME"]},{name:"Ora",type:"TIME",editorType:"textdatetime",dateShowFormat:"HH:mm:ss",dateParseFormat:"HH:mm:ss",sortingType:"string",editorColumnCustomize:function(e,t){var n=t.type&&App.Model.FieldDataTypesMap[t.type]&&App.Model.FieldDataTypesMap[t.type].dateShowFormat;e.format=n,e.momentStrict=!1,e.momentLocale=moment.locale()},renderFactory:function(e,t){return datetimeRenderFactory(e,t)},parse:function(e,t){return datetimeParse(e,t)},aggregations:{MIN:r.MIN_DATETIME,MAX:r.MAX_DATETIME,COUNT:r.COUNT},aggregationsRender:{MIN:!1,MAX:!1},canChangeToType:["TIME"]},{name:"Data e ora",type:"DATETIME",editorType:"textdatetime",dateShowFormat:"DD/MM/YYYY HH:mm:ss",dateParseFormat:"YYYY-MM-DD HH:mm:ssZ",sortingType:"string",editorColumnCustomize:function(e,t){var n=t.type&&App.Model.FieldDataTypesMap[t.type]&&App.Model.FieldDataTypesMap[t.type].dateShowFormat;e.format=n,e.momentStrict=!1,e.momentLocale=moment.locale()},renderFactory:function(e,t){return datetimeRenderFactory(e,t)},parse:function(e,t){return datetimeParse(e,t)},aggregations:{MIN:r.MIN_DATETIME,MAX:r.MAX_DATETIME,COUNT:r.COUNT},aggregationsRender:{MIN:!1,MAX:!1},canChangeToType:["DATE","DATETIME"]},{name:"Enumerativo",type:"ENUM",editorType:"select",editorColumnCustomize:function(e,t){var n;n=t.field&&"object"===a(t.field)?t.field.getEnumList():[],n=[""].concat(n),e.options=n},parse:function(e){return e&&""!==e?e:null},additionalClasses:"col-editable-enum",aggregations:{COUNT:r.COUNT},canChangeToType:["TEXT","ENUM"]},{name:"Testo multiplo",type:"TEXT_ARRAY",editorType:"textarray",parse:function(e){return console.log("PARSE:",arguments),e},additionalClasses:"col-editable-text-array",aggregations:{COUNT:r.COUNT},canChangeToType:["TEXT_ARRAY"]}],i={};o.forEach(function(e){i[e.type]=e}),t.fieldTypes=o.map(function(e){return e.type})},72:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){return"vertical"===n?p.default.createElement(v.FormGroup,null,p.default.createElement(v.Label,null,t||null),e):p.default.createElement(v.FormGroup,{row:!0},p.default.createElement(v.Col,{md:"3"},p.default.createElement(v.Label,null,t||null)),p.default.createElement(v.Col,{xs:"12",md:"9"},e))}function i(e,t){if(!e)return null;var n=S[t],a=(0,_.default)(e,n);return a.isValid()?a.toDate():null}function l(e,t){if(!e)return null;var n=S[t];return(0,_.default)(e).format(n)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.inputForm=o,t.datetimeParse=i,t.datetimeFormat=l;var f=n(1),p=a(f),m=a(n(0)),h=a(n(6)),g=n(10),v=n(13),y=a(n(113)),b=a(n(235)),E=a(n(49)),w=a(n(514)),_=a(n(2)),C=n(239),k=a(n(206)),S={DATE:"YYYY-MM-DD",DATETIME:"YYYY-MM-DD HH:mm:ssZ",TIME:"HH:mm:ss"},T=(u=s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.renderOption=n.renderOption.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),c(t,[{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"renderOption",value:function(e){var t=e.focusedOption,n=e.focusOption,a=e.key,r=e.labelKey,o=e.option,i=e.selectValue,l=e.style,s=e.valueArray,u=["VirtualizedSelectOption"];o===t&&u.push("VirtualizedSelectFocusedOption"),o.disabled&&u.push("VirtualizedSelectDisabledOption"),s&&s.indexOf(o)>=0&&u.push("VirtualizedSelectSelectedOption"),o.className&&u.push(o.className);var c=o.disabled?{}:{onClick:function(){return i(o)},onMouseEnter:function(){return n(o)}},f=o[r],m=this._inputValue?this._inputValue.match(C.wordsRegexp):[],h=void 0;return h=m&&m.length?p.default.createElement(k.default,{searchWords:m,textToHighlight:f,autoEscape:!0,highlightClassName:"data-validation-options-highlight"}):f,p.default.createElement("div",d({className:u.join(" "),key:a,style:l,title:o.title},c),h)}},{key:"renderDataValidationInputIfNeeded",value:function(){var e,t=this,n=this.props,a=n.field,o=n.value,i=n.placeholder,l=n.className,s=n.disabled,u=a.dataValidation||[];if((u=u.filter(function(e){return a.dataValidationSourceModelId&&a.dataValidationSourceFieldId})).length>0){var d=this.context,c=(d.dataValidationError,d.dataValidationLoading),f=(0,d.getOptionsForField)(a);return p.default.createElement(w.default,(r(e={selectComponent:E.default.Creatable,placeholder:i,className:l,value:o||null,disabled:s,onInputChange:function(e){return t._inputValue=e},onBlurResetsInput:!1,onSelectResetsInput:!1,options:f,clearable:!0,simpleValue:!0,searchable:!0,onChange:function(e){return t.onChange(e)}},"disabled",s),r(e,"isLoading",c),r(e,"optionRenderer",this.renderOption),r(e,"onOpen",this.props.onOpen),e))}}},{key:"renderInput",value:function(){var e=this,t=this.props,n=t.field,a=t.value,r=t.placeholder,o=t.className,s=t.disabled;if(!n)return p.default.createElement(g.FormattedMessage,{id:"DataTypeInput.fieldNotGiven",defaultMessage:"Error generating attribute's input element"});var u=n.type1;switch(u){case"TEXT":return this.renderDataValidationInputIfNeeded()||p.default.createElement(v.Input,{type:"text",placeholder:r,className:o,value:a||"",onChange:function(t){return e.onChange(t.target.value)},disabled:s});case"INTEGER":case"DOUBLE":case"DECIMAL":var d=void 0;return"INTEGER"===u?d=0:"DECIMAL"===u&&(d=n.decimalDigits||0),p.default.createElement(y.default,{placeholder:r,className:o,value:a,decimalDigits:d,storeNumberAsString:"DECIMAL"===u,onChange:function(t){return e.onChange(t)},disabled:s});case"BOOLEAN":return p.default.createElement(v.Input,{type:"checkbox",style:{marginLeft:0},className:o,checked:a||!1,onChange:function(t){return e.onChange(t.target.checked)},disabled:s});case"DATE":case"DATETIME":case"TIME":return p.default.createElement(b.default,{className:o,date:"DATE"===u||"DATETIME"===u,time:"TIME"===u||"DATETIME"===u,value:i(a,u),disabled:s,onChange:function(t){return e.onChange(l(t,u))},onPickerShow:this.props.onPickerShow});case"ENUM":return p.default.createElement(v.Input,{type:"select",className:o,placeholder:r,value:a||"",onChange:function(t){return e.onChange(t.target.value)},disabled:s},p.default.createElement("option",{key:-1,value:""}),(n.enumList||[]).map(function(e,t){return p.default.createElement("option",{key:t,value:e},e)}));case"TEXT_ARRAY":return p.default.createElement(E.default.Creatable,{className:(0,h.default)("react-select-hide-options",o),multi:!0,placeholder:r,searchable:!0,onChange:function(t){return e.onChange(t&&t.map(function(e){return e.value}))},value:(a||[]).map(function(e){return{value:e,label:e}}),disabled:s})}return p.default.createElement(g.FormattedMessage,{id:"DataTypeInput.unknownFieldType",defaultMessage:"Error generating attribute's input element: unknown field type: {fieldType}",values:{fieldType:u}})}},{key:"render",value:function(){var e=this.props,t=e.inForm,n=e.formLabel,a=e.formLayout,r=this.renderInput();return t?o(r,n,a):r}}]),t}(),s.propTypes={field:m.default.object.isRequired,value:m.default.any,onChange:m.default.func.isRequired,className:m.default.string,placeholder:m.default.string,disabled:m.default.bool,inForm:m.default.bool,formLayout:m.default.string,formLabel:m.default.string},s.contextTypes={dataValidationLoading:m.default.bool,dataValidationError:m.default.bool,getOptionsForField:m.default.func},u);t.default=T},744:function(e,t,n){n(745),e.exports=n(746)},746:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(e.deltaX<0&&t.scrollLeft>0)return!0;if(e.deltaX>0&&t.scrollLeft<t.scrollWidth-t.offsetWidth){var n=window.getComputedStyle(t).getPropertyValue("overflow-x");if("auto"===n||"scroll"===n)return!0}return!1}function o(e){y.dispatch((0,v.selectTab)(e))}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=a(n(1)),s=a(n(19)),u=n(26),d=n(178),c=a(n(799)),f=a(n(300)),p=n(814),m=a(n(835));n(862),n(864),n(865),n(866),n(867);var h=a(n(868)),g=a(n(1617)),v=n(27);"object"===i(window.__REACT_DEVTOOLS_GLOBAL_HOOK__)&&(__REACT_DEVTOOLS_GLOBAL_HOOK__.inject=function(){}),n(1618),document.oncontextmenu=function(){return!1},window.addEventListener("mousewheel",function(e){if(0!==e.deltaX&&!(Math.abs(e.deltaY)>Math.abs(e.deltaX))){for(var t=e.target,n=!1;t;){if(r(e,t)){n=!0;break}t=t.parentNode}n||e.preventDefault()}});var y=(0,c.default)();window.appName=y.getState().server.appName,(0,p.init)(y),window.onbeforeunload=function(e){var t=!1;if(window.__tabControllerCheckAllTabsCanBeClosed&&(t=!window.__tabControllerCheckAllTabsCanBeClosed(o)),t)return e.returnValue=!1,"The changes that you made may not be saved."},window.showExitPrompt=function(){setTimeout(function(){y.dispatch((0,v.showExitPrompt)())},1)};var b=function(e){var t=l.default.createElement(u.Provider,{store:y},l.default.createElement(m.default,null,l.default.createElement(d.ConnectedRouter,{history:f.default},l.default.createElement(e,null))));s.default.render(t,document.getElementById("root"),function(){return(0,g.default)()})};if(!window.intl){var E=b;b=function(e){n.e(0).then(function(t){n(741),n(742),n(743),E(e)}.bind(null,n)).catch(n.oe)}}b(h.default)},799:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.createStore)(l.default,f,r.applyMiddleware.apply(void 0,c))};var r=n(176),o=n(178),i=a(n(800)),l=a(n(801)),s=a(n(300)),u=a(n(102)),d=a(n(299)),c=[(0,o.routerMiddleware)(s.default),i.default,u.default,d.default],f=window.__PRELOADED_STATE__||{};delete window.__PRELOADED_STATE__;var p=localStorage&&localStorage.selfwareLanguage||navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"en";f.intl={language:p},e.exports=t.default},801:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(176),o=(n(178),a(n(802))),i=a(n(808)),l=a(n(809)),s=a(n(810)),u=a(n(811)),d=(0,r.combineReducers)({intl:o.default,auth:i.default,server:l.default,context:s.default,ui:u.default});t.default=d,e.exports=t.default},802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.INTL_LANGUAGE_CHANGE:return localStorage&&(localStorage.selfwareLanguage=t.language),{language:t.language};default:return e}};var a=n(27);e.exports=t.default},803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.INTL_LANGUAGE_CHANGE="INTL_LANGUAGE_CHANGE";t.changeLanguage=function(e){return function(t,n){return t({type:a,language:e})}}},804:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserPreferences=t.toggleIgnoreAdming=t.logout=t.login=t.USER_UPDATE_PREFERENCES_FAILURE=t.USER_UPDATE_PREFERENCES_SUCCESS=t.USER_UPDATE_PREFERENCES_REQUEST=t.USER_TOGGLE_IGNORE_ADMIN=t.USER_LOGOUT_FAILURE=t.USER_LOGOUT_SUCCESS=t.USER_LOGOUT_REQUEST=t.USER_LOGIN_FAILURE=t.USER_LOGIN_SUCCESS=t.USER_LOGIN_REQUEST=void 0;var r=n(102),o=t.USER_LOGIN_REQUEST="USER_LOGIN_REQUEST",i=t.USER_LOGIN_SUCCESS="USER_LOGIN_SUCCESS",l=t.USER_LOGIN_FAILURE="USER_LOGIN_FAILURE",s=t.USER_LOGOUT_REQUEST="USER_LOGOUT_REQUEST",u=t.USER_LOGOUT_SUCCESS="USER_LOGOUT_SUCCESS",d=t.USER_LOGOUT_FAILURE="USER_LOGOUT_FAILURE",c=t.USER_TOGGLE_IGNORE_ADMIN="USER_TOGGLE_IGNORE_ADMIN",f=t.USER_UPDATE_PREFERENCES_REQUEST="USER_UPDATE_PREFERENCES_REQUEST",p=t.USER_UPDATE_PREFERENCES_SUCCESS="USER_UPDATE_PREFERENCES_SUCCESS",m=t.USER_UPDATE_PREFERENCES_FAILURE="USER_UPDATE_PREFERENCES_FAILURE";t.login=function(e){return function(t,n){return t(a({},r.CALL_API,{types:[o,i,l],endpoint:"/login",method:"POST",body:e}))}},t.logout=function(){return function(e,t){return e(a({},r.CALL_API,{types:[s,u,d],endpoint:"/logout",method:"POST"}))}},t.toggleIgnoreAdming=function(){return function(e,t){return e({type:c})}},t.updateUserPreferences=function(e){return function(t,n){var o=n(),i=o.server,l=i.location+"/database/"+i.databaseId,s=o.auth.user.id;return t(a({},r.CALL_API,{types:[f,p,m],endpoint:l+"/user/"+s+"/updatePreferences/incremental",method:"POST",body:e}))}}},805:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.createRole=t.updateSettingsModelOrder=t.updateSettingsViewOrder=t.fetchSettings=t.fetchBackups=t.fetchExternalSources=t.fetchRoles=t.fetchUsers=t.serverDisconnected=t.serverConnected=t.serverInfoChange=t.SERVER_CREATE_ROLE_FAILURE=t.SERVER_CREATE_ROLE_SUCCESS=t.SERVER_CREATE_ROLE_REQUEST=t.SERVER_UPDATE_SETTINGS_FAILURE=t.SERVER_UPDATE_SETTINGS_SUCCESS=t.SERVER_UPDATE_SETTINGS_REQUEST=t.SERVER_FETCH_SETTINGS_FAILURE=t.SERVER_FETCH_SETTINGS_SUCCESS=t.SERVER_FETCH_SETTINGS_REQUEST=t.SERVER_FETCH_BACKUPS_FAILURE=t.SERVER_FETCH_BACKUPS_SUCCESS=t.SERVER_FETCH_BACKUPS_REQUEST=t.SERVER_FETCH_EXTERNAL_SOURCES_FAILURE=t.SERVER_FETCH_EXTERNAL_SOURCES_SUCCESS=t.SERVER_FETCH_EXTERNAL_SOURCES_REQUEST=t.SERVER_FETCH_ROLES_FAILURE=t.SERVER_FETCH_ROLES_SUCCESS=t.SERVER_FETCH_ROLES_REQUEST=t.SERVER_FETCH_USERS_FAILURE=t.SERVER_FETCH_USERS_SUCCESS=t.SERVER_FETCH_USERS_REQUEST=t.SERVER_DISCONNECTED=t.SERVER_CONNECTED=t.SERVER_INFO_CHANGE=void 0;var r=n(102),o=t.SERVER_INFO_CHANGE="SERVER_INFO_CHANGE",i=t.SERVER_CONNECTED="SERVER_CONNECTED",l=t.SERVER_DISCONNECTED="SERVER_DISCONNECTED",s=(t.SERVER_FETCH_USERS_REQUEST="SERVER_FETCH_USERS_REQUEST",t.SERVER_FETCH_USERS_SUCCESS="SERVER_FETCH_USERS_SUCCESS",t.SERVER_FETCH_USERS_FAILURE="SERVER_FETCH_USERS_FAILURE",t.SERVER_FETCH_ROLES_REQUEST="SERVER_FETCH_ROLES_REQUEST",t.SERVER_FETCH_ROLES_SUCCESS="SERVER_FETCH_ROLES_SUCCESS",t.SERVER_FETCH_ROLES_FAILURE="SERVER_FETCH_ROLES_FAILURE",t.SERVER_FETCH_EXTERNAL_SOURCES_REQUEST="SERVER_FETCH_EXTERNAL_SOURCES_REQUEST",t.SERVER_FETCH_EXTERNAL_SOURCES_SUCCESS="SERVER_FETCH_EXTERNAL_SOURCES_SUCCESS",t.SERVER_FETCH_EXTERNAL_SOURCES_FAILURE="SERVER_FETCH_EXTERNAL_SOURCES_FAILURE",t.SERVER_FETCH_BACKUPS_REQUEST="SERVER_FETCH_BACKUPS_REQUEST",t.SERVER_FETCH_BACKUPS_SUCCESS="SERVER_FETCH_BACKUPS_SUCCESS",t.SERVER_FETCH_BACKUPS_FAILURE="SERVER_FETCH_BACKUPS_FAILURE",t.SERVER_FETCH_SETTINGS_REQUEST="SERVER_FETCH_SETTINGS_REQUEST",t.SERVER_FETCH_SETTINGS_SUCCESS="SERVER_FETCH_SETTINGS_SUCCESS",t.SERVER_FETCH_SETTINGS_FAILURE="SERVER_FETCH_SETTINGS_FAILURE",t.SERVER_UPDATE_SETTINGS_REQUEST="SERVER_UPDATE_SETTINGS_REQUEST"),u=t.SERVER_UPDATE_SETTINGS_SUCCESS="SERVER_UPDATE_SETTINGS_SUCCESS",d=t.SERVER_UPDATE_SETTINGS_FAILURE="SERVER_UPDATE_SETTINGS_FAILURE",c=t.SERVER_CREATE_ROLE_REQUEST="SERVER_CREATE_ROLE_REQUEST",f=t.SERVER_CREATE_ROLE_SUCCESS="SERVER_CREATE_ROLE_SUCCESS",p=t.SERVER_CREATE_ROLE_FAILURE="SERVER_CREATE_ROLE_FAILURE",m=(t.serverInfoChange=function(e){return function(t,n){return t({type:o,serverInfo:e})}},t.serverConnected=function(){return function(e,t){return e({type:i})}},t.serverDisconnected=function(){return function(e,t){return e({type:l})}},function(e,t){return function(n,o){var i=o().server,l=i.location+"/database/"+i.databaseId;return n(a({},r.CALL_API,{types:["SERVER_FETCH_"+e+"_REQUEST","SERVER_FETCH_"+e+"_SUCCESS","SERVER_FETCH_"+e+"_FAILURE"],endpoint:l+t,method:"GET"}))}}),h=(t.fetchUsers=function(){return m("USERS","/user")},t.fetchRoles=function(){return m("ROLES","/role")},t.fetchExternalSources=function(){return m("EXTERNAL_SOURCES","/external-source")},t.fetchBackups=function(){return m("BACKUPS","/backupWithLogs")},t.fetchSettings=function(){return m("SETTINGS","/settings")},function(e){return function(t,n){var o=n().server,i=o.location+"/database/"+o.databaseId;return t(a({},r.CALL_API,{types:[s,u,d],endpoint:i+"/settings",method:"POST",body:e}))}});t.updateSettingsViewOrder=function(e){return h({viewOrder:e})},t.updateSettingsModelOrder=function(e){return h({modelOrder:e})},t.createRole=function(e){return function(t,n){var o=n().server,i=o.location+"/database/"+o.databaseId;return t(a({},r.CALL_API,{types:[c,f,p],endpoint:i+"/role",method:"POST",body:{name:e}}))}}},806:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteModel=t.saveModel=t.deleteView=t.saveView=t.fetchContext=t.MODEL_DELETE_FAILURE=t.MODEL_DELETE_SUCCESS=t.MODEL_DELETE_REQUEST=t.MODEL_SAVE_FAILURE=t.MODEL_SAVE_SUCCESS=t.MODEL_SAVE_REQUEST=t.VIEW_DELETE_FAILURE=t.VIEW_DELETE_SUCCESS=t.VIEW_DELETE_REQUEST=t.VIEW_SAVE_FAILURE=t.VIEW_SAVE_SUCCESS=t.VIEW_SAVE_REQUEST=t.CONTEXT_FETCH_FAILURE=t.CONTEXT_FETCH_SUCCESS=t.CONTEXT_FETCH_REQUEST=void 0;var r=n(102),o=t.CONTEXT_FETCH_REQUEST="CONTEXT_FETCH_REQUEST",i=t.CONTEXT_FETCH_SUCCESS="CONTEXT_FETCH_SUCCESS",l=t.CONTEXT_FETCH_FAILURE="CONTEXT_FETCH_FAILURE",s=t.VIEW_SAVE_REQUEST="VIEW_SAVE_REQUEST",u=t.VIEW_SAVE_SUCCESS="VIEW_SAVE_SUCCESS",d=t.VIEW_SAVE_FAILURE="VIEW_SAVE_FAILURE",c=t.VIEW_DELETE_REQUEST="VIEW_DELETE_REQUEST",f=t.VIEW_DELETE_SUCCESS="VIEW_DELETE_SUCCESS",p=t.VIEW_DELETE_FAILURE="VIEW_DELETE_FAILURE",m=t.MODEL_SAVE_REQUEST="MODEL_SAVE_REQUEST",h=t.MODEL_SAVE_SUCCESS="MODEL_SAVE_SUCCESS",g=t.MODEL_SAVE_FAILURE="MODEL_SAVE_FAILURE",v=t.MODEL_DELETE_REQUEST="MODEL_DELETE_REQUEST",y=t.MODEL_DELETE_SUCCESS="MODEL_DELETE_SUCCESS",b=t.MODEL_DELETE_FAILURE="MODEL_DELETE_FAILURE";t.fetchContext=function(){return function(e,t){var n=t().server,s=n.location+"/database/"+n.databaseId;return e(a({},r.CALL_API,{types:[o,i,l],endpoint:s+"/context",method:"GET"}))}},t.saveView=function(e){return function(t,n){var o=n().server,i=o.location+"/database/"+o.databaseId,l=!e.id;return t(a({},r.CALL_API,{types:[s,u,d],endpoint:i+(l?"/view":"/view/"+e.id),method:l?"POST":"PUT",body:e}))}},t.deleteView=function(e){return function(t,n){var o=n().server,i=o.location+"/database/"+o.databaseId;return t(a({},r.CALL_API,{types:[c,f,p],endpoint:i+"/view/"+e,method:"DELETE"}))}},t.saveModel=function(e){return function(t,n){var o=n().server,i=o.location+"/database/"+o.databaseId,l=!e.id;return t(a({},r.CALL_API,{types:[m,h,g],endpoint:i+(l?"/model":"/model/"+e.id),method:l?"POST":"PUT",body:e}))}},t.deleteModel=function(e){return function(t,n){var o=n().server,i=o.location+"/database/"+o.databaseId;return t(a({},r.CALL_API,{types:[v,y,b],endpoint:i+"/model/"+e,method:"DELETE"}))}}},807:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchToTabOptions=t.simpleFetch=t.updateTabOptions=t.openNewModel=t.openEditModel=t.openNewView=t.openEditView=t.openView=t.openSecondSidebar=t.selectTab=t.closeTabsRight=t.closeTabsLeft=t.closeAllTabs=t.closeOtherTabs=t.closeTab=t.forceCloseTab=t.closeExitPrompt=t.showExitPrompt=t.UI_TAB_SIMPLE_FETCH_FAILURE=t.UI_TAB_SIMPLE_FETCH_SUCCESS=t.UI_TAB_SIMPLE_FETCH_REQUEST=t.UI_TAB_FETCH_TO_OPTIONS_FAILURE=t.UI_TAB_FETCH_TO_OPTIONS_SUCCESS=t.UI_TAB_FETCH_TO_OPTIONS_REQUEST=t.UI_TAB_UPDATE_OPTIONS=t.UI_OPEN_SECOND_SIDEBAR=t.UI_SELECT_TAB=t.UI_CLOSE_TAB_RIGHT=t.UI_CLOSE_TAB_LEFT=t.UI_CLOSE_ALL_TABS=t.UI_CLOSE_OTHER_TABS=t.UI_CLOSE_TAB=t.UI_OPEN_TAB=t.UI_CLOSE_EXIT_PROMPT=t.UI_SHOW_EXIT_PROMPT=void 0;var r=n(102),o=n(299),i=t.UI_SHOW_EXIT_PROMPT="UI_SHOW_EXIT_PROMPT",l=t.UI_CLOSE_EXIT_PROMPT="UI_CLOSE_EXIT_PROMPT",s=t.UI_OPEN_TAB="UI_OPEN_TAB",u=t.UI_CLOSE_TAB="UI_CLOSE_TAB",d=t.UI_CLOSE_OTHER_TABS="UI_CLOSE_OTHER_TABS",c=t.UI_CLOSE_ALL_TABS="UI_CLOSE_ALL_TABS",f=t.UI_CLOSE_TAB_LEFT="UI_CLOSE_TAB_LEFT",p=t.UI_CLOSE_TAB_RIGHT="UI_CLOSE_TAB_RIGHT",m=t.UI_SELECT_TAB="UI_SELECT_TAB",h=t.UI_OPEN_SECOND_SIDEBAR="UI_OPEN_SECOND_SIDEBAR",g=t.UI_TAB_UPDATE_OPTIONS="UI_TAB_UPDATE_OPTIONS",v=t.UI_TAB_FETCH_TO_OPTIONS_REQUEST="UI_TAB_FETCH_TO_OPTIONS_REQUEST",y=t.UI_TAB_FETCH_TO_OPTIONS_SUCCESS="UI_TAB_FETCH_TO_OPTIONS_SUCCESS",b=t.UI_TAB_FETCH_TO_OPTIONS_FAILURE="UI_TAB_FETCH_TO_OPTIONS_FAILURE",E=t.UI_TAB_SIMPLE_FETCH_REQUEST="UI_TAB_SIMPLE_FETCH_REQUEST",w=t.UI_TAB_SIMPLE_FETCH_SUCCESS="UI_TAB_SIMPLE_FETCH_SUCCESS",_=t.UI_TAB_SIMPLE_FETCH_FAILURE="UI_TAB_SIMPLE_FETCH_FAILURE",C=(t.showExitPrompt=function(){return function(e,t){return e({type:i})}},t.closeExitPrompt=function(){return function(e,t){return e({type:l})}},function(e,t,n){return function(a,r){var o=t&&(t.ctrlKey||t.metaKey);return a({type:s,forceNewTab:o,tabType:e,options:n})}});t.forceCloseTab=function(e){return function(t,n){return t({type:u,tabId:e})}},t.closeTab=function(e){return function(t,n){var r;return t((a(r={type:u},o.CLOSE_TAB_MIDDLEWARE,!0),a(r,"tabId",e),r))}},t.closeOtherTabs=function(e){return function(t,n){var r;return t((a(r={type:d},o.CLOSE_TAB_MIDDLEWARE,!0),a(r,"tabId",e),r))}},t.closeAllTabs=function(){return function(e,t){return e(a({type:c},o.CLOSE_TAB_MIDDLEWARE,!0))}},t.closeTabsLeft=function(e){return function(t,n){var r;return t((a(r={type:f},o.CLOSE_TAB_MIDDLEWARE,!0),a(r,"tabId",e),r))}},t.closeTabsRight=function(e){return function(t,n){var r;return t((a(r={type:p},o.CLOSE_TAB_MIDDLEWARE,!0),a(r,"tabId",e),r))}},t.selectTab=function(e){return function(t,n){return t({type:m,tabId:e})}},t.openSecondSidebar=function(e){return function(t,n){return t({type:h,secondSidebar:e})}},t.openView=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).filter;return C("VIEW",t,{viewId:e,filter:n})},t.openEditView=function(e,t){return C("EDIT_VIEW",t,{viewId:e})},t.openNewView=function(e,t){return C("EDIT_VIEW",t,{newView:e})},t.openEditModel=function(e,t){return C("EDIT_MODEL",t,{modelId:e})},t.openNewModel=function(e,t){return C("EDIT_MODEL",t,{newModel:e})},t.updateTabOptions=function(e,t){return function(n,a){return n({type:g,tabId:e,options:t})}},t.simpleFetch=function(e){return function(t,n){var o=n().server,i=o.location+"/database/"+o.databaseId;return t(a({},r.CALL_API,{types:[E,w,_],endpoint:i+e.endpoint,method:e.method,body:e.body}))}},t.fetchToTabOptions=function(e,t,n){return function(o,i){var l,s=i().server,u=s.location+"/database/"+s.databaseId;return o((a(l={},r.CALL_API,{types:[v,y,b],endpoint:u+n.endpoint,method:n.method,body:n.body}),a(l,"tabId",e),a(l,"requestKey",t),l))}}},808:function(e,t,n){"use strict";(function(a){function r(e,t){return t&&t._originalAdmin?(e._originalAdmin=!0,e.admin=t.admin):e._originalAdmin=e._originalAdmin||e.admin,a.Raven&&Raven.setUserContext({user:e,ignoreAdmin:e._originalAdmin&&!e.admin}),e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.USER_LOGIN_REQUEST:return{loggingIn:!0};case i.USER_LOGIN_SUCCESS:return{loggedIn:!0,user:r(t.response)};case i.USER_LOGIN_FAILURE:return{};case i.USER_LOGOUT_REQUEST:return{loggedIn:e.loggedIn,user:e.user,loggingOut:!0};case i.USER_LOGOUT_SUCCESS:return a.Raven&&Raven.setUserContext(),{};case i.USER_LOGOUT_FAILURE:return{loggedIn:e.loggedIn,user:e.user};case i.USER_TOGGLE_IGNORE_ADMIN:return function(e){if(e.user&&e.user._originalAdmin)return o({},e,{user:o({},e.user,{admin:!e.user.admin})})}(e);case i.USER_UPDATE_PREFERENCES_SUCCESS:return o({},e,{user:r(t.response,e.user)});default:return e}};var i=n(27);e.exports=t.default}).call(t,n(7))},809:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(e=r({},e,function(e,t){var n=t.type&&t.type.match(/SERVER_FETCH_(USERS|ROLES|EXTERNAL_SOURCES|BACKUPS|SETTINGS)_(REQUEST|SUCCESS|FAILURE)/);if(n){var o,l=(0,i.camelCase)(n[1]),s=n[2],u=e[l]||("settings"===l?{}:[]),d=u,c=!1;switch(s){case"REQUEST":c=!0;break;case"SUCCESS":d=t.response;break;case"FAILURE":e.response}return r({},e,(a(o={},l,d),a(o,l+"Fetching",c),a(o,l+"FetchFailed",null),o))}}(e,t)),t.type){case o.SERVER_CONNECTED:return r({},e,{connected:!0,info:null});case o.SERVER_DISCONNECTED:return r({},e,{connected:!1,info:null});case o.SERVER_INFO_CHANGE:return r({},e,{info:t.serverInfo});case o.USER_LOGOUT_SUCCESS:case o.USER_TOGGLE_IGNORE_ADMIN:return{appName:e.appName,location:e.location,databaseId:e.databaseId,connected:!1};case o.SERVER_UPDATE_SETTINGS_REQUEST:return r({},e,{settingsUpdating:!0});case o.SERVER_UPDATE_SETTINGS_SUCCESS:return r({},e,{settings:t.response,settingsUpdating:!1});case o.SERVER_UPDATE_SETTINGS_FAILURE:return r({},e,{settingsUpdating:!1});case o.SERVER_CREATE_ROLE_SUCCESS:return r({},e,{roles:t.response,rolesFetching:!1,rolesFetchFailed:null});default:return e}};var o=n(27),i=n(8);e.exports=t.default},810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.CONTEXT_FETCH_REQUEST:return a({},e,{fetching:!0});case r.CONTEXT_FETCH_SUCCESS:return a({},function(e){i("model",e),i("field",e),i("relation",e);var t=e.models,n=e.fields,a=e.relations,r=e.externalSource,l=e.views,s=e.viewColumns,u=e.viewUserPermissions;(0,o.each)(n,function(e){var n=t[e.data_model_id];n&&(n.fields=n.fields||[],n.fields.push(e))}),(0,o.each)(t,function(e){e.fields=(0,o.sortBy)(e.fields||[],"order").map(function(e){return e.id})}),(0,o.each)(a,function(e){var n=t[e.model_from_id],a=t[e.model_to_id];n&&(n.relations=n.relations||[],n.relations.push(e)),a&&n!==a&&(a.relations=a.relations||[],a.relations.push(e))}),(0,o.each)(t,function(e){e.relations=(0,o.sortBy)(e.relations||[],"order").map(function(e){return e.id})}),(0,o.each)(r,function(e){var n=t[e.data_model_id];n&&(n.externalSource=e)}),(0,o.each)(s,function(e){var t=l[e.data_view_id];t&&(t.columns=t.columns||[],t.otherColumns=t.otherColumns||[],"TABLE"!==e.scope||!e.field_id&&e.relation_id?("TABLE"===e.scope&&(e.scope="EDIT_FORM"),t.otherColumns.push(e)):t.columns.push(e),"TABLE"!==t.type||t.info||(t._allColumns=t._allColumns||[],t._allColumns.push(e)))}),(0,o.each)(l,function(e){if(e.columns=(0,o.sortBy)(e.columns||[],"order").map(function(e){return e.id}),e.otherColumns=(0,o.sortBy)(e.otherColumns||[],"id").map(function(e){return e.id}),"TABLE"===e.type&&!e.info){e._allColumns=(0,o.sortBy)(e._allColumns||[],"order");var t=[];(0,o.each)(e._allColumns,function(e){if(!e.field_id&&e.relation_id)t.push({type:"input",inputType:"relation",relationId:e.relation_id,relationIsBack:e.relation_is_back,relationName:e.name,searchTemplate:e.searchTemplate});else if(e.field_id&&!e.relation_id){var a=n[e.field_id];!a||a.function_id||a.readOnly||t.push({type:"input",inputType:"field",fieldId:e.field_id,fieldName:e.name})}});var a=[{type:"row",children:[{type:"column",children:t}]}];e.info={editForm:a},delete e._allColumns}});var d=[];return(0,o.each)(e.viewPermissions,function(e){(0,o.each)(e,function(e){d.push(e)})}),(0,o.each)(l,function(e){e.permissions=e.permissions||[]}),(0,o.each)(d,function(e){var t=l[e.data_view_id];t&&t.permissions.push(e)}),(0,o.each)(l,function(e){var t=u&&u[e.id];e.userPermissions=t?[t]:[]}),{models:t,fields:n,relations:a,externalSources:r,views:l,viewColumns:s,viewPermissions:d}}(t.response));case r.CONTEXT_FETCH_FAILURE:return a({},e,{fetchFailed:e.response,fetching:!1});case r.USER_LOGOUT_SUCCESS:case r.USER_TOGGLE_IGNORE_ADMIN:return{};default:return e}};var r=n(27),o=n(8),i=function(e,t){var n=e+"s",a="mapped"+(0,o.upperFirst)(n),r="inverseMapped"+(0,o.upperFirst)(n),i="virtual_"+e+"_id",l="mapped_"+e+"_id";_.each(t[e+"s"],function(e){e[a]=[],e[r]=[]}),_.each(t["mapped"+(0,o.upperFirst)(n)],function(e){_.each(e,function(e){var o=e[i],s=e[l];t[n][o][a].push(s),t[n][s][r].push(o)})})};e.exports=t.default},811:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){var a=[],r=null;if("number"==typeof n){var o=(0,u.findIndex)(e.tabs,function(e){return e.id===n});-1!==o&&(r=n,a.push(e.tabs[o]))}return l({},e,{selectedTab:r,tabs:a})}function o(e,t,n){var a=e.tabs?(0,u.clone)(e.tabs):[],r=(0,u.findIndex)(a,function(e){return e.id===t.tabId});return-1!==r?(n?a.splice(r+1,a.length-r-1):a.splice(0,r),l({},e,{selectedTab:t.tabId,tabs:a})):e}function i(e){var t=e.selectedTab?(0,u.findIndex)(e.tabs,function(t){return t.id===e.selectedTab}):-1;if(-1===t)return e.secondSidebar?l({},e,{secondSidebar:null}):e;var n=e.tabs[t];return"EDIT_VIEW"===n.type||"EDIT_MODEL"===n.type?"MODELS"!==e.secondSidebar?l({},e,{secondSidebar:"MODELS"}):e:e.secondSidebar?l({},e,{secondSidebar:null}):e}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.UI_SHOW_EXIT_PROMPT:return l({},e,{showExitPrompt:!0});case s.UI_CLOSE_EXIT_PROMPT:return l({},e,{showExitPrompt:!1});case s.UI_OPEN_TAB:return i(function(e,t){t.forceNewTab;var n=e.tabs?(0,u.clone)(e.tabs):[],a={id:d++,type:t.tabType,options:t.options};return n.push(a),l({},e,{selectedTab:a.id,tabs:n})}(e,t));case s.UI_CLOSE_TAB:return i(function(e,t){var n=e.tabs?(0,u.clone)(e.tabs):[],a=(0,u.findIndex)(n,function(e){return e.id===t.tabId});if(-1!==a){n.splice(a,1);var r=e.selectedTab;return t.tabId===r&&(r=a===n.length?0===a?null:n[a-1].id:n[a].id),l({},e,{selectedTab:r,tabs:n})}return e}(e,t));case s.UI_CLOSE_OTHER_TABS:return i(r(e,t,t.tabId));case s.UI_CLOSE_ALL_TABS:return i(r(e,t,null));case s.UI_CLOSE_TAB_LEFT:return i(o(e,t,!1));case s.UI_CLOSE_TAB_RIGHT:return i(o(e,t,!0));case s.UI_SELECT_TAB:return i(function(e,t){return l({},e,{selectedTab:t.tabId})}(e,t));case s.UI_OPEN_SECOND_SIDEBAR:return l({},e,{secondSidebar:t.secondSidebar});case s.UI_TAB_UPDATE_OPTIONS:return function(e,t){var n=t.tabId,r=t.options,o=n?(0,u.findIndex)(e.tabs,function(e){return e.id===n}):-1;if(-1!==o){var i=e.tabs[o];i=l({},i,{options:l({},i.options,r)});var s=[].concat(a(e.tabs));return s.splice(o,1,i),l({},e,{tabs:s})}return e}(e,t);case s.UI_TAB_FETCH_TO_OPTIONS_REQUEST:case s.UI_TAB_FETCH_TO_OPTIONS_SUCCESS:case s.UI_TAB_FETCH_TO_OPTIONS_FAILURE:return function(e,t){var n=t.tabId,r=t.requestKey,o=n?(0,u.findIndex)(e.tabs,function(e){return e.id===n}):-1;if(-1!==o){var i,d=e.tabs[o],c=!1;switch(t.type){case s.UI_TAB_FETCH_TO_OPTIONS_REQUEST:c=!0;break;case s.UI_TAB_FETCH_TO_OPTIONS_SUCCESS:i=t.response;break;case s.UI_TAB_FETCH_TO_OPTIONS_FAILURE:e.response}d=l({},d,{options:l({},d.options)}),void 0!==i&&(d.options[r]=i),d.options[r+"Loading"]=c,d.options[r+"Failed"]=!1;var f=[].concat(a(e.tabs));return f.splice(o,1,d),l({},e,{tabs:f})}return e}(e,t);default:return e}};var s=n(27),u=n(8),d=1;e.exports=t.default},814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.init=function(e){new s(e).startIfNeeded()},n(8);var r,o=n(27),i=n(815),l=(r=i)&&r.__esModule?r:{default:r},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.started=!1,this.loggedIn=!1,this.onStoreChanged=this.onStoreChanged.bind(this),this.onConnect=this.onConnect.bind(this),this.onDisconnect=this.onDisconnect.bind(this),this.onModelsChanged=this.onModelsChanged.bind(this),this.onViewsChanged=this.onViewsChanged.bind(this),this.onContextChanged=this.onContextChanged.bind(this),this.onUsersChanged=this.onUsersChanged.bind(this),this.onRolesChanged=this.onRolesChanged.bind(this),this.onExternalSourcesChanged=this.onExternalSourcesChanged.bind(this),this.onBackupSettingsChanged=this.onBackupSettingsChanged.bind(this),this.onServerInfoChanged=this.onServerInfoChanged.bind(this),this.onSettingsChanged=this.onSettingsChanged.bind(this);var n={leading:!1,trailing:!0};this.onContextChanged=_.throttle(this.onContextChanged,50,n),this.onUsersChanged=_.throttle(this.onUsersChanged,50,n),this.onRolesChanged=_.throttle(this.onRolesChanged,50,n),this.onExternalSourcesChanged=_.throttle(this.onExternalSourcesChanged,50,n),this.onBackupSettingsChanged=_.throttle(this.onBackupSettingsChanged,50,n),this.store.subscribe(this.onStoreChanged)}return a(e,[{key:"onStoreChanged",value:function(){var e=this.store.getState().auth,t=e.loggedIn,n=e.user,a=this.loggedIn,r=this.user;this.loggedIn=t,this.user=n,a!==t?t?this.start():this.stop():n&&r&&n.admin!==r.admin&&(this.stop(),this.start())}},{key:"startIfNeeded",value:function(){this.onStoreChanged()}},{key:"start",value:function(){if(!this.started){console.log("NotificationListener: starting notification listener");var e=this.store.getState().server,t=e.location,n=e.databaseId;this.socket=(0,l.default)(t+"/socket/notifications",{multiplex:!1,reconnection:!0,query:"dbId="+n}),this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisconnect),this.socket.on("models_changed",this.onContextChanged),this.socket.on("views_changed",this.onContextChanged),this.socket.on("users_changed",this.onUsersChanged),this.socket.on("roles_changed",this.onRolesChanged),this.socket.on("external_source_changed",this.onExternalSourcesChanged),this.socket.on("backup_settings_changed",this.onBackupSettingsChanged),this.socket.on("server_info",this.onServerInfoChanged),this.socket.on("settings_changed",this.onSettingsChanged),this.started=!0}}},{key:"stop",value:function(){this.started&&(console.log("NotificationListener: stopping notification listener"),this.socket.disconnect(!0),this.onDisconnect(),this.started=!1)}},{key:"isAdmin",value:function(){var e=this.store.getState().auth.user;return e&&e.admin}},{key:"onConnect",value:function(){this.store.dispatch((0,o.serverConnected)()),this.onContextChanged(),this.onUsersChanged(),this.onRolesChanged(),this.onExternalSourcesChanged(),this.onBackupSettingsChanged(),this.onSettingsChanged()}},{key:"onDisconnect",value:function(){this.store.dispatch((0,o.serverDisconnected)())}},{key:"onModelsChanged",value:function(){this.onContextChanged()}},{key:"onViewsChanged",value:function(){this.onContextChanged()}},{key:"onContextChanged",value:function(){this.store.dispatch((0,o.fetchContext)())}},{key:"onUsersChanged",value:function(){this.isAdmin()&&this.store.dispatch((0,o.fetchUsers)())}},{key:"onRolesChanged",value:function(){this.isAdmin()&&this.store.dispatch((0,o.fetchRoles)())}},{key:"onExternalSourcesChanged",value:function(){this.store.dispatch((0,o.fetchExternalSources)())}},{key:"onBackupSettingsChanged",value:function(){this.store.dispatch((0,o.fetchBackups)())}},{key:"onServerInfoChanged",value:function(e){this.store.dispatch((0,o.serverInfoChange)(e))}},{key:"onSettingsChanged",value:function(){this.store.dispatch((0,o.fetchSettings)())}}]),e}();t.default=s},832:function(e,t){},835:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),l=a(i),s=n(26),u=a(n(63)),d=(a(n(836)),a(n(2))),c=n(10),f=a(n(857)),p=a(n(858)),m=a(n(859));(0,c.addLocaleData)([].concat(r(f.default),r(p.default)));var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.initLanguage(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.props.language!==e.language&&this.setState(this.initLanguage(e))}},{key:"initLanguage",value:function(e){var t=e.language;u.default.locale(t),d.default.locale(t);var n=t.toLowerCase().split(/[_-]+/)[0];return{messages:m.default[t]||m.default[n]||m.default.en}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.language,a=this.state.messages;return l.default.createElement(c.IntlProvider,{locale:n,key:n,messages:a},t)}}]),t}();t.default=(0,s.connect)(function(e,t){return{language:e.intl.language}})(h),e.exports=t.default},838:function(e,t){},846:function(e,t){},853:function(e,t){},859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(860),r=n(861);t.default={en:a,it:r},e.exports=t.default},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.relationNameRegexp=t.fieldNameRegexp=t.modelNameRegexp=t.defaultViewIcon=void 0;var a,r=n(477),o=(a=r)&&a.__esModule?a:{default:a};t.defaultViewIcon="fa-table",t.modelNameRegexp=new o.default("^\\p{Lu}[\\p{L}\\p{N}_]*$"),t.fieldNameRegexp=new o.default("^\\p{Ll}[\\p{L}\\p{N}_]*$"),t.relationNameRegexp=new o.default("^\\p{Ll}[\\p{L}\\p{N}_]*$")},860:function(e,t){e.exports={"Login.title":"Login","Login.description":"Enter your credentials:","Login.username":"Username","Login.password":"Password","Login.errors.invalidCredential":"Invalid credentials","Login.errors.changePasswordRequired":"Change of password required","Login.errors.newVersionAvailable":"New version available","Login.errors.genericError":"There was an error trying to login","Login.rememberMe":"Remember me","Login.loginButton":"Login","User.disableAdminMode":"Disable admin mode","User.enableAdminMode":"Enable admin mode","User.logout":"Logout","Dialog.successButton":"Ok","Dialog.cancelButton":"Cancel","EditView.newViewBaseName":"New View","EditView.delete.confirmTitle":"Confirm deletion","EditView.delete.confirmMessage":"Are you sure to delete the view?","EditView.delete.confirmButton":"Delete the view","EditView.error.title":"Error","EditView.error.createErrorMessage":"Error trying to create the view.","EditView.error.deleteErrorMessage":"Error trying to delete the view","EditView.serverUpdateReceivedTitle":"Changes detected","EditView.serverUpdateReceivedMessage":"The view has been reloaded because the server sent some changes.","EditView.title":"View","EditView.deleteView":"Delete view","EditView.save":"Save","EditView.cancel":"Cancel","EditView.viewName":"View name","EditView.icon":"Icon","EditView.modelName":"Model","EditView.columnsSectionTitle":"Columns","ConnectionInfo.connected":"Connected","ConnectionInfo.disconnected":"Disconnected","ConnectionInfo.address":"Address:","AbstractSidebar.cancelChanges":"Cancel","AbstractSidebar.saveChanges":"Save","Sidebar.settings":"Settings","Sidebar.settings.models":"Data Models","Sidebar.settings.users":"Users","Sidebar.settings.backups":"Backups","Sidebar.newFolderName":"New folder","Sidebar.contextMenu.openView":"Open view","Sidebar.contextMenu.openViewInNewTab":"Open view in a new tab","Sidebar.contextMenu.editView":"Edit view","Sidebar.contextMenu.editOrdering":"Edit order","Sidebar.contextMenu.newFolder":"New folder","Sidebar.contextMenu.removeFolder":"Remove folder"}},861:function(e,t){e.exports={"Login.username":"Nome utente","Login.password":"Password","Login.errors.invalidCredential":"Nome utente o password errati","Login.errors.changePasswordRequired":"È richiesto il cambio password","Login.errors.newVersionAvailable":"Nuova versione disponibile","Login.errors.genericError":"Errore durante il login","Login.title":"Login","Login.description":"Inserisci le tue credenziali:","Login.loginButton":"Login","Login.rememberMe":"Ricorda credenziali","Dialog.successButton":"Ok","Dialog.cancelButton":"Annulla","EditView.newViewBaseName":"Nuova Vista","EditView.delete.confirmTitle":"Conferma eliminazione","EditView.delete.confirmMessage":"Se sicuro di voler eliminare la vista?","EditView.delete.confirmButton":"Elimina la vista","EditView.error.title":"Errore","EditView.error.createErrorMessage":"Errore durante la creazione della vista.","EditView.error.deleteErrorMessage":"Errore durante l'eliminazione della vista","EditView.serverUpdateReceivedTitle":"Cambiamenti riscontrati","EditView.serverUpdateReceivedMessage":"La vista è stata ricaricata perché il server ha inviato dei cambiamenti.","EditView.title":"Vista","EditView.deleteView":"Elimina vista","EditView.save":"Salva","EditView.cancel":"Annulla","EditView.viewName":"Nome vista","EditView.icon":"Icona","EditView.modelName":"Modello","EditView.columnsSectionTitle":"Colonne","User.disableAdminMode":"Disabilita modalità amministratore","User.enableAdminMode":"Abilita modalità amministratore","User.logout":"Logout","ConnectionInfo.connected":"Connesso","ConnectionInfo.disconnected":"Non connesso","ConnectionInfo.address":"Indirizzo:","AbstractSidebar.cancelChanges":"Annulla","AbstractSidebar.saveChanges":"Salva","Sidebar.settings":"Impostazioni","Sidebar.settings.models":"Modelli dei Dati","Sidebar.settings.users":"Utenti","Sidebar.settings.backups":"Backup","Sidebar.newFolderName":"Nuova cartella","Sidebar.contextMenu.openView":"Apri vista","Sidebar.contextMenu.openViewInNewTab":"Apri vista in una nuova scheda","Sidebar.contextMenu.editView":"Modifica vista","Sidebar.contextMenu.editOrdering":"Modifica ordinamento","Sidebar.contextMenu.newFolder":"Nuova cartella","Sidebar.contextMenu.removeFolder":"Rimuovi cartella"}},862:function(e,t){},864:function(e,t){},865:function(e,t){},866:function(e,t){},867:function(e,t){},868:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return u.default.createElement("span",null,"×")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=a(n(1)),d=n(26),c=n(100),f=n(186),p=n(440),m=a(n(905)),h=(a(n(1615)),n(13)),g=n(27),v=n(10);(0,f.style)({colorDefault:"#fff",colorInfo:"#63c2de",colorSuccess:"#4dbd74",colorWarning:"#ffc107",colorError:"#f86c6b"});var y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.close=n.close.bind(n),n}return i(t,u.default.Component),s(t,[{key:"close",value:function(){window.onbeforeunload=null,window.close()}},{key:"render",value:function(){var e=this.props,t=e.showExitPrompt,n=e.closeExitPrompt;return u.default.createElement(h.Modal,{centered:!0,isOpen:t,toggle:n},u.default.createElement(h.ModalHeader,{toggle:n},u.default.createElement(v.FormattedMessage,{id:"App.confirmClose.title",defaultMessage:"Confirm close"})),u.default.createElement(h.ModalBody,null,u.default.createElement(v.FormattedMessage,{id:"App.confirmClose.message",defaultMessage:"Unsaved data will be lost. Are you sure you want to quit?"})),u.default.createElement(h.ModalFooter,null,u.default.createElement(h.Button,{color:"primary",onClick:this.close},u.default.createElement(v.FormattedMessage,{id:"App.confirmClose.closeButton",defaultMessage:"Close"}))," ",u.default.createElement(h.Button,{color:"secondary",onClick:n},u.default.createElement(v.FormattedMessage,{id:"App.confirmClose.cancelButton",defaultMessage:"Cancel"}))))}}]),t}(),b={closeExitPrompt:g.closeExitPrompt},E=(0,d.connect)(function(e,t){return{showExitPrompt:e.ui.showExitPrompt||!1}},b)(y),w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u.default.Component),s(t,[{key:"render",value:function(){var e=this.props.location.pathname;return(0,p.pageForPath)(e),u.default.createElement("div",{className:"app-main"},null,u.default.createElement(m.default,null),u.default.createElement(f.ToastContainer,{toastClassName:"app-toast",closeButton:u.default.createElement(l,null)}),u.default.createElement(E,null))}}]),t}();t.default=(0,c.withRouter)(w),e.exports=t.default},905:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=a(n(1)),l=n(100),s=n(26),u=n(440),d=a(n(906)),c=a(n(1532)),f=a(n(1613)),p=a(n(1614)),m={};m.PortalPage=d.default,m.LoginPage=c.default,m.Greeting=f.default,m.ErrorPage=p.default;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props.component;if(!this.props.user)return i.default.createElement(l.Redirect,{to:{pathname:"/app/login",state:{from:this.props.location}},push:!0});var t=Object.assign({},this.props);return delete t.component,delete t.dispatch,delete t.user,delete t.page,i.default.createElement(e,t)}}]),t}(),g=(0,s.connect)(function(e,t){return{user:e.auth.user}})(h);t.default=function(){var e=u.pages.map(function(e,t){var n=m[e.component],a=n;return e.requireLogin&&(a=function(t){return i.default.createElement(g,r({},t,{component:n,page:e}))}),e.path?i.default.createElement(l.Route,{key:t,exact:e.exact,path:e.path,component:a}):i.default.createElement(l.Route,{key:t,component:a})});return i.default.createElement(l.Switch,null,e)},e.exports=t.default},906:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),i=a(o),l=(n(13),n(26)),s=a(n(6)),u=a(n(921)),d=a(n(926)),c=a(n(1030)),f=a(n(1031)),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.secondSidebar;return i.default.createElement("div",{className:(0,s.default)("app",e&&"has-two-sidebars")},i.default.createElement(u.default,null),i.default.createElement("div",{className:"app-body"},i.default.createElement(d.default,null),e&&function(e){switch(e){case"MODELS":return i.default.createElement(c.default,null)}return null}(e),i.default.createElement("main",{className:"main"},i.default.createElement(f.default,null))))}}]),t}();t.default=(0,l.connect)(function(e,t){return{secondSidebar:e.ui.secondSidebar}},{})(p),e.exports=t.default},921:function(t,n,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=a(1),u=r(s),d=(r(a(0)),a(26)),c=a(10),f=a(13),p=r(a(6)),m=r(a(189)),h=a(27),g=a(8),v=r(a(54)),y=a(923),b=r(a(2)),E=r(a(924)),w=r(a(925)),_={it:E.default,en:w.default},C={style:{height:15,width:20,marginRight:10,marginLeft:-10,marginTop:4,marginBottom:-4},viewBox:"0 0 480 640"},k=["it","en"],S=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.toggleAdmin=t.toggleAdmin.bind(t),t.logout=t.logout.bind(t),t.state={backupsInfo:{}},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.Component),l(n,[{key:"componentWillReceiveProps",value:function(e){var t=this;e&&e.backups&&e.backups.forEach(function(e){var n=t.props.backups&&(0,g.find)(t.props.backups,function(t){return t.id===e.id});n&&n.currentCheckId&&!e.currentCheckId&&t.dismissLocalError(e)})}},{key:"sidebarToggle",value:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-hidden")}},{key:"mobileSidebarToggle",value:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-mobile-show")}},{key:"toggleAdmin",value:function(){this.props.toggleIgnoreAdmingAction()}},{key:"logout",value:function(){this.props.logoutAction()}},{key:"openBackup",value:function(e){}},{key:"openBackupSettings",value:function(){}},{key:"isBackingUp",value:function(e){var t=this.state.backupsInfo[e.id];return t&&t.backingUp}},{key:"backupNow",value:function(e){var t=this;this.setState({backupsInfo:i({},this.state.backupsInfo,o({},e.id,{backingUp:!0}))});var n=(0,y.getBackupNowQuery)(e);this.props.simpleFetch(n).then(function(n){n.type===h.UI_TAB_SIMPLE_FETCH_SUCCESS&&n.response&&n.response.success||t.onBackupError(e,n.response&&n.response.error||u.default.createElement(c.FormattedMessage,{id:"Header.backup.genericError",defaultMessage:"Backup error"}))})}},{key:"onBackupError",value:function(e,t){this.setState({backupsInfo:i({},this.state.backupsInfo,o({},e.id,{error:t}))})}},{key:"getLocalError",value:function(e){var t=this.state.backupsInfo[e.id];return t&&t.error}},{key:"dismissLocalError",value:function(e){this.setState({backupsInfo:i({},this.state.backupsInfo,o({},e.id,null))})}},{key:"render",value:function(){var t=this,n=this.props,a=n.appName,r=n.language,o=n.username,i=n.canBeAdmin,l=n.isAdmin,s=n.hasExternalSources,d=n.backups,h=n.intl,E=n.connected,w=n.serverInfo,S=n.serverAddress,T=h.formatMessage,O=d&&d.filter(function(e){return e.enabled}),M=d&&0===O.length||(0,g.some)(O,function(e){return e.error}),R=void 0;d&&(R=O.length>0?O.map(function(e,n){var r=t.isBackingUp(e)||!!e.currentCheckId,o=(0,y.getTitle)(e,T),i=(0,y.getDescription)(e,T,a),s=void 0;s=r?u.default.createElement(c.FormattedMessage,{id:"Header.backup.backingUp",defaultMessage:"Backing up..."}):(0,y.getLastBackupDescription)(e,T);var d=t.getLocalError(e),p=e.error;return u.default.createElement(f.DropdownItem,{key:n,tag:"div",style:{cursor:"default",minWidth:290,maxWidth:320,minHeight:r?50:0},disabled:!0},u.default.createElement("p",null,u.default.createElement("strong",{style:{cursor:"pointer"},onClick:function(){return l&&t.openBackup(e)}},o),u.default.createElement("br",null),u.default.createElement("span",null,i),u.default.createElement("br",null),u.default.createElement("span",{className:"text-muted"},s),!r&&u.default.createElement("span",{className:"pull-right",style:{marginBottom:10}},u.default.createElement(v.default,{className:"btn btn-sm btn-outline-secondary",onClick:function(n){n.preventDefault(),t.backupNow(e)}},u.default.createElement(c.FormattedMessage,{id:"Header.backup.backupNow",defaultMessage:"Backup now"})))),r&&u.default.createElement("div",{style:{width:"100%"}},u.default.createElement(f.Progress,{animated:!0,value:100})),u.default.createElement(f.Alert,{color:"danger",isOpen:!r&&!!d,toggle:function(n){n.preventDefault(),t.dismissLocalError(e)}},u.default.createElement("p",null,d)),!r&&!d&&p&&u.default.createElement(f.Alert,{color:"warning"},u.default.createElement("strong",{style:{paddingRight:3}},u.default.createElement(c.FormattedMessage,{id:"Header.backup.lastError",defaultMessage:"Last error"}),":"),u.default.createElement("small",null,(0,b.default)(e.timestamp||e.lastCheckEnd).fromNow()),u.default.createElement("br",null),u.default.createElement("p",null,p)))}):u.default.createElement(f.DropdownItem,{key:-1,disabled:!0,tag:"div",style:{cursor:"default"}},u.default.createElement("div",null,u.default.createElement(f.Alert,{color:"warning"},u.default.createElement("strong",null,u.default.createElement(c.FormattedMessage,{id:"Header.backup.notConfigure.title",defaultMessage:"Warning"})),u.default.createElement("br",null),u.default.createElement(c.FormattedMessage,{id:"Header.backup.notConfigure.message",defaultMessage:"Backup is not configured"}),l&&u.default.createElement("p",null,u.default.createElement(v.default,{className:"btn btn-sm btn-outline-secondary",onClick:function(n){e.preventDefault(),t.openBackupSettings()}},u.default.createElement(c.FormattedMessage,{id:"Header.backup.configure",defaultMessage:"Configure backup"})))))));var I=_[r.substring(0,2)],x=r.substring(0,2).toUpperCase();return u.default.createElement("header",{className:"app-header navbar"},u.default.createElement(f.NavbarToggler,{className:"d-lg-none",onClick:this.mobileSidebarToggle},u.default.createElement("span",{className:"navbar-toggler-icon"})),u.default.createElement(f.NavbarBrand,null,u.default.createElement("div",{className:"icon"},u.default.createElement(m.default,null)),u.default.createElement("span",null,a)),u.default.createElement(f.NavbarToggler,{className:"d-md-down-none",onClick:this.sidebarToggle},u.default.createElement("span",{className:"navbar-toggler-icon"})),u.default.createElement(f.Nav,{className:"ml-auto",navbar:!0},d&&u.default.createElement(f.UncontrolledDropdown,{nav:!0,inNavbar:!0,className:"backup-dropdown"},u.default.createElement(f.DropdownToggle,{nav:!0,caret:!0},M?u.default.createElement("i",{className:"fa fa-exclamation-triangle text-danger"}):u.default.createElement("i",{className:"fa fa-clock-o fa-fw"}),u.default.createElement(c.FormattedMessage,{id:"Header.backup.title",defaultMessage:"Backup"})),u.default.createElement(f.DropdownMenu,null,R)),s&&"TODO",u.default.createElement(f.UncontrolledDropdown,{nav:!0,inNavbar:!0,className:"user-dropdown"},u.default.createElement(f.DropdownToggle,{nav:!0,caret:!0},u.default.createElement("i",{className:"fa fa-user fa-fw"}),o),u.default.createElement(f.DropdownMenu,null,i&&u.default.createElement(f.DropdownItem,{onClick:this.toggleAdmin},l?u.default.createElement(c.FormattedMessage,{id:"User.disableAdminMode",defaultMessage:"Disable admin mode"}):u.default.createElement(c.FormattedMessage,{id:"User.enableAdminMode",defaultMessage:"Enable admin mode"})),u.default.createElement(f.DropdownItem,{tag:"a",onClick:function(e){e.preventDefault(),e.target.blur()}},u.default.createElement(I,C),x,u.default.createElement(f.DropdownMenu,{className:"language-dropdown"},k.map(function(e){var n=_[e],a=e.toUpperCase();return u.default.createElement(f.DropdownItem,{key:e,onClick:function(){return t.props.changeLanguage(e)}},u.default.createElement(n,C),a)}))),u.default.createElement(f.DropdownItem,{onClick:this.logout},u.default.createElement("i",{className:"fa fa-sign-out fa-fw"}),u.default.createElement(c.FormattedMessage,{id:"User.logout",defaultMessage:"Logout"})))),u.default.createElement(f.UncontrolledDropdown,{nav:!0,inNavbar:!0,className:"connection-status-dropdown"},u.default.createElement(f.DropdownToggle,{nav:!0},u.default.createElement("i",{className:(0,p.default)("fa fa-circle connection-status",E?"text-success":"text-danger")})),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{disabled:!0},u.default.createElement("div",{className:"connection-info-container"},E?u.default.createElement(c.FormattedMessage,{id:"ConnectionInfo.connected",defaultMessage:"Connected",tagName:"strong"}):u.default.createElement(c.FormattedMessage,{id:"ConnectionInfo.disconnected",defaultMessage:"Disconnected",tagName:"strong"}),u.default.createElement("br",null),u.default.createElement(c.FormattedMessage,{id:"ConnectionInfo.address",defaultMessage:"Address:",tagName:"i"}),S)),w&&u.default.createElement(f.DropdownItem,{disabled:!0},u.default.createElement("div",{className:"connection-info-container"},u.default.createElement("i",null,"CPU:")," ",Math.round(100*w.cpuUsage),"% ",u.default.createElement("br",null),u.default.createElement("i",null,"RAM:"),"  ",Math.round(w.memoryUsed/w.memoryTotal*100),"% ",u.default.createElement("br",null),u.default.createElement("i",null,"Disk Used:")," ",Math.round(w.diskUsed/w.diskTotal*100),"%"))))))}}]),n}(),T={logoutAction:h.logout,toggleIgnoreAdmingAction:h.toggleIgnoreAdming,changeLanguage:h.changeLanguage,simpleFetch:h.simpleFetch};n.default=(0,d.connect)(function(e,t){return{appName:e.server.appName,language:e.intl.language,username:e.auth.user&&e.auth.user.username,isAdmin:e.auth.user&&e.auth.user.admin,canBeAdmin:e.auth.user&&e.auth.user._originalAdmin,hasExternalSources:e.server.externalSources&&e.server.externalSources.raw&&e.server.externalSources.length,connected:e.server.connected,serverInfo:e.server.info,serverAddress:e.server.location||window.location.origin,backups:e.server.backups}},T)((0,c.injectIntl)(S)),t.exports=n.default},922:function(e,t,n){function a(e){return r.createElement("svg",e,r.createElement("g",null,r.createElement("g",null,[r.createElement("circle",{cx:"0",cy:"0",r:"45",fill:"#333333",key:0}),r.createElement("path",{strokeWidth:"11.4669",fill:"none",stroke:"#ff9933",d:"M -6.869 -39.92067153846159 L -17.87634311025901 -8.151785884852464 C -20.372671555129507 -0.9469979424262274 -15.514375716311378 4.245297355099756 -8.159751432622755 2.2328047101995026 L 8.159751432622754 -2.2328047101995026 C 15.514375716311378 -4.245297355099756 20.372671555129507 0.9469979424262274 17.87634311025901 8.151785884852464 L 6.869 39.92067153846159 ",key:1}),r.createElement("path",{fill:"#ff9933",d:"\n      M-8.869,-34.14836384615389 \n      L-22.692999999999998,-38.93812930457606\n      L-3.4392400000000016,-49.81948655384621 \n      L4.955,-29.358598387731725\n      Z\n    ",key:2}),r.createElement("path",{fill:"#ff9933",d:"\n      M8.869,34.14836384615389 \n      L-4.955,29.358598387731725\n      L3.4392400000000016,49.81948655384621 \n      L22.692999999999998,38.93812930457606\n      Z\n    ",key:3})])))}var r=n(1);a.displayName="Icon",a.defaultProps={version:"1.1",x:"0px",y:"0px",width:"512px",height:"512px",viewBox:"-50 -50 100 100",xmlSpace:"preserve"},e.exports=a,a.default=a},923:function(e,t,n){"use strict";function a(e){return e.lastSuccessfulBackup}Object.defineProperty(t,"__esModule",{value:!0}),t.getTitleLong=function(e,t){var n=e.info,a=(0,o.find)(u,function(e){return n.type===e.type});return a?t(a.name)+" - "+t(e.enabled?s.enabled:s.disabled):t(s.unknownName)},t.getTitle=function(e,t){var n=e.info,a=(0,o.find)(u,function(e){return n.type===e.type});return t(a?a.name:s.unknownName)},t.getDescription=function(e,t,n){var a=e.info;if("LOCAL"===a.type)return t(s.onLocalServerMessage,{appName:n});var r="";return a.address&&(r+=a.address),a.path&&(r&&!a.path.startsWith("/")&&(r+="/"),r+=a.path),r.trim()||"-"},t.getLastSuccessfulBackup=a,t.getLastBackupDescription=function(e,t){if(!e.id)return"-";var n=a(e);return n?t(s.lastBackup)+": "+(0,l.default)(n).fromNow():t(s.noBackup)},t.getBackupNowQuery=function(e){return{endpoint:"/backup/"+e.id+"/backupNow",method:"POST"}};var r,o=n(8),i=n(2),l=(r=i)&&r.__esModule?r:{default:r},s=(0,n(10).defineMessages)({enabled:{id:"Backup.enabled",defaultMessage:"Enabled"},disabled:{id:"Backup.disabled",defaultMessage:"Disabled"},noBackup:{id:"Backup.lastBackup.never",defaultMessage:"No backups"},lastBackup:{id:"Backup.lastBackup.last",defaultMessage:"Last backup"},unknownName:{id:"Backup.unknown.name",defaultMessage:"Unknown type"},localName:{id:"Backup.local.name",defaultMessage:"Local backup"},onLocalServerMessage:{id:"Backup.local.description",defaultMessage:"On {appName}'s server"},smbName:{id:"Backup.smb.name",defaultMessage:"SMB"},smbAddress:{id:"Backup.smb.address",defaultMessage:"Address"},smbUsername:{id:"Backup.smb.username",defaultMessage:"Username"},smbPassword:{id:"Backup.smb.password",defaultMessage:"Password"},smbPath:{id:"Backup.smb.path",defaultMessage:"Path"}}),u=[{type:"LOCAL",name:s.localName,disableTestConnection:!0,options:[]},{type:"SMB",name:s.smbName,options:[{option:"address",name:s.smbAddress},{option:"username",name:s.smbUsername},{option:"password",type:"password",name:s.smbPassword},{option:"path",name:s.smbPath}]}]},926:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n=Object.assign({},t),a=function e(t,n){return(t=t||[]).map(function(t){if("view"===t.type){var a=n[t.viewId];if(!a)return null;t.key="view-"+a.id,t.name=a.name,t.icon="fa fa-fw "+(a.icon||v.defaultViewIcon),delete n[a.id]}else"folder"===t.type&&(t.key="folder-"+b++,t.children=e(t.children,n),t.canChangeIcon=!0,t.canChangeName=!0);return t}).filter(function(e){return e})}(e=(0,h.cloneDeep)(e),n);return(0,h.each)(n,function(e){a.push({type:"view",key:"view-"+e.id,viewId:e.id,name:e.name,icon:"fa fa-fw "+(e.icon||v.defaultViewIcon)})}),a}function i(e){return function e(t){return t.map(function(t){return"view"===t.type?{type:"view",viewId:t.viewId}:"folder"===t.type?{type:"folder",icon:t.icon,name:t.name,children:e(t.children)}:void 0})}(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),d=a(n(0)),c=(n(13),a(n(6)),n(26)),f=n(10),p=n(130),m=a(n(446)),h=n(8),g=n(27),v=n(86),y=(0,f.defineMessages)({settings:{id:"Sidebar.settings",defaultMessage:"Settings"},models:{id:"Sidebar.settings.models",defaultMessage:"Data Models"},users:{id:"Sidebar.settings.users",defaultMessage:"Users"},backups:{id:"Sidebar.settings.backups",defaultMessage:"Backups"},newFolder:{id:"Sidebar.newFolderName",defaultMessage:"New folder"}}),b=0,E=function(e){var t=e.id,n=e.editing,a=e.canEditOrdering,r=e.startEditing,o=e.canEditViews,i=e.addNewFolder,l=e.removeFolder,s=e.trigger,d=e.openView,c=e.openEditView,m=(s||{}).item,h=[];return m&&"view"===m.type&&(h.push(u.default.createElement(p.MenuItem,{key:"open",onClick:function(e){return d(m.viewId,e)}},u.default.createElement(f.FormattedMessage,{id:"Sidebar.contextMenu.openView",defaultMessage:"Open view"})),u.default.createElement(p.MenuItem,{key:"open_new",onClick:function(e){return d(m.viewId,e)}},u.default.createElement(f.FormattedMessage,{id:"Sidebar.contextMenu.openViewInNewTab",defaultMessage:"Open view in a new tab"}))),o&&h.push(u.default.createElement(p.MenuItem,{key:"edit_view",onClick:function(e){return c(m.viewId,e)}},u.default.createElement(f.FormattedMessage,{id:"Sidebar.contextMenu.editView",defaultMessage:"Edit view"})))),!n&&a&&(h.length&&h.push(u.default.createElement(p.MenuItem,{key:h.length,divider:!0})),h.push(u.default.createElement(p.MenuItem,{key:"change_order",onClick:r},u.default.createElement(f.FormattedMessage,{id:"Sidebar.contextMenu.editOrdering",defaultMessage:"Edit order"})))),n&&(h.length&&h.push(u.default.createElement(p.MenuItem,{key:h.length,divider:!0})),h.push(u.default.createElement(p.MenuItem,{key:"new_folder",onClick:function(){return i(m)}},u.default.createElement(f.FormattedMessage,{id:"Sidebar.contextMenu.newFolder",defaultMessage:"New folder"}))),m&&"folder"===m.type&&h.push(u.default.createElement(p.MenuItem,{key:"remove_folder",onClick:function(){return l(m)}},u.default.createElement(f.FormattedMessage,{id:"Sidebar.contextMenu.removeFolder",defaultMessage:"Remove folder"})))),u.default.createElement(p.ContextMenu,{id:t},h)};E.propTypes={id:d.default.string.isRequired,editing:d.default.bool,canEditOrdering:d.default.bool,canEditViews:d.default.bool,startEditing:d.default.func.isRequired,addNewFolder:d.default.func.isRequired,removeFolder:d.default.func.isRequired,trigger:d.default.shape({item:d.default.object}),openView:d.default.func,openEditView:d.default.func};var w=(0,p.connectMenu)("sidebar-context-menu")((0,f.injectIntl)(E)),_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.startEditing=n.startEditing.bind(n),n.saveItems=n.saveItems.bind(n),n.cancelChanges=n.cancelChanges.bind(n),n.addNewFolder=n.addNewFolder.bind(n),n.removeFolder=n.removeFolder.bind(n),n.onItemClick=n.onItemClick.bind(n),n.isItemActive=n.isItemActive.bind(n),n.isItemOpen=n.isItemOpen.bind(n),n.state={editing:!1,saving:!1,error:null,foldersAndViews:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"startEditing",value:function(){this.setState({editing:!0})}},{key:"saveItems",value:function(e){var t=this;e=e.filter(function(e){return!e.noEdit}),this.setState({saving:!0,foldersAndViews:e});var n=i(e);this.props.updateSettingsViewOrder(n).then(function(e){e.type===g.SERVER_UPDATE_SETTINGS_SUCCESS?setTimeout(function(){t.setState({editing:!1,saving:!1,foldersAndViews:null})},1e3):e.type===g.SERVER_UPDATE_SETTINGS_FAILURE&&(t.setState({error:!0}),setTimeout(function(){t.setState({editing:!1,saving:!1,error:!1,foldersAndViews:null})},1e3))})}},{key:"cancelChanges",value:function(){this.setState({editing:!1,saving:!1,error:null,foldersAndViews:null})}},{key:"addNewFolder",value:function(e){var t={type:"folder",icon:"fa fa-folder-o fa-fw",name:(0,this.props.intl.formatMessage)(y.newFolder),canChangeName:!0,canChangeIcon:!0,children:[]};this.internalSidebar.addNewItem(t,e)}},{key:"_addBackViews",value:function(e){var t=this;e.forEach(function(e){"folder"===e.type&&e.children&&e.children.length&&t._addBackViews(e.children),"view"===e.type&&t.internalSidebar.addNewItem(e)})}},{key:"removeFolder",value:function(e){var t=e.children;this.internalSidebar.removeItem(e),t&&this._addBackViews(t)}},{key:"onItemClick",value:function(e){"view"===e.type&&this.props.openView(e.viewId),"models"==e.type&&this.props.openSecondSidebar("MODELS")}},{key:"isItemActive",value:function(e){return"view"===e.type?this.props.selectedTabViewId===e.viewId:"models"==e.type?this.props.modelsSidebarOpen:void 0}},{key:"isItemOpen",value:function(e){return!0}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAdmin,a=t.intl,o=t.openView,i=t.openEditView,l=a.formatMessage,s=this.state,d=s.editing,c=s.saving,f=s.error,h=n,g=c?this.state.foldersAndViews:this.props.foldersAndViews,v=n&&[{key:"settings-divider",divider:!0,noEdit:!0},{key:"settings",name:l(y.settings),icon:"fa fa-wrench fa-fw",noEdit:!0,children:[{type:"models",key:"models",name:l(y.models),icon:"fa fa-sitemap fa-fw"},{key:"users",name:l(y.users),icon:"fa fa-users fa-fw"},{key:"backups",name:l(y.backups),icon:"fa fa-clock-o fa-fw"}]}],b=[].concat(r(g||[]),r(v||[]));return u.default.createElement("div",null,u.default.createElement(p.ContextMenuTrigger,{id:"sidebar-context-menu",collect:function(e){return e},holdToDisplay:d?-1:1e3},u.default.createElement(m.default,{ref:function(t){e.internalSidebar=t},items:b,itemWrapper:function(e){return{element:p.ContextMenuTrigger,attributes:{id:"sidebar-context-menu",item:e,collect:function(e){return e},holdToDisplay:d?-1:1e3}}},saveChanges:this.saveItems,cancelChanges:this.cancelChanges,editing:d,saving:c,savingError:f,onItemClick:this.onItemClick,isItemActive:this.isItemActive,isItemOpen:this.isItemOpen})),!c&&u.default.createElement(w,{id:"sidebar-context-menu",editing:d,canEditOrdering:h,canEditViews:n,startEditing:this.startEditing,addNewFolder:this.addNewFolder,removeFolder:this.removeFolder,openView:o,openEditView:i}))}}]),t}(),C={updateSettingsViewOrder:g.updateSettingsViewOrder,openView:g.openView,openEditView:g.openEditView,openSecondSidebar:g.openSecondSidebar};t.default=(0,c.connect)(function(e,t){var n=null,a=e.server.settings&&e.server.settings.viewOrder,r=e.context.views;r&&(n=o(a,r));var i="MODELS"===e.ui.secondSidebar,l=e.ui.selectedTab,s=l&&(0,h.find)(e.ui.tabs,function(e){return e.id===l}),u=s&&"VIEW"===s.type&&s.options.viewId;return{foldersAndViews:n,isAdmin:e.auth.user&&e.auth.user.admin,modelsSidebarOpen:i,selectedTabViewId:u}},C)((0,f.injectIntl)(_)),e.exports=t.default},936:function(e,t){e.exports=[{id:"glass",n:"Glass",s:"Glass glass"},{id:"music",n:"Music",s:"Music music"},{id:"search",n:"Search",s:"Search search"},{id:"envelope-o",n:"Envelope Outlined",s:"Envelope Outlined envelope-o"},{id:"heart",n:"Heart",s:"Heart heart"},{id:"star",n:"Star",s:"Star star"},{id:"star-o",n:"Star Outlined",s:"Star Outlined star-o"},{id:"user",n:"User",s:"User user"},{id:"film",n:"Film",s:"Film film"},{id:"th-large",n:"th-large",s:"th-large th-large"},{id:"th",n:"th",s:"th th"},{id:"th-list",n:"th-list",s:"th-list th-list"},{id:"check",n:"Check",s:"Check check"},{id:"times",n:"Times",s:"Times times remove close"},{id:"search-plus",n:"Search Plus",s:"Search Plus search-plus"},{id:"search-minus",n:"Search Minus",s:"Search Minus search-minus"},{id:"power-off",n:"Power Off",s:"Power Off power-off"},{id:"signal",n:"signal",s:"signal signal"},{id:"cog",n:"cog",s:"cog cog gear"},{id:"trash-o",n:"Trash Outlined",s:"Trash Outlined trash-o"},{id:"home",n:"home",s:"home home"},{id:"file-o",n:"File Outlined",s:"File Outlined file-o"},{id:"clock-o",n:"Clock Outlined",s:"Clock Outlined clock-o"},{id:"road",n:"road",s:"road road"},{id:"download",n:"Download",s:"Download download"},{id:"arrow-circle-o-down",n:"Arrow Circle Outlined Down",s:"Arrow Circle Outlined Down arrow-circle-o-down"},{id:"arrow-circle-o-up",n:"Arrow Circle Outlined Up",s:"Arrow Circle Outlined Up arrow-circle-o-up"},{id:"inbox",n:"inbox",s:"inbox inbox"},{id:"play-circle-o",n:"Play Circle Outlined",s:"Play Circle Outlined play-circle-o"},{id:"repeat",n:"Repeat",s:"Repeat repeat rotate-right"},{id:"refresh",n:"refresh",s:"refresh refresh"},{id:"list-alt",n:"list-alt",s:"list-alt list-alt"},{id:"lock",n:"lock",s:"lock lock"},{id:"flag",n:"flag",s:"flag flag"},{id:"headphones",n:"headphones",s:"headphones headphones"},{id:"volume-off",n:"volume-off",s:"volume-off volume-off"},{id:"volume-down",n:"volume-down",s:"volume-down volume-down"},{id:"volume-up",n:"volume-up",s:"volume-up volume-up"},{id:"qrcode",n:"qrcode",s:"qrcode qrcode"},{id:"barcode",n:"barcode",s:"barcode barcode"},{id:"tag",n:"tag",s:"tag tag"},{id:"tags",n:"tags",s:"tags tags"},{id:"book",n:"book",s:"book book"},{id:"bookmark",n:"bookmark",s:"bookmark bookmark"},{id:"print",n:"print",s:"print print"},{id:"camera",n:"camera",s:"camera camera"},{id:"font",n:"font",s:"font font"},{id:"bold",n:"bold",s:"bold bold"},{id:"italic",n:"italic",s:"italic italic"},{id:"text-height",n:"text-height",s:"text-height text-height"},{id:"text-width",n:"text-width",s:"text-width text-width"},{id:"align-left",n:"align-left",s:"align-left align-left"},{id:"align-center",n:"align-center",s:"align-center align-center"},{id:"align-right",n:"align-right",s:"align-right align-right"},{id:"align-justify",n:"align-justify",s:"align-justify align-justify"},{id:"list",n:"list",s:"list list"},{id:"outdent",n:"Outdent",s:"Outdent outdent dedent"},{id:"indent",n:"Indent",s:"Indent indent"},{id:"video-camera",n:"Video Camera",s:"Video Camera video-camera"},{id:"picture-o",n:"Picture Outlined",s:"Picture Outlined picture-o photo image"},{id:"pencil",n:"pencil",s:"pencil pencil"},{id:"map-marker",n:"map-marker",s:"map-marker map-marker"},{id:"adjust",n:"adjust",s:"adjust adjust"},{id:"tint",n:"tint",s:"tint tint"},{id:"pencil-square-o",n:"Pencil Square Outlined",s:"Pencil Square Outlined pencil-square-o edit"},{id:"share-square-o",n:"Share Square Outlined",s:"Share Square Outlined share-square-o"},{id:"check-square-o",n:"Check Square Outlined",s:"Check Square Outlined check-square-o"},{id:"arrows",n:"Arrows",s:"Arrows arrows"},{id:"step-backward",n:"step-backward",s:"step-backward step-backward"},{id:"fast-backward",n:"fast-backward",s:"fast-backward fast-backward"},{id:"backward",n:"backward",s:"backward backward"},{id:"play",n:"play",s:"play play"},{id:"pause",n:"pause",s:"pause pause"},{id:"stop",n:"stop",s:"stop stop"},{id:"forward",n:"forward",s:"forward forward"},{id:"fast-forward",n:"fast-forward",s:"fast-forward fast-forward"},{id:"step-forward",n:"step-forward",s:"step-forward step-forward"},{id:"eject",n:"eject",s:"eject eject"},{id:"chevron-left",n:"chevron-left",s:"chevron-left chevron-left"},{id:"chevron-right",n:"chevron-right",s:"chevron-right chevron-right"},{id:"plus-circle",n:"Plus Circle",s:"Plus Circle plus-circle"},{id:"minus-circle",n:"Minus Circle",s:"Minus Circle minus-circle"},{id:"times-circle",n:"Times Circle",s:"Times Circle times-circle"},{id:"check-circle",n:"Check Circle",s:"Check Circle check-circle"},{id:"question-circle",n:"Question Circle",s:"Question Circle question-circle"},{id:"info-circle",n:"Info Circle",s:"Info Circle info-circle"},{id:"crosshairs",n:"Crosshairs",s:"Crosshairs crosshairs"},{id:"times-circle-o",n:"Times Circle Outlined",s:"Times Circle Outlined times-circle-o"},{id:"check-circle-o",n:"Check Circle Outlined",s:"Check Circle Outlined check-circle-o"},{id:"ban",n:"ban",s:"ban ban"},{id:"arrow-left",n:"arrow-left",s:"arrow-left arrow-left"},{id:"arrow-right",n:"arrow-right",s:"arrow-right arrow-right"},{id:"arrow-up",n:"arrow-up",s:"arrow-up arrow-up"},{id:"arrow-down",n:"arrow-down",s:"arrow-down arrow-down"},{id:"share",n:"Share",s:"Share share mail-forward"},{id:"expand",n:"Expand",s:"Expand expand"},{id:"compress",n:"Compress",s:"Compress compress"},{id:"plus",n:"plus",s:"plus plus"},{id:"minus",n:"minus",s:"minus minus"},{id:"asterisk",n:"asterisk",s:"asterisk asterisk"},{id:"exclamation-circle",n:"Exclamation Circle",s:"Exclamation Circle exclamation-circle"},{id:"gift",n:"gift",s:"gift gift"},{id:"leaf",n:"leaf",s:"leaf leaf"},{id:"fire",n:"fire",s:"fire fire"},{id:"eye",n:"Eye",s:"Eye eye"},{id:"eye-slash",n:"Eye Slash",s:"Eye Slash eye-slash"},{id:"exclamation-triangle",n:"Exclamation Triangle",s:"Exclamation Triangle exclamation-triangle warning"},{id:"plane",n:"plane",s:"plane plane"},{id:"calendar",n:"calendar",s:"calendar calendar"},{id:"random",n:"random",s:"random random"},{id:"comment",n:"comment",s:"comment comment"},{id:"magnet",n:"magnet",s:"magnet magnet"},{id:"chevron-up",n:"chevron-up",s:"chevron-up chevron-up"},{id:"chevron-down",n:"chevron-down",s:"chevron-down chevron-down"},{id:"retweet",n:"retweet",s:"retweet retweet"},{id:"shopping-cart",n:"shopping-cart",s:"shopping-cart shopping-cart"},{id:"folder",n:"Folder",s:"Folder folder"},{id:"folder-open",n:"Folder Open",s:"Folder Open folder-open"},{id:"arrows-v",n:"Arrows Vertical",s:"Arrows Vertical arrows-v"},{id:"arrows-h",n:"Arrows Horizontal",s:"Arrows Horizontal arrows-h"},{id:"bar-chart",n:"Bar Chart",s:"Bar Chart bar-chart bar-chart-o"},{id:"twitter-square",n:"Twitter Square",s:"Twitter Square twitter-square"},{id:"facebook-square",n:"Facebook Square",s:"Facebook Square facebook-square"},{id:"camera-retro",n:"camera-retro",s:"camera-retro camera-retro"},{id:"key",n:"key",s:"key key"},{id:"cogs",n:"cogs",s:"cogs cogs gears"},{id:"comments",n:"comments",s:"comments comments"},{id:"thumbs-o-up",n:"Thumbs Up Outlined",s:"Thumbs Up Outlined thumbs-o-up"},{id:"thumbs-o-down",n:"Thumbs Down Outlined",s:"Thumbs Down Outlined thumbs-o-down"},{id:"star-half",n:"star-half",s:"star-half star-half"},{id:"heart-o",n:"Heart Outlined",s:"Heart Outlined heart-o"},{id:"sign-out",n:"Sign Out",s:"Sign Out sign-out"},{id:"linkedin-square",n:"LinkedIn Square",s:"LinkedIn Square linkedin-square"},{id:"thumb-tack",n:"Thumb Tack",s:"Thumb Tack thumb-tack"},{id:"external-link",n:"External Link",s:"External Link external-link"},{id:"sign-in",n:"Sign In",s:"Sign In sign-in"},{id:"trophy",n:"trophy",s:"trophy trophy"},{id:"github-square",n:"GitHub Square",s:"GitHub Square github-square"},{id:"upload",n:"Upload",s:"Upload upload"},{id:"lemon-o",n:"Lemon Outlined",s:"Lemon Outlined lemon-o"},{id:"phone",n:"Phone",s:"Phone phone"},{id:"square-o",n:"Square Outlined",s:"Square Outlined square-o"},{id:"bookmark-o",n:"Bookmark Outlined",s:"Bookmark Outlined bookmark-o"},{id:"phone-square",n:"Phone Square",s:"Phone Square phone-square"},{id:"twitter",n:"Twitter",s:"Twitter twitter"},{id:"facebook",n:"Facebook",s:"Facebook facebook facebook-f"},{id:"github",n:"GitHub",s:"GitHub github"},{id:"unlock",n:"unlock",s:"unlock unlock"},{id:"credit-card",n:"credit-card",s:"credit-card credit-card"},{id:"rss",n:"rss",s:"rss rss feed"},{id:"hdd-o",n:"HDD",s:"HDD hdd-o"},{id:"bullhorn",n:"bullhorn",s:"bullhorn bullhorn"},{id:"bell",n:"bell",s:"bell bell"},{id:"certificate",n:"certificate",s:"certificate certificate"},{id:"hand-o-right",n:"Hand Outlined Right",s:"Hand Outlined Right hand-o-right"},{id:"hand-o-left",n:"Hand Outlined Left",s:"Hand Outlined Left hand-o-left"},{id:"hand-o-up",n:"Hand Outlined Up",s:"Hand Outlined Up hand-o-up"},{id:"hand-o-down",n:"Hand Outlined Down",s:"Hand Outlined Down hand-o-down"},{id:"arrow-circle-left",n:"Arrow Circle Left",s:"Arrow Circle Left arrow-circle-left"},{id:"arrow-circle-right",n:"Arrow Circle Right",s:"Arrow Circle Right arrow-circle-right"},{id:"arrow-circle-up",n:"Arrow Circle Up",s:"Arrow Circle Up arrow-circle-up"},{id:"arrow-circle-down",n:"Arrow Circle Down",s:"Arrow Circle Down arrow-circle-down"},{id:"globe",n:"Globe",s:"Globe globe"},{id:"wrench",n:"Wrench",s:"Wrench wrench"},{id:"tasks",n:"Tasks",s:"Tasks tasks"},{id:"filter",n:"Filter",s:"Filter filter"},{id:"briefcase",n:"Briefcase",s:"Briefcase briefcase"},{id:"arrows-alt",n:"Arrows Alt",s:"Arrows Alt arrows-alt"},{id:"users",n:"Users",s:"Users users group"},{id:"link",n:"Link",s:"Link link chain"},{id:"cloud",n:"Cloud",s:"Cloud cloud"},{id:"flask",n:"Flask",s:"Flask flask"},{id:"scissors",n:"Scissors",s:"Scissors scissors cut"},{id:"files-o",n:"Files Outlined",s:"Files Outlined files-o copy"},{id:"paperclip",n:"Paperclip",s:"Paperclip paperclip"},{id:"floppy-o",n:"Floppy Outlined",s:"Floppy Outlined floppy-o save"},{id:"square",n:"Square",s:"Square square"},{id:"bars",n:"Bars",s:"Bars bars navicon reorder"},{id:"list-ul",n:"list-ul",s:"list-ul list-ul"},{id:"list-ol",n:"list-ol",s:"list-ol list-ol"},{id:"strikethrough",n:"Strikethrough",s:"Strikethrough strikethrough"},{id:"underline",n:"Underline",s:"Underline underline"},{id:"table",n:"table",s:"table table"},{id:"magic",n:"magic",s:"magic magic"},{id:"truck",n:"truck",s:"truck truck"},{id:"pinterest",n:"Pinterest",s:"Pinterest pinterest"},{id:"pinterest-square",n:"Pinterest Square",s:"Pinterest Square pinterest-square"},{id:"google-plus-square",n:"Google Plus Square",s:"Google Plus Square google-plus-square"},{id:"google-plus",n:"Google Plus",s:"Google Plus google-plus"},{id:"money",n:"Money",s:"Money money"},{id:"caret-down",n:"Caret Down",s:"Caret Down caret-down"},{id:"caret-up",n:"Caret Up",s:"Caret Up caret-up"},{id:"caret-left",n:"Caret Left",s:"Caret Left caret-left"},{id:"caret-right",n:"Caret Right",s:"Caret Right caret-right"},{id:"columns",n:"Columns",s:"Columns columns"},{id:"sort",n:"Sort",s:"Sort sort unsorted"},{id:"sort-desc",n:"Sort Descending",s:"Sort Descending sort-desc sort-down"},{id:"sort-asc",n:"Sort Ascending",s:"Sort Ascending sort-asc sort-up"},{id:"envelope",n:"Envelope",s:"Envelope envelope"},{id:"linkedin",n:"LinkedIn",s:"LinkedIn linkedin"},{id:"undo",n:"Undo",s:"Undo undo rotate-left"},{id:"gavel",n:"Gavel",s:"Gavel gavel legal"},{id:"tachometer",n:"Tachometer",s:"Tachometer tachometer dashboard"},{id:"comment-o",n:"comment-o",s:"comment-o comment-o"},{id:"comments-o",n:"comments-o",s:"comments-o comments-o"},{id:"bolt",n:"Lightning Bolt",s:"Lightning Bolt bolt flash"},{id:"sitemap",n:"Sitemap",s:"Sitemap sitemap"},{id:"umbrella",n:"Umbrella",s:"Umbrella umbrella"},{id:"clipboard",n:"Clipboard",s:"Clipboard clipboard paste"},{id:"lightbulb-o",n:"Lightbulb Outlined",s:"Lightbulb Outlined lightbulb-o"},{id:"exchange",n:"Exchange",s:"Exchange exchange"},{id:"cloud-download",n:"Cloud Download",s:"Cloud Download cloud-download"},{id:"cloud-upload",n:"Cloud Upload",s:"Cloud Upload cloud-upload"},{id:"user-md",n:"user-md",s:"user-md user-md"},{id:"stethoscope",n:"Stethoscope",s:"Stethoscope stethoscope"},{id:"suitcase",n:"Suitcase",s:"Suitcase suitcase"},{id:"bell-o",n:"Bell Outlined",s:"Bell Outlined bell-o"},{id:"coffee",n:"Coffee",s:"Coffee coffee"},{id:"cutlery",n:"Cutlery",s:"Cutlery cutlery"},{id:"file-text-o",n:"File Text Outlined",s:"File Text Outlined file-text-o"},{id:"building-o",n:"Building Outlined",s:"Building Outlined building-o"},{id:"hospital-o",n:"hospital Outlined",s:"hospital Outlined hospital-o"},{id:"ambulance",n:"ambulance",s:"ambulance ambulance"},{id:"medkit",n:"medkit",s:"medkit medkit"},{id:"fighter-jet",n:"fighter-jet",s:"fighter-jet fighter-jet"},{id:"beer",n:"beer",s:"beer beer"},{id:"h-square",n:"H Square",s:"H Square h-square"},{id:"plus-square",n:"Plus Square",s:"Plus Square plus-square"},{id:"angle-double-left",n:"Angle Double Left",s:"Angle Double Left angle-double-left"},{id:"angle-double-right",n:"Angle Double Right",s:"Angle Double Right angle-double-right"},{id:"angle-double-up",n:"Angle Double Up",s:"Angle Double Up angle-double-up"},{id:"angle-double-down",n:"Angle Double Down",s:"Angle Double Down angle-double-down"},{id:"angle-left",n:"angle-left",s:"angle-left angle-left"},{id:"angle-right",n:"angle-right",s:"angle-right angle-right"},{id:"angle-up",n:"angle-up",s:"angle-up angle-up"},{id:"angle-down",n:"angle-down",s:"angle-down angle-down"},{id:"desktop",n:"Desktop",s:"Desktop desktop"},{id:"laptop",n:"Laptop",s:"Laptop laptop"},{id:"tablet",n:"tablet",s:"tablet tablet"},{id:"mobile",n:"Mobile Phone",s:"Mobile Phone mobile mobile-phone"},{id:"circle-o",n:"Circle Outlined",s:"Circle Outlined circle-o"},{id:"quote-left",n:"quote-left",s:"quote-left quote-left"},{id:"quote-right",n:"quote-right",s:"quote-right quote-right"},{id:"spinner",n:"Spinner",s:"Spinner spinner"},{id:"circle",n:"Circle",s:"Circle circle"},{id:"reply",n:"Reply",s:"Reply reply mail-reply"},{id:"github-alt",n:"GitHub Alt",s:"GitHub Alt github-alt"},{id:"folder-o",n:"Folder Outlined",s:"Folder Outlined folder-o"},{id:"folder-open-o",n:"Folder Open Outlined",s:"Folder Open Outlined folder-open-o"},{id:"smile-o",n:"Smile Outlined",s:"Smile Outlined smile-o"},{id:"frown-o",n:"Frown Outlined",s:"Frown Outlined frown-o"},{id:"meh-o",n:"Meh Outlined",s:"Meh Outlined meh-o"},{id:"gamepad",n:"Gamepad",s:"Gamepad gamepad"},{id:"keyboard-o",n:"Keyboard Outlined",s:"Keyboard Outlined keyboard-o"},{id:"flag-o",n:"Flag Outlined",s:"Flag Outlined flag-o"},{id:"flag-checkered",n:"flag-checkered",s:"flag-checkered flag-checkered"},{id:"terminal",n:"Terminal",s:"Terminal terminal"},{id:"code",n:"Code",s:"Code code"},{id:"reply-all",n:"reply-all",s:"reply-all reply-all mail-reply-all"},{id:"star-half-o",n:"Star Half Outlined",s:"Star Half Outlined star-half-o star-half-empty star-half-full"},{id:"location-arrow",n:"location-arrow",s:"location-arrow location-arrow"},{id:"crop",n:"crop",s:"crop crop"},{id:"code-fork",n:"code-fork",s:"code-fork code-fork"},{id:"chain-broken",n:"Chain Broken",s:"Chain Broken chain-broken unlink"},{id:"question",n:"Question",s:"Question question"},{id:"info",n:"Info",s:"Info info"},{id:"exclamation",n:"exclamation",s:"exclamation exclamation"},{id:"superscript",n:"superscript",s:"superscript superscript"},{id:"subscript",n:"subscript",s:"subscript subscript"},{id:"eraser",n:"eraser",s:"eraser eraser"},{id:"puzzle-piece",n:"Puzzle Piece",s:"Puzzle Piece puzzle-piece"},{id:"microphone",n:"microphone",s:"microphone microphone"},{id:"microphone-slash",n:"Microphone Slash",s:"Microphone Slash microphone-slash"},{id:"shield",n:"shield",s:"shield shield"},{id:"calendar-o",n:"calendar-o",s:"calendar-o calendar-o"},{id:"fire-extinguisher",n:"fire-extinguisher",s:"fire-extinguisher fire-extinguisher"},{id:"rocket",n:"rocket",s:"rocket rocket"},{id:"maxcdn",n:"MaxCDN",s:"MaxCDN maxcdn"},{id:"chevron-circle-left",n:"Chevron Circle Left",s:"Chevron Circle Left chevron-circle-left"},{id:"chevron-circle-right",n:"Chevron Circle Right",s:"Chevron Circle Right chevron-circle-right"},{id:"chevron-circle-up",n:"Chevron Circle Up",s:"Chevron Circle Up chevron-circle-up"},{id:"chevron-circle-down",n:"Chevron Circle Down",s:"Chevron Circle Down chevron-circle-down"},{id:"html5",n:"HTML 5 Logo",s:"HTML 5 Logo html5"},{id:"css3",n:"CSS 3 Logo",s:"CSS 3 Logo css3"},{id:"anchor",n:"Anchor",s:"Anchor anchor"},{id:"unlock-alt",n:"Unlock Alt",s:"Unlock Alt unlock-alt"},{id:"bullseye",n:"Bullseye",s:"Bullseye bullseye"},{id:"ellipsis-h",n:"Ellipsis Horizontal",s:"Ellipsis Horizontal ellipsis-h"},{id:"ellipsis-v",n:"Ellipsis Vertical",s:"Ellipsis Vertical ellipsis-v"},{id:"rss-square",n:"RSS Square",s:"RSS Square rss-square"},{id:"play-circle",n:"Play Circle",s:"Play Circle play-circle"},{id:"ticket",n:"Ticket",s:"Ticket ticket"},{id:"minus-square",n:"Minus Square",s:"Minus Square minus-square"},{id:"minus-square-o",n:"Minus Square Outlined",s:"Minus Square Outlined minus-square-o"},{id:"level-up",n:"Level Up",s:"Level Up level-up"},{id:"level-down",n:"Level Down",s:"Level Down level-down"},{id:"check-square",n:"Check Square",s:"Check Square check-square"},{id:"pencil-square",n:"Pencil Square",s:"Pencil Square pencil-square"},{id:"external-link-square",n:"External Link Square",s:"External Link Square external-link-square"},{id:"share-square",n:"Share Square",s:"Share Square share-square"},{id:"compass",n:"Compass",s:"Compass compass"},{id:"caret-square-o-down",n:"Caret Square Outlined Down",s:"Caret Square Outlined Down caret-square-o-down toggle-down"},{id:"caret-square-o-up",n:"Caret Square Outlined Up",s:"Caret Square Outlined Up caret-square-o-up toggle-up"},{id:"caret-square-o-right",n:"Caret Square Outlined Right",s:"Caret Square Outlined Right caret-square-o-right toggle-right"},{id:"eur",n:"Euro (EUR)",s:"Euro (EUR) eur euro"},{id:"gbp",n:"GBP",s:"GBP gbp"},{id:"usd",n:"US Dollar",s:"US Dollar usd dollar"},{id:"inr",n:"Indian Rupee (INR)",s:"Indian Rupee (INR) inr rupee"},{id:"jpy",n:"Japanese Yen (JPY)",s:"Japanese Yen (JPY) jpy cny rmb yen"},{id:"rub",n:"Russian Ruble (RUB)",s:"Russian Ruble (RUB) rub ruble rouble"},{id:"krw",n:"Korean Won (KRW)",s:"Korean Won (KRW) krw won"},{id:"btc",n:"Bitcoin (BTC)",s:"Bitcoin (BTC) btc bitcoin"},{id:"file",n:"File",s:"File file"},{id:"file-text",n:"File Text",s:"File Text file-text"},{id:"sort-alpha-asc",n:"Sort Alpha Ascending",s:"Sort Alpha Ascending sort-alpha-asc"},{id:"sort-alpha-desc",n:"Sort Alpha Descending",s:"Sort Alpha Descending sort-alpha-desc"},{id:"sort-amount-asc",n:"Sort Amount Ascending",s:"Sort Amount Ascending sort-amount-asc"},{id:"sort-amount-desc",n:"Sort Amount Descending",s:"Sort Amount Descending sort-amount-desc"},{id:"sort-numeric-asc",n:"Sort Numeric Ascending",s:"Sort Numeric Ascending sort-numeric-asc"},{id:"sort-numeric-desc",n:"Sort Numeric Descending",s:"Sort Numeric Descending sort-numeric-desc"},{id:"thumbs-up",n:"thumbs-up",s:"thumbs-up thumbs-up"},{id:"thumbs-down",n:"thumbs-down",s:"thumbs-down thumbs-down"},{id:"youtube-square",n:"YouTube Square",s:"YouTube Square youtube-square"},{id:"youtube",n:"YouTube",s:"YouTube youtube"},{id:"xing",n:"Xing",s:"Xing xing"},{id:"xing-square",n:"Xing Square",s:"Xing Square xing-square"},{id:"youtube-play",n:"YouTube Play",s:"YouTube Play youtube-play"},{id:"dropbox",n:"Dropbox",s:"Dropbox dropbox"},{id:"stack-overflow",n:"Stack Overflow",s:"Stack Overflow stack-overflow"},{id:"instagram",n:"Instagram",s:"Instagram instagram"},{id:"flickr",n:"Flickr",s:"Flickr flickr"},{id:"adn",n:"App.net",s:"App.net adn"},{id:"bitbucket",n:"Bitbucket",s:"Bitbucket bitbucket"},{id:"bitbucket-square",n:"Bitbucket Square",s:"Bitbucket Square bitbucket-square"},{id:"tumblr",n:"Tumblr",s:"Tumblr tumblr"},{id:"tumblr-square",n:"Tumblr Square",s:"Tumblr Square tumblr-square"},{id:"long-arrow-down",n:"Long Arrow Down",s:"Long Arrow Down long-arrow-down"},{id:"long-arrow-up",n:"Long Arrow Up",s:"Long Arrow Up long-arrow-up"},{id:"long-arrow-left",n:"Long Arrow Left",s:"Long Arrow Left long-arrow-left"},{id:"long-arrow-right",n:"Long Arrow Right",s:"Long Arrow Right long-arrow-right"},{id:"apple",n:"Apple",s:"Apple apple"},{id:"windows",n:"Windows",s:"Windows windows"},{id:"android",n:"Android",s:"Android android"},{id:"linux",n:"Linux",s:"Linux linux"},{id:"dribbble",n:"Dribbble",s:"Dribbble dribbble"},{id:"skype",n:"Skype",s:"Skype skype"},{id:"foursquare",n:"Foursquare",s:"Foursquare foursquare"},{id:"trello",n:"Trello",s:"Trello trello"},{id:"female",n:"Female",s:"Female female"},{id:"male",n:"Male",s:"Male male"},{id:"gratipay",n:"Gratipay (Gittip)",s:"Gratipay (Gittip) gratipay gittip"},{id:"sun-o",n:"Sun Outlined",s:"Sun Outlined sun-o"},{id:"moon-o",n:"Moon Outlined",s:"Moon Outlined moon-o"},{id:"archive",n:"Archive",s:"Archive archive"},{id:"bug",n:"Bug",s:"Bug bug"},{id:"vk",n:"VK",s:"VK vk"},{id:"weibo",n:"Weibo",s:"Weibo weibo"},{id:"renren",n:"Renren",s:"Renren renren"},{id:"pagelines",n:"Pagelines",s:"Pagelines pagelines"},{id:"stack-exchange",n:"Stack Exchange",s:"Stack Exchange stack-exchange"},{id:"arrow-circle-o-right",n:"Arrow Circle Outlined Right",s:"Arrow Circle Outlined Right arrow-circle-o-right"},{id:"arrow-circle-o-left",n:"Arrow Circle Outlined Left",s:"Arrow Circle Outlined Left arrow-circle-o-left"},{id:"caret-square-o-left",n:"Caret Square Outlined Left",s:"Caret Square Outlined Left caret-square-o-left toggle-left"},{id:"dot-circle-o",n:"Dot Circle Outlined",s:"Dot Circle Outlined dot-circle-o"},{id:"wheelchair",n:"Wheelchair",s:"Wheelchair wheelchair"},{id:"vimeo-square",n:"Vimeo Square",s:"Vimeo Square vimeo-square"},{id:"try",n:"Turkish Lira (TRY)",s:"Turkish Lira (TRY) try turkish-lira"},{id:"plus-square-o",n:"Plus Square Outlined",s:"Plus Square Outlined plus-square-o"},{id:"space-shuttle",n:"Space Shuttle",s:"Space Shuttle space-shuttle"},{id:"slack",n:"Slack Logo",s:"Slack Logo slack"},{id:"envelope-square",n:"Envelope Square",s:"Envelope Square envelope-square"},{id:"wordpress",n:"WordPress Logo",s:"WordPress Logo wordpress"},{id:"openid",n:"OpenID",s:"OpenID openid"},{id:"university",n:"University",s:"University university institution bank"},{id:"graduation-cap",n:"Graduation Cap",s:"Graduation Cap graduation-cap mortar-board"},{id:"yahoo",n:"Yahoo Logo",s:"Yahoo Logo yahoo"},{id:"google",n:"Google Logo",s:"Google Logo google"},{id:"reddit",n:"reddit Logo",s:"reddit Logo reddit"},{id:"reddit-square",n:"reddit Square",s:"reddit Square reddit-square"},{id:"stumbleupon-circle",n:"StumbleUpon Circle",s:"StumbleUpon Circle stumbleupon-circle"},{id:"stumbleupon",n:"StumbleUpon Logo",s:"StumbleUpon Logo stumbleupon"},{id:"delicious",n:"Delicious Logo",s:"Delicious Logo delicious"},{id:"digg",n:"Digg Logo",s:"Digg Logo digg"},{id:"pied-piper-pp",n:"Pied Piper PP Logo (Old)",s:"Pied Piper PP Logo (Old) pied-piper-pp"},{id:"pied-piper-alt",n:"Pied Piper Alternate Logo",s:"Pied Piper Alternate Logo pied-piper-alt"},{id:"drupal",n:"Drupal Logo",s:"Drupal Logo drupal"},{id:"joomla",n:"Joomla Logo",s:"Joomla Logo joomla"},{id:"language",n:"Language",s:"Language language"},{id:"fax",n:"Fax",s:"Fax fax"},{id:"building",n:"Building",s:"Building building"},{id:"child",n:"Child",s:"Child child"},{id:"paw",n:"Paw",s:"Paw paw"},{id:"spoon",n:"spoon",s:"spoon spoon"},{id:"cube",n:"Cube",s:"Cube cube"},{id:"cubes",n:"Cubes",s:"Cubes cubes"},{id:"behance",n:"Behance",s:"Behance behance"},{id:"behance-square",n:"Behance Square",s:"Behance Square behance-square"},{id:"steam",n:"Steam",s:"Steam steam"},{id:"steam-square",n:"Steam Square",s:"Steam Square steam-square"},{id:"recycle",n:"Recycle",s:"Recycle recycle"},{id:"car",n:"Car",s:"Car car automobile"},{id:"taxi",n:"Taxi",s:"Taxi taxi cab"},{id:"tree",n:"Tree",s:"Tree tree"},{id:"spotify",n:"Spotify",s:"Spotify spotify"},{id:"deviantart",n:"deviantART",s:"deviantART deviantart"},{id:"soundcloud",n:"SoundCloud",s:"SoundCloud soundcloud"},{id:"database",n:"Database",s:"Database database"},{id:"file-pdf-o",n:"PDF File Outlined",s:"PDF File Outlined file-pdf-o"},{id:"file-word-o",n:"Word File Outlined",s:"Word File Outlined file-word-o"},{id:"file-excel-o",n:"Excel File Outlined",s:"Excel File Outlined file-excel-o"},{id:"file-powerpoint-o",n:"Powerpoint File Outlined",s:"Powerpoint File Outlined file-powerpoint-o"},{id:"file-image-o",n:"Image File Outlined",s:"Image File Outlined file-image-o file-photo-o file-picture-o"},{id:"file-archive-o",n:"Archive File Outlined",s:"Archive File Outlined file-archive-o file-zip-o"},{id:"file-audio-o",n:"Audio File Outlined",s:"Audio File Outlined file-audio-o file-sound-o"},{id:"file-video-o",n:"Video File Outlined",s:"Video File Outlined file-video-o file-movie-o"},{id:"file-code-o",n:"Code File Outlined",s:"Code File Outlined file-code-o"},{id:"vine",n:"Vine",s:"Vine vine"},{id:"codepen",n:"Codepen",s:"Codepen codepen"},{id:"jsfiddle",n:"jsFiddle",s:"jsFiddle jsfiddle"},{id:"life-ring",n:"Life Ring",s:"Life Ring life-ring life-bouy life-buoy life-saver support"},{id:"circle-o-notch",n:"Circle Outlined Notched",s:"Circle Outlined Notched circle-o-notch"},{id:"rebel",n:"Rebel Alliance",s:"Rebel Alliance rebel ra resistance"},{id:"empire",n:"Galactic Empire",s:"Galactic Empire empire ge"},{id:"git-square",n:"Git Square",s:"Git Square git-square"},{id:"git",n:"Git",s:"Git git"},{id:"hacker-news",n:"Hacker News",s:"Hacker News hacker-news y-combinator-square yc-square"},{id:"tencent-weibo",n:"Tencent Weibo",s:"Tencent Weibo tencent-weibo"},{id:"qq",n:"QQ",s:"QQ qq"},{id:"weixin",n:"Weixin (WeChat)",s:"Weixin (WeChat) weixin wechat"},{id:"paper-plane",n:"Paper Plane",s:"Paper Plane paper-plane send"},{id:"paper-plane-o",n:"Paper Plane Outlined",s:"Paper Plane Outlined paper-plane-o send-o"},{id:"history",n:"History",s:"History history"},{id:"circle-thin",n:"Circle Outlined Thin",s:"Circle Outlined Thin circle-thin"},{id:"header",n:"header",s:"header header"},{id:"paragraph",n:"paragraph",s:"paragraph paragraph"},{id:"sliders",n:"Sliders",s:"Sliders sliders"},{id:"share-alt",n:"Share Alt",s:"Share Alt share-alt"},{id:"share-alt-square",n:"Share Alt Square",s:"Share Alt Square share-alt-square"},{id:"bomb",n:"Bomb",s:"Bomb bomb"},{id:"futbol-o",n:"Futbol Outlined",s:"Futbol Outlined futbol-o soccer-ball-o"},{id:"tty",n:"TTY",s:"TTY tty"},{id:"binoculars",n:"Binoculars",s:"Binoculars binoculars"},{id:"plug",n:"Plug",s:"Plug plug"},{id:"slideshare",n:"Slideshare",s:"Slideshare slideshare"},{id:"twitch",n:"Twitch",s:"Twitch twitch"},{id:"yelp",n:"Yelp",s:"Yelp yelp"},{id:"newspaper-o",n:"Newspaper Outlined",s:"Newspaper Outlined newspaper-o"},{id:"wifi",n:"WiFi",s:"WiFi wifi"},{id:"calculator",n:"Calculator",s:"Calculator calculator"},{id:"paypal",n:"Paypal",s:"Paypal paypal"},{id:"google-wallet",n:"Google Wallet",s:"Google Wallet google-wallet"},{id:"cc-visa",n:"Visa Credit Card",s:"Visa Credit Card cc-visa"},{id:"cc-mastercard",n:"MasterCard Credit Card",s:"MasterCard Credit Card cc-mastercard"},{id:"cc-discover",n:"Discover Credit Card",s:"Discover Credit Card cc-discover"},{id:"cc-amex",n:"American Express Credit Card",s:"American Express Credit Card cc-amex"},{id:"cc-paypal",n:"Paypal Credit Card",s:"Paypal Credit Card cc-paypal"},{id:"cc-stripe",n:"Stripe Credit Card",s:"Stripe Credit Card cc-stripe"},{id:"bell-slash",n:"Bell Slash",s:"Bell Slash bell-slash"},{id:"bell-slash-o",n:"Bell Slash Outlined",s:"Bell Slash Outlined bell-slash-o"},{id:"trash",n:"Trash",s:"Trash trash"},{id:"copyright",n:"Copyright",s:"Copyright copyright"},{id:"at",n:"At",s:"At at"},{id:"eyedropper",n:"Eyedropper",s:"Eyedropper eyedropper"},{id:"paint-brush",n:"Paint Brush",s:"Paint Brush paint-brush"},{id:"birthday-cake",n:"Birthday Cake",s:"Birthday Cake birthday-cake"},{id:"area-chart",n:"Area Chart",s:"Area Chart area-chart"},{id:"pie-chart",n:"Pie Chart",s:"Pie Chart pie-chart"},{id:"line-chart",n:"Line Chart",s:"Line Chart line-chart"},{id:"lastfm",n:"last.fm",s:"last.fm lastfm"},{id:"lastfm-square",n:"last.fm Square",s:"last.fm Square lastfm-square"},{id:"toggle-off",n:"Toggle Off",s:"Toggle Off toggle-off"},{id:"toggle-on",n:"Toggle On",s:"Toggle On toggle-on"},{id:"bicycle",n:"Bicycle",s:"Bicycle bicycle"},{id:"bus",n:"Bus",s:"Bus bus"},{id:"ioxhost",n:"ioxhost",s:"ioxhost ioxhost"},{id:"angellist",n:"AngelList",s:"AngelList angellist"},{id:"cc",n:"Closed Captions",s:"Closed Captions cc"},{id:"ils",n:"Shekel (ILS)",s:"Shekel (ILS) ils shekel sheqel"},{id:"meanpath",n:"meanpath",s:"meanpath meanpath"},{id:"buysellads",n:"BuySellAds",s:"BuySellAds buysellads"},{id:"connectdevelop",n:"Connect Develop",s:"Connect Develop connectdevelop"},{id:"dashcube",n:"DashCube",s:"DashCube dashcube"},{id:"forumbee",n:"Forumbee",s:"Forumbee forumbee"},{id:"leanpub",n:"Leanpub",s:"Leanpub leanpub"},{id:"sellsy",n:"Sellsy",s:"Sellsy sellsy"},{id:"shirtsinbulk",n:"Shirts in Bulk",s:"Shirts in Bulk shirtsinbulk"},{id:"simplybuilt",n:"SimplyBuilt",s:"SimplyBuilt simplybuilt"},{id:"skyatlas",n:"skyatlas",s:"skyatlas skyatlas"},{id:"cart-plus",n:"Add to Shopping Cart",s:"Add to Shopping Cart cart-plus"},{id:"cart-arrow-down",n:"Shopping Cart Arrow Down",s:"Shopping Cart Arrow Down cart-arrow-down"},{id:"diamond",n:"Diamond",s:"Diamond diamond"},{id:"ship",n:"Ship",s:"Ship ship"},{id:"user-secret",n:"User Secret",s:"User Secret user-secret"},{id:"motorcycle",n:"Motorcycle",s:"Motorcycle motorcycle"},{id:"street-view",n:"Street View",s:"Street View street-view"},{id:"heartbeat",n:"Heartbeat",s:"Heartbeat heartbeat"},{id:"venus",n:"Venus",s:"Venus venus"},{id:"mars",n:"Mars",s:"Mars mars"},{id:"mercury",n:"Mercury",s:"Mercury mercury"},{id:"transgender",n:"Transgender",s:"Transgender transgender intersex"},{id:"transgender-alt",n:"Transgender Alt",s:"Transgender Alt transgender-alt"},{id:"venus-double",n:"Venus Double",s:"Venus Double venus-double"},{id:"mars-double",n:"Mars Double",s:"Mars Double mars-double"},{id:"venus-mars",n:"Venus Mars",s:"Venus Mars venus-mars"},{id:"mars-stroke",n:"Mars Stroke",s:"Mars Stroke mars-stroke"},{id:"mars-stroke-v",n:"Mars Stroke Vertical",s:"Mars Stroke Vertical mars-stroke-v"},{id:"mars-stroke-h",n:"Mars Stroke Horizontal",s:"Mars Stroke Horizontal mars-stroke-h"},{id:"neuter",n:"Neuter",s:"Neuter neuter"},{id:"genderless",n:"Genderless",s:"Genderless genderless"},{id:"facebook-official",n:"Facebook Official",s:"Facebook Official facebook-official"},{id:"pinterest-p",n:"Pinterest P",s:"Pinterest P pinterest-p"},{id:"whatsapp",n:"What's App",s:"What's App whatsapp"},{id:"server",n:"Server",s:"Server server"},{id:"user-plus",n:"Add User",s:"Add User user-plus"},{id:"user-times",n:"Remove User",s:"Remove User user-times"},{id:"bed",n:"Bed",s:"Bed bed hotel"},{id:"viacoin",n:"Viacoin (VIA)",s:"Viacoin (VIA) viacoin"},{id:"train",n:"Train",s:"Train train"},{id:"subway",n:"Subway",s:"Subway subway"},{id:"medium",n:"Medium",s:"Medium medium"},{id:"y-combinator",n:"Y Combinator",s:"Y Combinator y-combinator yc"},{id:"optin-monster",n:"Optin Monster",s:"Optin Monster optin-monster"},{id:"opencart",n:"OpenCart",s:"OpenCart opencart"},{id:"expeditedssl",n:"ExpeditedSSL",s:"ExpeditedSSL expeditedssl"},{id:"battery-full",n:"Battery Full",s:"Battery Full battery-full battery-4 battery"},{id:"battery-three-quarters",n:"Battery 3/4 Full",s:"Battery 3/4 Full battery-three-quarters battery-3"},{id:"battery-half",n:"Battery 1/2 Full",s:"Battery 1/2 Full battery-half battery-2"},{id:"battery-quarter",n:"Battery 1/4 Full",s:"Battery 1/4 Full battery-quarter battery-1"},{id:"battery-empty",n:"Battery Empty",s:"Battery Empty battery-empty battery-0"},{id:"mouse-pointer",n:"Mouse Pointer",s:"Mouse Pointer mouse-pointer"},{id:"i-cursor",n:"I Beam Cursor",s:"I Beam Cursor i-cursor"},{id:"object-group",n:"Object Group",s:"Object Group object-group"},{id:"object-ungroup",n:"Object Ungroup",s:"Object Ungroup object-ungroup"},{id:"sticky-note",n:"Sticky Note",s:"Sticky Note sticky-note"},{id:"sticky-note-o",n:"Sticky Note Outlined",s:"Sticky Note Outlined sticky-note-o"},{id:"cc-jcb",n:"JCB Credit Card",s:"JCB Credit Card cc-jcb"},{id:"cc-diners-club",n:"Diner's Club Credit Card",s:"Diner's Club Credit Card cc-diners-club"},{id:"clone",n:"Clone",s:"Clone clone"},{id:"balance-scale",n:"Balance Scale",s:"Balance Scale balance-scale"},{id:"hourglass-o",n:"Hourglass Outlined",s:"Hourglass Outlined hourglass-o"},{id:"hourglass-start",n:"Hourglass Start",s:"Hourglass Start hourglass-start hourglass-1"},{id:"hourglass-half",n:"Hourglass Half",s:"Hourglass Half hourglass-half hourglass-2"},{id:"hourglass-end",n:"Hourglass End",s:"Hourglass End hourglass-end hourglass-3"},{id:"hourglass",n:"Hourglass",s:"Hourglass hourglass"},{id:"hand-rock-o",n:"Rock (Hand)",s:"Rock (Hand) hand-rock-o hand-grab-o"},{id:"hand-paper-o",n:"Paper (Hand)",s:"Paper (Hand) hand-paper-o hand-stop-o"},{id:"hand-scissors-o",n:"Scissors (Hand)",s:"Scissors (Hand) hand-scissors-o"},{id:"hand-lizard-o",n:"Lizard (Hand)",s:"Lizard (Hand) hand-lizard-o"},{id:"hand-spock-o",n:"Spock (Hand)",s:"Spock (Hand) hand-spock-o"},{id:"hand-pointer-o",n:"Hand Pointer",s:"Hand Pointer hand-pointer-o"},{id:"hand-peace-o",n:"Hand Peace",s:"Hand Peace hand-peace-o"},{id:"trademark",n:"Trademark",s:"Trademark trademark"},{id:"registered",n:"Registered Trademark",s:"Registered Trademark registered"},{id:"creative-commons",n:"Creative Commons",s:"Creative Commons creative-commons"},{id:"gg",n:"GG Currency",s:"GG Currency gg"},{id:"gg-circle",n:"GG Currency Circle",s:"GG Currency Circle gg-circle"},{id:"tripadvisor",n:"TripAdvisor",s:"TripAdvisor tripadvisor"},{id:"odnoklassniki",n:"Odnoklassniki",s:"Odnoklassniki odnoklassniki"},{id:"odnoklassniki-square",n:"Odnoklassniki Square",s:"Odnoklassniki Square odnoklassniki-square"},{id:"get-pocket",n:"Get Pocket",s:"Get Pocket get-pocket"},{id:"wikipedia-w",n:"Wikipedia W",s:"Wikipedia W wikipedia-w"},{id:"safari",n:"Safari",s:"Safari safari"},{id:"chrome",n:"Chrome",s:"Chrome chrome"},{id:"firefox",n:"Firefox",s:"Firefox firefox"},{id:"opera",n:"Opera",s:"Opera opera"},{id:"internet-explorer",n:"Internet-explorer",s:"Internet-explorer internet-explorer"},{id:"television",n:"Television",s:"Television television tv"},{id:"contao",n:"Contao",s:"Contao contao"},{id:"500px",n:"500px",s:"500px 500px"},{id:"amazon",n:"Amazon",s:"Amazon amazon"},{id:"calendar-plus-o",n:"Calendar Plus Outlined",s:"Calendar Plus Outlined calendar-plus-o"},{id:"calendar-minus-o",n:"Calendar Minus Outlined",s:"Calendar Minus Outlined calendar-minus-o"},{id:"calendar-times-o",n:"Calendar Times Outlined",s:"Calendar Times Outlined calendar-times-o"},{id:"calendar-check-o",n:"Calendar Check Outlined",s:"Calendar Check Outlined calendar-check-o"},{id:"industry",n:"Industry",s:"Industry industry"},{id:"map-pin",n:"Map Pin",s:"Map Pin map-pin"},{id:"map-signs",n:"Map Signs",s:"Map Signs map-signs"},{id:"map-o",n:"Map Outlined",s:"Map Outlined map-o"},{id:"map",n:"Map",s:"Map map"},{id:"commenting",n:"Commenting",s:"Commenting commenting"},{id:"commenting-o",n:"Commenting Outlined",s:"Commenting Outlined commenting-o"},{id:"houzz",n:"Houzz",s:"Houzz houzz"},{id:"vimeo",n:"Vimeo",s:"Vimeo vimeo"},{id:"black-tie",n:"Font Awesome Black Tie",s:"Font Awesome Black Tie black-tie"},{id:"fonticons",n:"Fonticons",s:"Fonticons fonticons"},{id:"reddit-alien",n:"reddit Alien",s:"reddit Alien reddit-alien"},{id:"edge",n:"Edge Browser",s:"Edge Browser edge"},{id:"credit-card-alt",n:"Credit Card",s:"Credit Card credit-card-alt"},{id:"codiepie",n:"Codie Pie",s:"Codie Pie codiepie"},{id:"modx",n:"MODX",s:"MODX modx"},{id:"fort-awesome",n:"Fort Awesome",s:"Fort Awesome fort-awesome"},{id:"usb",n:"USB",s:"USB usb"},{id:"product-hunt",n:"Product Hunt",s:"Product Hunt product-hunt"},{id:"mixcloud",n:"Mixcloud",s:"Mixcloud mixcloud"},{id:"scribd",n:"Scribd",s:"Scribd scribd"},{id:"pause-circle",n:"Pause Circle",s:"Pause Circle pause-circle"},{id:"pause-circle-o",n:"Pause Circle Outlined",s:"Pause Circle Outlined pause-circle-o"},{id:"stop-circle",n:"Stop Circle",s:"Stop Circle stop-circle"},{id:"stop-circle-o",n:"Stop Circle Outlined",s:"Stop Circle Outlined stop-circle-o"},{id:"shopping-bag",n:"Shopping Bag",s:"Shopping Bag shopping-bag"},{id:"shopping-basket",n:"Shopping Basket",s:"Shopping Basket shopping-basket"},{id:"hashtag",n:"Hashtag",s:"Hashtag hashtag"},{id:"bluetooth",n:"Bluetooth",s:"Bluetooth bluetooth"},{id:"bluetooth-b",n:"Bluetooth",s:"Bluetooth bluetooth-b"},{id:"percent",n:"Percent",s:"Percent percent"},{id:"gitlab",n:"GitLab",s:"GitLab gitlab"},{id:"wpbeginner",n:"WPBeginner",s:"WPBeginner wpbeginner"},{id:"wpforms",n:"WPForms",s:"WPForms wpforms"},{id:"envira",n:"Envira Gallery",s:"Envira Gallery envira"},{id:"universal-access",n:"Universal Access",s:"Universal Access universal-access"},{id:"wheelchair-alt",n:"Wheelchair Alt",s:"Wheelchair Alt wheelchair-alt"},{id:"question-circle-o",n:"Question Circle Outlined",s:"Question Circle Outlined question-circle-o"},{id:"blind",n:"Blind",s:"Blind blind"},{id:"audio-description",n:"Audio Description",s:"Audio Description audio-description"},{id:"volume-control-phone",n:"Volume Control Phone",s:"Volume Control Phone volume-control-phone"},{id:"braille",n:"Braille",s:"Braille braille"},{id:"assistive-listening-systems",n:"Assistive Listening Systems",s:"Assistive Listening Systems assistive-listening-systems"},{id:"american-sign-language-interpreting",n:"American Sign Language Interpreting",s:"American Sign Language Interpreting american-sign-language-interpreting asl-interpreting"},{id:"deaf",n:"Deaf",s:"Deaf deaf deafness hard-of-hearing"},{id:"glide",n:"Glide",s:"Glide glide"},{id:"glide-g",n:"Glide G",s:"Glide G glide-g"},{id:"sign-language",n:"Sign Language",s:"Sign Language sign-language signing"},{id:"low-vision",n:"Low Vision",s:"Low Vision low-vision"},{id:"viadeo",n:"Viadeo",s:"Viadeo viadeo"},{id:"viadeo-square",n:"Viadeo Square",s:"Viadeo Square viadeo-square"},{id:"snapchat",n:"Snapchat",s:"Snapchat snapchat"},{id:"snapchat-ghost",n:"Snapchat Ghost",s:"Snapchat Ghost snapchat-ghost"},{id:"snapchat-square",n:"Snapchat Square",s:"Snapchat Square snapchat-square"},{id:"pied-piper",n:"Pied Piper Logo",s:"Pied Piper Logo pied-piper"},{id:"first-order",n:"First Order",s:"First Order first-order"},{id:"yoast",n:"Yoast",s:"Yoast yoast"},{id:"themeisle",n:"ThemeIsle",s:"ThemeIsle themeisle"},{id:"google-plus-official",n:"Google Plus Official",s:"Google Plus Official google-plus-official google-plus-circle"},{id:"font-awesome",n:"Font Awesome",s:"Font Awesome font-awesome fa"},{id:"handshake-o",n:"Handshake Outlined",s:"Handshake Outlined handshake-o"},{id:"envelope-open",n:"Envelope Open",s:"Envelope Open envelope-open"},{id:"envelope-open-o",n:"Envelope Open Outlined",s:"Envelope Open Outlined envelope-open-o"},{id:"linode",n:"Linode",s:"Linode linode"},{id:"address-book",n:"Address Book",s:"Address Book address-book"},{id:"address-book-o",n:"Address Book Outlined",s:"Address Book Outlined address-book-o"},{id:"address-card",n:"Address Card",s:"Address Card address-card vcard"},{id:"address-card-o",n:"Address Card Outlined",s:"Address Card Outlined address-card-o vcard-o"},{id:"user-circle",n:"User Circle",s:"User Circle user-circle"},{id:"user-circle-o",n:"User Circle Outlined",s:"User Circle Outlined user-circle-o"},{id:"user-o",n:"User Outlined",s:"User Outlined user-o"},{id:"id-badge",n:"Identification Badge",s:"Identification Badge id-badge"},{id:"id-card",n:"Identification Card",s:"Identification Card id-card drivers-license"},{id:"id-card-o",n:"Identification Card Outlined",s:"Identification Card Outlined id-card-o drivers-license-o"},{id:"quora",n:"Quora",s:"Quora quora"},{id:"free-code-camp",n:"Free Code Camp",s:"Free Code Camp free-code-camp"},{id:"telegram",n:"Telegram",s:"Telegram telegram"},{id:"thermometer-full",n:"Thermometer Full",s:"Thermometer Full thermometer-full thermometer-4 thermometer"},{id:"thermometer-three-quarters",n:"Thermometer 3/4 Full",s:"Thermometer 3/4 Full thermometer-three-quarters thermometer-3"},{id:"thermometer-half",n:"Thermometer 1/2 Full",s:"Thermometer 1/2 Full thermometer-half thermometer-2"},{id:"thermometer-quarter",n:"Thermometer 1/4 Full",s:"Thermometer 1/4 Full thermometer-quarter thermometer-1"},{id:"thermometer-empty",n:"Thermometer Empty",s:"Thermometer Empty thermometer-empty thermometer-0"},{id:"shower",n:"Shower",s:"Shower shower"},{id:"bath",n:"Bath",s:"Bath bath bathtub s15"},{id:"podcast",n:"Podcast",s:"Podcast podcast"},{id:"window-maximize",n:"Window Maximize",s:"Window Maximize window-maximize"},{id:"window-minimize",n:"Window Minimize",s:"Window Minimize window-minimize"},{id:"window-restore",n:"Window Restore",s:"Window Restore window-restore"},{id:"window-close",n:"Window Close",s:"Window Close window-close times-rectangle"},{id:"window-close-o",n:"Window Close Outline",s:"Window Close Outline window-close-o times-rectangle-o"},{id:"bandcamp",n:"Bandcamp",s:"Bandcamp bandcamp"},{id:"grav",n:"Grav",s:"Grav grav"},{id:"etsy",n:"Etsy",s:"Etsy etsy"},{id:"imdb",n:"IMDB",s:"IMDB imdb"},{id:"ravelry",n:"Ravelry",s:"Ravelry ravelry"},{id:"eercast",n:"Eercast",s:"Eercast eercast"},{id:"microchip",n:"Microchip",s:"Microchip microchip"},{id:"snowflake-o",n:"Snowflake Outlined",s:"Snowflake Outlined snowflake-o"},{id:"superpowers",n:"Superpowers",s:"Superpowers superpowers"},{id:"wpexplorer",n:"WPExplorer",s:"WPExplorer wpexplorer"},{id:"meetup",n:"Meetup",s:"Meetup meetup"}]}},[744]);
//# sourceMappingURL=app_dd13e29de28dbdd07fea.js.map